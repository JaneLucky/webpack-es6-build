!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.BIMEngine=t():e.BIMEngine=t()}(this,(function(){return t=[function(e,t,n){"use strict";n.r(t),n.d(t,"ACESFilmicToneMapping",(function(){return tt})),n.d(t,"AddEquation",(function(){return Se})),n.d(t,"AddOperation",(function(){return Ze})),n.d(t,"AdditiveAnimationBlendMode",(function(){return Xn})),n.d(t,"AdditiveBlending",(function(){return be})),n.d(t,"AlphaFormat",(function(){return Nt})),n.d(t,"AlwaysDepth",(function(){return Ue})),n.d(t,"AlwaysStencilFunc",(function(){return Mi})),n.d(t,"AmbientLight",(function(){return Kh})),n.d(t,"AmbientLightProbe",(function(){return xd})),n.d(t,"AnimationClip",(function(){return th})),n.d(t,"AnimationLoader",(function(){return lh})),n.d(t,"AnimationMixer",(function(){return Xd})),n.d(t,"AnimationObjectGroup",(function(){return jd})),n.d(t,"AnimationUtils",(function(){return Vu})),n.d(t,"ArcCurve",(function(){return vh})),n.d(t,"ArrayCamera",(function(){return El})),n.d(t,"ArrowHelper",(function(){return Of})),n.d(t,"Audio",(function(){return Pd})),n.d(t,"AudioAnalyser",(function(){return Od})),n.d(t,"AudioContext",(function(){return vd})),n.d(t,"AudioListener",(function(){return Ld})),n.d(t,"AudioLoader",(function(){return gd})),n.d(t,"AxesHelper",(function(){return Ff})),n.d(t,"AxisHelper",(function(){return Pp})),n.d(t,"BackSide",(function(){return pe})),n.d(t,"BasicDepthPacking",(function(){return ri})),n.d(t,"BasicShadowMap",(function(){return ce})),n.d(t,"BinaryTextureLoader",(function(){return Np})),n.d(t,"Bone",(function(){return cc})),n.d(t,"BooleanKeyframeTrack",(function(){return Yu})),n.d(t,"BoundingBoxHelper",(function(){return kp})),n.d(t,"Box2",(function(){return nf})),n.d(t,"Box3",(function(){return er})),n.d(t,"Box3Helper",(function(){return If})),n.d(t,"BoxBufferGeometry",(function(){return ho})),n.d(t,"BoxGeometry",(function(){return ho})),n.d(t,"BoxHelper",(function(){return Df})),n.d(t,"BufferAttribute",(function(){return Sa})),n.d(t,"BufferGeometry",(function(){return Wa})),n.d(t,"BufferGeometryLoader",(function(){return od})),n.d(t,"ByteType",(function(){return St})),n.d(t,"Cache",(function(){return nh})),n.d(t,"Camera",(function(){return go})),n.d(t,"CameraHelper",(function(){return Cf})),n.d(t,"CanvasRenderer",(function(){return Fp})),n.d(t,"CanvasTexture",(function(){return zc})),n.d(t,"CatmullRomCurve3",(function(){return _h})),n.d(t,"CineonToneMapping",(function(){return et})),n.d(t,"CircleBufferGeometry",(function(){return Hc})),n.d(t,"CircleGeometry",(function(){return Hc})),n.d(t,"ClampToEdgeWrapping",(function(){return ht})),n.d(t,"Clock",(function(){return Md})),n.d(t,"Color",(function(){return ba})),n.d(t,"ColorKeyframeTrack",(function(){return $u})),n.d(t,"CompressedTexture",(function(){return Fc})),n.d(t,"CompressedTextureLoader",(function(){return ch})),n.d(t,"ConeBufferGeometry",(function(){return Vc})),n.d(t,"ConeGeometry",(function(){return Vc})),n.d(t,"CubeCamera",(function(){return xo})),n.d(t,"CubeReflectionMapping",(function(){return rt})),n.d(t,"CubeRefractionMapping",(function(){return at})),n.d(t,"CubeTexture",(function(){return bo})),n.d(t,"CubeTextureLoader",(function(){return hh})),n.d(t,"CubeUVReflectionMapping",(function(){return lt})),n.d(t,"CubeUVRefractionMapping",(function(){return ct})),n.d(t,"CubicBezierCurve",(function(){return Th})),n.d(t,"CubicBezierCurve3",(function(){return Ch})),n.d(t,"CubicInterpolant",(function(){return ju})),n.d(t,"CullFaceBack",(function(){return oe})),n.d(t,"CullFaceFront",(function(){return se})),n.d(t,"CullFaceFrontBack",(function(){return le})),n.d(t,"CullFaceNone",(function(){return ae})),n.d(t,"Curve",(function(){return ph})),n.d(t,"CurvePath",(function(){return Rh})),n.d(t,"CustomBlending",(function(){return Me})),n.d(t,"CustomToneMapping",(function(){return nt})),n.d(t,"CylinderBufferGeometry",(function(){return Uc})),n.d(t,"CylinderGeometry",(function(){return Uc})),n.d(t,"Cylindrical",(function(){return ef})),n.d(t,"DataTexture",(function(){return _o})),n.d(t,"DataTexture2DArray",(function(){return Xo})),n.d(t,"DataTexture3D",(function(){return qo})),n.d(t,"DataTextureLoader",(function(){return dh})),n.d(t,"DataUtils",(function(){return Hf})),n.d(t,"DecrementStencilOp",(function(){return di})),n.d(t,"DecrementWrapStencilOp",(function(){return pi})),n.d(t,"DefaultLoadingManager",(function(){return rh})),n.d(t,"DepthFormat",(function(){return Ut})),n.d(t,"DepthStencilFormat",(function(){return Vt})),n.d(t,"DepthTexture",(function(){return Bc})),n.d(t,"DirectionalLight",(function(){return Qh})),n.d(t,"DirectionalLightHelper",(function(){return Sf})),n.d(t,"DiscreteInterpolant",(function(){return Xu})),n.d(t,"DodecahedronBufferGeometry",(function(){return jc})),n.d(t,"DodecahedronGeometry",(function(){return jc})),n.d(t,"DoubleSide",(function(){return me})),n.d(t,"DstAlphaFactor",(function(){return Ne})),n.d(t,"DstColorFactor",(function(){return Fe})),n.d(t,"DynamicBufferAttribute",(function(){return bp})),n.d(t,"DynamicCopyUsage",(function(){return ki})),n.d(t,"DynamicDrawUsage",(function(){return Ei})),n.d(t,"DynamicReadUsage",(function(){return Ai})),n.d(t,"EdgesGeometry",(function(){return $c})),n.d(t,"EdgesHelper",(function(){return Dp})),n.d(t,"EllipseCurve",(function(){return mh})),n.d(t,"EqualDepth",(function(){return je})),n.d(t,"EqualStencilFunc",(function(){return yi})),n.d(t,"EquirectangularReflectionMapping",(function(){return ot})),n.d(t,"EquirectangularRefractionMapping",(function(){return st})),n.d(t,"Euler",(function(){return Nr})),n.d(t,"EventDispatcher",(function(){return Ni})),n.d(t,"ExtrudeBufferGeometry",(function(){return mu})),n.d(t,"ExtrudeGeometry",(function(){return mu})),n.d(t,"FaceColors",(function(){return cp})),n.d(t,"FileLoader",(function(){return sh})),n.d(t,"FlatShading",(function(){return ve})),n.d(t,"Float16BufferAttribute",(function(){return Da})),n.d(t,"Float32Attribute",(function(){return Ap})),n.d(t,"Float32BufferAttribute",(function(){return Ia})),n.d(t,"Float64Attribute",(function(){return Lp})),n.d(t,"Float64BufferAttribute",(function(){return Ra})),n.d(t,"FloatType",(function(){return Lt})),n.d(t,"Fog",(function(){return Il})),n.d(t,"FogExp2",(function(){return Dl})),n.d(t,"Font",(function(){return fd})),n.d(t,"FontLoader",(function(){return md})),n.d(t,"FrontSide",(function(){return fe})),n.d(t,"Frustum",(function(){return Eo})),n.d(t,"GLBufferAttribute",(function(){return $d})),n.d(t,"GLSL1",(function(){return Ii})),n.d(t,"GLSL3",(function(){return Ri})),n.d(t,"GammaEncoding",(function(){return Kn})),n.d(t,"GreaterDepth",(function(){return Xe})),n.d(t,"GreaterEqualDepth",(function(){return We})),n.d(t,"GreaterEqualStencilFunc",(function(){return _i})),n.d(t,"GreaterStencilFunc",(function(){return bi})),n.d(t,"GridHelper",(function(){return xf})),n.d(t,"Group",(function(){return Tl})),n.d(t,"HalfFloatType",(function(){return Pt})),n.d(t,"HemisphereLight",(function(){return zh})),n.d(t,"HemisphereLightHelper",(function(){return yf})),n.d(t,"HemisphereLightProbe",(function(){return yd})),n.d(t,"IcosahedronBufferGeometry",(function(){return gu})),n.d(t,"IcosahedronGeometry",(function(){return gu})),n.d(t,"ImageBitmapLoader",(function(){return hd})),n.d(t,"ImageLoader",(function(){return uh})),n.d(t,"ImageUtils",(function(){return Gi})),n.d(t,"ImmediateRenderObject",(function(){return sf})),n.d(t,"IncrementStencilOp",(function(){return hi})),n.d(t,"IncrementWrapStencilOp",(function(){return fi})),n.d(t,"InstancedBufferAttribute",(function(){return ad})),n.d(t,"InstancedBufferGeometry",(function(){return rd})),n.d(t,"InstancedInterleavedBuffer",(function(){return Yd})),n.d(t,"InstancedMesh",(function(){return gc})),n.d(t,"Int16Attribute",(function(){return Sp})),n.d(t,"Int16BufferAttribute",(function(){return Aa})),n.d(t,"Int32Attribute",(function(){return Tp})),n.d(t,"Int32BufferAttribute",(function(){return Pa})),n.d(t,"Int8Attribute",(function(){return wp})),n.d(t,"Int8BufferAttribute",(function(){return Ea})),n.d(t,"IntType",(function(){return Ct})),n.d(t,"InterleavedBuffer",(function(){return Nl})),n.d(t,"InterleavedBufferAttribute",(function(){return Fl})),n.d(t,"Interpolant",(function(){return Gu})),n.d(t,"InterpolateDiscrete",(function(){return Bn})),n.d(t,"InterpolateLinear",(function(){return Hn})),n.d(t,"InterpolateSmooth",(function(){return Un})),n.d(t,"InvertStencilOp",(function(){return mi})),n.d(t,"JSONLoader",(function(){return zp})),n.d(t,"KeepStencilOp",(function(){return ci})),n.d(t,"KeyframeTrack",(function(){return qu})),n.d(t,"LOD",(function(){return nc})),n.d(t,"LatheBufferGeometry",(function(){return yu})),n.d(t,"LatheGeometry",(function(){return yu})),n.d(t,"Layers",(function(){return Or})),n.d(t,"LensFlare",(function(){return Hp})),n.d(t,"LessDepth",(function(){return Ve})),n.d(t,"LessEqualDepth",(function(){return Ge})),n.d(t,"LessEqualStencilFunc",(function(){return xi})),n.d(t,"LessStencilFunc",(function(){return gi})),n.d(t,"Light",(function(){return Fh})),n.d(t,"LightProbe",(function(){return td})),n.d(t,"Line",(function(){return Sc})),n.d(t,"Line3",(function(){return of})),n.d(t,"LineBasicMaterial",(function(){return yc})),n.d(t,"LineCurve",(function(){return Ah})),n.d(t,"LineCurve3",(function(){return Lh})),n.d(t,"LineDashedMaterial",(function(){return Hu})),n.d(t,"LineLoop",(function(){return Ac})),n.d(t,"LinePieces",(function(){return sp})),n.d(t,"LineSegments",(function(){return Cc})),n.d(t,"LineStrip",(function(){return op})),n.d(t,"LinearEncoding",(function(){return Zn})),n.d(t,"LinearFilter",(function(){return yt})),n.d(t,"LinearInterpolant",(function(){return Wu})),n.d(t,"LinearMipMapLinearFilter",(function(){return _t})),n.d(t,"LinearMipMapNearestFilter",(function(){return bt})),n.d(t,"LinearMipmapLinearFilter",(function(){return wt})),n.d(t,"LinearMipmapNearestFilter",(function(){return xt})),n.d(t,"LinearToneMapping",(function(){return Ke})),n.d(t,"Loader",(function(){return ah})),n.d(t,"LoaderUtils",(function(){return id})),n.d(t,"LoadingManager",(function(){return ih})),n.d(t,"LogLuvEncoding",(function(){return ei})),n.d(t,"LoopOnce",(function(){return On})),n.d(t,"LoopPingPong",(function(){return zn})),n.d(t,"LoopRepeat",(function(){return Fn})),n.d(t,"LuminanceAlphaFormat",(function(){return Bt})),n.d(t,"LuminanceFormat",(function(){return zt})),n.d(t,"MOUSE",(function(){return ie})),n.d(t,"Material",(function(){return fa})),n.d(t,"MaterialLoader",(function(){return nd})),n.d(t,"Math",(function(){return Hi})),n.d(t,"MathUtils",(function(){return Hi})),n.d(t,"Matrix3",(function(){return Vi})),n.d(t,"Matrix4",(function(){return Er})),n.d(t,"MaxEquation",(function(){return Ae})),n.d(t,"Mesh",(function(){return co})),n.d(t,"MeshBasicMaterial",(function(){return wa})),n.d(t,"MeshDepthMaterial",(function(){return yl})),n.d(t,"MeshDistanceMaterial",(function(){return xl})),n.d(t,"MeshFaceMaterial",(function(){return hp})),n.d(t,"MeshLambertMaterial",(function(){return zu})),n.d(t,"MeshMatcapMaterial",(function(){return Bu})),n.d(t,"MeshNormalMaterial",(function(){return Fu})),n.d(t,"MeshPhongMaterial",(function(){return Nu})),n.d(t,"MeshPhysicalMaterial",(function(){return Ru})),n.d(t,"MeshStandardMaterial",(function(){return Iu})),n.d(t,"MeshToonMaterial",(function(){return Ou})),n.d(t,"MinEquation",(function(){return Ce})),n.d(t,"MirroredRepeatWrapping",(function(){return dt})),n.d(t,"MixOperation",(function(){return $e})),n.d(t,"MultiMaterial",(function(){return dp})),n.d(t,"MultiplyBlending",(function(){return _e})),n.d(t,"MultiplyOperation",(function(){return Ye})),n.d(t,"NearestFilter",(function(){return ft})),n.d(t,"NearestMipMapLinearFilter",(function(){return gt})),n.d(t,"NearestMipMapNearestFilter",(function(){return mt})),n.d(t,"NearestMipmapLinearFilter",(function(){return vt})),n.d(t,"NearestMipmapNearestFilter",(function(){return pt})),n.d(t,"NeverDepth",(function(){return He})),n.d(t,"NeverStencilFunc",(function(){return vi})),n.d(t,"NoBlending",(function(){return ye})),n.d(t,"NoColors",(function(){return lp})),n.d(t,"NoToneMapping",(function(){return Qe})),n.d(t,"NormalAnimationBlendMode",(function(){return Wn})),n.d(t,"NormalBlending",(function(){return xe})),n.d(t,"NotEqualDepth",(function(){return qe})),n.d(t,"NotEqualStencilFunc",(function(){return wi})),n.d(t,"NumberKeyframeTrack",(function(){return Zu})),n.d(t,"Object3D",(function(){return Zr})),n.d(t,"ObjectLoader",(function(){return sd})),n.d(t,"ObjectSpaceNormalMap",(function(){return si})),n.d(t,"OctahedronBufferGeometry",(function(){return xu})),n.d(t,"OctahedronGeometry",(function(){return xu})),n.d(t,"OneFactor",(function(){return Pe})),n.d(t,"OneMinusDstAlphaFactor",(function(){return Oe})),n.d(t,"OneMinusDstColorFactor",(function(){return ze})),n.d(t,"OneMinusSrcAlphaFactor",(function(){return Re})),n.d(t,"OneMinusSrcColorFactor",(function(){return De})),n.d(t,"OrthographicCamera",(function(){return $h})),n.d(t,"PCFShadowMap",(function(){return ue})),n.d(t,"PCFSoftShadowMap",(function(){return he})),n.d(t,"PMREMGenerator",(function(){return tp})),n.d(t,"ParametricBufferGeometry",(function(){return bu})),n.d(t,"ParametricGeometry",(function(){return bu})),n.d(t,"Particle",(function(){return pp})),n.d(t,"ParticleBasicMaterial",(function(){return gp})),n.d(t,"ParticleSystem",(function(){return mp})),n.d(t,"ParticleSystemMaterial",(function(){return yp})),n.d(t,"Path",(function(){return Nh})),n.d(t,"PerspectiveCamera",(function(){return yo})),n.d(t,"Plane",(function(){return ea})),n.d(t,"PlaneBufferGeometry",(function(){return Ao})),n.d(t,"PlaneGeometry",(function(){return Ao})),n.d(t,"PlaneHelper",(function(){return Rf})),n.d(t,"PointCloud",(function(){return fp})),n.d(t,"PointCloudMaterial",(function(){return vp})),n.d(t,"PointLight",(function(){return Yh})),n.d(t,"PointLightHelper",(function(){return pf})),n.d(t,"Points",(function(){return Rc})),n.d(t,"PointsMaterial",(function(){return Lc})),n.d(t,"PolarGridHelper",(function(){return bf})),n.d(t,"PolyhedronBufferGeometry",(function(){return Gc})),n.d(t,"PolyhedronGeometry",(function(){return Gc})),n.d(t,"PositionalAudio",(function(){return Nd})),n.d(t,"PropertyBinding",(function(){return Gd})),n.d(t,"PropertyMixer",(function(){return Fd})),n.d(t,"QuadraticBezierCurve",(function(){return Ph})),n.d(t,"QuadraticBezierCurve3",(function(){return kh})),n.d(t,"Quaternion",(function(){return Zi})),n.d(t,"QuaternionKeyframeTrack",(function(){return Ku})),n.d(t,"QuaternionLinearInterpolant",(function(){return Qu})),n.d(t,"REVISION",(function(){return ne})),n.d(t,"RGBADepthPacking",(function(){return ai})),n.d(t,"RGBAFormat",(function(){return Ft})),n.d(t,"RGBAIntegerFormat",(function(){return Yt})),n.d(t,"RGBA_ASTC_10x10_Format",(function(){return yn})),n.d(t,"RGBA_ASTC_10x5_Format",(function(){return mn})),n.d(t,"RGBA_ASTC_10x6_Format",(function(){return vn})),n.d(t,"RGBA_ASTC_10x8_Format",(function(){return gn})),n.d(t,"RGBA_ASTC_12x10_Format",(function(){return xn})),n.d(t,"RGBA_ASTC_12x12_Format",(function(){return bn})),n.d(t,"RGBA_ASTC_4x4_Format",(function(){return sn})),n.d(t,"RGBA_ASTC_5x4_Format",(function(){return ln})),n.d(t,"RGBA_ASTC_5x5_Format",(function(){return cn})),n.d(t,"RGBA_ASTC_6x5_Format",(function(){return un})),n.d(t,"RGBA_ASTC_6x6_Format",(function(){return hn})),n.d(t,"RGBA_ASTC_8x5_Format",(function(){return dn})),n.d(t,"RGBA_ASTC_8x6_Format",(function(){return fn})),n.d(t,"RGBA_ASTC_8x8_Format",(function(){return pn})),n.d(t,"RGBA_BPTC_Format",(function(){return wn})),n.d(t,"RGBA_ETC2_EAC_Format",(function(){return on})),n.d(t,"RGBA_PVRTC_2BPPV1_Format",(function(){return nn})),n.d(t,"RGBA_PVRTC_4BPPV1_Format",(function(){return tn})),n.d(t,"RGBA_S3TC_DXT1_Format",(function(){return Zt})),n.d(t,"RGBA_S3TC_DXT3_Format",(function(){return Qt})),n.d(t,"RGBA_S3TC_DXT5_Format",(function(){return Kt})),n.d(t,"RGBDEncoding",(function(){return ii})),n.d(t,"RGBEEncoding",(function(){return Jn})),n.d(t,"RGBEFormat",(function(){return Ht})),n.d(t,"RGBFormat",(function(){return Ot})),n.d(t,"RGBIntegerFormat",(function(){return qt})),n.d(t,"RGBM16Encoding",(function(){return ni})),n.d(t,"RGBM7Encoding",(function(){return ti})),n.d(t,"RGB_ETC1_Format",(function(){return rn})),n.d(t,"RGB_ETC2_Format",(function(){return an})),n.d(t,"RGB_PVRTC_2BPPV1_Format",(function(){return en})),n.d(t,"RGB_PVRTC_4BPPV1_Format",(function(){return Jt})),n.d(t,"RGB_S3TC_DXT1_Format",(function(){return $t})),n.d(t,"RGFormat",(function(){return Wt})),n.d(t,"RGIntegerFormat",(function(){return Xt})),n.d(t,"RawShaderMaterial",(function(){return Du})),n.d(t,"Ray",(function(){return Sr})),n.d(t,"Raycaster",(function(){return Zd})),n.d(t,"RectAreaLight",(function(){return Jh})),n.d(t,"RedFormat",(function(){return Gt})),n.d(t,"RedIntegerFormat",(function(){return jt})),n.d(t,"ReinhardToneMapping",(function(){return Je})),n.d(t,"RepeatWrapping",(function(){return ut})),n.d(t,"ReplaceStencilOp",(function(){return ui})),n.d(t,"ReverseSubtractEquation",(function(){return Te})),n.d(t,"RingBufferGeometry",(function(){return wu})),n.d(t,"RingGeometry",(function(){return wu})),n.d(t,"SRGB8_ALPHA8_ASTC_10x10_Format",(function(){return In})),n.d(t,"SRGB8_ALPHA8_ASTC_10x5_Format",(function(){return Pn})),n.d(t,"SRGB8_ALPHA8_ASTC_10x6_Format",(function(){return kn})),n.d(t,"SRGB8_ALPHA8_ASTC_10x8_Format",(function(){return Dn})),n.d(t,"SRGB8_ALPHA8_ASTC_12x10_Format",(function(){return Rn})),n.d(t,"SRGB8_ALPHA8_ASTC_12x12_Format",(function(){return Nn})),n.d(t,"SRGB8_ALPHA8_ASTC_4x4_Format",(function(){return _n})),n.d(t,"SRGB8_ALPHA8_ASTC_5x4_Format",(function(){return Mn})),n.d(t,"SRGB8_ALPHA8_ASTC_5x5_Format",(function(){return Sn})),n.d(t,"SRGB8_ALPHA8_ASTC_6x5_Format",(function(){return En})),n.d(t,"SRGB8_ALPHA8_ASTC_6x6_Format",(function(){return Tn})),n.d(t,"SRGB8_ALPHA8_ASTC_8x5_Format",(function(){return Cn})),n.d(t,"SRGB8_ALPHA8_ASTC_8x6_Format",(function(){return An})),n.d(t,"SRGB8_ALPHA8_ASTC_8x8_Format",(function(){return Ln})),n.d(t,"Scene",(function(){return Rl})),n.d(t,"SceneUtils",(function(){return Bp})),n.d(t,"ShaderChunk",(function(){return Lo})),n.d(t,"ShaderLib",(function(){return ko})),n.d(t,"ShaderMaterial",(function(){return vo})),n.d(t,"ShadowMaterial",(function(){return ku})),n.d(t,"Shape",(function(){return Oh})),n.d(t,"ShapeBufferGeometry",(function(){return _u})),n.d(t,"ShapeGeometry",(function(){return _u})),n.d(t,"ShapePath",(function(){return dd})),n.d(t,"ShapeUtils",(function(){return du})),n.d(t,"ShortType",(function(){return Et})),n.d(t,"Skeleton",(function(){return dc})),n.d(t,"SkeletonHelper",(function(){return ff})),n.d(t,"SkinnedMesh",(function(){return lc})),n.d(t,"SmoothShading",(function(){return ge})),n.d(t,"Sphere",(function(){return vr})),n.d(t,"SphereBufferGeometry",(function(){return Mu})),n.d(t,"SphereGeometry",(function(){return Mu})),n.d(t,"Spherical",(function(){return Jd})),n.d(t,"SphericalHarmonics3",(function(){return ed})),n.d(t,"SplineCurve",(function(){return Dh})),n.d(t,"SpotLight",(function(){return Gh})),n.d(t,"SpotLightHelper",(function(){return cf})),n.d(t,"Sprite",(function(){return Kl})),n.d(t,"SpriteMaterial",(function(){return Bl})),n.d(t,"SrcAlphaFactor",(function(){return Ie})),n.d(t,"SrcAlphaSaturateFactor",(function(){return Be})),n.d(t,"SrcColorFactor",(function(){return ke})),n.d(t,"StaticCopyUsage",(function(){return Pi})),n.d(t,"StaticDrawUsage",(function(){return Si})),n.d(t,"StaticReadUsage",(function(){return Ci})),n.d(t,"StereoCamera",(function(){return _d})),n.d(t,"StreamCopyUsage",(function(){return Di})),n.d(t,"StreamDrawUsage",(function(){return Ti})),n.d(t,"StreamReadUsage",(function(){return Li})),n.d(t,"StringKeyframeTrack",(function(){return Ju})),n.d(t,"SubtractEquation",(function(){return Ee})),n.d(t,"SubtractiveBlending",(function(){return we})),n.d(t,"TOUCH",(function(){return re})),n.d(t,"TangentSpaceNormalMap",(function(){return oi})),n.d(t,"TetrahedronBufferGeometry",(function(){return Su})),n.d(t,"TetrahedronGeometry",(function(){return Su})),n.d(t,"TextBufferGeometry",(function(){return Eu})),n.d(t,"TextGeometry",(function(){return Eu})),n.d(t,"Texture",(function(){return Wi})),n.d(t,"TextureLoader",(function(){return fh})),n.d(t,"TorusBufferGeometry",(function(){return Tu})),n.d(t,"TorusGeometry",(function(){return Tu})),n.d(t,"TorusKnotBufferGeometry",(function(){return Cu})),n.d(t,"TorusKnotGeometry",(function(){return Cu})),n.d(t,"Triangle",(function(){return ha})),n.d(t,"TriangleFanDrawMode",(function(){return $n})),n.d(t,"TriangleStripDrawMode",(function(){return Yn})),n.d(t,"TrianglesDrawMode",(function(){return qn})),n.d(t,"TubeBufferGeometry",(function(){return Au})),n.d(t,"TubeGeometry",(function(){return Au})),n.d(t,"UVMapping",(function(){return it})),n.d(t,"Uint16Attribute",(function(){return Ep})),n.d(t,"Uint16BufferAttribute",(function(){return La})),n.d(t,"Uint32Attribute",(function(){return Cp})),n.d(t,"Uint32BufferAttribute",(function(){return ka})),n.d(t,"Uint8Attribute",(function(){return _p})),n.d(t,"Uint8BufferAttribute",(function(){return Ta})),n.d(t,"Uint8ClampedAttribute",(function(){return Mp})),n.d(t,"Uint8ClampedBufferAttribute",(function(){return Ca})),n.d(t,"Uniform",(function(){return qd})),n.d(t,"UniformsLib",(function(){return Po})),n.d(t,"UniformsUtils",(function(){return mo})),n.d(t,"UnsignedByteType",(function(){return Mt})),n.d(t,"UnsignedInt248Type",(function(){return Rt})),n.d(t,"UnsignedIntType",(function(){return At})),n.d(t,"UnsignedShort4444Type",(function(){return kt})),n.d(t,"UnsignedShort5551Type",(function(){return Dt})),n.d(t,"UnsignedShort565Type",(function(){return It})),n.d(t,"UnsignedShortType",(function(){return Tt})),n.d(t,"VSMShadowMap",(function(){return de})),n.d(t,"Vector2",(function(){return Ui})),n.d(t,"Vector3",(function(){return Qi})),n.d(t,"Vector4",(function(){return qi})),n.d(t,"VectorKeyframeTrack",(function(){return eh})),n.d(t,"Vertex",(function(){return xp})),n.d(t,"VertexColors",(function(){return up})),n.d(t,"VideoTexture",(function(){return Oc})),n.d(t,"WebGL1Renderer",(function(){return kl})),n.d(t,"WebGLCubeRenderTarget",(function(){return wo})),n.d(t,"WebGLMultisampleRenderTarget",(function(){return $i})),n.d(t,"WebGLRenderTarget",(function(){return Yi})),n.d(t,"WebGLRenderTargetCube",(function(){return Op})),n.d(t,"WebGLRenderer",(function(){return Pl})),n.d(t,"WebGLUtils",(function(){return Sl})),n.d(t,"WireframeGeometry",(function(){return Lu})),n.d(t,"WireframeHelper",(function(){return Ip})),n.d(t,"WrapAroundEnding",(function(){return jn})),n.d(t,"XHRLoader",(function(){return Rp})),n.d(t,"ZeroCurvatureEnding",(function(){return Vn})),n.d(t,"ZeroFactor",(function(){return Le})),n.d(t,"ZeroSlopeEnding",(function(){return Gn})),n.d(t,"ZeroStencilOp",(function(){return li})),n.d(t,"sRGBEncoding",(function(){return Qn}));t=n(124);var i=n.n(t),r=(t=n(15),n.n(t)),a=(t=n(13),n.n(t)),o=(t=n(63),n.n(t)),s=(t=n(28),n.n(t)),l=(t=n(249),n.n(t)),c=(t=n(14),n.n(t)),u=(t=n(75),n.n(t)),h=(t=n(7),n.n(t)),d=(t=n(107),n.n(t)),f=(t=n(12),n.n(t)),p=(t=n(2),n.n(t)),m=(t=n(3),n.n(t)),v=(t=n(46),n.n(t)),g=(t=n(11),n.n(t)),y=(t=n(19),n.n(t)),x=(t=n(18),n.n(t)),b=(t=n(6),n.n(t)),w=(t=n(47),n.n(t)),_=(t=n(30),n.n(t)),M=(t=n(9),n.n(t)),S=(t=n(49),n.n(t)),E=(t=n(37),n.n(t)),T=(t=n(16),n.n(t)),C=(t=n(21),n.n(t)),A=(t=n(1),n.n(t)),L=(t=n(51),n.n(t)),P=(t=n(44),n.n(t)),k=(t=n(59),n.n(t)),D=(t=n(174),n.n(t)),I=(t=n(53),n.n(t)),R=(t=n(25),n.n(t)),N=(t=n(175),n.n(t)),O=(t=n(76),n.n(t)),F=(t=n(4),n.n(t)),z=(t=n(176),n.n(t)),B=(t=n(45),n.n(t)),H=(t=n(144),n.n(t)),U=(t=n(32),n.n(t)),V=(t=n(27),n.n(t)),G=(t=n(20),n.n(t)),j=(t=n(125),n.n(t)),W=(t=n(150),n.n(t)),X=(t=n(151),t=n.n(t),n(250)),q=n.n(X),Y=(X=n(87),n.n(X)),$=(X=n(58),n.n(X)),Z=(X=n(74),n.n(X)),Q=(X=n(48),n.n(X)),K=(X=n(10),n.n(X));function J(e,t){var n,i,o,s,l=void 0!==r.a&&a()(e)||e["@@iterator"];if(l)return i=!(n=!0),{s:function(){l=l.call(e)},n:function(){var e=l.next();return n=e.done,e},e:function(e){i=!0,o=e},f:function(){try{n||null==l.return||l.return()}finally{if(i)throw o}}};if(M()(e)||(l=function(e,t){var n;if(e)return"string"==typeof e?ee(e,t):"Map"===(n="Object"===(n=b()(n=Object.prototype.toString.call(e)).call(n,8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?K()(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ee(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return l&&(e=l),s=0,{s:t=function(){},n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function te(e){var t=function(){if("undefined"==typeof Reflect||!i.a)return!1;if(i.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(i()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);return n=t?(n=f()(this).constructor,i()(r,arguments,n)):r.apply(this,arguments),d()(this,n)}}var ne="126",ie={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},re={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},ae=0,oe=1,se=2,le=3,ce=0,ue=1,he=2,de=3,fe=0,pe=1,me=2,ve=1,ge=2,ye=0,xe=1,be=2,we=3,_e=4,Me=5,Se=100,Ee=101,Te=102,Ce=103,Ae=104,Le=200,Pe=201,ke=202,De=203,Ie=204,Re=205,Ne=206,Oe=207,Fe=208,ze=209,Be=210,He=0,Ue=1,Ve=2,Ge=3,je=4,We=5,Xe=6,qe=7,Ye=0,$e=1,Ze=2,Qe=0,Ke=1,Je=2,et=3,tt=4,nt=5,it=300,rt=301,at=302,ot=303,st=304,lt=306,ct=307,ut=1e3,ht=1001,dt=1002,ft=1003,pt=1004,mt=1004,vt=1005,gt=1005,yt=1006,xt=1007,bt=1007,wt=1008,_t=1008,Mt=1009,St=1010,Et=1011,Tt=1012,Ct=1013,At=1014,Lt=1015,Pt=1016,kt=1017,Dt=1018,It=1019,Rt=1020,Nt=1021,Ot=1022,Ft=1023,zt=1024,Bt=1025,Ht=Ft,Ut=1026,Vt=1027,Gt=1028,jt=1029,Wt=1030,Xt=1031,qt=1032,Yt=1033,$t=33776,Zt=33777,Qt=33778,Kt=33779,Jt=35840,en=35841,tn=35842,nn=35843,rn=36196,an=37492,on=37496,sn=37808,ln=37809,cn=37810,un=37811,hn=37812,dn=37813,fn=37814,pn=37815,mn=37816,vn=37817,gn=37818,yn=37819,xn=37820,bn=37821,wn=36492,_n=37840,Mn=37841,Sn=37842,En=37843,Tn=37844,Cn=37845,An=37846,Ln=37847,Pn=37848,kn=37849,Dn=37850,In=37851,Rn=37852,Nn=37853,On=2200,Fn=2201,zn=2202,Bn=2300,Hn=2301,Un=2302,Vn=2400,Gn=2401,jn=2402,Wn=2500,Xn=2501,qn=0,Yn=1,$n=2,Zn=3e3,Qn=3001,Kn=3007,Jn=3002,ei=3003,ti=3004,ni=3005,ii=3006,ri=3200,ai=3201,oi=0,si=1,li=0,ci=7680,ui=7681,hi=7682,di=7683,fi=34055,pi=34056,mi=5386,vi=512,gi=513,yi=514,xi=515,bi=516,wi=517,_i=518,Mi=519,Si=35044,Ei=35048,Ti=35040,Ci=35045,Ai=35049,Li=35041,Pi=35046,ki=35050,Di=35042,Ii="100",Ri="300 es";function Ni(){}g()(Ni.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var n,i=this._listeners;void 0===i[e]&&(i[e]=[]),-1===y()(n=i[e]).call(n,t)&&i[e].push(t)},hasEventListener:function(e,t){var n;return void 0!==this._listeners&&void 0!==(n=this._listeners)[e]&&-1!==y()(n=n[e]).call(n,t)},removeEventListener:function(e,t){var n;void 0!==this._listeners&&void 0!==(e=this._listeners[e])&&-1!==(n=y()(e).call(e,t))&&x()(e).call(e,n,1)},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=b()(t).call(t,0),i=0,r=n.length;i<r;i++)n[i].call(this,e)}}}});for(var Oi=[],Fi=0;Fi<256;Fi++)Oi[Fi]=(Fi<16?"0":"")+Fi.toString(16);var zi,Bi=1234567,Hi={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(Oi[255&e]+Oi[e>>8&255]+Oi[e>>16&255]+Oi[e>>24&255]+"-"+Oi[255&t]+Oi[t>>8&255]+"-"+Oi[t>>16&15|64]+Oi[t>>24&255]+"-"+Oi[63&n|128]+Oi[n>>8&255]+"-"+Oi[n>>16&255]+Oi[n>>24&255]+Oi[255&i]+Oi[i>>8&255]+Oi[i>>16&255]+Oi[i>>24&255]).toUpperCase()},clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,i,r){return i+(e-t)*(r-i)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},damp:function(e,t,n,i){return Hi.lerp(e,t,1-Math.exp(-n*i))},pingpong:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return t-Math.abs(Hi.euclideanModulo(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:n<=e?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:n<=e?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){return((Bi=16807*(Bi=void 0!==e?e%2147483647:Bi)%2147483647)-1)/2147483646},degToRad:function(e){return e*Hi.DEG2RAD},radToDeg:function(e){return e*Hi.RAD2DEG},isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,i,r){var a=Math.cos,o=Math.sin,s=a(n/2),l=o(n/2),c=a((t+i)/2),u=o((t+i)/2),h=a((t-i)/2),d=o((t-i)/2),f=a((i-t)/2),p=o((i-t)/2);switch(r){case"XYX":e.set(s*u,l*h,l*d,s*c);break;case"YZY":e.set(l*d,s*u,l*h,s*c);break;case"ZXZ":e.set(l*h,l*d,s*u,s*c);break;case"XZX":e.set(s*u,l*p,l*f,s*c);break;case"YXY":e.set(l*f,s*u,l*p,s*c);break;case"ZYZ":e.set(l*p,l*f,s*u,s*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}},Ui=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;p()(this,e),this.x=t,this.y=n}return m()(e,[{key:"width",get:function(){return this.x},set:function(e){this.x=e}},{key:"height",get:function(){return this.y},set:function(e){this.y=e}},{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"add",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}},{key:"sub",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y;e=e.elements;return this.x=e[0]*t+e[3]*n+e[6],this.y=e[1]*t+e[4]*n+e[7],this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"cross",value:function(e){return this.x*e.y-this.y*e.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){return Math.atan2(-this.y,-this.x)+Math.PI}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x;return t*t+(e=this.y-e.y)*e}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"fromArray",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}},{key:"toArray",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}},{key:"fromBufferAttribute",value:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}},{key:"rotateAround",value:function(e,t){var n=Math.cos(t),i=(t=Math.sin(t),this.x-e.x),r=this.y-e.y;return this.x=i*n-r*t+e.x,this.y=i*t+r*n+e.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}}]),e}(),Vi=(Ui.prototype.isVector2=!0,function(){function e(){p()(this,e),this.elements=[1,0,0,0,1,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}return m()(e,[{key:"set",value:function(e,t,n,i,r,a,o,s,l){var c=this.elements;return c[0]=e,c[1]=i,c[2]=o,c[3]=t,c[4]=r,c[5]=s,c[6]=n,c[7]=a,c[8]=l,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(e){var t=this.elements;e=e.elements;return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(e){return e=e.elements,this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){e=e.elements,t=t.elements;var n=this.elements,i=e[0],r=e[3],a=e[6],o=e[1],s=e[4],l=e[7],c=e[2],u=e[5],h=(e=e[8],t[0]),d=t[3],f=t[6],p=t[1],m=t[4],v=t[7],g=t[2],y=t[5];t=t[8];return n[0]=i*h+r*p+a*g,n[3]=i*d+r*m+a*y,n[6]=i*f+r*v+a*t,n[1]=o*h+s*p+l*g,n[4]=o*d+s*m+l*y,n[7]=o*f+s*v+l*t,n[2]=c*h+u*p+e*g,n[5]=c*d+u*m+e*y,n[8]=c*f+u*v+e*t,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}},{key:"determinant",value:function(){var e,t=(e=this.elements)[0],n=e[1],i=e[2],r=e[3],a=e[4],o=e[5],s=e[6],l=e[7];return t*a*(e=e[8])-t*o*l-n*r*e+n*o*s+i*r*l-i*a*s}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],a=e[4],o=e[5],s=e[6],l=e[7],c=e[8],u=c*a-o*l,h=o*s-c*r,d=l*r-a*s,f=t*u+n*h+i*d;return 0==f?this.set(0,0,0,0,0,0,0,0,0):(e[0]=u*(u=1/f),e[1]=(i*l-c*n)*u,e[2]=(o*n-i*a)*u,e[3]=h*u,e[4]=(c*t-i*s)*u,e[5]=(i*r-o*t)*u,e[6]=d*u,e[7]=(n*s-l*t)*u,e[8]=(a*t-n*r)*u,this)}},{key:"transpose",value:function(){var e=this.elements,t=e[1];return e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}},{key:"getNormalMatrix",value:function(e){return this.setFromMatrix4(e).invert().transpose()}},{key:"transposeIntoArray",value:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}},{key:"setUvTransform",value:function(e,t,n,i,r,a,o){var s=Math.cos(r);r=Math.sin(r);return this.set(n*s,n*r,-n*(s*a+r*o)+a+e,-i*r,i*s,-i*(-r*a+s*o)+o+t,0,0,1),this}},{key:"scale",value:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this}},{key:"rotate",value:function(e){var t=Math.cos(e),n=(e=Math.sin(e),this.elements),i=n[0],r=n[3],a=n[6],o=n[1],s=n[4],l=n[7];return n[0]=t*i+e*o,n[3]=t*r+e*s,n[6]=t*a+e*l,n[1]=-e*i+t*o,n[4]=-e*r+t*s,n[7]=-e*a+t*l,this}},{key:"translate",value:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}}]),e}()),Gi=(Vi.prototype.isMatrix3=!0,{getDataURL:function(e){var t;return/^data:/i.test(e.src)||"undefined"==typeof HTMLCanvasElement?e.src:2048<(t=e instanceof HTMLCanvasElement?e:((zi=void 0===zi?document.createElementNS("http://www.w3.org/1999/xhtml","canvas"):zi).width=e.width,zi.height=e.height,t=zi.getContext("2d"),e instanceof ImageData?t.putImageData(e,0,0):t.drawImage(e,0,0,e.width,e.height),zi)).width||2048<t.height?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}}),ji=0,Wi=function(e){h()(n,e);var t=te(n);function n(){var e,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:n.DEFAULT_IMAGE,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:n.DEFAULT_MAPPING,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:ht,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:ht,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:yt,l=5<arguments.length&&void 0!==arguments[5]?arguments[5]:wt,c=6<arguments.length&&void 0!==arguments[6]?arguments[6]:Ft,h=7<arguments.length&&void 0!==arguments[7]?arguments[7]:Mt,d=8<arguments.length&&void 0!==arguments[8]?arguments[8]:1,f=9<arguments.length&&void 0!==arguments[9]?arguments[9]:Zn;return p()(this,n),e=t.call(this),w()(u()(e),"id",{value:ji++}),e.uuid=Hi.generateUUID(),e.name="",e.image=i,e.mipmaps=[],e.mapping=r,e.wrapS=a,e.wrapT=o,e.magFilter=s,e.minFilter=l,e.anisotropy=d,e.format=c,e.internalFormat=null,e.type=h,e.offset=new Ui(0,0),e.repeat=new Ui(1,1),e.center=new Ui(0,0),e.rotation=0,e.matrixAutoUpdate=!0,e.matrix=new Vi,e.generateMipmaps=!0,e.premultiplyAlpha=!1,e.flipY=!0,e.unpackAlignment=4,e.encoding=f,e.version=0,e.onUpdate=null,e}return m()(n,[{key:"updateMatrix",value:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,_()(this).x,_()(this).y,this.rotation,this.center.x,this.center.y)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){var t;return this.name=e.name,this.image=e.image,this.mipmaps=b()(t=e.mipmaps).call(t,0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),_()(this).copy(_()(e)),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this}},{key:"toJSON",value:function(e){var t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[_()(this).x,_()(this).y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var i=this.image;if(void 0===i.uuid&&(i.uuid=Hi.generateUUID()),!t&&void 0===e.images[i.uuid]){if(M()(i))for(var r=[],a=0,o=i.length;a<o;a++)i[a].isDataTexture?r.push(Xi(i[a].image)):r.push(Xi(i[a]));else r=Xi(i);e.images[i.uuid]={uuid:i.uuid,url:r}}n.image=i.uuid}return t||(e.textures[this.uuid]=n),n}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"transformUv",value:function(e){if(this.mapping===it){if(e.applyMatrix3(this.matrix),e.x<0||1<e.x)switch(this.wrapS){case ut:e.x=e.x-Math.floor(e.x);break;case ht:e.x=e.x<0?0:1;break;case dt:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||1<e.y)switch(this.wrapT){case ut:e.y=e.y-Math.floor(e.y);break;case ht:e.y=e.y<0?0:1;break;case dt:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}this.flipY&&(e.y=1-e.y)}return e}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}}]),n}(Ni);function Xi(e){return"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?Gi.getDataURL(e):e.data?{data:b()(Array.prototype).call(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}Wi.DEFAULT_IMAGE=void 0,Wi.DEFAULT_MAPPING=it,Wi.prototype.isTexture=!0;var qi=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;p()(this,e),this.x=t,this.y=n,this.z=i,this.w=r}return m()(e,[{key:"width",get:function(){return this.z},set:function(e){this.z=e}},{key:"height",get:function(){return this.w},set:function(e){this.w=e}},{key:"set",value:function(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setW",value:function(e){return this.w=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}},{key:"add",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}},{key:"sub",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,i=this.z,r=this.w;e=e.elements;return this.x=e[0]*t+e[4]*n+e[8]*i+e[12]*r,this.y=e[1]*t+e[5]*n+e[9]*i+e[13]*r,this.z=e[2]*t+e[6]*n+e[10]*i+e[14]*r,this.w=e[3]*t+e[7]*n+e[11]*i+e[15]*r,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"setAxisAngleFromQuaternion",value:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}},{key:"setAxisAngleFromRotationMatrix",value:function(e){var t,n,i,r,a,o,s,l,c,u,h=(e=e.elements)[0],d=e[4],f=e[8],p=e[1],m=e[5],v=e[9],g=e[2],y=e[6];e=e[10];return Math.abs(d-p)<.01&&Math.abs(f-g)<.01&&Math.abs(v-y)<.01?Math.abs(d+p)<.1&&Math.abs(f+g)<.1&&Math.abs(v+y)<.1&&Math.abs(h+m+e-3)<.1?this.set(1,0,0,0):(r=Math.PI,o=(e+1)/2,s=(d+p)/4,l=(f+g)/4,c=(v+y)/4,(a=(m+1)/2)<(u=(h+1)/2)&&o<u?i=u<.01?(t=0,n=.707106781):(n=s/(t=Math.sqrt(u)),l/t):o<a?i=a<.01?(n=0,t=.707106781):(t=s/(n=Math.sqrt(a)),c/n):o<.01?(n=t=.707106781,i=0):(t=l/(i=Math.sqrt(o)),n=c/i),this.set(t,n,i,r)):(u=Math.sqrt((y-v)*(y-v)+(f-g)*(f-g)+(p-d)*(p-d)),Math.abs(u)<.001&&(u=1),this.x=(y-v)/u,this.y=(f-g)/u,this.z=(p-d)/u,this.w=Math.acos((h+m+e-1)/2)),this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}},{key:"fromArray",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}},{key:"toArray",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}},{key:"fromBufferAttribute",value:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}]),e}(),Yi=(qi.prototype.isVector4=!0,function(e){h()(n,e);var t=te(n);function n(e,i,r){var a;return p()(this,n),(a=t.call(this)).width=e,a.height=i,a.depth=1,a.scissor=new qi(0,0,e,i),a.scissorTest=!1,a.viewport=new qi(0,0,e,i),a.texture=new Wi(void 0,(r=r||{}).mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),a.texture.image={},a.texture.image.width=e,a.texture.image.height=i,a.texture.image.depth=1,a.texture.generateMipmaps=void 0!==r.generateMipmaps&&r.generateMipmaps,a.texture.minFilter=void 0!==r.minFilter?r.minFilter:yt,a.depthBuffer=void 0===r.depthBuffer||r.depthBuffer,a.stencilBuffer=void 0!==r.stencilBuffer&&r.stencilBuffer,a.depthTexture=void 0!==r.depthTexture?r.depthTexture:null,a}return m()(n,[{key:"setTexture",value:function(e){e.image={width:this.width,height:this.height,depth:this.depth},this.texture=e}},{key:"setSize",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;this.width===e&&this.height===t&&this.depth===n||(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(Ni)),$i=(Yi.prototype.isWebGLRenderTarget=!0,function(e){h()(n,e);var t=te(n);function n(e,i,r){return p()(this,n),(e=t.call(this,e,i,r)).samples=4,e}return m()(n,[{key:"copy",value:function(e){return c()(f()(n.prototype),"copy",this).call(this,e),this.samples=e.samples,this}}]),n}(Yi)),Zi=($i.prototype.isWebGLMultisampleRenderTarget=!0,function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;p()(this,e),this._x=t,this._y=n,this._z=i,this._w=r}return m()(e,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,i=e._y,r=e._z,a=e._order,o=(e=Math.cos,Math.sin),s=e(n/2),l=e(i/2),c=e(r/2),u=o(n/2),h=o(i/2),d=o(r/2);switch(a){case"XYZ":this._x=u*l*c+s*h*d,this._y=s*h*c-u*l*d,this._z=s*l*d+u*h*c,this._w=s*l*c-u*h*d;break;case"YXZ":this._x=u*l*c+s*h*d,this._y=s*h*c-u*l*d,this._z=s*l*d-u*h*c,this._w=s*l*c+u*h*d;break;case"ZXY":this._x=u*l*c-s*h*d,this._y=s*h*c+u*l*d,this._z=s*l*d+u*h*c,this._w=s*l*c-u*h*d;break;case"ZYX":this._x=u*l*c-s*h*d,this._y=s*h*c+u*l*d,this._z=s*l*d-u*h*c,this._w=s*l*c+u*h*d;break;case"YZX":this._x=u*l*c+s*h*d,this._y=s*h*c+u*l*d,this._z=s*l*d-u*h*c,this._w=s*l*c-u*h*d;break;case"XZY":this._x=u*l*c-s*h*d,this._y=s*h*c-u*l*d,this._z=s*l*d+u*h*c,this._w=s*l*c+u*h*d;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==t&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(e,t){t/=2;var n=Math.sin(t);return this._x=e.x*n,this._y=e.y*n,this._z=e.z*n,this._w=Math.cos(t),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=(e=e.elements)[0],n=e[4],i=e[8],r=e[1],a=e[5],o=e[9],s=e[2],l=e[6],c=t+a+(e=e[10]);return 0<c?(c=.5/Math.sqrt(c+1),this._w=.25/c,this._x=(l-o)*c,this._y=(i-s)*c,this._z=(r-n)*c):a<t&&e<t?(c=2*Math.sqrt(1+t-a-e),this._w=(l-o)/c,this._x=.25*c,this._y=(n+r)/c,this._z=(i+s)/c):e<a?(c=2*Math.sqrt(1+a-t-e),this._w=(i-s)/c,this._x=(n+r)/c,this._y=.25*c,this._z=(o+l)/c):(c=2*Math.sqrt(1+e-t-a),this._w=(r-n)/c,this._x=(i+s)/c,this._y=(o+l)/c,this._z=.25*c),this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(e,t){var n=e.dot(t)+1;return n<1e-6?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0):(this._x=0,this._y=-e.z,this._z=e.y)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x),this._w=n,this.normalize()}},{key:"angleTo",value:function(e){return 2*Math.acos(Math.abs(Hi.clamp(this.dot(e),-1,1)))}},{key:"rotateTowards",value:function(e,t){var n=this.angleTo(e);return 0!==n&&(t=Math.min(1,t/n),this.slerp(e,t)),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(this._x=this._x*(e=1/e),this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}},{key:"multiply",value:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}},{key:"premultiply",value:function(e){return this.multiplyQuaternions(e,this)}},{key:"multiplyQuaternions",value:function(e,t){var n=e._x,i=e._y,r=e._z,a=(e=e._w,t._x),o=t._y,s=t._z;t=t._w;return this._x=n*t+e*a+i*s-r*o,this._y=i*t+e*o+r*a-n*s,this._z=r*t+e*s+n*o-i*a,this._w=e*t-n*a-i*o-r*s,this._onChangeCallback(),this}},{key:"slerp",value:function(e,t){if(0!==t){if(1===t)return this.copy(e);var n,i=this._x,r=this._y,a=this._z,o=this._w,s=o*e._w+i*e._x+r*e._y+a*e._z;s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),1<=s?(this._w=o,this._x=i,this._y=r,this._z=a):((e=1-s*s)<=S.a?(this._w=(n=1-t)*o+t*this._w,this._x=n*i+t*this._x,this._y=n*r+t*this._y,this._z=n*a+t*this._z,this.normalize()):(n=Math.sqrt(e),e=Math.atan2(n,s),s=Math.sin((1-t)*e)/n,t=Math.sin(t*e)/n,this._w=o*s+this._w*t,this._x=i*s+this._x*t,this._y=r*s+this._y*t,this._z=a*s+this._z*t),this._onChangeCallback())}return this}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}},{key:"fromArray",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}},{key:"fromBufferAttribute",value:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}}],[{key:"slerp",value:function(e,t,n,i){return n.copy(e).slerp(t,i)}},{key:"slerpFlat",value:function(e,t,n,i,r,a,o){var s,l,c,u=n[i+0],h=n[i+1],d=n[i+2],f=(n=n[i+3],i=r[a+0],r[a+1]),p=r[a+2];r=r[a+3];0===o?(e[t+0]=u,e[t+1]=h,e[t+2]=d,e[t+3]=n):1===o?(e[t+0]=i,e[t+1]=f,e[t+2]=p,e[t+3]=r):(n===r&&u===i&&h===f&&d===p||(a=1-o,s=0<=(l=u*i+h*f+d*p+n*r)?1:-1,(c=1-l*l)>S.a&&(c=Math.sqrt(c),l=Math.atan2(c,l*s),a=Math.sin(a*l)/c,o=Math.sin(o*l)/c),u=u*a+i*(l=o*s),h=h*a+f*l,d=d*a+p*l,n=n*a+r*l,a===1-o&&(u*=c=1/Math.sqrt(u*u+h*h+d*d+n*n),h*=c,d*=c,n*=c)),e[t]=u,e[t+1]=h,e[t+2]=d,e[t+3]=n)}},{key:"multiplyQuaternionsFlat",value:function(e,t,n,i,r,a){var o=n[i],s=n[i+1],l=n[i+2],c=(n=n[i+3],i=r[a],r[a+1]),u=r[a+2];r=r[a+3];return e[t]=o*r+n*i+s*u-l*c,e[t+1]=s*r+n*c+l*i-o*u,e[t+2]=l*r+n*u+o*c-s*i,e[t+3]=n*r-o*i-s*c-l*u,e}}]),e}()),Qi=(Zi.prototype.isQuaternion=!0,function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;p()(this,e),this.x=t,this.y=n,this.z=i}return m()(e,[{key:"set",value:function(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}},{key:"add",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}},{key:"sub",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}},{key:"multiply",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this}},{key:"multiplyVectors",value:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}},{key:"applyEuler",value:function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Ji.setFromEuler(e))}},{key:"applyAxisAngle",value:function(e,t){return this.applyQuaternion(Ji.setFromAxisAngle(e,t))}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,i=this.z;e=e.elements;return this.x=e[0]*t+e[3]*n+e[6]*i,this.y=e[1]*t+e[4]*n+e[7]*i,this.z=e[2]*t+e[5]*n+e[8]*i,this}},{key:"applyNormalMatrix",value:function(e){return this.applyMatrix3(e).normalize()}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,i=this.z,r=1/((e=e.elements)[3]*t+e[7]*n+e[11]*i+e[15]);return this.x=(e[0]*t+e[4]*n+e[8]*i+e[12])*r,this.y=(e[1]*t+e[5]*n+e[9]*i+e[13])*r,this.z=(e[2]*t+e[6]*n+e[10]*i+e[14])*r,this}},{key:"applyQuaternion",value:function(e){var t=this.x,n=this.y,i=this.z,r=e.x,a=e.y,o=e.z,s=(e=e.w)*t+a*i-o*n,l=e*n+o*t-r*i,c=e*i+r*n-a*t;t=-r*t-a*n-o*i;return this.x=s*e+t*-r+l*-o-c*-a,this.y=l*e+t*-a+c*-r-s*-o,this.z=c*e+t*-o+s*-a-l*-r,this}},{key:"project",value:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}},{key:"unproject",value:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}},{key:"transformDirection",value:function(e){var t=this.x,n=this.y,i=this.z;e=e.elements;return this.x=e[0]*t+e[4]*n+e[8]*i,this.y=e[1]*t+e[5]*n+e[9]*i,this.z=e[2]*t+e[6]*n+e[10]*i,this.normalize()}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}},{key:"cross",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}},{key:"crossVectors",value:function(e,t){var n=e.x,i=e.y,r=(e=e.z,t.x),a=t.y;t=t.z;return this.x=i*t-e*a,this.y=e*r-n*t,this.z=n*a-i*r,this}},{key:"projectOnVector",value:function(e){var t=e.lengthSq();return 0===t?this.set(0,0,0):(t=e.dot(this)/t,this.copy(e).multiplyScalar(t))}},{key:"projectOnPlane",value:function(e){return Ki.copy(this).projectOnVector(e),this.sub(Ki)}},{key:"reflect",value:function(e){return this.sub(Ki.copy(e).multiplyScalar(2*this.dot(e)))}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());return 0===t?Math.PI/2:(e=this.dot(e)/t,Math.acos(Hi.clamp(e,-1,1)))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n+(e=this.z-e.z)*e}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}},{key:"setFromSpherical",value:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}},{key:"setFromSphericalCoords",value:function(e,t,n){var i=Math.sin(t)*e;return this.x=i*Math.sin(n),this.y=Math.cos(t)*e,this.z=i*Math.cos(n),this}},{key:"setFromCylindrical",value:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}},{key:"setFromCylindricalCoords",value:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}},{key:"setFromMatrixPosition",value:function(e){return e=e.elements,this.x=e[12],this.y=e[13],this.z=e[14],this}},{key:"setFromMatrixScale",value:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length();e=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=e,this}},{key:"setFromMatrixColumn",value:function(e,t){return this.fromArray(e.elements,4*t)}},{key:"setFromMatrix3Column",value:function(e,t){return this.fromArray(e.elements,3*t)}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}},{key:"fromArray",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}},{key:"toArray",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}},{key:"fromBufferAttribute",value:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}]),e}()),Ki=(Qi.prototype.isVector3=!0,new Qi),Ji=new Zi,er=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Qi(1/0,1/0,1/0),n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Qi(-1/0,-1/0,-1/0);p()(this,e),this.min=t,this.max=n}return m()(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromArray",value:function(e){for(var t=1/0,n=1/0,i=1/0,r=-1/0,a=-1/0,o=-1/0,s=0,l=e.length;s<l;s+=3){var c=e[s],u=e[s+1],h=e[s+2];c<t&&(t=c),u<n&&(n=u),h<i&&(i=h),r<c&&(r=c),a<u&&(a=u),o<h&&(o=h)}return this.min.set(t,n,i),this.max.set(r,a,o),this}},{key:"setFromBufferAttribute",value:function(e){for(var t=1/0,n=1/0,i=1/0,r=-1/0,a=-1/0,o=-1/0,s=0,l=e.count;s<l;s++){var c=e.getX(s),u=e.getY(s),h=e.getZ(s);c<t&&(t=c),u<n&&(n=u),h<i&&(i=h),r<c&&(r=c),a<u&&(a=u),o<h&&(o=h)}return this.min.set(t,n,i),this.max.set(r,a,o),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){return t=nr.copy(t).multiplyScalar(.5),this.min.copy(e).sub(t),this.max.copy(e).add(t),this}},{key:"setFromObject",value:function(e){return this.makeEmpty(),this.expandByObject(e)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(e){return void 0===e&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new Qi),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return void 0===e&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new Qi),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"expandByObject",value:function(e){e.updateWorldMatrix(!1,!1);for(var t=e.geometry,n=(void 0!==t&&(null===t.boundingBox&&t.computeBoundingBox(),ir.copy(t.boundingBox),ir.applyMatrix4(e.matrixWorld),this.union(ir)),e.children),i=0,r=n.length;i<r;i++)this.expandByObject(n[i]);return this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}},{key:"getParameter",value:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new Qi),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}},{key:"intersectsSphere",value:function(e){return this.clampPoint(e.center,nr),nr.distanceToSquared(e.center)<=e.radius*e.radius}},{key:"intersectsPlane",value:function(e){var t,n=0<e.normal.x?(t=e.normal.x*this.min.x,e.normal.x*this.max.x):(t=e.normal.x*this.max.x,e.normal.x*this.min.x);return 0<e.normal.y?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),0<e.normal.z?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}},{key:"intersectsTriangle",value:function(e){return!this.isEmpty()&&(this.getCenter(ur),hr.subVectors(this.max,ur),rr.subVectors(e.a,ur),ar.subVectors(e.b,ur),or.subVectors(e.c,ur),sr.subVectors(ar,rr),lr.subVectors(or,ar),cr.subVectors(rr,or),!!pr([0,-sr.z,sr.y,0,-lr.z,lr.y,0,-cr.z,cr.y,sr.z,0,-sr.x,lr.z,0,-lr.x,cr.z,0,-cr.x,-sr.y,sr.x,0,-lr.y,lr.x,0,-cr.y,cr.x,0],rr,ar,or,hr))&&!!pr([1,0,0,0,1,0,0,0,1],rr,ar,or,hr)&&(dr.crossVectors(sr,lr),pr([dr.x,dr.y,dr.z],rr,ar,or,hr))}},{key:"clampPoint",value:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new Qi),t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return nr.copy(e).clamp(this.min,this.max).sub(e).length()}},{key:"getBoundingSphere",value:function(e){return void 0===e&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=.5*this.getSize(nr).length(),e}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"applyMatrix4",value:function(e){return this.isEmpty()||(tr[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),tr[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),tr[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),tr[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),tr[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),tr[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),tr[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),tr[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(tr)),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}(),tr=(er.prototype.isBox3=!0,[new Qi,new Qi,new Qi,new Qi,new Qi,new Qi,new Qi,new Qi]),nr=new Qi,ir=new er,rr=new Qi,ar=new Qi,or=new Qi,sr=new Qi,lr=new Qi,cr=new Qi,ur=new Qi,hr=new Qi,dr=new Qi,fr=new Qi;function pr(e,t,n,i,r){for(var a=0,o=e.length-3;a<=o;a+=3){fr.fromArray(e,a);var s=r.x*Math.abs(fr.x)+r.y*Math.abs(fr.y)+r.z*Math.abs(fr.z),l=t.dot(fr),c=n.dot(fr),u=i.dot(fr);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>s)return!1}return!0}var mr=new er,vr=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Qi,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1;p()(this,e),this.center=t,this.radius=n}return m()(e,[{key:"set",value:function(e,t){return this.center.copy(e),this.radius=t,this}},{key:"setFromPoints",value:function(e,t){for(var n=this.center,i=(void 0!==t?n.copy(t):mr.setFromPoints(e).getCenter(n),0),r=0,a=e.length;r<a;r++)i=Math.max(i,n.distanceToSquared(e[r]));return this.radius=Math.sqrt(i),this}},{key:"copy",value:function(e){return this.center.copy(e.center),this.radius=e.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(e){return e.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}},{key:"intersectsBox",value:function(e){return e.intersectsSphere(this)}},{key:"intersectsPlane",value:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(e,t){var n=this.center.distanceToSquared(e);return void 0===t&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new Qi),t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}},{key:"getBoundingBox",value:function(e){return void 0===e&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new er),this.isEmpty()?e.makeEmpty():(e.set(this.center,this.center),e.expandByScalar(this.radius)),e}},{key:"applyMatrix4",value:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}},{key:"translate",value:function(e){return this.center.add(e),this}},{key:"equals",value:function(e){return e.center.equals(this.center)&&e.radius===this.radius}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),gr=new Qi,yr=new Qi,xr=new Qi,br=new Qi,wr=new Qi,_r=new Qi,Mr=new Qi,Sr=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Qi,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Qi(0,0,-1);p()(this,e),this.origin=t,this.direction=n}return m()(e,[{key:"set",value:function(e,t){return this.origin.copy(e),this.direction.copy(t),this}},{key:"copy",value:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}},{key:"at",value:function(e,t){return void 0===t&&(console.warn("THREE.Ray: .at() target is now required"),t=new Qi),t.copy(this.direction).multiplyScalar(e).add(this.origin)}},{key:"lookAt",value:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this}},{key:"recast",value:function(e){return this.origin.copy(this.at(e,gr)),this}},{key:"closestPointToPoint",value:function(e,t){return void 0===t&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new Qi),t.subVectors(e,this.origin),(e=t.dot(this.direction))<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(e).add(this.origin)}},{key:"distanceToPoint",value:function(e){return Math.sqrt(this.distanceSqToPoint(e))}},{key:"distanceSqToPoint",value:function(e){var t=gr.subVectors(e,this.origin).dot(this.direction);return(t<0?this.origin:(gr.copy(this.direction).multiplyScalar(t).add(this.origin),gr)).distanceToSquared(e)}},{key:"distanceSqToSegment",value:function(e,t,n,i){yr.copy(e).add(t).multiplyScalar(.5),xr.copy(t).sub(e).normalize(),br.copy(this.origin).sub(yr);e=.5*e.distanceTo(t),t=-this.direction.dot(xr);var r,a,o,s=br.dot(this.direction),l=-br.dot(xr),c=br.lengthSq(),u=Math.abs(1-t*t);return u=0<u?(a=t*s-l,o=e*u,0<=(r=t*l-s)?-o<=a?a<=o?(r*=u=1/u)*(r+t*(a*=u)+2*s)+a*(t*r+a+2*l)+c:(a=e,-(r=Math.max(0,-(t*a+s)))*r+a*(a+2*l)+c):(a=-e,-(r=Math.max(0,-(t*a+s)))*r+a*(a+2*l)+c):a<=-o?-(r=Math.max(0,-(-t*e+s)))*r+(a=0<r?-e:Math.min(Math.max(-e,-l),e))*(a+2*l)+c:a<=o?(r=0,(a=Math.min(Math.max(-e,-l),e))*(a+2*l)+c):-(r=Math.max(0,-(t*e+s)))*r+(a=0<r?e:Math.min(Math.max(-e,-l),e))*(a+2*l)+c):(a=0<t?-e:e,-(r=Math.max(0,-(t*a+s)))*r+a*(a+2*l)+c),n&&n.copy(this.direction).multiplyScalar(r).add(this.origin),i&&i.copy(xr).multiplyScalar(a).add(yr),u}},{key:"intersectSphere",value:function(e,t){gr.subVectors(e.center,this.origin);var n=gr.dot(this.direction),i=gr.dot(gr)-n*n;return(e=e.radius*e.radius)<i||(i=n+(e=Math.sqrt(e-i)),(n-=e)<0&&i<0)?null:n<0?this.at(i,t):this.at(n,t)}},{key:"intersectsSphere",value:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}},{key:"distanceToPlane",value:function(e){var t=e.normal.dot(this.direction);return 0===t?0===e.distanceToPoint(this.origin)?0:null:0<=(e=-(this.origin.dot(e.normal)+e.constant)/t)?e:null}},{key:"intersectPlane",value:function(e,t){return null===(e=this.distanceToPlane(e))?null:this.at(e,t)}},{key:"intersectsPlane",value:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}},{key:"intersectBox",value:function(e,t){var n,i,r,a=1/this.direction.x,o=1/this.direction.y,s=1/this.direction.z,l=this.origin;a=0<=a?(n=(e.min.x-l.x)*a,(e.max.x-l.x)*a):(n=(e.max.x-l.x)*a,(e.min.x-l.x)*a);return(o=0<=o?(r=(e.min.y-l.y)*o,(e.max.y-l.y)*o):(r=(e.max.y-l.y)*o,(e.min.y-l.y)*o))<n||a<r||((n<r||n!=n)&&(n=r),(o<a||a!=a)&&(a=o),(r=0<=s?(i=(e.min.z-l.z)*s,(e.max.z-l.z)*s):(i=(e.max.z-l.z)*s,(e.min.z-l.z)*s))<n)||a<i||((n<i||n!=n)&&(n=i),(a=r<a||a!=a?r:a)<0)?null:this.at(0<=n?n:a,t)}},{key:"intersectsBox",value:function(e){return null!==this.intersectBox(e,gr)}},{key:"intersectTriangle",value:function(e,t,n,i,r){var a;if(wr.subVectors(t,e),_r.subVectors(n,e),Mr.crossVectors(wr,_r),0<(t=this.direction.dot(Mr))){if(i)return null;a=1}else{if(!(t<0))return null;a=-1,t=-t}return br.subVectors(this.origin,e),(n=a*this.direction.dot(_r.crossVectors(br,_r)))<0||(i=a*this.direction.dot(wr.cross(br)))<0||t<n+i||(e=-a*br.dot(Mr))<0?null:this.at(e/t,r)}},{key:"applyMatrix4",value:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}},{key:"equals",value:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),Er=function(){function e(){p()(this,e),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}return m()(e,[{key:"set",value:function(e,t,n,i,r,a,o,s,l,c,u,h,d,f,p,m){var v=this.elements;return v[0]=e,v[4]=t,v[8]=n,v[12]=i,v[1]=r,v[5]=a,v[9]=o,v[13]=s,v[2]=l,v[6]=c,v[10]=u,v[14]=h,v[3]=d,v[7]=f,v[11]=p,v[15]=m,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new e).fromArray(this.elements)}},{key:"copy",value:function(e){var t=this.elements;e=e.elements;return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],this}},{key:"copyPosition",value:function(e){var t=this.elements;e=e.elements;return t[12]=e[12],t[13]=e[13],t[14]=e[14],this}},{key:"setFromMatrix3",value:function(e){return e=e.elements,this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(e){var t=this.elements,n=e.elements,i=1/Tr.setFromMatrixColumn(e,0).length(),r=1/Tr.setFromMatrixColumn(e,1).length();e=1/Tr.setFromMatrixColumn(e,2).length();return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=0,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=0,t[8]=n[8]*e,t[9]=n[9]*e,t[10]=n[10]*e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromEuler",value:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t,n,i,r,a=this.elements,o=e.x,s=e.y,l=e.z,c=Math.cos(o),u=(o=Math.sin(o),Math.cos(s)),h=(s=Math.sin(s),Math.cos(l));l=Math.sin(l);return"XYZ"===e.order?(n=c*h,i=c*l,r=o*h,t=o*l,a[0]=u*h,a[4]=-u*l,a[8]=s,a[1]=i+r*s,a[5]=n-t*s,a[9]=-o*u,a[2]=t-n*s,a[6]=r+i*s,a[10]=c*u):"YXZ"===e.order?(t=u*l,n=s*h,a[0]=(r=u*h)+(i=s*l)*o,a[4]=n*o-t,a[8]=c*s,a[1]=c*l,a[5]=c*h,a[9]=-o,a[2]=t*o-n,a[6]=i+r*o,a[10]=c*u):"ZXY"===e.order?(t=u*l,n=s*h,a[0]=(i=u*h)-(r=s*l)*o,a[4]=-c*l,a[8]=n+t*o,a[1]=t+n*o,a[5]=c*h,a[9]=r-i*o,a[2]=-c*s,a[6]=o,a[10]=c*u):"ZYX"===e.order?(t=c*h,n=c*l,r=o*h,i=o*l,a[0]=u*h,a[4]=r*s-n,a[8]=t*s+i,a[1]=u*l,a[5]=i*s+t,a[9]=n*s-r,a[2]=-s,a[6]=o*u,a[10]=c*u):"YZX"===e.order?(i=c*u,t=c*s,n=o*u,r=o*s,a[0]=u*h,a[4]=r-i*l,a[8]=n*l+t,a[1]=l,a[5]=c*h,a[9]=-o*h,a[2]=-s*h,a[6]=t*l+n,a[10]=i-r*l):"XZY"===e.order&&(t=c*u,n=c*s,i=o*u,r=o*s,a[0]=u*h,a[4]=-l,a[8]=s*h,a[1]=t*l+r,a[5]=c*h,a[9]=n*l-i,a[2]=i*l-n,a[6]=o*h,a[10]=r*l+t),a[3]=0,a[7]=0,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(e){return this.compose(Ar,e,Lr)}},{key:"lookAt",value:function(e,t,n){var i=this.elements;return Dr.subVectors(e,t),0===Dr.lengthSq()&&(Dr.z=1),Dr.normalize(),Pr.crossVectors(n,Dr),0===Pr.lengthSq()&&(1===Math.abs(n.z)?Dr.x+=1e-4:Dr.z+=1e-4,Dr.normalize(),Pr.crossVectors(n,Dr)),Pr.normalize(),kr.crossVectors(Dr,Pr),i[0]=Pr.x,i[4]=kr.x,i[8]=Dr.x,i[1]=Pr.y,i[5]=kr.y,i[9]=Dr.y,i[2]=Pr.z,i[6]=kr.z,i[10]=Dr.z,this}},{key:"multiply",value:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){e=e.elements,t=t.elements;var n=this.elements,i=e[0],r=e[4],a=e[8],o=e[12],s=e[1],l=e[5],c=e[9],u=e[13],h=e[2],d=e[6],f=e[10],p=e[14],m=e[3],v=e[7],g=e[11],y=(e=e[15],t[0]),x=t[4],b=t[8],w=t[12],_=t[1],M=t[5],S=t[9],E=t[13],T=t[2],C=t[6],A=t[10],L=t[14],P=t[3],k=t[7],D=t[11];t=t[15];return n[0]=i*y+r*_+a*T+o*P,n[4]=i*x+r*M+a*C+o*k,n[8]=i*b+r*S+a*A+o*D,n[12]=i*w+r*E+a*L+o*t,n[1]=s*y+l*_+c*T+u*P,n[5]=s*x+l*M+c*C+u*k,n[9]=s*b+l*S+c*A+u*D,n[13]=s*w+l*E+c*L+u*t,n[2]=h*y+d*_+f*T+p*P,n[6]=h*x+d*M+f*C+p*k,n[10]=h*b+d*S+f*A+p*D,n[14]=h*w+d*E+f*L+p*t,n[3]=m*y+v*_+g*T+e*P,n[7]=m*x+v*M+g*C+e*k,n[11]=m*b+v*S+g*A+e*D,n[15]=m*w+v*E+g*L+e*t,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[4],i=e[8],r=e[12],a=e[1],o=e[5],s=e[9],l=e[13],c=e[2],u=e[6],h=e[10],d=e[14];return e[3]*(+r*s*u-i*l*u-r*o*h+n*l*h+i*o*d-n*s*d)+e[7]*(+t*s*d-t*l*h+r*a*h-i*a*d+i*l*c-r*s*c)+e[11]*(+t*l*u-t*o*d-r*a*u+n*a*d+r*o*c-n*l*c)+e[15]*(-i*o*c-t*s*u+t*o*h+i*a*u-n*a*h+n*s*c)}},{key:"transpose",value:function(){var e=this.elements,t=e[1];return e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}},{key:"setPosition",value:function(e,t,n){var i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=n),this}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],a=e[4],o=e[5],s=e[6],l=e[7],c=e[8],u=e[9],h=e[10],d=e[11],f=e[12],p=e[13],m=e[14],v=e[15],g=u*m*l-p*h*l+p*s*d-o*m*d-u*s*v+o*h*v,y=f*h*l-c*m*l-f*s*d+a*m*d+c*s*v-a*h*v,x=c*p*l-f*u*l+f*o*d-a*p*d-c*o*v+a*u*v,b=f*u*s-c*p*s-f*o*h+a*p*h+c*o*m-a*u*m,w=t*g+n*y+i*x+r*b;return 0==w?this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0):(e[0]=g*(g=1/w),e[1]=(p*h*r-u*m*r-p*i*d+n*m*d+u*i*v-n*h*v)*g,e[2]=(o*m*r-p*s*r+p*i*l-n*m*l-o*i*v+n*s*v)*g,e[3]=(u*s*r-o*h*r-u*i*l+n*h*l+o*i*d-n*s*d)*g,e[4]=y*g,e[5]=(c*m*r-f*h*r+f*i*d-t*m*d-c*i*v+t*h*v)*g,e[6]=(f*s*r-a*m*r-f*i*l+t*m*l+a*i*v-t*s*v)*g,e[7]=(a*h*r-c*s*r+c*i*l-t*h*l-a*i*d+t*s*d)*g,e[8]=x*g,e[9]=(f*u*r-c*p*r-f*n*d+t*p*d+c*n*v-t*u*v)*g,e[10]=(a*p*r-f*o*r+f*n*l-t*p*l-a*n*v+t*o*v)*g,e[11]=(c*o*r-a*u*r-c*n*l+t*u*l+a*n*d-t*o*d)*g,e[12]=b*g,e[13]=(c*p*i-f*u*i+f*n*h-t*p*h-c*n*m+t*u*m)*g,e[14]=(f*o*i-a*p*i-f*n*s+t*p*s+a*n*m-t*o*m)*g,e[15]=(a*u*i-c*o*i+c*n*s-t*u*s-a*n*h+t*o*h)*g,this)}},{key:"scale",value:function(e){var t=this.elements,n=e.x,i=e.y;e=e.z;return t[0]*=n,t[4]*=i,t[8]*=e,t[1]*=n,t[5]*=i,t[9]*=e,t[2]*=n,t[6]*=i,t[10]*=e,t[3]*=n,t[7]*=i,t[11]*=e,this}},{key:"getMaxScaleOnAxis",value:function(){var e=(n=this.elements)[0]*n[0]+n[1]*n[1]+n[2]*n[2],t=n[4]*n[4]+n[5]*n[5]+n[6]*n[6],n=n[8]*n[8]+n[9]*n[9]+n[10]*n[10];return Math.sqrt(Math.max(e,t,n))}},{key:"makeTranslation",value:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(e){var t=Math.cos(e);e=Math.sin(e);return this.set(1,0,0,0,0,t,-e,0,0,e,t,0,0,0,0,1),this}},{key:"makeRotationY",value:function(e){var t=Math.cos(e);e=Math.sin(e);return this.set(t,0,e,0,0,1,0,0,-e,0,t,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(e){var t=Math.cos(e);e=Math.sin(e);return this.set(t,-e,0,0,e,t,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(e,t){var n=Math.cos(t),i=(t=Math.sin(t),1-n),r=e.x,a=e.y,o=(e=e.z,i*r),s=i*a;return this.set(o*r+n,o*a-t*e,o*e+t*a,0,o*a+t*e,s*a+n,s*e-t*r,0,o*e-t*a,s*e+t*r,i*e*e+n,0,0,0,0,1),this}},{key:"makeScale",value:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this}},{key:"compose",value:function(e,t,n){var i=this.elements,r=(o=t._x)*(u=o+o),a=o*(h=(l=t._y)+l),o=o*(d=(c=t._z)+c),s=l*h,l=l*d,c=c*d,u=(t=t._w)*u,h=t*h,d=(t=t*d,n.x),f=n.y;n=n.z;return i[0]=(1-(s+c))*d,i[1]=(a+t)*d,i[2]=(o-h)*d,i[3]=0,i[4]=(a-t)*f,i[5]=(1-(r+c))*f,i[6]=(l+u)*f,i[7]=0,i[8]=(o+h)*n,i[9]=(l-u)*n,i[10]=(1-(r+s))*n,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}},{key:"decompose",value:function(e,t,n){var i=this.elements,r=Tr.set(i[0],i[1],i[2]).length(),a=Tr.set(i[4],i[5],i[6]).length(),o=Tr.set(i[8],i[9],i[10]).length(),s=(e=(this.determinant()<0&&(r=-r),e.x=i[12],e.y=i[13],e.z=i[14],Cr.copy(this),1/r),i=1/a,1/o);return Cr.elements[0]*=e,Cr.elements[1]*=e,Cr.elements[2]*=e,Cr.elements[4]*=i,Cr.elements[5]*=i,Cr.elements[6]*=i,Cr.elements[8]*=s,Cr.elements[9]*=s,Cr.elements[10]*=s,t.setFromRotationMatrix(Cr),n.x=r,n.y=a,n.z=o,this}},{key:"makePerspective",value:function(e,t,n,i,r,a){void 0===a&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var o=this.elements,s=2*r/(n-i),l=(t+e)/(t-e);n=(n+i)/(n-i),i=-(a+r)/(a-r),a=-2*a*r/(a-r);return o[0]=2*r/(t-e),o[4]=0,o[8]=l,o[12]=0,o[1]=0,o[5]=s,o[9]=n,o[13]=0,o[2]=0,o[6]=0,o[10]=i,o[14]=a,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}},{key:"makeOrthographic",value:function(e,t,n,i,r,a){var o=this.elements,s=1/(t-e),l=1/(n-i),c=1/(a-r);t=(t+e)*s,e=(n+i)*l,n=(a+r)*c;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-t,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-e,o[2]=0,o[6]=0,o[10]=-2*c,o[14]=-n,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=0;n<16;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}]),e}(),Tr=(Er.prototype.isMatrix4=!0,new Qi),Cr=new Er,Ar=new Qi(0,0,0),Lr=new Qi(1,1,1),Pr=new Qi,kr=new Qi,Dr=new Qi,Ir=new Er,Rr=new Zi,Nr=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:e.DefaultOrder;p()(this,e),this._x=t,this._y=n,this._z=i,this._order=r}return m()(e,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._order=i||this._order,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e,t,n){var i=Hi.clamp,r=(e=e.elements)[0],a=e[4],o=e[8],s=e[1],l=e[5],c=e[9],u=e[2],h=e[6],d=e[10];switch(t=t||this._order){case"XYZ":this._y=Math.asin(i(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-c,d),this._z=Math.atan2(-a,r)):(this._x=Math.atan2(h,l),this._z=0);break;case"YXZ":this._x=Math.asin(-i(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(o,d),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-u,r),this._z=0);break;case"ZXY":this._x=Math.asin(i(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-u,d),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(s,r));break;case"ZYX":this._y=Math.asin(-i(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(h,d),this._z=Math.atan2(s,r)):(this._x=0,this._z=Math.atan2(-a,l));break;case"YZX":this._z=Math.asin(i(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-u,r)):(this._x=0,this._y=Math.atan2(o,d));break;case"XZY":this._z=Math.asin(-i(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(h,l),this._y=Math.atan2(o,r)):(this._x=Math.atan2(-c,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!1!==n&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(e,t,n){return Ir.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Ir,t,n)}},{key:"setFromVector3",value:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)}},{key:"reorder",value:function(e){return Rr.setFromEuler(this),this.setFromQuaternion(Rr,e)}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}},{key:"fromArray",value:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}},{key:"toVector3",value:function(e){return e?e.set(this._x,this._y,this._z):new Qi(this._x,this._y,this._z)}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}}]),e}(),Or=(Nr.prototype.isEuler=!0,Nr.DefaultOrder="XYZ",Nr.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],function(){function e(){p()(this,e),this.mask=1}return m()(e,[{key:"set",value:function(e){this.mask=1<<e|0}},{key:"enable",value:function(e){this.mask|=1<<e|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(e){this.mask^=1<<e|0}},{key:"disable",value:function(e){this.mask&=~(1<<e|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(e){return 0!=(this.mask&e.mask)}}]),e}()),Fr=0,zr=new Qi,Br=new Zi,Hr=new Er,Ur=new Qi,Vr=new Qi,Gr=new Qi,jr=new Zi,Wr=new Qi(1,0,0),Xr=new Qi(0,1,0),qr=new Qi(0,0,1),Yr={type:"added"},$r={type:"removed"};function Zr(){w()(this,"id",{value:Fr++}),this.uuid=Hi.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Zr.DefaultUp.clone();var e=new Qi,t=new Nr,n=new Zi,i=new Qi(1,1,1);t._onChange((function(){n.setFromEuler(t,!1)})),n._onChange((function(){t.setFromQuaternion(n,void 0,!1)})),E()(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Er},normalMatrix:{value:new Vi}}),this.matrix=new Er,this.matrixWorld=new Er,this.matrixAutoUpdate=Zr.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Or,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}Zr.DefaultUp=new Qi(0,1,0),Zr.DefaultMatrixAutoUpdate=!0,Zr.prototype=g()(T()(Ni.prototype),{constructor:Zr,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(e,t){return Br.setFromAxisAngle(e,t),this.quaternion.multiply(Br),this},rotateOnWorldAxis:function(e,t){return Br.setFromAxisAngle(e,t),this.quaternion.premultiply(Br),this},rotateX:function(e){return this.rotateOnAxis(Wr,e)},rotateY:function(e){return this.rotateOnAxis(Xr,e)},rotateZ:function(e){return this.rotateOnAxis(qr,e)},translateOnAxis:function(e,t){return zr.copy(e).applyQuaternion(this.quaternion),this.position.add(zr.multiplyScalar(t)),this},translateX:function(e){return this.translateOnAxis(Wr,e)},translateY:function(e){return this.translateOnAxis(Xr,e)},translateZ:function(e){return this.translateOnAxis(qr,e)},localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(e){return e.applyMatrix4(Hr.copy(this.matrixWorld).invert())},lookAt:function(e,t,n){e.isVector3?Ur.copy(e):Ur.set(e,t,n),e=this.parent,this.updateWorldMatrix(!0,!1),Vr.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Hr.lookAt(Vr,Ur,this.up):Hr.lookAt(Ur,Vr,this.up),this.quaternion.setFromRotationMatrix(Hr),e&&(Hr.extractRotation(e.matrixWorld),Br.setFromRotationMatrix(Hr),this.quaternion.premultiply(Br.invert()))},add:function(e){if(1<arguments.length)for(var t=0;t<arguments.length;t++)this.add(arguments[t]);else e===this?console.error("THREE.Object3D.add: object can't be added as a child of itself.",e):e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),(e.parent=this).children.push(e),e.dispatchEvent(Yr)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e);return this},remove:function(e){if(1<arguments.length)for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);else{var n,i=y()(i=this.children).call(i,e);-1!==i&&(e.parent=null,x()(n=this.children).call(n,i,1),e.dispatchEvent($r))}return this},clear:function(){for(var e=0;e<this.children.length;e++){var t=this.children[e];t.parent=null,t.dispatchEvent($r)}return this.children.length=0,this},attach:function(e){return this.updateWorldMatrix(!0,!1),Hr.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),Hr.multiply(e.parent.matrixWorld)),e.applyMatrix4(Hr),this.add(e),e.updateWorldMatrix(!1,!0),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var n=0,i=this.children.length;n<i;n++){var r=this.children[n].getObjectByProperty(e,t);if(void 0!==r)return r}},getWorldPosition:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new Qi),this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new Zi),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Vr,e,Gr),e},getWorldScale:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new Qi),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Vr,jr,e),e},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new Qi),this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);for(var t=this.children,n=0,i=t.length;n<i;n++)t[n].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),e=!(this.matrixWorldNeedsUpdate=!1));for(var t=this.children,n=0,i=t.length;n<i;n++)t[n].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){var n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var i=this.children,r=0,a=i.length;r<a;r++)i[r].updateWorldMatrix(!1,!0)},toJSON:function(e){var t,n,i,r,a,o=void 0===e||"string"==typeof e,s={},l=(o&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},s.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"}),{});function c(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(l.uuid=this.uuid,l.type=this.type,""!==this.name&&(l.name=this.name),!0===this.castShadow&&(l.castShadow=!0),!0===this.receiveShadow&&(l.receiveShadow=!0),!1===this.visible&&(l.visible=!1),!1===this.frustumCulled&&(l.frustumCulled=!1),0!==this.renderOrder&&(l.renderOrder=this.renderOrder),"{}"!==C()(this.userData)&&(l.userData=this.userData),l.layers=this.layers.mask,l.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(l.matrixAutoUpdate=!1),this.isInstancedMesh&&(l.type="InstancedMesh",l.count=this.count,l.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){l.geometry=c(e.geometries,this.geometry);var u=this.geometry.parameters;if(void 0!==u&&void 0!==u.shapes){var h=u.shapes;if(M()(h))for(var d=0,f=h.length;d<f;d++){var p=h[d];c(e.shapes,p)}else c(e.shapes,h)}}if(this.isSkinnedMesh&&(l.bindMode=this.bindMode,l.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton)&&(c(e.skeletons,this.skeleton),l.skeleton=this.skeleton.uuid),void 0!==this.material)if(M()(this.material)){for(var m=[],v=0,g=this.material.length;v<g;v++)m.push(c(e.materials,this.material[v]));l.material=m}else l.material=c(e.materials,this.material);if(0<this.children.length){l.children=[];for(var y=0;y<this.children.length;y++)l.children.push(this.children[y].toJSON(e).object)}if(0<this.animations.length){l.animations=[];for(var x=0;x<this.animations.length;x++){var b=this.animations[x];l.animations.push(c(e.animations,b))}}return o&&(u=w(e.geometries),o=w(e.materials),t=w(e.textures),n=w(e.images),i=w(e.shapes),r=w(e.skeletons),a=w(e.animations),0<u.length&&(s.geometries=u),0<o.length&&(s.materials=o),0<t.length&&(s.textures=t),0<n.length&&(s.images=n),0<i.length&&(s.shapes=i),0<r.length&&(s.skeletons=r),0<a.length)&&(s.animations=a),s.object=l,s;function w(e){var t,n=[];for(t in e){var i=e[t];delete i.metadata,n.push(i)}return n}},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(C()(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var i=e.children[n];this.add(i.clone())}return this}});var Qr=new Qi,Kr=new Qi,Jr=new Vi,ea=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Qi(1,0,0),n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;p()(this,e),this.normal=t,this.constant=n}return m()(e,[{key:"set",value:function(e,t){return this.normal.copy(e),this.constant=t,this}},{key:"setComponents",value:function(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this}},{key:"setFromNormalAndCoplanarPoint",value:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(e,t,n){return n=Qr.subVectors(n,t).cross(Kr.subVectors(e,t)).normalize(),this.setFromNormalAndCoplanarPoint(n,e),this}},{key:"copy",value:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this}},{key:"normalize",value:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(e){return this.normal.dot(e)+this.constant}},{key:"distanceToSphere",value:function(e){return this.distanceToPoint(e.center)-e.radius}},{key:"projectPoint",value:function(e,t){return void 0===t&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new Qi),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}},{key:"intersectLine",value:function(e,t){void 0===t&&(console.warn("THREE.Plane: .intersectLine() target is now required"),t=new Qi);var n=e.delta(Qr),i=this.normal.dot(n);return 0===i?0===this.distanceToPoint(e.start)?t.copy(e.start):void 0:(i=-(e.start.dot(this.normal)+this.constant)/i)<0||1<i?void 0:t.copy(n).multiplyScalar(i).add(e.start)}},{key:"intersectsLine",value:function(e){var t=this.distanceToPoint(e.start);e=this.distanceToPoint(e.end);return t<0&&0<e||e<0&&0<t}},{key:"intersectsBox",value:function(e){return e.intersectsPlane(this)}},{key:"intersectsSphere",value:function(e){return e.intersectsPlane(this)}},{key:"coplanarPoint",value:function(e){return void 0===e&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new Qi),e.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(e,t){return t=t||Jr.getNormalMatrix(e),e=this.coplanarPoint(Qr).applyMatrix4(e),t=this.normal.applyMatrix3(t).normalize(),this.constant=-e.dot(t),this}},{key:"translate",value:function(e){return this.constant-=e.dot(this.normal),this}},{key:"equals",value:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),ta=(ea.prototype.isPlane=!0,new Qi),na=new Qi,ia=new Qi,ra=new Qi,aa=new Qi,oa=new Qi,sa=new Qi,la=new Qi,ca=new Qi,ua=new Qi,ha=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Qi,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Qi,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new Qi;p()(this,e),this.a=t,this.b=n,this.c=i}return m()(e,[{key:"set",value:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}},{key:"setFromPointsAndIndices",value:function(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}},{key:"getArea",value:function(){return ta.subVectors(this.c,this.b),na.subVectors(this.a,this.b),.5*ta.cross(na).length()}},{key:"getMidpoint",value:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new Qi),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(t){return e.getNormal(this.a,this.b,this.c,t)}},{key:"getPlane",value:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new ea),e.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(t,n){return e.getBarycoord(t,this.a,this.b,this.c,n)}},{key:"getUV",value:function(t,n,i,r,a){return e.getUV(t,this.a,this.b,this.c,n,i,r,a)}},{key:"containsPoint",value:function(t){return e.containsPoint(t,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(t){return e.isFrontFacing(this.a,this.b,this.c,t)}},{key:"intersectsBox",value:function(e){return e.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(e,t){void 0===t&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),t=new Qi);var n=this.a,i=this.b,r=this.c,a=(aa.subVectors(i,n),oa.subVectors(r,n),la.subVectors(e,n),aa.dot(la)),o=oa.dot(la);if(a<=0&&o<=0)return t.copy(n);ca.subVectors(e,i);var s=aa.dot(ca),l=oa.dot(ca);if(0<=s&&l<=s)return t.copy(i);var c=a*l-s*o;if(c<=0&&0<=a&&s<=0)return u=a/(a-s),t.copy(n).addScaledVector(aa,u);ua.subVectors(e,r);e=aa.dot(ua);var u,h,d=oa.dot(ua);return 0<=d&&e<=d?t.copy(r):(a=e*o-a*d)<=0&&0<=o&&d<=0?(h=o/(o-d),t.copy(n).addScaledVector(oa,h)):(o=s*d-e*l)<=0&&0<=l-s&&0<=e-d?(sa.subVectors(r,i),h=(l-s)/(l-s+(e-d)),t.copy(i).addScaledVector(sa,h)):(u=a*(r=1/(o+a+c)),h=c*r,t.copy(n).addScaledVector(aa,u).addScaledVector(oa,h))}},{key:"equals",value:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}],[{key:"getNormal",value:function(e,t,n,i){return void 0===i&&(console.warn("THREE.Triangle: .getNormal() target is now required"),i=new Qi),i.subVectors(n,t),ta.subVectors(e,t),i.cross(ta),0<(n=i.lengthSq())?i.multiplyScalar(1/Math.sqrt(n)):i.set(0,0,0)}},{key:"getBarycoord",value:function(e,t,n,i,r){ta.subVectors(i,t),na.subVectors(n,t),ia.subVectors(e,t);i=ta.dot(ta),n=ta.dot(na),e=ta.dot(ia),t=na.dot(na);var a=na.dot(ia),o=i*t-n*n;return void 0===r&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),r=new Qi),0==o?r.set(-2,-1,-1):r.set(1-(t=(t*e-n*a)*(r=1/o))-(o=(i*a-n*e)*r),o,t)}},{key:"containsPoint",value:function(e,t,n,i){return this.getBarycoord(e,t,n,i,ra),0<=ra.x&&0<=ra.y&&ra.x+ra.y<=1}},{key:"getUV",value:function(e,t,n,i,r,a,o,s){return this.getBarycoord(e,t,n,i,ra),s.set(0,0),s.addScaledVector(r,ra.x),s.addScaledVector(a,ra.y),s.addScaledVector(o,ra.z),s}},{key:"isFrontFacing",value:function(e,t,n,i){return ta.subVectors(n,t),na.subVectors(e,t),ta.cross(na).dot(i)<0}}]),e}(),da=0;function fa(){w()(this,"id",{value:da++}),this.uuid=Hi.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=xe,this.side=fe,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=Ie,this.blendDst=Re,this.blendEquation=Se,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Ge,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Mi,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=ci,this.stencilZFail=ci,this.stencilZPass=ci,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}fa.prototype=g()(T()(Ni.prototype),{constructor:fa,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(e){if(void 0!==e)for(var t in e){var n,i=e[t];void 0===i?console.warn("THREE.Material: '"+t+"' parameter is undefined."):"shading"===t?(console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=i===ve):void 0===(n=this[t])?console.warn("THREE."+this.type+": '"+t+"' is not a property of this material."):n&&n.isColor?n.set(i):n&&n.isVector3&&i&&i.isVector3?n.copy(i):this[t]=i}},toJSON:function(e){var t=void 0===e||"string"==typeof e,n=(t&&(e={textures:{},images:{}}),{metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}});function i(e){var t,n=[];for(t in e){var i=e[t];delete i.metadata,n.push(i)}return n}return n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),A()(this)&&A()(this).isTexture&&(n.map=A()(this).toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,void 0!==this.combine&&(n.combine=this.combine),void 0!==this.envMapIntensity)&&(n.envMapIntensity=this.envMapIntensity),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==xe&&(n.blending=this.blending),this.side!==fe&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),0<this.alphaTest&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),1<this.wireframeLinewidth&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.morphNormals&&(n.morphNormals=!0),!0===this.skinning&&(n.skinning=!0),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==C()(this.userData)&&(n.userData=this.userData),t&&(t=i(e.textures),e=i(e.images),0<t.length&&(n.textures=t),0<e.length)&&(n.images=e),n},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,n=null;if(null!==t)for(var i=t.length,r=(n=new Array(i),0);r!==i;++r)n[r]=t[r].clone();return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(C()(e.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),w()(fa.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}});var pa={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ma={h:0,s:0,l:0},va={h:0,s:0,l:0};function ga(e,t,n){return n<0&&(n+=1),1<n&&--n,n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}function ya(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function xa(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}var ba=function(){function e(t,n,i){return p()(this,e),void 0===n&&void 0===i?this.set(t):this.setRGB(t,n,i)}return m()(e,[{key:"set",value:function(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this}},{key:"setScalar",value:function(e){return this.r=e,this.g=e,this.b=e,this}},{key:"setHex",value:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this}},{key:"setRGB",value:function(e,t,n){return this.r=e,this.g=t,this.b=n,this}},{key:"setHSL",value:function(e,t,n){return e=Hi.euclideanModulo(e,1),t=Hi.clamp(t,0,1),n=Hi.clamp(n,0,1),0===t?this.r=this.g=this.b=n:(this.r=ga(t=2*n-(n=n<=.5?n*(1+t):n+t-n*t),n,e+1/3),this.g=ga(t,n,e),this.b=ga(t,n,e-1/3)),this}},{key:"setStyle",value:function(e){function t(t){void 0!==t&&L()(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}if(l=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){var n,i,r,a,o=l[1],s=l[2];switch(o){case"rgb":case"rgba":if(n=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return this.r=Math.min(255,P()(n[1],10))/255,this.g=Math.min(255,P()(n[2],10))/255,this.b=Math.min(255,P()(n[3],10))/255,t(n[4]),this;if(n=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return this.r=Math.min(100,P()(n[1],10))/100,this.g=Math.min(100,P()(n[2],10))/100,this.b=Math.min(100,P()(n[3],10))/100,t(n[4]),this;break;case"hsl":case"hsla":if(n=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return i=L()(n[1])/360,r=P()(n[2],10)/100,a=P()(n[3],10)/100,t(n[4]),this.setHSL(i,r,a)}}else if(l=/^\#([A-Fa-f\d]+)$/.exec(e)){var l=(o=l[1]).length;if(3===l)return this.r=P()(o.charAt(0)+o.charAt(0),16)/255,this.g=P()(o.charAt(1)+o.charAt(1),16)/255,this.b=P()(o.charAt(2)+o.charAt(2),16)/255,this;if(6===l)return this.r=P()(o.charAt(0)+o.charAt(1),16)/255,this.g=P()(o.charAt(2)+o.charAt(3),16)/255,this.b=P()(o.charAt(4)+o.charAt(5),16)/255,this}return e&&0<e.length?this.setColorName(e):this}},{key:"setColorName",value:function(e){var t=pa[e];return void 0!==t?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}},{key:"copyGammaToLinear",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2;return this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this}},{key:"copyLinearToGamma",value:function(e){var t=0<(t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2)?1/t:1;return this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this}},{key:"convertGammaToLinear",value:function(e){return this.copyGammaToLinear(this,e),this}},{key:"convertLinearToGamma",value:function(e){return this.copyLinearToGamma(this,e),this}},{key:"copySRGBToLinear",value:function(e){return this.r=ya(e.r),this.g=ya(e.g),this.b=ya(e.b),this}},{key:"copyLinearToSRGB",value:function(e){return this.r=xa(e.r),this.g=xa(e.g),this.b=xa(e.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}},{key:"getHexString",value:function(){var e;return b()(e="000000"+this.getHex().toString(16)).call(e,-6)}},{key:"getHSL",value:function(e){void 0===e&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});var t,n=this.r,i=this.g,r=this.b,a=Math.max(n,i,r),o=Math.min(n,i,r),s=(o+a)/2;if(o===a)c=t=0;else{var l=a-o,c=s<=.5?l/(a+o):l/(2-a-o);switch(a){case n:t=(i-r)/l+(i<r?6:0);break;case i:t=(r-n)/l+2;break;case r:t=(n-i)/l+4}t/=6}return e.h=t,e.s=c,e.l=s,e}},{key:"getStyle",value:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}},{key:"offsetHSL",value:function(e,t,n){return this.getHSL(ma),ma.h+=e,ma.s+=t,ma.l+=n,this.setHSL(ma.h,ma.s,ma.l),this}},{key:"add",value:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}},{key:"addColors",value:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}},{key:"addScalar",value:function(e){return this.r+=e,this.g+=e,this.b+=e,this}},{key:"sub",value:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}},{key:"multiply",value:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}},{key:"multiplyScalar",value:function(e){return this.r*=e,this.g*=e,this.b*=e,this}},{key:"lerp",value:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}},{key:"lerpColors",value:function(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}},{key:"lerpHSL",value:function(e,t){this.getHSL(ma),e.getHSL(va);e=Hi.lerp(ma.h,va.h,t);var n=Hi.lerp(ma.s,va.s,t);t=Hi.lerp(ma.l,va.l,t);return this.setHSL(e,n,t),this}},{key:"equals",value:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}},{key:"fromArray",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}},{key:"toArray",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}},{key:"fromBufferAttribute",value:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),!0===e.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}},{key:"toJSON",value:function(){return this.getHex()}}]),e}(),wa=(ba.NAMES=pa,ba.prototype.isColor=!0,ba.prototype.r=1,ba.prototype.g=1,ba.prototype.b=1,function(e){h()(n,e);var t=te(n);function n(e){var i;return p()(this,n),(i=t.call(this)).type="MeshBasicMaterial",i.color=new ba(16777215),i.map=null,i.lightMap=null,i.lightMapIntensity=1,i.aoMap=null,i.aoMapIntensity=1,i.specularMap=null,i.alphaMap=null,i.envMap=null,i.combine=Ye,i.reflectivity=1,i.refractionRatio=.98,i.wireframe=!1,i.wireframeLinewidth=1,i.wireframeLinecap="round",i.wireframeLinejoin="round",i.skinning=!1,i.morphTargets=!1,i.setValues(e),i}return m()(n,[{key:"copy",value:function(e){return c()(f()(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=A()(e),this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this}}]),n}(fa)),_a=(wa.prototype.isMeshBasicMaterial=!0,new Qi),Ma=new Ui;function Sa(e,t,n){if(M()(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.usage=Si,this.updateRange={offset:0,count:-1},this.version=0}function Ea(e,t,n){Sa.call(this,new Int8Array(e),t,n)}function Ta(e,t,n){Sa.call(this,new Uint8Array(e),t,n)}function Ca(e,t,n){Sa.call(this,new Uint8ClampedArray(e),t,n)}function Aa(e,t,n){Sa.call(this,new Int16Array(e),t,n)}function La(e,t,n){Sa.call(this,new Uint16Array(e),t,n)}function Pa(e,t,n){Sa.call(this,new Int32Array(e),t,n)}function ka(e,t,n){Sa.call(this,new Uint32Array(e),t,n)}function Da(e,t,n){Sa.call(this,new Uint16Array(e),t,n)}function Ia(e,t,n){Sa.call(this,new Float32Array(e),t,n)}function Ra(e,t,n){Sa.call(this,new Float64Array(e),t,n)}function Na(e){if(0===e.length)return-1/0;for(var t=e[0],n=1,i=e.length;n<i;++n)e[n]>t&&(t=e[n]);return t}w()(Sa.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),g()(Sa.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var i=0,r=this.itemSize;i<r;i++)this.array[e+i]=t.array[n+i];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var a=e[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),a=new ba),t[n++]=a.r,t[n++]=a.g,t[n++]=a.b}return this},copyVector2sArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var a=e[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),a=new Ui),t[n++]=a.x,t[n++]=a.y}return this},copyVector3sArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var a=e[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),a=new Qi),t[n++]=a.x,t[n++]=a.y,t[n++]=a.z}return this},copyVector4sArray:function(e){for(var t=this.array,n=0,i=0,r=e.length;i<r;i++){var a=e[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),a=new qi),t[n++]=a.x,t[n++]=a.y,t[n++]=a.z,t[n++]=a.w}return this},applyMatrix3:function(e){if(2===this.itemSize)for(var t=0,n=this.count;t<n;t++)Ma.fromBufferAttribute(this,t),Ma.applyMatrix3(e),this.setXY(t,Ma.x,Ma.y);else if(3===this.itemSize)for(var i=0,r=this.count;i<r;i++)_a.fromBufferAttribute(this,i),_a.applyMatrix3(e),this.setXYZ(i,_a.x,_a.y,_a.z);return this},applyMatrix4:function(e){for(var t=0,n=this.count;t<n;t++)_a.x=this.getX(t),_a.y=this.getY(t),_a.z=this.getZ(t),_a.applyMatrix4(e),this.setXYZ(t,_a.x,_a.y,_a.z);return this},applyNormalMatrix:function(e){for(var t=0,n=this.count;t<n;t++)_a.x=this.getX(t),_a.y=this.getY(t),_a.z=this.getZ(t),_a.applyNormalMatrix(e),this.setXYZ(t,_a.x,_a.y,_a.z);return this},transformDirection:function(e){for(var t=0,n=this.count;t<n;t++)_a.x=this.getX(t),_a.y=this.getY(t),_a.z=this.getZ(t),_a.transformDirection(e),this.setXYZ(t,_a.x,_a.y,_a.z);return this},set:function(e){return this.array.set(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:0),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this},setXYZW:function(e,t,n,i,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=r,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:b()(Array.prototype).call(this.array),normalized:this.normalized}}}),(Ea.prototype=T()(Sa.prototype)).constructor=Ea,(Ta.prototype=T()(Sa.prototype)).constructor=Ta,(Ca.prototype=T()(Sa.prototype)).constructor=Ca,(Aa.prototype=T()(Sa.prototype)).constructor=Aa,La.prototype=T()(Sa.prototype),La.prototype.constructor=La,(Pa.prototype=T()(Sa.prototype)).constructor=Pa,ka.prototype=T()(Sa.prototype),ka.prototype.constructor=ka,((Da.prototype=T()(Sa.prototype)).constructor=Da).prototype.isFloat16BufferAttribute=!0,(Ia.prototype=T()(Sa.prototype)).constructor=Ia,(Ra.prototype=T()(Sa.prototype)).constructor=Ra;var Oa={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function Fa(e,t){return new Oa[e](t)}var za=0,Ba=new Er,Ha=new Zr,Ua=new Qi,Va=new er,Ga=new er,ja=new Qi;function Wa(){w()(this,"id",{value:za++}),this.uuid=Hi.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}Wa.prototype=g()(T()(Ni.prototype),{constructor:Wa,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){return M()(e)?this.index=new(65535<Na(e)?ka:La)(e,1):this.index=e,this},getAttribute:function(e){return this.attributes[e]},setAttribute:function(e,t){return this.attributes[e]=t,this},deleteAttribute:function(e){return delete this.attributes[e],this},hasAttribute:function(e){return void 0!==this.attributes[e]},addGroup:function(e,t){this.groups.push({start:e,count:t,materialIndex:2<arguments.length&&void 0!==arguments[2]?arguments[2]:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix4:function(e){var t,n=(void 0!==(t=(void 0!==(t=this.attributes.position)&&(t.applyMatrix4(e),t.needsUpdate=!0),this.attributes.normal))&&(n=(new Vi).getNormalMatrix(e),t.applyNormalMatrix(n),t.needsUpdate=!0),this.attributes.tangent);return void 0!==n&&(n.transformDirection(e),n.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(e){return Ba.makeRotationX(e),this.applyMatrix4(Ba),this},rotateY:function(e){return Ba.makeRotationY(e),this.applyMatrix4(Ba),this},rotateZ:function(e){return Ba.makeRotationZ(e),this.applyMatrix4(Ba),this},translate:function(e,t,n){return Ba.makeTranslation(e,t,n),this.applyMatrix4(Ba),this},scale:function(e,t,n){return Ba.makeScale(e,t,n),this.applyMatrix4(Ba),this},lookAt:function(e){return Ha.lookAt(e),Ha.updateMatrix(),this.applyMatrix4(Ha.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ua).negate(),this.translate(Ua.x,Ua.y,Ua.z),this},setFromPoints:function(e){for(var t=[],n=0,i=e.length;n<i;n++){var r=e[n];t.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new Ia(t,3)),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new er);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Qi(-1/0,-1/0,-1/0),new Qi(1/0,1/0,1/0));else{if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,i=t.length;n<i;n++){var r=t[n];Va.setFromBufferAttribute(r),this.morphTargetsRelative?(ja.addVectors(this.boundingBox.min,Va.min),this.boundingBox.expandByPoint(ja),ja.addVectors(this.boundingBox.max,Va.max),this.boundingBox.expandByPoint(ja)):(this.boundingBox.expandByPoint(Va.min),this.boundingBox.expandByPoint(Va.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new vr);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Qi,1/0);else if(e){var n=this.boundingSphere.center;if(Va.setFromBufferAttribute(e),t)for(var i=0,r=t.length;i<r;i++){var a=t[i];Ga.setFromBufferAttribute(a),this.morphTargetsRelative?(ja.addVectors(Va.min,Ga.min),Va.expandByPoint(ja),ja.addVectors(Va.max,Ga.max),Va.expandByPoint(ja)):(Va.expandByPoint(Ga.min),Va.expandByPoint(Ga.max))}Va.getCenter(n);for(var o=0,s=0,l=e.count;s<l;s++)ja.fromBufferAttribute(e,s),o=Math.max(o,n.distanceToSquared(ja));if(t)for(var c=0,u=t.length;c<u;c++)for(var h=t[c],d=this.morphTargetsRelative,f=0,p=h.count;f<p;f++)ja.fromBufferAttribute(h,f),d&&(Ua.fromBufferAttribute(e,f),ja.add(Ua)),o=Math.max(o,n.distanceToSquared(ja));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeTangents:function(){var e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");else{for(var n=e.array,i=t.position.array,r=t.normal.array,a=t.uv.array,o=i.length/3,s=(void 0===t.tangent&&this.setAttribute("tangent",new Sa(new Float32Array(4*o),4)),t.tangent.array),l=[],c=[],u=0;u<o;u++)l[u]=new Qi,c[u]=new Qi;for(var h,d,f,p,m=new Qi,v=new Qi,g=new Qi,y=new Ui,x=new Ui,b=new Ui,w=new Qi,_=new Qi,M=this.groups,S=0,E=(M=0===M.length?[{start:0,count:n.length}]:M).length;S<E;++S)for(var T=M[S],C=T.start,A=C,L=C+T.count;A<L;A+=3)h=n[A+0],d=n[A+1],f=n[A+2],void 0,m.fromArray(i,3*h),v.fromArray(i,3*d),g.fromArray(i,3*f),y.fromArray(a,2*h),x.fromArray(a,2*d),b.fromArray(a,2*f),v.sub(m),g.sub(m),x.sub(y),b.sub(y),p=1/(x.x*b.y-b.x*x.y),isFinite(p)&&(w.copy(v).multiplyScalar(b.y).addScaledVector(g,-x.y).multiplyScalar(p),_.copy(g).multiplyScalar(x.x).addScaledVector(v,-b.x).multiplyScalar(p),l[h].add(w),l[d].add(w),l[f].add(w),c[h].add(_),c[d].add(_),c[f].add(_));for(var P=new Qi,k=new Qi,D=new Qi,I=new Qi,R=0,N=M.length;R<N;++R)for(var O=M[R],F=O.start,z=F,B=F+O.count;z<B;z+=3)H(n[z+0]),H(n[z+1]),H(n[z+2])}function H(e){D.fromArray(r,3*e),I.copy(D);var t=l[e];P.copy(t),P.sub(D.multiplyScalar(D.dot(t))).normalize(),k.crossVectors(I,t),t=k.dot(c[e])<0?-1:1,s[4*e]=P.x,s[4*e+1]=P.y,s[4*e+2]=P.z,s[4*e+3]=t}},computeVertexNormals:function(){var e=this.index,t=this.getAttribute("position");if(void 0!==t){var n=this.getAttribute("normal");if(void 0===n)n=new Sa(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(var i=0,r=n.count;i<r;i++)n.setXYZ(i,0,0,0);var a=new Qi,o=new Qi,s=new Qi,l=new Qi,c=new Qi,u=new Qi,h=new Qi,d=new Qi;if(e)for(var f=0,p=e.count;f<p;f+=3){var m=e.getX(f+0),v=e.getX(f+1),g=e.getX(f+2);a.fromBufferAttribute(t,m),o.fromBufferAttribute(t,v),s.fromBufferAttribute(t,g),h.subVectors(s,o),d.subVectors(a,o),h.cross(d),l.fromBufferAttribute(n,m),c.fromBufferAttribute(n,v),u.fromBufferAttribute(n,g),l.add(h),c.add(h),u.add(h),n.setXYZ(m,l.x,l.y,l.z),n.setXYZ(v,c.x,c.y,c.z),n.setXYZ(g,u.x,u.y,u.z)}else for(var y=0,x=t.count;y<x;y+=3)a.fromBufferAttribute(t,y+0),o.fromBufferAttribute(t,y+1),s.fromBufferAttribute(t,y+2),h.subVectors(s,o),d.subVectors(a,o),h.cross(d),n.setXYZ(y+0,h.x,h.y,h.z),n.setXYZ(y+1,h.x,h.y,h.z),n.setXYZ(y+2,h.x,h.y,h.z);this.normalizeNormals(),n.needsUpdate=!0}},merge:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n,i=this.attributes;for(n in i)if(void 0!==e.attributes[n])for(var r=i[n].array,a=(o=e.attributes[n]).array,o=o.itemSize*t,s=Math.min(a.length,r.length-o),l=0,c=o;l<s;l++,c++)r[c]=a[l];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)},normalizeNormals:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)ja.fromBufferAttribute(e,t),ja.normalize(),e.setXYZ(t,ja.x,ja.y,ja.z)},toNonIndexed:function(){function e(e,t){for(var n=e.array,i=e.itemSize,r=(e=e.normalized,new n.constructor(t.length*i)),a=0,o=0,s=0,l=t.length;s<l;s++){a=t[s]*i;for(var c=0;c<i;c++)r[o++]=n[a++]}return new Sa(r,i,e)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;var t,n=new Wa,i=this.index.array,r=this.attributes;for(t in r){var a=e(r[t],i);n.setAttribute(t,a)}var o,s=this.morphAttributes;for(o in s){for(var l=[],c=s[o],u=0,h=c.length;u<h;u++){var d=e(c[u],i);l.push(d)}n.morphAttributes[o]=l}n.morphTargetsRelative=this.morphTargetsRelative;for(var f=this.groups,p=0,m=f.length;p<m;p++){var v=f[p];n.addGroup(v.start,v.count,v.materialIndex)}return n},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),0<k()(this.userData).length&&(e.userData=this.userData),void 0!==this.parameters){var t,n=this.parameters;for(t in n)void 0!==n[t]&&(e[t]=n[t])}else{e.data={attributes:{}};var i,r=this.index,a=(null!==r&&(e.data.index={type:r.array.constructor.name,array:b()(Array.prototype).call(r.array)}),this.attributes);for(i in a){var o=a[i],s=o.toJSON(e.data);""!==o.name&&(s.name=o.name),e.data.attributes[i]=s}var l,c={},u=!1;for(l in this.morphAttributes){for(var h=this.morphAttributes[l],d=[],f=0,p=h.length;f<p;f++){var m=h[f],v=m.toJSON(e.data);""!==m.name&&(v.name=m.name),d.push(v)}0<d.length&&(c[l]=d,u=!0)}u&&(e.data.morphAttributes=c,e.data.morphTargetsRelative=this.morphTargetsRelative),0<(r=this.groups).length&&(e.data.groups=JSON.parse(C()(r))),null!==(r=this.boundingSphere)&&(e.data.boundingSphere={center:r.center.toArray(),radius:r.radius})}return e},clone:function(){return(new Wa).copy(this)},copy:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var t,n={},i=(this.name=e.name,e.index),r=(null!==i&&this.setIndex(i.clone(n)),e.attributes);for(t in r){var a=r[t];this.setAttribute(t,a.clone(n))}var o,s=e.morphAttributes;for(o in s){for(var l=[],c=s[o],u=0,h=c.length;u<h;u++)l.push(c[u].clone(n));this.morphAttributes[o]=l}this.morphTargetsRelative=e.morphTargetsRelative;for(var d=e.groups,f=0,p=d.length;f<p;f++){var m=d[f];this.addGroup(m.start,m.count,m.materialIndex)}return null!==(i=e.boundingBox)&&(this.boundingBox=i.clone()),null!==(i=e.boundingSphere)&&(this.boundingSphere=i.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var Xa=new Er,qa=new Sr,Ya=new vr,$a=new Qi,Za=new Qi,Qa=new Qi,Ka=new Qi,Ja=new Qi,eo=new Qi,to=new Qi,no=new Qi,io=new Qi,ro=new Ui,ao=new Ui,oo=new Ui,so=new Qi,lo=new Qi;function co(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Wa,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new wa;Zr.call(this),this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}function uo(e,t,n,i,r,a,o,s,l,c,u,h){$a.fromBufferAttribute(r,c),Za.fromBufferAttribute(r,u),Qa.fromBufferAttribute(r,h);var d=e.morphTargetInfluences;if(t.morphTargets&&a&&d){to.set(0,0,0),no.set(0,0,0),io.set(0,0,0);for(var f=0,p=a.length;f<p;f++){var m=d[f],v=a[f];0!==m&&(Ka.fromBufferAttribute(v,c),Ja.fromBufferAttribute(v,u),eo.fromBufferAttribute(v,h),o?(to.addScaledVector(Ka,m),no.addScaledVector(Ja,m),io.addScaledVector(eo,m)):(to.addScaledVector(Ka.sub($a),m),no.addScaledVector(Ja.sub(Za),m),io.addScaledVector(eo.sub(Qa),m)))}$a.add(to),Za.add(no),Qa.add(io)}e.isSkinnedMesh&&t.skinning&&(e.boneTransform(c,$a),e.boneTransform(u,Za),e.boneTransform(h,Qa)),r=e,e=n,n=i,i=$a,x=Za,y=Qa,g=so;var g,y,x=null===(n=(t=t).side===pe?n.intersectTriangle(y,x,i,!0,g):n.intersectTriangle(i,x,y,t.side!==me,g))||(lo.copy(g),lo.applyMatrix4(r.matrixWorld),(i=e.ray.origin.distanceTo(lo))<e.near)||i>e.far?null:{distance:i,point:lo.clone(),object:r};return x&&(s&&(ro.fromBufferAttribute(s,c),ao.fromBufferAttribute(s,u),oo.fromBufferAttribute(s,h),x.uv=ha.getUV(so,$a,Za,Qa,ro,ao,oo,new Ui)),l&&(ro.fromBufferAttribute(l,c),ao.fromBufferAttribute(l,u),oo.fromBufferAttribute(l,h),x.uv2=ha.getUV(so,$a,Za,Qa,ro,ao,oo,new Ui)),y={a:c,b:u,c:h,normal:new Qi,materialIndex:0},ha.getNormal($a,Za,Qa,y.normal),x.face=y),x}co.prototype=g()(T()(Zr.prototype),{constructor:co,isMesh:!0,copy:function(e){var t;return Zr.prototype.copy.call(this,e),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=b()(t=e.morphTargetInfluences).call(t)),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=g()({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this},updateMorphTargets:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=k()(t);if(0<n.length){var i=t[n[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,a=i.length;r<a;r++){var o=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=r}}}}else void 0!==(t=e.morphTargets)&&0<t.length&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")},raycast:function(e,t){var n=this.geometry,i=this.material,r=this.matrixWorld;if(void 0!==i&&(null===n.boundingSphere&&n.computeBoundingSphere(),Ya.copy(n.boundingSphere),Ya.applyMatrix4(r),!1!==e.ray.intersectsSphere(Ya)&&(Xa.copy(r).invert(),qa.copy(e.ray).applyMatrix4(Xa),null===n.boundingBox||!1!==qa.intersectsBox(n.boundingBox))))if(n.isBufferGeometry){var a=n.index,o=n.attributes.position,s=n.morphAttributes.position,l=n.morphTargetsRelative,c=n.attributes.uv,u=n.attributes.uv2,h=n.groups,d=n.drawRange;if(null!==a)if(M()(i))for(var f=0,p=h.length;f<p;f++)for(var m=h[f],v=i[m.materialIndex],g=Math.max(m.start,d.start),y=Math.min(m.start+m.count,d.start+d.count);g<y;g+=3){var x,b=a.getX(g),w=a.getX(g+1),_=a.getX(g+2);(x=uo(this,v,e,qa,o,s,l,c,u,b,w,_))&&(x.faceIndex=Math.floor(g/3),x.face.materialIndex=m.materialIndex,t.push(x))}else for(var S=Math.max(0,d.start),E=Math.min(a.count,d.start+d.count);S<E;S+=3){var T=a.getX(S),C=a.getX(S+1),A=a.getX(S+2);(x=uo(this,i,e,qa,o,s,l,c,u,T,C,A))&&(x.faceIndex=Math.floor(S/3),t.push(x))}else if(void 0!==o)if(M()(i))for(var L=0,P=h.length;L<P;L++)for(var k=h[L],D=i[k.materialIndex],I=Math.max(k.start,d.start),R=Math.min(k.start+k.count,d.start+d.count);I<R;I+=3)(x=uo(this,D,e,qa,o,s,l,c,u,I,I+1,I+2))&&(x.faceIndex=Math.floor(I/3),x.face.materialIndex=k.materialIndex,t.push(x));else for(var N=Math.max(0,d.start),O=Math.min(o.count,d.start+d.count);N<O;N+=3)(x=uo(this,i,e,qa,o,s,l,c,u,N,N+1,N+2))&&(x.faceIndex=Math.floor(N/3),t.push(x))}else n.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}});var ho=function(e){h()(n,e);var t=te(n);function n(){var e,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:1,l=5<arguments.length&&void 0!==arguments[5]?arguments[5]:1,c=(p()(this,n),(e=t.call(this)).type="BoxGeometry",e.parameters={width:i,height:r,depth:a,widthSegments:o,heightSegments:s,depthSegments:l},u()(e)),h=(o=Math.floor(o),s=Math.floor(s),l=Math.floor(l),[]),d=[],f=[],m=[],v=0,g=0;function y(e,t,n,i,r,a,o,s,l,u,p){for(var y=a/l,x=o/u,b=a/2,w=o/2,_=s/2,M=l+1,S=u+1,E=0,T=0,C=new Qi,A=0;A<S;A++)for(var L=A*x-w,P=0;P<M;P++)C[e]=(P*y-b)*i,C[t]=L*r,C[n]=_,d.push(C.x,C.y,C.z),C[e]=0,C[t]=0,C[n]=0<s?1:-1,f.push(C.x,C.y,C.z),m.push(P/l),m.push(1-A/u),E+=1;for(var k=0;k<u;k++)for(var D=0;D<l;D++){var I=v+D+M*k,R=v+D+M*(k+1),N=v+(D+1)+M*(k+1),O=v+(D+1)+M*k;h.push(I,R,O),h.push(R,N,O),T+=6}c.addGroup(g,T,p),g+=T,v+=E}return y("z","y","x",-1,-1,a,r,i,l,s,0),y("z","y","x",1,-1,a,r,-i,l,s,1),y("x","z","y",1,1,i,a,r,o,l,2),y("x","z","y",1,-1,i,a,-r,o,l,3),y("x","y","z",1,-1,i,r,a,o,s,4),y("x","y","z",-1,-1,i,r,-a,o,s,5),e.setIndex(h),e.setAttribute("position",new Ia(d,3)),e.setAttribute("normal",new Ia(f,3)),e.setAttribute("uv",new Ia(m,2)),e}return m()(n)}(Wa);function fo(e){var t,n={};for(t in e)for(var i in n[t]={},e[t]){var r=e[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?n[t][i]=r.clone():M()(r)?n[t][i]=b()(r).call(r):n[t][i]=r}return n}function po(e){for(var t={},n=0;n<e.length;n++){var i,r=fo(e[n]);for(i in r)t[i]=r[i]}return t}var mo={clone:fo,merge:po};function vo(e){fa.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function go(){Zr.call(this),this.type="Camera",this.matrixWorldInverse=new Er,this.projectionMatrix=new Er,this.projectionMatrixInverse=new Er}function yo(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:.1,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:2e3;go.call(this),this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}((vo.prototype=T()(fa.prototype)).constructor=vo).prototype.isShaderMaterial=!0,vo.prototype.copy=function(e){return fa.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=fo(e.uniforms),this.defines=g()({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=g()({},e.extensions),this.glslVersion=e.glslVersion,this},vo.prototype.toJSON=function(e){var t,n=fa.prototype.toJSON.call(this,e);for(t in n.glslVersion=this.glslVersion,n.uniforms={},this.uniforms){var i=this.uniforms[t].value;i&&i.isTexture?n.uniforms[t]={type:"t",value:i.toJSON(e).uuid}:i&&i.isColor?n.uniforms[t]={type:"c",value:i.getHex()}:i&&i.isVector2?n.uniforms[t]={type:"v2",value:i.toArray()}:i&&i.isVector3?n.uniforms[t]={type:"v3",value:i.toArray()}:i&&i.isVector4?n.uniforms[t]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?n.uniforms[t]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?n.uniforms[t]={type:"m4",value:i.toArray()}:n.uniforms[t]={value:i}}0<k()(this.defines).length&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader;var r,a={};for(r in this.extensions)!0===this.extensions[r]&&(a[r]=!0);return 0<k()(a).length&&(n.extensions=a),n},go.prototype=g()(T()(Zr.prototype),{constructor:go,isCamera:!0,copy:function(e,t){return Zr.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new Qi),this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){Zr.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()},updateWorldMatrix:function(e,t){Zr.prototype.updateWorldMatrix.call(this,e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()},clone:function(){return(new this.constructor).copy(this)}}),yo.prototype=g()(T()(go.prototype),{constructor:yo,isPerspectiveCamera:!0,copy:function(e,t){return go.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:g()({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){e=.5*this.getFilmHeight()/e,this.fov=2*Hi.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*Hi.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*Hi.RAD2DEG*Math.atan(Math.tan(.5*Hi.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,i,r,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e,t=this.near,n=t*Math.tan(.5*Hi.DEG2RAD*this.fov)/this.zoom,i=2*n,r=this.aspect*i,a=-.5*r,o=this.view,s=(null!==this.view&&this.view.enabled&&(s=o.fullWidth,e=o.fullHeight,a+=o.offsetX*r/s,n-=o.offsetY*i/e,r*=o.width/s,i*=o.height/e),this.filmOffset);0!==s&&(a+=t*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+r,n,n-i,t,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(e){return(e=Zr.prototype.toJSON.call(this,e)).object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=g()({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}});var xo=function(e){h()(n,e);var t=te(n);function n(e,i,r){var a;return p()(this,n),(a=t.call(this)).type="CubeCamera",!0!==r.isWebGLCubeRenderTarget?(console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter."),d()(a)):(a.renderTarget=r,(r=new yo(90,1,e,i)).layers=a.layers,r.up.set(0,-1,0),r.lookAt(new Qi(1,0,0)),a.add(r),(r=new yo(90,1,e,i)).layers=a.layers,r.up.set(0,-1,0),r.lookAt(new Qi(-1,0,0)),a.add(r),(r=new yo(90,1,e,i)).layers=a.layers,r.up.set(0,0,1),r.lookAt(new Qi(0,1,0)),a.add(r),(r=new yo(90,1,e,i)).layers=a.layers,r.up.set(0,0,-1),r.lookAt(new Qi(0,-1,0)),a.add(r),(r=new yo(90,1,e,i)).layers=a.layers,r.up.set(0,-1,0),r.lookAt(new Qi(0,0,1)),a.add(r),(r=new yo(90,1,e,i)).layers=a.layers,r.up.set(0,-1,0),r.lookAt(new Qi(0,0,-1)),a.add(r),a)}return m()(n,[{key:"update",value:function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,i=(c=l()(this.children,6))[0],r=c[1],a=c[2],o=c[3],s=c[4],c=c[5],u=e.xr.enabled,h=e.getRenderTarget(),d=(e.xr.enabled=!1,n.texture.generateMipmaps);n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,i),e.setRenderTarget(n,1),e.render(t,r),e.setRenderTarget(n,2),e.render(t,a),e.setRenderTarget(n,3),e.render(t,o),e.setRenderTarget(n,4),e.render(t,s),n.texture.generateMipmaps=d,e.setRenderTarget(n,5),e.render(t,c),e.setRenderTarget(h),e.xr.enabled=u}}]),n}(Zr),bo=function(e){h()(n,e);var t=te(n);function n(e,i,r,a,o,s,l,c,u,h){return p()(this,n),(e=t.call(this,e=void 0!==e?e:[],i=void 0!==i?i:rt,r,a,o,s,l=void 0!==l?l:Ot,c,u,h))._needsFlipEnvMap=!0,e.flipY=!1,e}return m()(n,[{key:"images",get:function(){return this.image},set:function(e){this.image=e}}]),n}(Wi),wo=(bo.prototype.isCubeTexture=!0,function(e){h()(n,e);var t=te(n);function n(e,i,r){return p()(this,n),D()(i)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),i=r),(r=t.call(this,e,e,i)).texture=new bo(void 0,(i=i||{}).mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),r.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,r.texture.minFilter=void 0!==i.minFilter?i.minFilter:yt,r.texture._needsFlipEnvMap=!1,r}return m()(n,[{key:"fromEquirectangularTexture",value:function(e,t){this.texture.type=t.type,this.texture.format=Ft,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;var n={tEquirect:{value:null}},i="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",r="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",a=new ho(5,5,5);(n=new vo({name:"CubemapFromEquirect",uniforms:fo(n),vertexShader:i,fragmentShader:r,side:pe,blending:ye})).uniforms.tEquirect.value=t,i=new co(a,n),r=t.minFilter;return t.minFilter===wt&&(t.minFilter=yt),new xo(1,10,this).update(e,i),t.minFilter=r,i.geometry.dispose(),i.material.dispose(),this}},{key:"clear",value:function(e,t,n,i){for(var r=e.getRenderTarget(),a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,n,i);e.setRenderTarget(r)}}]),n}(Yi)),_o=(wo.prototype.isWebGLCubeRenderTarget=!0,function(e){h()(n,e);var t=te(n);function n(e,i,r,a,o,s,l,c,u,h,d,f){return p()(this,n),(s=t.call(this,null,s,l,c,u,h,a,o,d,f)).image={data:e||null,width:i||1,height:r||1},s.magFilter=void 0!==u?u:ft,s.minFilter=void 0!==h?h:ft,s.generateMipmaps=!1,s.flipY=!1,s.unpackAlignment=1,s.needsUpdate=!0,s}return m()(n)}(Wi)),Mo=(_o.prototype.isDataTexture=!0,new vr),So=new Qi,Eo=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new ea,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new ea,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new ea,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:new ea,a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:new ea,o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:new ea;p()(this,e),this.planes=[t,n,i,r,a,o]}return m()(e,[{key:"set",value:function(e,t,n,i,r,a){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(i),o[4].copy(r),o[5].copy(a),this}},{key:"copy",value:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this}},{key:"setFromProjectionMatrix",value:function(e){var t=this.planes,n=(e=e.elements)[0],i=e[1],r=e[2],a=e[3],o=e[4],s=e[5],l=e[6],c=e[7],u=e[8],h=e[9],d=e[10],f=e[11],p=e[12],m=e[13],v=e[14];e=e[15];return t[0].setComponents(a-n,c-o,f-u,e-p).normalize(),t[1].setComponents(a+n,c+o,f+u,e+p).normalize(),t[2].setComponents(a+i,c+s,f+h,e+m).normalize(),t[3].setComponents(a-i,c-s,f-h,e-m).normalize(),t[4].setComponents(a-r,c-l,f-d,e-v).normalize(),t[5].setComponents(a+r,c+l,f+d,e+v).normalize(),this}},{key:"intersectsObject",value:function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),Mo.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Mo)}},{key:"intersectsSprite",value:function(e){return Mo.center.set(0,0,0),Mo.radius=.7071067811865476,Mo.applyMatrix4(e.matrixWorld),this.intersectsSphere(Mo)}},{key:"intersectsSphere",value:function(e){for(var t=this.planes,n=e.center,i=-e.radius,r=0;r<6;r++)if(t[r].distanceToPoint(n)<i)return!1;return!0}},{key:"intersectsBox",value:function(e){for(var t=this.planes,n=0;n<6;n++){var i=t[n];if(So.x=(0<i.normal.x?e.max:e.min).x,So.y=(0<i.normal.y?e.max:e.min).y,So.z=(0<i.normal.z?e.max:e.min).z,i.distanceToPoint(So)<0)return!1}return!0}},{key:"containsPoint",value:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();function To(){var e=null,t=!1,n=null,i=null;function r(t,a){n(t,a),i=e.requestAnimationFrame(r)}return{start:function(){!0!==t&&null!==n&&(i=e.requestAnimationFrame(r),t=!0)},stop:function(){e.cancelAnimationFrame(i),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function Co(e,t){var n=t.isWebGL2,i=new I.a;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),i.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var n=i.get(t);n&&(e.deleteBuffer(n.buffer),i.delete(t))},update:function(t,r){var a,o,s,l,c,u;t.isGLBufferAttribute?(!(a=i.get(t))||a.version<t.version)&&i.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version}):(t.isInterleavedBufferAttribute&&(t=t.data),void 0===(a=i.get(t))?i.set(t,(s=r,l=(o=t).array,c=o.usage,u=e.createBuffer(),e.bindBuffer(s,u),e.bufferData(s,l,c),o.onUploadCallback(),s=5126,l instanceof Float32Array?s=5126:l instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):l instanceof Uint16Array?o.isFloat16BufferAttribute?n?s=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):s=5123:l instanceof Int16Array?s=5122:l instanceof Uint32Array?s=5125:l instanceof Int32Array?s=5124:l instanceof Int8Array?s=5120:l instanceof Uint8Array&&(s=5121),{buffer:u,type:s,bytesPerElement:l.BYTES_PER_ELEMENT,version:o.version})):a.version<t.version&&(c=a.buffer,u=r,l=(s=t).array,s=s.updateRange,e.bindBuffer(u,c),-1===s.count?e.bufferSubData(u,0,l):(n?e.bufferSubData(u,s.offset*l.BYTES_PER_ELEMENT,l,s.offset,s.count):e.bufferSubData(u,s.offset*l.BYTES_PER_ELEMENT,l.subarray(s.offset,s.offset+s.count)),s.count=-1),a.version=t.version))}}}var Ao=function(e){h()(n,e);var t=te(n);function n(){for(var e,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,s=(p()(this,n),(e=t.call(this)).type="PlaneGeometry",e.parameters={width:i,height:r,widthSegments:a,heightSegments:o},i/2),l=r/2,c=Math.floor(a),u=Math.floor(o),h=c+1,d=u+1,f=i/c,m=r/u,v=[],g=[],y=[],x=[],b=0;b<d;b++)for(var w=b*m-l,_=0;_<h;_++)g.push(_*f-s,-w,0),y.push(0,0,1),x.push(_/c),x.push(1-b/u);for(var M=0;M<u;M++)for(var S=0;S<c;S++){var E=S+h*(M+1),T=S+1+h*(M+1),C=S+1+h*M;v.push(S+h*M,E,C),v.push(E,T,C)}return e.setIndex(v),e.setAttribute("position",new Ia(g,3)),e.setAttribute("normal",new Ia(y,3)),e.setAttribute("uv",new Ia(x,2)),e}return m()(n)}(Wa),Lo={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor.xyz *= color.xyz;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\t\tvec2 f = fract( uv );\n\t\tuv += 0.5 - f;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x += texelSize;\n\t\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.y += texelSize;\n\t\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x -= texelSize;\n\t\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tvec3 tm = mix( tl, tr, f.x );\n\t\tvec3 bm = mix( bl, br, f.x );\n\t\treturn mix( tm, bm, f.y );\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value ) {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat specularRoughness;\n\tvec3 specularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\t\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\t\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmissionmap_fragment:"#ifdef USE_TRANSMISSIONMAP\n\ttotalTransmission *= texture2D( transmissionMap, vUv ).r;\n#endif",transmissionmap_pars_fragment:"#ifdef USE_TRANSMISSIONMAP\n\tuniform sampler2D transmissionMap;\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSMISSION\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSMISSION\n\tuniform float transmission;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <transmissionmap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#ifdef TRANSMISSION\n\t\tfloat totalTransmission = transmission;\n\t#endif\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <transmissionmap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSMISSION\n\t\tdiffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},Po={common:{diffuse:{value:new ba(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new Vi},uv2Transform:{value:new Vi},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Ui(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ba(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ba(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Vi}},sprite:{diffuse:{value:new ba(15658734)},opacity:{value:1},center:{value:new Ui(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Vi}}},ko={basic:{uniforms:po([Po.common,Po.specularmap,Po.envmap,Po.aomap,Po.lightmap,Po.fog]),vertexShader:Lo.meshbasic_vert,fragmentShader:Lo.meshbasic_frag},lambert:{uniforms:po([Po.common,Po.specularmap,Po.envmap,Po.aomap,Po.lightmap,Po.emissivemap,Po.fog,Po.lights,{emissive:{value:new ba(0)}}]),vertexShader:Lo.meshlambert_vert,fragmentShader:Lo.meshlambert_frag},phong:{uniforms:po([Po.common,Po.specularmap,Po.envmap,Po.aomap,Po.lightmap,Po.emissivemap,Po.bumpmap,Po.normalmap,Po.displacementmap,Po.fog,Po.lights,{emissive:{value:new ba(0)},specular:{value:new ba(1118481)},shininess:{value:30}}]),vertexShader:Lo.meshphong_vert,fragmentShader:Lo.meshphong_frag},standard:{uniforms:po([Po.common,Po.envmap,Po.aomap,Po.lightmap,Po.emissivemap,Po.bumpmap,Po.normalmap,Po.displacementmap,Po.roughnessmap,Po.metalnessmap,Po.fog,Po.lights,{emissive:{value:new ba(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Lo.meshphysical_vert,fragmentShader:Lo.meshphysical_frag},toon:{uniforms:po([Po.common,Po.aomap,Po.lightmap,Po.emissivemap,Po.bumpmap,Po.normalmap,Po.displacementmap,Po.gradientmap,Po.fog,Po.lights,{emissive:{value:new ba(0)}}]),vertexShader:Lo.meshtoon_vert,fragmentShader:Lo.meshtoon_frag},matcap:{uniforms:po([Po.common,Po.bumpmap,Po.normalmap,Po.displacementmap,Po.fog,{matcap:{value:null}}]),vertexShader:Lo.meshmatcap_vert,fragmentShader:Lo.meshmatcap_frag},points:{uniforms:po([Po.points,Po.fog]),vertexShader:Lo.points_vert,fragmentShader:Lo.points_frag},dashed:{uniforms:po([Po.common,Po.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Lo.linedashed_vert,fragmentShader:Lo.linedashed_frag},depth:{uniforms:po([Po.common,Po.displacementmap]),vertexShader:Lo.depth_vert,fragmentShader:Lo.depth_frag},normal:{uniforms:po([Po.common,Po.bumpmap,Po.normalmap,Po.displacementmap,{opacity:{value:1}}]),vertexShader:Lo.normal_vert,fragmentShader:Lo.normal_frag},sprite:{uniforms:po([Po.sprite,Po.fog]),vertexShader:Lo.sprite_vert,fragmentShader:Lo.sprite_frag},background:{uniforms:{uvTransform:{value:new Vi},t2D:{value:null}},vertexShader:Lo.background_vert,fragmentShader:Lo.background_frag},cube:{uniforms:po([Po.envmap,{opacity:{value:1}}]),vertexShader:Lo.cube_vert,fragmentShader:Lo.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Lo.equirect_vert,fragmentShader:Lo.equirect_frag},distanceRGBA:{uniforms:po([Po.common,Po.displacementmap,{referencePosition:{value:new Qi},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Lo.distanceRGBA_vert,fragmentShader:Lo.distanceRGBA_frag},shadow:{uniforms:po([Po.lights,Po.fog,{color:{value:new ba(0)},opacity:{value:1}}]),vertexShader:Lo.shadow_vert,fragmentShader:Lo.shadow_frag}};function Do(e,t,n,i,r){var a,o,s=new ba(0),l=0,c=null,u=0,h=null;function d(e,t){n.buffers.color.setClear(e.r,e.g,e.b,t,r)}return{getClearColor:function(){return s},setClearColor:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;s.set(e),d(s,l=t)},getClearAlpha:function(){return l},setClearAlpha:function(e){d(s,l=e)},render:function(n,r,f,p){(r=!0===r.isScene?r.background:null)&&r.isTexture&&(r=t.get(r));var m=(m=e.xr).getSession&&m.getSession();null===(r=m&&"additive"===m.environmentBlendMode?null:r)?d(s,l):r&&r.isColor&&(d(r,1),p=!0),(e.autoClear||p)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),r&&(r.isCubeTexture||r.isWebGLCubeRenderTarget||r.mapping===lt)?(void 0===o&&((o=new co(new ho(1,1,1),new vo({name:"BackgroundCubeMaterial",uniforms:fo(ko.cube.uniforms),vertexShader:ko.cube.vertexShader,fragmentShader:ko.cube.fragmentShader,side:pe,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),o.geometry.deleteAttribute("uv"),o.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},w()(o.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(o)),r.isWebGLCubeRenderTarget&&(r=r.texture),o.material.uniforms.envMap.value=r,o.material.uniforms.flipEnvMap.value=r.isCubeTexture&&r._needsFlipEnvMap?-1:1,c===r&&u===r.version&&h===e.toneMapping||(o.material.needsUpdate=!0,u=(c=r).version,h=e.toneMapping),n.unshift(o,o.geometry,o.material,0,0,null)):r&&r.isTexture&&(void 0===a&&((a=new co(new Ao(2,2),new vo({name:"BackgroundMaterial",uniforms:fo(ko.background.uniforms),vertexShader:ko.background.vertexShader,fragmentShader:ko.background.fragmentShader,side:fe,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),w()(a.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(a)),!0===(a.material.uniforms.t2D.value=r).matrixAutoUpdate&&r.updateMatrix(),a.material.uniforms.uvTransform.value.copy(r.matrix),c===r&&u===r.version&&h===e.toneMapping||(a.material.needsUpdate=!0,u=(c=r).version,h=e.toneMapping),n.unshift(a,a.geometry,a.material,0,0,null))}}}function Io(e,t,n,i){var r=e.getParameter(34921),a=i.isWebGL2?null:t.get("OES_vertex_array_object"),o=i.isWebGL2||null!==a,s={},l=d(null),c=l;function u(t){if(i.isWebGL2)return e.bindVertexArray(t);a.bindVertexArrayOES(t)}function h(t){if(i.isWebGL2)return e.deleteVertexArray(t);a.deleteVertexArrayOES(t)}function d(e){for(var t=[],n=[],i=[],a=0;a<r;a++)i[a]=n[a]=t[a]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:i,object:e,attributes:{},index:null}}function f(){for(var e=c.newAttributes,t=0,n=e.length;t<n;t++)e[t]=0}function p(e){m(e,0)}function m(n,r){var a=c.newAttributes,o=c.enabledAttributes,s=c.attributeDivisors;a[n]=1,0===o[n]&&(e.enableVertexAttribArray(n),o[n]=1),s[n]!==r&&((i.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,r),s[n]=r)}function v(){for(var t=c.newAttributes,n=c.enabledAttributes,i=0,r=n.length;i<r;i++)n[i]!==t[i]&&(e.disableVertexAttribArray(i),n[i]=0)}function g(t,n,r,a,o,s){!0!==i.isWebGL2||5124!==r&&5125!==r?e.vertexAttribPointer(t,n,r,a,o,s):e.vertexAttribIPointer(t,n,r,o,s)}function y(){x(),c!==l&&u((c=l).object)}function x(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(r,l,h,y,x){var b=!1;if(o){var w=function(t,n,r){r=!0===r.wireframe;var o=s[t.id];return void 0===o&&(o={},s[t.id]=o),void 0===(t=o[n.id])&&(t={},o[n.id]=t),void 0===(o=t[r])&&(o=d(i.isWebGL2?e.createVertexArray():a.createVertexArrayOES()),t[r]=o),o}(y,h,l);if(c!==w&&u((c=w).object),b=function(e,t){var n,i=c.attributes,r=e.attributes,a=0;for(n in r){var o=i[n],s=r[n];if(void 0===o)return!0;if(o.attribute!==s)return!0;if(o.data!==s.data)return!0;a++}return c.attributesNum!==a||c.index!==t}(y,x)){w=x;var _,M={},S=y.attributes,E=0;for(_ in S){var T=S[_],C={};(C.attribute=T).data&&(C.data=T.data),M[_]=C,E++}c.attributes=M,c.attributesNum=E,c.index=w}}else w=!0===l.wireframe,c.geometry===y.id&&c.program===h.id&&c.wireframe===w||(c.geometry=y.id,c.program=h.id,c.wireframe=w,b=!0);!0===r.isInstancedMesh&&(b=!0),null!==x&&n.update(x,34963),b&&(function(r,a,o,s){if(!1!==i.isWebGL2||!r.isInstancedMesh&&!s.isInstancedBufferGeometry||null!==t.get("ANGLE_instanced_arrays")){f();var l,c=s.attributes,u=o.getAttributes(),h=a.defaultAttributeValues;for(l in u){var d=u[l];if(0<=d){var y=c[l];if(void 0!==y){var x,b=y.normalized,w=y.itemSize;void 0!==(T=n.get(y))&&(E=T.buffer,x=T.type,T=T.bytesPerElement,y.isInterleavedBufferAttribute?(_=(S=y.data).stride,M=y.offset,S&&S.isInstancedInterleavedBuffer?(m(d,S.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=S.meshPerAttribute*S.count)):p(d),e.bindBuffer(34962,E),g(d,w,x,b,_*T,M*T)):(y.isInstancedBufferAttribute?(m(d,y.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=y.meshPerAttribute*y.count)):p(d),e.bindBuffer(34962,E),g(d,w,x,b,0,0)))}else if("instanceMatrix"===l){var _,M,S=n.get(r.instanceMatrix);void 0!==S&&(_=S.buffer,M=S.type,m(d+0,1),m(d+1,1),m(d+2,1),m(d+3,1),e.bindBuffer(34962,_),e.vertexAttribPointer(d+0,4,M,!1,64,0),e.vertexAttribPointer(d+1,4,M,!1,64,16),e.vertexAttribPointer(d+2,4,M,!1,64,32),e.vertexAttribPointer(d+3,4,M,!1,64,48))}else if("instanceColor"===l){var E,T;void 0!==(T=n.get(r.instanceColor))&&(y=T.buffer,E=T.type,m(d,1),e.bindBuffer(34962,y),e.vertexAttribPointer(d,3,E,!1,12,0))}else if(void 0!==h){var C=h[l];if(void 0!==C)switch(C.length){case 2:e.vertexAttrib2fv(d,C);break;case 3:e.vertexAttrib3fv(d,C);break;case 4:e.vertexAttrib4fv(d,C);break;default:e.vertexAttrib1fv(d,C)}}}}v()}}(r,l,h,y),null!==x)&&e.bindBuffer(34963,n.get(x).buffer)},reset:y,resetDefaultState:x,dispose:function(){for(var e in y(),s){var t,n=s[e];for(t in n){var i,r=n[t];for(i in r)h(r[i].object),delete r[i];delete n[t]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0!==s[e.id]){var t,n=s[e.id];for(t in n){var i,r=n[t];for(i in r)h(r[i].object),delete r[i];delete n[t]}delete s[e.id]}},releaseStatesOfProgram:function(e){for(var t in s)if(void 0!==(t=s[t])[e.id]){var n,i=t[e.id];for(n in i)h(i[n].object),delete i[n];delete t[e.id]}},initAttributes:f,enableAttribute:p,disableUnusedAttributes:v}}function Ro(e,t,n,i){var r,a=i.isWebGL2;this.setMode=function(e){r=e},this.render=function(t,i){e.drawArrays(r,t,i),n.update(i,r,1)},this.renderInstances=function(i,o,s){if(0!==s){var l,c;if(a)l=e,c="drawArraysInstanced";else if(c="drawArraysInstancedANGLE",null===(l=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[c](r,i,o,s),n.update(o,r,s)}}}function No(e,t,n){var i;function r(t){if("highp"===t){if(0<e.getShaderPrecisionFormat(35633,36338).precision&&0<e.getShaderPrecisionFormat(35632,36338).precision)return"highp";t="mediump"}return"mediump"===t&&0<e.getShaderPrecisionFormat(35633,36337).precision&&0<e.getShaderPrecisionFormat(35632,36337).precision?"mediump":"lowp"}var a="undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext,o=void 0!==n.precision?n.precision:"highp",s=((s=r(o))!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s),!0===n.logarithmicDepthBuffer),l=(n=e.getParameter(34930),e.getParameter(35660)),c=e.getParameter(3379),u=e.getParameter(34076),h=e.getParameter(34921),d=e.getParameter(36347),f=e.getParameter(36348),p=e.getParameter(36349),m=0<l,v=a||t.has("OES_texture_float");return{isWebGL2:a,getMaxAnisotropy:function(){var n;return i=void 0===i?!0===t.has("EXT_texture_filter_anisotropic")?(n=t.get("EXT_texture_filter_anisotropic"),e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)):0:i},getMaxPrecision:r,precision:o,logarithmicDepthBuffer:s,maxTextures:n,maxVertexTextures:l,maxTextureSize:c,maxCubemapSize:u,maxAttributes:h,maxVertexUniforms:d,maxVaryings:f,maxFragmentUniforms:p,vertexTextures:m,floatFragmentTextures:v,floatVertexTextures:m&&v,maxSamples:a?e.getParameter(36183):0}}function Oo(e){var t=this,n=null,i=0,r=!1,a=!1,o=new ea,s=new Vi,l={value:null,needsUpdate:!1};function c(){l.value!==n&&(l.value=n,l.needsUpdate=0<i),t.numPlanes=i,t.numIntersection=0}function u(e,n,i,r){var a=null!==e?e.length:0,c=null;if(0!==a){if(c=l.value,!0!==r||null===c){r=i+4*a;var u=n.matrixWorldInverse;s.getNormalMatrix(u),(null===c||c.length<r)&&(c=new Float32Array(r));for(var h=0,d=i;h!==a;++h,d+=4)o.copy(e[h]).applyMatrix4(u,s),o.normal.toArray(c,d),c[d+3]=o.constant}l.value=c,l.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,c}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t,a){var o=0!==e.length||t||0!==i||r;return r=t,n=u(e,a,0),i=e.length,o},this.beginShadows=function(){a=!0,u(null)},this.endShadows=function(){a=!1,c()},this.setState=function(t,o,s){var h=t.clippingPlanes,d=t.clipIntersection,f=t.clipShadows;t=e.get(t);if(!r||null===h||0===h.length||a&&!f)a?u(null):c();else{var p=4*(f=a?0:i),m=t.clippingState||null;l.value=m;m=u(h,o,p,s);for(var v=0;v!==p;++v)m[v]=n[v];t.clippingState=m,this.numIntersection=d?this.numPlanes:0,this.numPlanes+=f}}}function Fo(e){var t=new I.a;function n(e,t){return t===ot?e.mapping=rt:t===st&&(e.mapping=at),e}function i(e){var n=((e=e.target).removeEventListener("dispose",i),t.get(e));void 0!==n&&(t.delete(e),n.dispose())}return{get:function(r){if(r&&r.isTexture){var a,o=r.mapping;if(o===ot||o===st)return t.has(r)?n(t.get(r).texture,r.mapping):(o=r.image)&&0<o.height?(a=e.getRenderTarget(),(o=new wo(o.height/2)).fromEquirectangularTexture(e,r),t.set(r,o),e.setRenderTarget(a),r.addEventListener("dispose",i),n(o.texture,r.mapping)):null}return r},dispose:function(){t=new I.a}}}function zo(e){var t={};function n(n){if(void 0!==t[n])return t[n];var i;switch(n){case"WEBGL_depth_texture":i=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=e.getExtension(n)}return t[n]=i}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float")},get:function(e){var t=n(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function Bo(e,t,n,i){var r={},a=new I.a;function o(e){var s,l=e.target;for(s in null!==l.index&&t.remove(l.index),l.attributes)t.remove(l.attributes[s]);l.removeEventListener("dispose",o),delete r[l.id],(e=a.get(l))&&(t.remove(e),a.delete(l)),i.releaseStatesOfGeometry(l),!0===l.isInstancedBufferGeometry&&delete l._maxInstanceCount,n.memory.geometries--}return{get:function(e,t){return!0!==r[t.id]&&(t.addEventListener("dispose",o),r[t.id]=!0,n.memory.geometries++),t},update:function(e){var n,i=e.attributes;for(n in i)t.update(i[n],34962);var r,a=e.morphAttributes;for(r in a)for(var o=a[r],s=0,l=o.length;s<l;s++)t.update(o[s],34962)},getWireframeAttribute:function(e){var n,i=a.get(e);return(!i||null!==(n=e.index)&&i.version<n.version)&&function(e){var n=[],i=e.index,r=e.attributes.position,o=0;if(null!==i)for(var s=i.array,l=(o=i.version,0),c=s.length;l<c;l+=3){var u=s[l+0],h=s[l+1],d=s[l+2];n.push(u,h,h,d,d,u)}else{i=r.array,o=r.version;for(var f=0,p=i.length/3-1;f<p;f+=3){var m=f+0,v=f+1,g=f+2;n.push(m,v,v,g,g,m)}}(r=new(65535<Na(n)?ka:La)(n,1)).version=o,(i=a.get(e))&&t.remove(i),a.set(e,r)}(e),a.get(e)}}}function Ho(e,t,n,i){var r,a,o,s=i.isWebGL2;this.setMode=function(e){r=e},this.setIndex=function(e){a=e.type,o=e.bytesPerElement},this.render=function(t,i){e.drawElements(r,i,a,t*o),n.update(i,r,1)},this.renderInstances=function(i,l,c){if(0!==c){var u,h;if(s)u=e,h="drawElementsInstanced";else if(h="drawElementsInstancedANGLE",null===(u=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[h](r,l,a,i*o,c),n.update(l,r,c)}}}function Uo(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,n,i){switch(t.calls++,n){case 4:t.triangles+=i*(e/3);break;case 1:t.lines+=i*(e/2);break;case 3:t.lines+=i*(e-1);break;case 2:t.lines+=i*e;break;case 0:t.points+=i*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function Vo(e,t){return e[0]-t[0]}function Go(e,t){return Math.abs(t[1])-Math.abs(e[1])}function jo(e){for(var t={},n=new Float32Array(8),i=[],r=0;r<8;r++)i[r]=[r,0];return{update:function(r,a,o,s){var l=r.morphTargetInfluences,c=void 0===l?0:l.length;if(void 0===(u=t[a.id])){for(var u=[],h=0;h<c;h++)u[h]=[h,0];t[a.id]=u}for(var d=0;d<c;d++){var f=u[d];f[0]=d,f[1]=l[d]}R()(u).call(u,Go);for(var p=0;p<8;p++)p<c&&u[p][1]?(i[p][0]=u[p][0],i[p][1]=u[p][1]):(i[p][0]=N.a,i[p][1]=0);R()(i).call(i,Vo);for(var m=o.morphTargets&&a.morphAttributes.position,v=o.morphNormals&&a.morphAttributes.normal,g=0,y=0;y<8;y++){var x=(b=i[y])[0],b=b[1];x!==N.a&&b?(m&&a.getAttribute("morphTarget"+y)!==m[x]&&a.setAttribute("morphTarget"+y,m[x]),v&&a.getAttribute("morphNormal"+y)!==v[x]&&a.setAttribute("morphNormal"+y,v[x]),g+=n[y]=b):(m&&!0===a.hasAttribute("morphTarget"+y)&&a.deleteAttribute("morphTarget"+y),v&&!0===a.hasAttribute("morphNormal"+y)&&a.deleteAttribute("morphNormal"+y),n[y]=0)}r=a.morphTargetsRelative?1:1-g,s.getUniforms().setValue(e,"morphTargetBaseInfluence",r),s.getUniforms().setValue(e,"morphTargetInfluences",n)}}}function Wo(e,t,n,i){var r=new I.a;function a(e){(e=e.target).removeEventListener("dispose",a),n.remove(e.instanceMatrix),null!==e.instanceColor&&n.remove(e.instanceColor)}return{update:function(e){var o=i.render.frame,s=e.geometry;s=t.get(e,s);return r.get(s)!==o&&(t.update(s),r.set(s,o)),e.isInstancedMesh&&(!1===e.hasEventListener("dispose",a)&&e.addEventListener("dispose",a),n.update(e.instanceMatrix,34962),null!==e.instanceColor)&&n.update(e.instanceColor,34962),s},dispose:function(){r=new I.a}}}ko.physical={uniforms:po([ko.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Ui(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new ba(0)},transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:Lo.meshphysical_vert,fragmentShader:Lo.meshphysical_frag};var Xo=function(e){h()(n,e);var t=te(n);function n(){var e,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;return p()(this,n),(e=t.call(this,null)).image={data:i,width:r,height:a,depth:o},e.magFilter=ft,e.minFilter=ft,e.wrapR=ht,e.generateMipmaps=!1,e.flipY=!1,e.needsUpdate=!0,e}return m()(n)}(Wi),qo=(Xo.prototype.isDataTexture2DArray=!0,function(e){h()(n,e);var t=te(n);function n(){var e,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;return p()(this,n),(e=t.call(this,null)).image={data:i,width:r,height:a,depth:o},e.magFilter=ft,e.minFilter=ft,e.wrapR=ht,e.generateMipmaps=!1,e.flipY=!1,e.needsUpdate=!0,e}return m()(n)}(Wi)),Yo=(qo.prototype.isDataTexture3D=!0,new Wi),$o=new Xo,Zo=new qo,Qo=new bo,Ko=[],Jo=[],es=new Float32Array(16),ts=new Float32Array(9),ns=new Float32Array(4);function is(e,t,n){var i=e[0];if(i<=0||0<i)return e;var r=t*n,a=Ko[r];if(void 0===a&&(a=new Float32Array(r),Ko[r]=a),0!==t){i.toArray(a,0);for(var o=1,s=0;o!==t;++o)e[o].toArray(a,s+=n)}return a}function rs(e,t){if(e.length===t.length){for(var n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return;return 1}}function as(e,t){for(var n=0,i=t.length;n<i;n++)e[n]=t[n]}function os(e,t){var n=Jo[t];void 0===n&&(n=new Int32Array(t),Jo[t]=n);for(var i=0;i!==t;++i)n[i]=e.allocateTextureUnit();return n}function ss(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function ls(e,t){var n=this.cache;void 0!==t.x?n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y):rs(n,t)||(e.uniform2fv(this.addr,t),as(n,t))}function cs(e,t){var n=this.cache;void 0!==t.x?n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z):void 0!==t.r?n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b):rs(n,t)||(e.uniform3fv(this.addr,t),as(n,t))}function us(e,t){var n=this.cache;void 0!==t.x?n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w):rs(n,t)||(e.uniform4fv(this.addr,t),as(n,t))}function hs(e,t){var n=this.cache,i=t.elements;void 0===i?rs(n,t)||(e.uniformMatrix2fv(this.addr,!1,t),as(n,t)):rs(n,i)||(ns.set(i),e.uniformMatrix2fv(this.addr,!1,ns),as(n,i))}function ds(e,t){var n=this.cache,i=t.elements;void 0===i?rs(n,t)||(e.uniformMatrix3fv(this.addr,!1,t),as(n,t)):rs(n,i)||(ts.set(i),e.uniformMatrix3fv(this.addr,!1,ts),as(n,i))}function fs(e,t){var n=this.cache,i=t.elements;void 0===i?rs(n,t)||(e.uniformMatrix4fv(this.addr,!1,t),as(n,t)):rs(n,i)||(es.set(i),e.uniformMatrix4fv(this.addr,!1,es),as(n,i))}function ps(e,t,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.safeSetTexture2D(t||Yo,r)}function ms(e,t,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(t||$o,r)}function vs(e,t,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(t||Zo,r)}function gs(e,t,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.safeSetTextureCube(t||Qo,r)}function ys(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function xs(e,t){var n=this.cache;rs(n,t)||(e.uniform2iv(this.addr,t),as(n,t))}function bs(e,t){var n=this.cache;rs(n,t)||(e.uniform3iv(this.addr,t),as(n,t))}function ws(e,t){var n=this.cache;rs(n,t)||(e.uniform4iv(this.addr,t),as(n,t))}function _s(e,t){var n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function Ms(e,t){e.uniform1fv(this.addr,t)}function Ss(e,t){e.uniform1iv(this.addr,t)}function Es(e,t){e.uniform2iv(this.addr,t)}function Ts(e,t){e.uniform3iv(this.addr,t)}function Cs(e,t){e.uniform4iv(this.addr,t)}function As(e,t){t=is(t,this.size,2),e.uniform2fv(this.addr,t)}function Ls(e,t){t=is(t,this.size,3),e.uniform3fv(this.addr,t)}function Ps(e,t){t=is(t,this.size,4),e.uniform4fv(this.addr,t)}function ks(e,t){t=is(t,this.size,4),e.uniformMatrix2fv(this.addr,!1,t)}function Ds(e,t){t=is(t,this.size,9),e.uniformMatrix3fv(this.addr,!1,t)}function Is(e,t){t=is(t,this.size,16),e.uniformMatrix4fv(this.addr,!1,t)}function Rs(e,t,n){var i=t.length,r=os(n,i);e.uniform1iv(this.addr,r);for(var a=0;a!==i;++a)n.safeSetTexture2D(t[a]||Yo,r[a])}function Ns(e,t,n){var i=t.length,r=os(n,i);e.uniform1iv(this.addr,r);for(var a=0;a!==i;++a)n.safeSetTextureCube(t[a]||Qo,r[a])}function Os(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return ss;case 35664:return ls;case 35665:return cs;case 35666:return us;case 35674:return hs;case 35675:return ds;case 35676:return fs;case 5124:case 35670:return ys;case 35667:case 35671:return xs;case 35668:case 35672:return bs;case 35669:case 35673:return ws;case 5125:return _s;case 35678:case 36198:case 36298:case 36306:case 35682:return ps;case 35679:case 36299:case 36307:return vs;case 35680:case 36300:case 36308:case 36293:return gs;case 36289:case 36303:case 36311:case 36292:return ms}}(t.type)}function Fs(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return Ms;case 35664:return As;case 35665:return Ls;case 35666:return Ps;case 35674:return ks;case 35675:return Ds;case 35676:return Is;case 5124:case 35670:return Ss;case 35667:case 35671:return Es;case 35668:case 35672:return Ts;case 35669:case 35673:return Cs;case 35678:case 36198:case 36298:case 36306:case 35682:return Rs;case 35680:case 36300:case 36308:case 36293:return Ns}}(t.type)}function zs(e){this.id=e,this.seq=[],this.map={}}Fs.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),as(t,e)},zs.prototype.setValue=function(e,t,n){for(var i=this.seq,r=0,a=i.length;r!==a;++r){var o=i[r];o.setValue(e,t[o.id],n)}};var Bs=/(\w+)(\])?(\[|\.)?/g;function Hs(e,t){e.seq.push(t),A()(e)[t.id]=t}function Us(e,t){this.seq=[],this.map={};for(var n=e.getProgramParameter(t,35718),i=0;i<n;++i){var r=e.getActiveUniform(t,i),a=(f=d=h=u=s=a=void 0,r),o=e.getUniformLocation(t,r.name),s=this,l=a.name,c=l.length;for(Bs.lastIndex=0;;){var u=Bs.exec(l),h=Bs.lastIndex,d=u[1],f="]"===u[2];if(f&&(d|=0),void 0===(u=u[3])||"["===u&&h+2===c){Hs(s,new(void 0===u?Os:Fs)(d,a,o));break}void 0===(f=A()(s)[d])&&Hs(s,f=new zs(d)),s=f}}}function Vs(e,t,n){return t=e.createShader(t),e.shaderSource(t,n),e.compileShader(t),t}Us.prototype.setValue=function(e,t,n,i){void 0!==(t=A()(this)[t])&&t.setValue(e,n,i)},Us.prototype.setOptional=function(e,t,n){void 0!==(t=t[n])&&this.setValue(e,n,t)},Us.upload=function(e,t,n,i){for(var r=0,a=t.length;r!==a;++r){var o=t[r],s=n[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,i)}},Us.seqWithValue=function(e,t){for(var n=[],i=0,r=e.length;i!==r;++i){var a=e[i];a.id in t&&n.push(a)}return n};var Gs=0;function js(e){switch(e){case Zn:return["Linear","( value )"];case Qn:return["sRGB","( value )"];case Jn:return["RGBE","( value )"];case ti:return["RGBM","( value, 7.0 )"];case ni:return["RGBM","( value, 16.0 )"];case ii:return["RGBD","( value, 256.0 )"];case Kn:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case ei:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}function Ws(e,t,n){var i=e.getShaderParameter(t,35713),r=O()(r=e.getShaderInfoLog(t)).call(r);return i&&""===r?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+n+"\n"+r+function(e){for(var t=e.split("\n"),n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")}(e.getShaderSource(t))}function Xs(e,t){return"vec4 "+e+"( vec4 value ) { return "+(t=js(t))[0]+"ToLinear"+t[1]+"; }"}function qs(e){return""!==e}function Ys(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function $s(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var Zs=/^[ \t]*#include +<([\w\d./]+)>/gm;function Qs(e){return e.replace(Zs,Ks)}function Ks(e,t){var n=Lo[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return Qs(n)}var Js=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,el=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function tl(e){return e.replace(el,il).replace(Js,nl)}function nl(e,t,n,i){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),il(0,t,n,i)}function il(e,t,n,i){for(var r="",a=P()(t);a<P()(n);a++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return r}function rl(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function al(e,t,n,i){var r,a,o,s,l,c=e.getContext(),u=n.defines,h=n.vertexShader,d=n.fragmentShader,f=(p="SHADOWMAP_TYPE_BASIC",(f=n).shadowMapType===ue?p="SHADOWMAP_TYPE_PCF":f.shadowMapType===he?p="SHADOWMAP_TYPE_PCF_SOFT":f.shadowMapType===de&&(p="SHADOWMAP_TYPE_VSM"),p),p=function(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case rt:case at:t="ENVMAP_TYPE_CUBE";break;case lt:case ct:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),m=function(e){var t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case at:case ct:t="ENVMAP_MODE_REFRACTION"}return t}(n),v=function(e){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case Ye:t="ENVMAP_BLENDING_MULTIPLY";break;case $e:t="ENVMAP_BLENDING_MIX";break;case Ze:t="ENVMAP_BLENDING_ADD"}return t}(n),g=0<e.gammaFactor?e.gammaFactor:1,y=n.isWebGL2?"":(y=[(y=n).extensionDerivatives||y.envMapCubeUV||y.bumpMap||y.tangentSpaceNormalMap||y.clearcoatNormalMap||y.flatShading||"physical"===y.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(y.extensionFragDepth||y.logarithmicDepthBuffer)&&y.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",y.extensionDrawBuffers&&y.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(y.extensionShaderTextureLOD||y.envMap)&&y.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""],F()(y).call(y,qs).join("\n")),x=(u=function(e){var t,n=[];for(t in e){var i=e[t];!1!==i&&n.push("#define "+t+" "+i)}return n.join("\n")}(u),c.createProgram()),b=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(0<(a=F()(a=[u]).call(a,qs).join("\n")).length&&(a+="\n"),0<(r=F()(r=[y,u]).call(r,qs).join("\n")).length&&(r+="\n")):(a=F()(o=[rl(n),"#define SHADER_NAME "+n.shaderName,u,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+g,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",A()(n)?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+m:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+f:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"]).call(o,qs).join("\n"),r=F()(g=[y,rl(n),"#define SHADER_NAME "+n.shaderName,u,n.alphaTest?"#define ALPHATEST "+n.alphaTest+(n.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+g,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",A()(n)?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+p:"",n.envMap?"#define "+m:"",n.envMap?"#define "+v:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.sheen?"#define USE_SHEEN":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+f:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Qe?"#define TONE_MAPPING":"",n.toneMapping!==Qe?Lo.tonemapping_pars_fragment:"",n.toneMapping!==Qe?function(e,t){var n;switch(t){case Ke:n="Linear";break;case Je:n="Reinhard";break;case et:n="OptimizedCineon";break;case tt:n="ACESFilmic";break;case nt:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 toneMapping( vec3 color ) { return "+n+"ToneMapping( color ); }"}(0,n.toneMapping):"",n.dithering?"#define DITHERING":"",Lo.encodings_pars_fragment,A()(n)?Xs("mapTexelToLinear",n.mapEncoding):"",n.matcap?Xs("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?Xs("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?Xs("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.lightMap?Xs("lightMapTexelToLinear",n.lightMapEncoding):"",(o="linearToOutputTexel",u=js(u=n.outputEncoding),"vec4 "+o+"( vec4 value ) { return LinearTo"+u[0]+u[1]+"; }"),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"]).call(g,qs).join("\n")),h=$s(Ys(Qs(h),n),n),d=$s(Ys(Qs(d),n),n),h=tl(h),d=tl(d),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(b="#version 300 es\n",a=["#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+a,r=["#define varying in",n.glslVersion===Ri?"":"out highp vec4 pc_fragColor;",n.glslVersion===Ri?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+r),p=b+a+h,m=b+r+d,v=Vs(c,35633,p),f=Vs(c,35632,m);return c.attachShader(x,v),c.attachShader(x,f),void 0!==n.index0AttributeName?c.bindAttribLocation(x,0,n.index0AttributeName):!0===n.morphTargets&&c.bindAttribLocation(x,0,"position"),c.linkProgram(x),e.debug.checkShaderErrors&&(u=O()(o=c.getProgramInfoLog(x)).call(o),h=O()(g=c.getShaderInfoLog(v)).call(g),d=O()(b=c.getShaderInfoLog(f)).call(b),!(m=p=!0)===c.getProgramParameter(x,35714)?(p=!1,e=Ws(c,v,"vertex"),g=Ws(c,f,"fragment"),console.error("THREE.WebGLProgram: shader error: ",c.getError(),"35715",c.getProgramParameter(x,35715),"gl.getProgramInfoLog",u,e,g)):""!==u?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",u):""!==h&&""!==d||(m=!1),m)&&(this.diagnostics={runnable:p,programLog:u,vertexShader:{log:h,prefix:a},fragmentShader:{log:d,prefix:r}}),c.deleteShader(v),c.deleteShader(f),this.getUniforms=function(){return s=void 0===s?new Us(c,x):s},this.getAttributes=function(){return l=void 0===l?function(e,t){for(var n={},i=e.getProgramParameter(t,35721),r=0;r<i;r++){var a=e.getActiveAttrib(t,r).name;n[a]=e.getAttribLocation(t,a)}return n}(c,x):l},this.destroy=function(){i.releaseStatesOfProgram(this),c.deleteProgram(x),this.program=void 0},this.name=n.shaderName,this.id=Gs++,this.cacheKey=t,this.usedTimes=1,this.program=x,this.vertexShader=v,this.fragmentShader=f,this}function ol(e,t,n,i,r,a){var o=[],s=i.isWebGL2,l=i.logarithmicDepthBuffer,c=i.floatVertexTextures,u=i.maxVertexUniforms,h=i.vertexTextures,d=i.precision,f={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},p=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmissionMap"];function m(e){return e=e&&e.isTexture?e.encoding:e&&e.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),e.texture.encoding):Zn}return{getParameters:function(r,o,p,v,g){var y,x,b,w=v.fog,_=(v=r.isMeshStandardMaterial?v.environment:null,v=t.get(r.envMap||v),f[r.type]),M=g.isSkinnedMesh?(M=(M=g).skeleton.bones,c?1024:(y=Math.floor((u-20)/4),(y=Math.min(y,M.length))<M.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+M.length+" bones. This GPU supports "+y+"."),0):y)):0,S=(null!==r.precision&&(d=i.getMaxPrecision(r.precision))!==r.precision&&console.warn("THREE.WebGLProgram.getParameters:",r.precision,"not supported, using",d,"instead."),b=(_?(x=(y=ko[_]).vertexShader,y):(x=r.vertexShader,r)).fragmentShader,e.getRenderTarget());return{isWebGL2:s,shaderID:_,shaderName:r.type,vertexShader:x,fragmentShader:b,defines:r.defines,isRawShaderMaterial:!0===r.isRawShaderMaterial,glslVersion:r.glslVersion,precision:d,instancing:!0===g.isInstancedMesh,instancingColor:!0===g.isInstancedMesh&&null!==g.instanceColor,supportsVertexTextures:h,outputEncoding:null!==S?m(S.texture):e.outputEncoding,map:!!A()(r),mapEncoding:m(A()(r)),matcap:!!r.matcap,matcapEncoding:m(r.matcap),envMap:!!v,envMapMode:v&&v.mapping,envMapEncoding:m(v),envMapCubeUV:!!v&&(v.mapping===lt||v.mapping===ct),lightMap:!!r.lightMap,lightMapEncoding:m(r.lightMap),aoMap:!!r.aoMap,emissiveMap:!!r.emissiveMap,emissiveMapEncoding:m(r.emissiveMap),bumpMap:!!r.bumpMap,normalMap:!!r.normalMap,objectSpaceNormalMap:r.normalMapType===si,tangentSpaceNormalMap:r.normalMapType===oi,clearcoatMap:!!r.clearcoatMap,clearcoatRoughnessMap:!!r.clearcoatRoughnessMap,clearcoatNormalMap:!!r.clearcoatNormalMap,displacementMap:!!r.displacementMap,roughnessMap:!!r.roughnessMap,metalnessMap:!!r.metalnessMap,specularMap:!!r.specularMap,alphaMap:!!r.alphaMap,gradientMap:!!r.gradientMap,sheen:!!r.sheen,transmissionMap:!!r.transmissionMap,combine:r.combine,vertexTangents:r.normalMap&&r.vertexTangents,vertexColors:r.vertexColors,vertexUvs:!!(A()(r)||r.bumpMap||r.normalMap||r.specularMap||r.alphaMap||r.emissiveMap||r.roughnessMap||r.metalnessMap||r.clearcoatMap||r.clearcoatRoughnessMap||r.clearcoatNormalMap||r.displacementMap||r.transmissionMap),uvsVertexOnly:!(A()(r)||r.bumpMap||r.normalMap||r.specularMap||r.alphaMap||r.emissiveMap||r.roughnessMap||r.metalnessMap||r.clearcoatNormalMap||r.transmissionMap||!r.displacementMap),fog:!!w,useFog:r.fog,fogExp2:w&&w.isFogExp2,flatShading:!!r.flatShading,sizeAttenuation:r.sizeAttenuation,logarithmicDepthBuffer:l,skinning:r.skinning&&0<M,maxBones:M,useVertexTexture:c,morphTargets:r.morphTargets,morphNormals:r.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:o.directional.length,numPointLights:o.point.length,numSpotLights:o.spot.length,numRectAreaLights:o.rectArea.length,numHemiLights:o.hemi.length,numDirLightShadows:o.directionalShadowMap.length,numPointLightShadows:o.pointShadowMap.length,numSpotLightShadows:o.spotShadowMap.length,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:r.dithering,shadowMapEnabled:e.shadowMap.enabled&&0<p.length,shadowMapType:e.shadowMap.type,toneMapping:r.toneMapped?e.toneMapping:Qe,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:r.premultipliedAlpha,alphaTest:r.alphaTest,doubleSided:r.side===me,flipSided:r.side===pe,depthPacking:void 0!==r.depthPacking&&r.depthPacking,index0AttributeName:r.index0AttributeName,extensionDerivatives:r.extensions&&r.extensions.derivatives,extensionFragDepth:r.extensions&&r.extensions.fragDepth,extensionDrawBuffers:r.extensions&&r.extensions.drawBuffers,extensionShaderTextureLOD:r.extensions&&r.extensions.shaderTextureLOD,rendererExtensionFragDepth:s||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:s||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:s||n.has("EXT_shader_texture_lod"),customProgramCacheKey:r.customProgramCacheKey()}},getProgramCacheKey:function(t){var n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.fragmentShader),n.push(t.vertexShader)),void 0!==t.defines)for(var i in t.defines)n.push(i),n.push(t.defines[i]);if(!1===t.isRawShaderMaterial){for(var r=0;r<p.length;r++)n.push(t[p[r]]);n.push(e.outputEncoding),n.push(e.gammaFactor)}return n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){var t=f[e.type];return t?(t=ko[t],mo.clone(t.uniforms)):e.uniforms},acquireProgram:function(t,n){for(var i,a=0,s=o.length;a<s;a++){var l=o[a];if(l.cacheKey===n){++(i=l).usedTimes;break}}return void 0===i&&(i=new al(e,n,t,r),o.push(i)),i},releaseProgram:function(e){var t;0==--e.usedTimes&&(t=y()(o).call(o,e),o[t]=o[o.length-1],o.pop(),e.destroy())},programs:o}}function sl(){var e=new I.a;return{get:function(t){var n=e.get(t);return void 0===n&&e.set(t,n={}),n},remove:function(t){e.delete(t)},update:function(t,n,i){e.get(t)[n]=i},dispose:function(){e=new I.a}}}function ll(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function cl(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function ul(e){var t=[],n=0,i=[],r=[],a={id:-1};function o(i,r,o,s,l,c){var u=t[n],h=e.get(o);return void 0===u?(u={id:i.id,object:i,geometry:r,material:o,program:h.program||a,groupOrder:s,renderOrder:i.renderOrder,z:l,group:c},t[n]=u):(u.id=i.id,u.object=i,u.geometry=r,u.material=o,u.program=h.program||a,u.groupOrder=s,u.renderOrder=i.renderOrder,u.z=l,u.group=c),n++,u}return{opaque:i,transparent:r,init:function(){n=0,r.length=i.length=0},push:function(e,t,n,a,s,l){e=o(e,t,n,a,s,l),(!0===n.transparent?r:i).push(e)},unshift:function(e,t,n,a,s,l){e=o(e,t,n,a,s,l),(!0===n.transparent?r:i).unshift(e)},finish:function(){for(var e=n,i=t.length;e<i;e++){var r=t[e];if(null===r.id)break;r.id=null,r.object=null,r.geometry=null,r.material=null,r.program=null,r.group=null}},sort:function(e,t){1<i.length&&R()(i).call(i,e||ll),1<r.length&&R()(r).call(r,t||cl)}}}function hl(e){var t=new I.a;return{get:function(n,i){var r;return!1===t.has(n)?(r=new ul(e),t.set(n,[r])):i>=t.get(n).length?(r=new ul(e),t.get(n).push(r)):r=t.get(n)[i],r},dispose:function(){t=new I.a}}}function dl(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new Qi,color:new ba};break;case"SpotLight":n={position:new Qi,direction:new Qi,color:new ba,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Qi,color:new ba,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Qi,skyColor:new ba,groundColor:new ba};break;case"RectAreaLight":n={color:new ba,position:new Qi,halfWidth:new Qi,halfHeight:new Qi}}return e[t.id]=n}}}var fl=0;function pl(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function ml(e,t){for(var n,i=new dl,r=(n={},{get:function(e){if(void 0!==n[e.id])return n[e.id];var t;switch(e.type){case"DirectionalLight":case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ui};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ui,shadowCameraNear:1,shadowCameraFar:1e3}}return n[e.id]=t}}),a={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},o=0;o<9;o++)a.probe.push(new Qi);var s=new Qi,l=new Er,c=new Er;return{setup:function(n){for(var o=0,s=0,l=0,c=0;c<9;c++)a.probe[c].set(0,0,0);var u=0,h=0,d=0,f=0,p=0,m=0,v=0,g=0;R()(n).call(n,pl);for(var y=0,x=n.length;y<x;y++){var b,w,_,M,S=n[y],E=S.color,T=S.intensity,C=S.distance,L=S.shadow&&A()(S.shadow)?A()(S.shadow).texture:null;if(S.isAmbientLight)o+=E.r*T,s+=E.g*T,l+=E.b*T;else if(S.isLightProbe)for(var P=0;P<9;P++)a.probe[P].addScaledVector(S.sh.coefficients[P],T);else S.isDirectionalLight?((_=i.get(S)).color.copy(S.color).multiplyScalar(S.intensity),S.castShadow&&(b=S.shadow,(w=r.get(S)).shadowBias=b.bias,w.shadowNormalBias=b.normalBias,w.shadowRadius=b.radius,w.shadowMapSize=b.mapSize,a.directionalShadow[u]=w,a.directionalShadowMap[u]=L,a.directionalShadowMatrix[u]=S.shadow.matrix,m++),a.directional[u]=_,u++):S.isSpotLight?((b=i.get(S)).position.setFromMatrixPosition(S.matrixWorld),b.color.copy(E).multiplyScalar(T),b.distance=C,b.coneCos=Math.cos(S.angle),b.penumbraCos=Math.cos(S.angle*(1-S.penumbra)),b.decay=S.decay,S.castShadow&&(w=S.shadow,(_=r.get(S)).shadowBias=w.bias,_.shadowNormalBias=w.normalBias,_.shadowRadius=w.radius,_.shadowMapSize=w.mapSize,a.spotShadow[d]=_,a.spotShadowMap[d]=L,a.spotShadowMatrix[d]=S.shadow.matrix,g++),a.spot[d]=b,d++):S.isRectAreaLight?((C=i.get(S)).color.copy(E).multiplyScalar(T),C.halfWidth.set(.5*S.width,0,0),C.halfHeight.set(0,.5*S.height,0),a.rectArea[f]=C,f++):S.isPointLight?((E=i.get(S)).color.copy(S.color).multiplyScalar(S.intensity),E.distance=S.distance,E.decay=S.decay,S.castShadow&&(C=S.shadow,(M=r.get(S)).shadowBias=C.bias,M.shadowNormalBias=C.normalBias,M.shadowRadius=C.radius,M.shadowMapSize=C.mapSize,M.shadowCameraNear=C.camera.near,M.shadowCameraFar=C.camera.far,a.pointShadow[h]=M,a.pointShadowMap[h]=L,a.pointShadowMatrix[h]=S.shadow.matrix,v++),a.point[h]=E,h++):S.isHemisphereLight&&((C=i.get(S)).skyColor.copy(S.color).multiplyScalar(T),C.groundColor.copy(S.groundColor).multiplyScalar(T),a.hemi[p]=C,p++)}0<f&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(a.rectAreaLTC1=Po.LTC_FLOAT_1,a.rectAreaLTC2=Po.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(a.rectAreaLTC1=Po.LTC_HALF_1,a.rectAreaLTC2=Po.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),a.ambient[0]=o,a.ambient[1]=s,a.ambient[2]=l;var k=a.hash;k.directionalLength===u&&k.pointLength===h&&k.spotLength===d&&k.rectAreaLength===f&&k.hemiLength===p&&k.numDirectionalShadows===m&&k.numPointShadows===v&&k.numSpotShadows===g||(a.directional.length=u,a.spot.length=d,a.rectArea.length=f,a.point.length=h,a.hemi.length=p,a.directionalShadow.length=m,a.directionalShadowMap.length=m,a.pointShadow.length=v,a.pointShadowMap.length=v,a.spotShadow.length=g,a.spotShadowMap.length=g,a.directionalShadowMatrix.length=m,a.pointShadowMatrix.length=v,a.spotShadowMatrix.length=g,k.directionalLength=u,k.pointLength=h,k.spotLength=d,k.rectAreaLength=f,k.hemiLength=p,k.numDirectionalShadows=m,k.numPointShadows=v,k.numSpotShadows=g,a.version=fl++)},setupView:function(e,t){for(var n=0,i=0,r=0,o=0,u=0,h=t.matrixWorldInverse,d=0,f=e.length;d<f;d++){var p,m,v,g=e[d];g.isDirectionalLight?((p=a.directional[n]).direction.setFromMatrixPosition(g.matrixWorld),s.setFromMatrixPosition(g.target.matrixWorld),p.direction.sub(s),p.direction.transformDirection(h),n++):g.isSpotLight?((p=a.spot[r]).position.setFromMatrixPosition(g.matrixWorld),p.position.applyMatrix4(h),p.direction.setFromMatrixPosition(g.matrixWorld),s.setFromMatrixPosition(g.target.matrixWorld),p.direction.sub(s),p.direction.transformDirection(h),r++):g.isRectAreaLight?((m=a.rectArea[o]).position.setFromMatrixPosition(g.matrixWorld),m.position.applyMatrix4(h),c.identity(),l.copy(g.matrixWorld),l.premultiply(h),c.extractRotation(l),m.halfWidth.set(.5*g.width,0,0),m.halfHeight.set(0,.5*g.height,0),m.halfWidth.applyMatrix4(c),m.halfHeight.applyMatrix4(c),o++):g.isPointLight?((m=a.point[i]).position.setFromMatrixPosition(g.matrixWorld),m.position.applyMatrix4(h),i++):g.isHemisphereLight&&((v=a.hemi[u]).direction.setFromMatrixPosition(g.matrixWorld),v.direction.transformDirection(h),v.direction.normalize(),u++)}},state:a}}function vl(e,t){var n=new ml(e,t),i=[],r=[];return{init:function(){i.length=0,r.length=0},state:{lightsArray:i,shadowsArray:r,lights:n},setupLights:function(){n.setup(i)},setupLightsView:function(e){n.setupView(i,e)},pushLight:function(e){i.push(e)},pushShadow:function(e){r.push(e)}}}function gl(e,t){var n=new I.a;return{get:function(i){var r,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return!1===n.has(i)?(r=new vl(e,t),n.set(i,[r])):a>=n.get(i).length?(r=new vl(e,t),n.get(i).push(r)):r=n.get(i)[a],r},dispose:function(){n=new I.a}}}var yl=function(e){h()(n,e);var t=te(n);function n(e){var i;return p()(this,n),(i=t.call(this)).type="MeshDepthMaterial",i.depthPacking=ri,i.skinning=!1,i.morphTargets=!1,i.map=null,i.alphaMap=null,i.displacementMap=null,i.displacementScale=1,i.displacementBias=0,i.wireframe=!1,i.wireframeLinewidth=1,i.fog=!1,i.setValues(e),i}return m()(n,[{key:"copy",value:function(e){return c()(f()(n.prototype),"copy",this).call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=A()(e),this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}]),n}(fa),xl=(yl.prototype.isMeshDepthMaterial=!0,function(e){h()(n,e);var t=te(n);function n(e){var i;return p()(this,n),(i=t.call(this)).type="MeshDistanceMaterial",i.referencePosition=new Qi,i.nearDistance=1,i.farDistance=1e3,i.skinning=!1,i.morphTargets=!1,i.map=null,i.alphaMap=null,i.displacementMap=null,i.displacementScale=1,i.displacementBias=0,i.fog=!1,i.setValues(e),i}return m()(n,[{key:"copy",value:function(e){return c()(f()(n.prototype),"copy",this).call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=A()(e),this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}]),n}(fa)),bl=(xl.prototype.isMeshDistanceMaterial=!0,"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\n\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean * HALF_SAMPLE_RATE;\n\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}");function wl(e,t,n){var i=new Eo,r=new Ui,a=new Ui,o=new qi,s=[],l=[],c={},u={0:pe,1:fe,2:me},h=new vo({defines:{SAMPLE_RATE:.25,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ui},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:bl}),d=h.clone(),f=(d.defines.HORIZONTAL_PASS=1,new Wa),p=(f.setAttribute("position",new Sa(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3)),new co(f,h)),m=this;function v(e,t,n){var i=s[n=e<<0|t<<1|n<<2];return void 0===i&&(i=new yl({depthPacking:ai,morphTargets:e,skinning:t}),s[n]=i),i}function g(e,t,n){var i=l[n=e<<0|t<<1|n<<2];return void 0===i&&(i=new xl({morphTargets:e,skinning:t}),l[n]=i),i}function y(t,n,i,r,a,o,s){var l,h=null,d=v,f=t.customDepthMaterial;return!0===r.isPointLight&&(d=g,f=t.customDistanceMaterial),h=void 0===f?(!(l=!1)===i.morphTargets&&(l=n.morphAttributes&&n.morphAttributes.position&&0<n.morphAttributes.position.length),!(n=!1)===t.isSkinnedMesh&&(!0===i.skinning?n=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t)),d(l,n,!0===t.isInstancedMesh)):f,e.localClippingEnabled&&!0===i.clipShadows&&0!==i.clippingPlanes.length&&(d=h.uuid,l=i.uuid,void 0===(n=c[d])&&(c[d]=n={}),void 0===(t=n[l])&&(t=h.clone(),n[l]=t),h=t),h.visible=i.visible,h.wireframe=i.wireframe,h.side=s===de?null!==i.shadowSide?i.shadowSide:i.side:null!==i.shadowSide?i.shadowSide:u[i.side],h.clipShadows=i.clipShadows,h.clippingPlanes=i.clippingPlanes,h.clipIntersection=i.clipIntersection,h.wireframeLinewidth=i.wireframeLinewidth,h.linewidth=i.linewidth,!0===r.isPointLight&&!0===h.isMeshDistanceMaterial&&(h.referencePosition.setFromMatrixPosition(r.matrixWorld),h.nearDistance=a,h.farDistance=o),h}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=ue,this.render=function(s,l,c){if(!1!==m.enabled&&(!1!==m.autoUpdate||!1!==m.needsUpdate)&&0!==s.length){var u=e.getRenderTarget(),f=e.getActiveCubeFace(),v=e.getActiveMipmapLevel(),g=e.state;g.setBlending(ye),g.buffers.color.setClear(1,1,1,1),g.buffers.depth.setTest(!0),g.setScissorTest(!1);for(var x,b,w=0,_=s.length;w<_;w++){var S=s[w],E=S.shadow;if(void 0===E)console.warn("THREE.WebGLShadowMap:",S,"has no shadow.");else if(!1!==E.autoUpdate||!1!==E.needsUpdate){r.copy(E.mapSize);for(var T=E.getFrameExtents(),C=(r.multiply(T),a.copy(E.mapSize),(r.x>n||r.y>n)&&(r.x>n&&(a.x=Math.floor(n/T.x),r.x=a.x*T.x,E.mapSize.x=a.x),r.y>n)&&(a.y=Math.floor(n/T.y),r.y=a.y*T.y,E.mapSize.y=a.y),null!==A()(E)||E.isPointLightShadow||this.type!==de||(E.map=new Yi(r.x,r.y,T={minFilter:yt,magFilter:yt,format:Ft}),A()(E).texture.name=S.name+".shadowMap",E.mapPass=new Yi(r.x,r.y,T),E.camera.updateProjectionMatrix()),null===A()(E)&&(E.map=new Yi(r.x,r.y,{minFilter:ft,magFilter:ft,format:Ft}),A()(E).texture.name=S.name+".shadowMap",E.camera.updateProjectionMatrix()),e.setRenderTarget(A()(E)),e.clear(),E.getViewportCount()),L=0;L<C;L++){var P=E.getViewport(L);o.set(a.x*P.x,a.y*P.y,a.x*P.z,a.y*P.w),g.viewport(o),E.updateMatrices(S,L),i=E.getFrustum(),function n(r,a,o,s,l){if(!1!==r.visible){var c=r.layers.test(a.layers);if(c&&(r.isMesh||r.isLine||r.isPoints)&&(r.castShadow||r.receiveShadow&&l===de)&&(!r.frustumCulled||i.intersectsObject(r))){r.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,r.matrixWorld);var u=t.update(r),h=r.material;if(M()(h))for(var d=u.groups,f=0,p=d.length;f<p;f++){var m=d[f],v=h[m.materialIndex];v&&v.visible&&(v=y(r,u,v,s,o.near,o.far,l),e.renderBufferDirect(o,null,u,v,r,m))}else h.visible&&(c=y(r,u,h,s,o.near,o.far,l),e.renderBufferDirect(o,null,u,c,r,null))}for(var g=r.children,x=0,b=g.length;x<b;x++)n(g[x],a,o,s,l)}}(l,c,E.camera,S,this.type)}E.isPointLightShadow||this.type!==de||(T=E,x=c,void 0,b=t.update(p),h.uniforms.shadow_pass.value=A()(T).texture,h.uniforms.resolution.value=T.mapSize,h.uniforms.radius.value=T.radius,e.setRenderTarget(T.mapPass),e.clear(),e.renderBufferDirect(x,null,b,h,p,null),d.uniforms.shadow_pass.value=T.mapPass.texture,d.uniforms.resolution.value=T.mapSize,d.uniforms.radius.value=T.radius,e.setRenderTarget(A()(T)),e.clear(),e.renderBufferDirect(x,null,b,d,p,null)),E.needsUpdate=!1}}m.needsUpdate=!1,e.setRenderTarget(u,f,v)}}}function _l(e,t,n){n=n.isWebGL2;var i=new function(){var t=!1,n=new qi,i=null,r=new qi(0,0,0,0);return{setMask:function(n){i===n||t||(e.colorMask(n,n,n,n),i=n)},setLocked:function(e){t=e},setClear:function(t,i,a,o,s){!0===s&&(t*=o,i*=o,a*=o),n.set(t,i,a,o),!1===r.equals(n)&&(e.clearColor(t,i,a,o),r.copy(n))},reset:function(){t=!1,i=null,r.set(-1,0,0,0)}}},r=new function(){var t=!1,n=null,i=null,r=null;return{setTest:function(e){(e?N:O)(2929)},setMask:function(i){n===i||t||(e.depthMask(i),n=i)},setFunc:function(t){if(i!==t){if(t)switch(t){case He:e.depthFunc(512);break;case Ue:e.depthFunc(519);break;case Ve:e.depthFunc(513);break;case Ge:e.depthFunc(515);break;case je:e.depthFunc(514);break;case We:e.depthFunc(518);break;case Xe:e.depthFunc(516);break;case qe:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);i=t}},setLocked:function(e){t=e},setClear:function(t){r!==t&&(e.clearDepth(t),r=t)},reset:function(){t=!1,r=i=n=null}}},a=new function(){var t=!1,n=null,i=null,r=null,a=null,o=null,s=null,l=null,c=null;return{setTest:function(e){t||(e?N:O)(2960)},setMask:function(i){n===i||t||(e.stencilMask(i),n=i)},setFunc:function(t,n,o){i===t&&r===n&&a===o||(e.stencilFunc(t,n,o),i=t,r=n,a=o)},setOp:function(t,n,i){o===t&&s===n&&l===i||(e.stencilOp(t,n,i),o=t,s=n,l=i)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,c=l=s=o=a=r=i=n=null}}},o={},l=null,c=!1,u=null,h=null,d=null,f=null,p=null,m=null,v=null,g=!1,x=null,b=null,w=null,_=null,M=null,S=e.getParameter(35661),E=!1,T=0,C=e.getParameter(7938),A=(-1!==y()(C).call(C,"WebGL")?(T=L()(/^WebGL (\d)/.exec(C)[1]),E=1<=T):-1!==y()(C).call(C,"OpenGL ES")&&(T=L()(/^OpenGL ES (\d)/.exec(C)[1]),E=2<=T),null),P={},k=new qi,D=new qi;function I(t,n,i){var r=new Uint8Array(4),a=e.createTexture();e.bindTexture(t,a),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(var o=0;o<i;o++)e.texImage2D(n+o,0,6408,1,1,0,6408,5121,r);return a}var R={};function N(t){!0!==o[t]&&(e.enable(t),o[t]=!0)}function O(t){!1!==o[t]&&(e.disable(t),o[t]=!1)}R[3553]=I(3553,3553,1),R[34067]=I(34067,34069,6),i.setClear(0,0,0,1),r.setClear(1),a.setClear(0),N(2929),r.setFunc(Ge),H(!1),U(oe),N(2884),B(ye),C={},s()(C,Se,32774),s()(C,Ee,32778),s()(C,Te,32779);var F=C,z=(n?(F[Ce]=32775,F[Ae]=32776):null!==(T=t.get("EXT_blend_minmax"))&&(F[Ce]=T.MIN_EXT,F[Ae]=T.MAX_EXT),C={},s()(C,Le,0),s()(C,Pe,1),s()(C,ke,768),s()(C,Ie,770),s()(C,Be,776),s()(C,Fe,774),s()(C,Ne,772),s()(C,De,769),s()(C,Re,771),s()(C,ze,775),s()(C,Oe,773),C);function B(t,n,i,r,a,o,s,l){if(t===ye)!0===c&&(O(3042),c=!1);else if(!1===c&&(N(3042),c=!0),t!==Me){if(t!==u||l!==g){if(h===Se&&p===Se||(e.blendEquation(32774),p=h=Se),l)switch(t){case xe:e.blendFuncSeparate(1,771,1,771);break;case be:e.blendFunc(1,1);break;case we:e.blendFuncSeparate(0,0,769,771);break;case _e:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case xe:e.blendFuncSeparate(770,771,1,771);break;case be:e.blendFunc(770,1);break;case we:e.blendFunc(0,769);break;case _e:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}v=m=f=d=null,u=t,g=l}}else a=a||n,o=o||i,s=s||r,n===h&&a===p||(e.blendEquationSeparate(F[n],F[a]),h=n,p=a),i===d&&r===f&&o===m&&s===v||(e.blendFuncSeparate(z[i],z[r],z[o],z[s]),d=i,f=r,m=o,v=s),u=t,g=null}function H(t){x!==t&&(t?e.frontFace(2304):e.frontFace(2305),x=t)}function U(t){t!==ae?(N(2884),t!==b&&(t===oe?e.cullFace(1029):t===se?e.cullFace(1028):e.cullFace(1032))):O(2884),b=t}function V(t,n,i){t?(N(32823),_===n&&M===i||(e.polygonOffset(n,i),_=n,M=i)):O(32823)}function G(t){A!==(t=void 0===t?33984+S-1:t)&&(e.activeTexture(t),A=t)}return{buffers:{color:i,depth:r,stencil:a},enable:N,disable:O,useProgram:function(t){return l!==t&&(e.useProgram(t),l=t,!0)},setBlending:B,setMaterial:function(e,t){(e.side===me?O:N)(2884);var n=e.side===pe;H(n=t?!n:n),e.blending===xe&&!1===e.transparent?B(ye):B(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),r.setFunc(e.depthFunc),r.setTest(e.depthTest),r.setMask(e.depthWrite),i.setMask(e.colorWrite),t=e.stencilWrite;a.setTest(t),t&&(a.setMask(e.stencilWriteMask),a.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),a.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),V(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)},setFlipSided:H,setCullFace:U,setLineWidth:function(t){t!==w&&(E&&e.lineWidth(t),w=t)},setPolygonOffset:V,setScissorTest:function(e){(e?N:O)(3089)},activeTexture:G,bindTexture:function(t,n){null===A&&G();var i=P[A];void 0===i&&(P[A]=i={type:void 0,texture:void 0}),i.type===t&&i.texture===n||(e.bindTexture(t,n||R[t]),i.type=t,i.texture=n)},unbindTexture:function(){var t=P[A];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},scissor:function(t){!1===k.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),k.copy(t))},viewport:function(t){!1===D.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),D.copy(t))},reset:function(){e.disable(3042),e.disable(2884),e.disable(2929),e.disable(32823),e.disable(3089),e.disable(2960),e.blendEquation(32774),e.blendFunc(1,0),e.blendFuncSeparate(1,0,1,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(513),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(519,0,4294967295),e.stencilOp(7680,7680,7680),e.clearStencil(0),e.cullFace(1029),e.frontFace(2305),e.polygonOffset(0,0),e.activeTexture(33984),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),o={},g=c=!(P={}),M=_=w=b=x=v=m=p=f=d=h=u=l=A=null,i.reset(),r.reset(),a.reset()}}}function Ml(e,t,n,i,r,a,o){var l,c,u=r.isWebGL2,h=r.maxTextures,d=r.maxCubemapSize,f=r.maxTextureSize,p=r.maxSamples,m=new I.a,v=!1;try{v="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(l){}function g(e,t){return v?new OffscreenCanvas(e,t):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function y(e,t,n,i){var r=1;return(r=e.width>i||e.height>i?i/Math.max(e.width,e.height):r)<1||!0===t?"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?(t=(i=t?Hi.floorPowerOfTwo:Math.floor)(r*e.width),i=i(r*e.height),void 0===c&&(c=g(t,i)),(r=n?g(t,i):c).width=t,r.height=i,r.getContext("2d").drawImage(e,0,0,t,i),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+t+"x"+i+")."),r):("data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e):e}function x(e){return Hi.isPowerOfTwo(e.width)&&Hi.isPowerOfTwo(e.height)}function b(e,t){return e.generateMipmaps&&t&&e.minFilter!==ft&&e.minFilter!==yt}function w(t,n,r,a){e.generateMipmap(t),i.get(n).__maxMipLevel=z()(Math.max(r,a))}function _(n,i,r){if(!1===u)return i;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}return n=i,6403===i&&(5126===r&&(n=33326),5131===r&&(n=33325),5121===r)&&(n=33321),6407===i&&(5126===r&&(n=34837),5131===r&&(n=34843),5121===r)&&(n=32849),33325!==(n=6408===i&&(5126===r&&(n=34836),5131===r&&(n=34842),5121===r)?32856:n)&&33326!==n&&34842!==n&&34836!==n||t.get("EXT_color_buffer_float"),n}function M(e){return e===ft||e===pt||e===vt?9728:9729}function S(t){var n,r;(t=t.target).removeEventListener("dispose",S),n=t,void 0!==(r=i.get(n)).__webglInit&&(e.deleteTexture(r.__webglTexture),i.remove(n)),t.isVideoTexture&&m.delete(t),o.memory.textures--}function E(t){var n=((t=t.target).removeEventListener("dispose",E),t.texture),r=i.get(t),a=i.get(n);if(t){if(void 0!==a.__webglTexture&&e.deleteTexture(a.__webglTexture),t.depthTexture&&t.depthTexture.dispose(),t.isWebGLCubeRenderTarget)for(var s=0;s<6;s++)e.deleteFramebuffer(r.__webglFramebuffer[s]),r.__webglDepthbuffer&&e.deleteRenderbuffer(r.__webglDepthbuffer[s]);else e.deleteFramebuffer(r.__webglFramebuffer),r.__webglDepthbuffer&&e.deleteRenderbuffer(r.__webglDepthbuffer),r.__webglMultisampledFramebuffer&&e.deleteFramebuffer(r.__webglMultisampledFramebuffer),r.__webglColorRenderbuffer&&e.deleteRenderbuffer(r.__webglColorRenderbuffer),r.__webglDepthRenderbuffer&&e.deleteRenderbuffer(r.__webglDepthRenderbuffer);i.remove(n),i.remove(t)}o.memory.textures--}var T=0;function C(e,t){var r,a=i.get(e);if(e.isVideoTexture&&(r=e,s=o.render.frame,m.get(r)!==s)&&(m.set(r,s),r.update()),0<e.version&&a.__version!==e.version){var s=e.image;if(void 0===s)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==s.complete)return void R(a,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+t),n.bindTexture(3553,a.__webglTexture)}function A(t,r){var o=i.get(t);if(0<t.version&&o.__version!==t.version){var s=o,l=t;t=r;if(6===l.image.length){D(s,l),n.activeTexture(33984+t),n.bindTexture(34067,s.__webglTexture),e.pixelStorei(37440,l.flipY),e.pixelStorei(37441,l.premultiplyAlpha),e.pixelStorei(3317,l.unpackAlignment),e.pixelStorei(37443,0);for(var c=l&&(l.isCompressedTexture||l.image[0].isCompressedTexture),h=l.image[0]&&l.image[0].isDataTexture,f=[],p=0;p<6;p++)f[p]=c||h?h?l.image[p].image:l.image[p]:y(l.image[p],!1,!0,d);var m,v=x(t=f[0])||u,g=a.convert(l.format),M=a.convert(l.type),S=_(l.internalFormat,g,M);if(k(34067,l,v),c){for(var E=0;E<6;E++){m=f[E].mipmaps;for(var T=0;T<m.length;T++){var C=m[T];l.format!==Ft&&l.format!==Ot?null!==g?n.compressedTexImage2D(34069+E,T,S,C.width,C.height,0,C.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+E,T,S,C.width,C.height,0,g,M,C.data)}}s.__maxMipLevel=m.length-1}else{m=l.mipmaps;for(var A=0;A<6;A++)if(h){n.texImage2D(34069+A,0,S,f[A].width,f[A].height,0,g,M,f[A].data);for(var L=0;L<m.length;L++){var P=m[L].image[A].image;n.texImage2D(34069+A,L+1,S,P.width,P.height,0,g,M,P.data)}}else{n.texImage2D(34069+A,0,S,g,M,f[A]);for(var I=0;I<m.length;I++){var R=m[I];n.texImage2D(34069+A,I+1,S,g,M,R.image[A])}}s.__maxMipLevel=m.length}b(l,v)&&w(34067,l,t.width,t.height),s.__version=l.version,l.onUpdate&&l.onUpdate(l)}}else n.activeTexture(33984+r),n.bindTexture(34067,o.__webglTexture)}l={},s()(l,ut,10497),s()(l,ht,33071),s()(l,dt,33648);var L=l,P=(l={},s()(l,ft,9728),s()(l,pt,9984),s()(l,vt,9986),s()(l,yt,9729),s()(l,xt,9985),s()(l,wt,9987),l);function k(n,a,o){o?(e.texParameteri(n,10242,L[a.wrapS]),e.texParameteri(n,10243,L[a.wrapT]),32879!==n&&35866!==n||e.texParameteri(n,32882,L[a.wrapR]),e.texParameteri(n,10240,P[a.magFilter]),e.texParameteri(n,10241,P[a.minFilter])):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),32879!==n&&35866!==n||e.texParameteri(n,32882,33071),a.wrapS===ht&&a.wrapT===ht||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,M(a.magFilter)),e.texParameteri(n,10241,M(a.minFilter)),a.minFilter!==ft&&a.minFilter!==yt&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===t.has("EXT_texture_filter_anisotropic")&&(o=t.get("EXT_texture_filter_anisotropic"),a.type===Lt&&!1===t.has("OES_texture_float_linear")||!1===u&&a.type===Pt&&!1===t.has("OES_texture_half_float_linear")||(1<a.anisotropy||i.get(a).__currentAnisotropy)&&(e.texParameterf(n,o.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,r.getMaxAnisotropy())),i.get(a).__currentAnisotropy=a.anisotropy))}function D(t,n){void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",S),t.__webglTexture=e.createTexture(),o.memory.textures++)}function R(t,i,r){var o,s=3553,l=(r=(i.isDataTexture2DArray&&(s=35866),i.isDataTexture3D&&(s=32879),D(t,i),n.activeTexture(33984+r),n.bindTexture(s,t.__webglTexture),e.pixelStorei(37440,i.flipY),e.pixelStorei(37441,i.premultiplyAlpha),e.pixelStorei(3317,i.unpackAlignment),e.pixelStorei(37443,0),r=i,!u&&(r.wrapS!==ht||r.wrapT!==ht||r.minFilter!==ft&&r.minFilter!==yt)&&!1===x(i.image)),x(r=y(i.image,r,!1,f))||u),c=a.convert(i.format),h=a.convert(i.type),d=_(i.internalFormat,c,h),p=(k(s,i,l),i.mipmaps);if(i.isDepthTexture)d=6402,u?d=i.type===Lt?36012:i.type===At?33190:i.type===Rt?35056:33189:i.type===Lt&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),i.format===Ut&&6402===d&&i.type!==Tt&&i.type!==At&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=Tt,h=a.convert(i.type)),i.format===Vt&&6402===d&&(d=34041,i.type!==Rt)&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=Rt,h=a.convert(i.type)),n.texImage2D(3553,0,d,r.width,r.height,0,c,h,null);else if(i.isDataTexture)if(0<p.length&&l){for(var m=0,v=p.length;m<v;m++)o=p[m],n.texImage2D(3553,m,d,o.width,o.height,0,c,h,o.data);i.generateMipmaps=!1,t.__maxMipLevel=p.length-1}else n.texImage2D(3553,0,d,r.width,r.height,0,c,h,r.data),t.__maxMipLevel=0;else if(i.isCompressedTexture){for(var g=0,M=p.length;g<M;g++)o=p[g],i.format!==Ft&&i.format!==Ot?null!==c?n.compressedTexImage2D(3553,g,d,o.width,o.height,0,o.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,g,d,o.width,o.height,0,c,h,o.data);t.__maxMipLevel=p.length-1}else if(i.isDataTexture2DArray)n.texImage3D(35866,0,d,r.width,r.height,r.depth,0,c,h,r.data),t.__maxMipLevel=0;else if(i.isDataTexture3D)n.texImage3D(32879,0,d,r.width,r.height,r.depth,0,c,h,r.data),t.__maxMipLevel=0;else if(0<p.length&&l){for(var S=0,E=p.length;S<E;S++)o=p[S],n.texImage2D(3553,S,d,c,h,o);i.generateMipmaps=!1,t.__maxMipLevel=p.length-1}else n.texImage2D(3553,0,d,c,h,r),t.__maxMipLevel=0;b(i,l)&&w(s,i,r.width,r.height),t.__version=i.version,i.onUpdate&&i.onUpdate(i)}function N(t,r,o,s){var l=r.texture,c=a.convert(l.format),u=a.convert(l.type),h=_(l.internalFormat,c,u);32879===s||35866===s?n.texImage3D(s,0,h,r.width,r.height,r.depth,0,c,u,null):n.texImage2D(s,0,h,r.width,r.height,0,c,u,null),e.bindFramebuffer(36160,t),e.framebufferTexture2D(36160,o,s,i.get(l).__webglTexture,0),e.bindFramebuffer(36160,null)}function O(t,n,i){var r,o;e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer?(r=33189,i?((o=n.depthTexture)&&o.isDepthTexture&&(o.type===Lt?r=36012:o.type===At&&(r=33190)),o=F(n),e.renderbufferStorageMultisample(36161,o,r,n.width,n.height)):e.renderbufferStorage(36161,r,n.width,n.height),e.framebufferRenderbuffer(36160,36096,36161,t)):n.depthBuffer&&n.stencilBuffer?(i?(o=F(n),e.renderbufferStorageMultisample(36161,o,35056,n.width,n.height)):e.renderbufferStorage(36161,34041,n.width,n.height),e.framebufferRenderbuffer(36160,33306,36161,t)):(r=n.texture,o=a.convert(r.format),t=a.convert(r.type),r=_(r.internalFormat,o,t),i?(o=F(n),e.renderbufferStorageMultisample(36161,o,r,n.width,n.height)):e.renderbufferStorage(36161,r,n.width,n.height)),e.bindRenderbuffer(36161,null)}function F(e){return u&&e.isWebGLMultisampleRenderTarget?Math.min(p,e.samples):0}var B=!1,H=!1;this.allocateTextureUnit=function(){var e=T;return h<=e&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+h),T+=1,e},this.resetTextureUnits=function(){T=0},this.setTexture2D=C,this.setTexture2DArray=function(e,t){var r=i.get(e);0<e.version&&r.__version!==e.version?R(r,e,t):(n.activeTexture(33984+t),n.bindTexture(35866,r.__webglTexture))},this.setTexture3D=function(e,t){var r=i.get(e);0<e.version&&r.__version!==e.version?R(r,e,t):(n.activeTexture(33984+t),n.bindTexture(32879,r.__webglTexture))},this.setTextureCube=A,this.setupRenderTarget=function(t){var r=t.texture,s=i.get(t),l=i.get(r),c=(t.addEventListener("dispose",E),l.__webglTexture=e.createTexture(),o.memory.textures++,!0===t.isWebGLCubeRenderTarget),h=!0===t.isWebGLMultisampleRenderTarget,d=r.isDataTexture3D||r.isDataTexture2DArray,f=x(t)||u;if(!u||r.format!==Ot||r.type!==Lt&&r.type!==Pt||(r.format=Ft,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),c){s.__webglFramebuffer=[];for(var p=0;p<6;p++)s.__webglFramebuffer[p]=e.createFramebuffer()}else s.__webglFramebuffer=e.createFramebuffer(),h&&(u?(s.__webglMultisampledFramebuffer=e.createFramebuffer(),s.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,s.__webglColorRenderbuffer),h=a.convert(r.format),v=a.convert(r.type),h=_(r.internalFormat,h,v),v=F(t),e.renderbufferStorageMultisample(36161,v,h,t.width,t.height),e.bindFramebuffer(36160,s.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,s.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),t.depthBuffer&&(s.__webglDepthRenderbuffer=e.createRenderbuffer(),O(s.__webglDepthRenderbuffer,t,!0)),e.bindFramebuffer(36160,null)):console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2."));if(c){n.bindTexture(34067,l.__webglTexture),k(34067,r,f);for(var m=0;m<6;m++)N(s.__webglFramebuffer[m],t,36064,34069+m);b(r,f)&&w(34067,r,t.width,t.height),n.bindTexture(34067,null)}else{var v=3553;d&&(u?v=r.isDataTexture3D?32879:35866:console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.")),n.bindTexture(v,l.__webglTexture),k(v,r,f),N(s.__webglFramebuffer,t,36064,v),b(r,f)&&w(3553,r,t.width,t.height),n.bindTexture(3553,null)}t.depthBuffer&&function(t){var n=i.get(t),r=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture){if(r)throw new Error("target.depthTexture not supported in Cube render targets");var a=n.__webglFramebuffer,o=t;if(o&&o.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,a),!o.depthTexture||!o.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");if(i.get(o.depthTexture).__webglTexture&&o.depthTexture.image.width===o.width&&o.depthTexture.image.height===o.height||(o.depthTexture.image.width=o.width,o.depthTexture.image.height=o.height,o.depthTexture.needsUpdate=!0),C(o.depthTexture,0),a=i.get(o.depthTexture).__webglTexture,o.depthTexture.format===Ut)e.framebufferTexture2D(36160,36096,3553,a,0);else{if(o.depthTexture.format!==Vt)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(36160,33306,3553,a,0)}}else if(r){n.__webglDepthbuffer=[];for(var s=0;s<6;s++)e.bindFramebuffer(36160,n.__webglFramebuffer[s]),n.__webglDepthbuffer[s]=e.createRenderbuffer(),O(n.__webglDepthbuffer[s],t,!1)}else e.bindFramebuffer(36160,n.__webglFramebuffer),n.__webglDepthbuffer=e.createRenderbuffer(),O(n.__webglDepthbuffer,t,!1);e.bindFramebuffer(36160,null)}(t)},this.updateRenderTargetMipmap=function(e){var t,r,a=e.texture;b(a,x(e)||u)&&(t=e.isWebGLCubeRenderTarget?34067:3553,r=i.get(a).__webglTexture,n.bindTexture(t,r),w(t,a,e.width,e.height),n.bindTexture(t,null))},this.updateMultisampleRenderTarget=function(t){var n,r,a,o;t.isWebGLMultisampleRenderTarget&&(u?(n=i.get(t),e.bindFramebuffer(36008,n.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,n.__webglFramebuffer),r=t.width,a=t.height,o=16384,t.depthBuffer&&(o|=256),t.stencilBuffer&&(o|=1024),e.blitFramebuffer(0,0,r,a,0,0,r,a,o,9728),e.bindFramebuffer(36160,n.__webglMultisampledFramebuffer)):console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2."))},this.safeSetTexture2D=function(e,t){e&&e.isWebGLRenderTarget&&(!1===B&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),B=!0),e=e.texture),C(e,t)},this.safeSetTextureCube=function(e,t){e&&e.isWebGLCubeRenderTarget&&(!1===H&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),H=!0),e=e.texture),A(e,t)}}function Sl(e,t,n){var i=n.isWebGL2;return{convert:function(e){var n;if(e===Mt)return 5121;if(e===kt)return 32819;if(e===Dt)return 32820;if(e===It)return 33635;if(e===St)return 5120;if(e===Et)return 5122;if(e===Tt)return 5123;if(e===Ct)return 5124;if(e===At)return 5125;if(e===Lt)return 5126;if(e===Pt)return i?5131:null!==(n=t.get("OES_texture_half_float"))?n.HALF_FLOAT_OES:null;if(e===Nt)return 6406;if(e===Ot)return 6407;if(e===Ft)return 6408;if(e===zt)return 6409;if(e===Bt)return 6410;if(e===Ut)return 6402;if(e===Vt)return 34041;if(e===Gt)return 6403;if(e===jt)return 36244;if(e===Wt)return 33319;if(e===Xt)return 33320;if(e===qt)return 36248;if(e===Yt)return 36249;if(e===$t||e===Zt||e===Qt||e===Kt){if(null===(n=t.get("WEBGL_compressed_texture_s3tc")))return null;if(e===$t)return n.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===Zt)return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===Qt)return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===Kt)return n.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(e===Jt||e===en||e===tn||e===nn){if(null===(n=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(e===Jt)return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===en)return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===tn)return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===nn)return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(e===rn)return null!==(n=t.get("WEBGL_compressed_texture_etc1"))?n.COMPRESSED_RGB_ETC1_WEBGL:null;if((e===an||e===on)&&null!==(n=t.get("WEBGL_compressed_texture_etc"))){if(e===an)return n.COMPRESSED_RGB8_ETC2;if(e===on)return n.COMPRESSED_RGBA8_ETC2_EAC}return e===sn||e===ln||e===cn||e===un||e===hn||e===dn||e===fn||e===pn||e===mn||e===vn||e===gn||e===yn||e===xn||e===bn||e===_n||e===Mn||e===Sn||e===En||e===Tn||e===Cn||e===An||e===Ln||e===Pn||e===kn||e===Dn||e===In||e===Rn||e===Nn?null!==(n=t.get("WEBGL_compressed_texture_astc"))?e:null:e===wn?null!==(n=t.get("EXT_texture_compression_bptc"))?e:null:e===Rt?i?34042:null!==(n=t.get("WEBGL_depth_texture"))?n.UNSIGNED_INT_24_8_WEBGL:null:void 0}}}function El(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];yo.call(this),this.cameras=e}El.prototype=g()(T()(yo.prototype),{constructor:El,isArrayCamera:!0});var Tl=function(e){h()(n,e);var t=te(n);function n(){var e;return p()(this,n),(e=t.call(this)).type="Group",e}return m()(n)}(Zr);function Cl(){this._targetRay=null,this._grip=null,this._hand=null}function Al(e,t){var n=this,i=null,r=1,a=null,s="local-floor",l=null,c=[],u=new H.a,h=new yo,d=(h.layers.enable(1),h.viewport=new qi,new yo),f=(d.layers.enable(2),d.viewport=new qi,[h,d]),p=new El,m=(p.layers.enable(1),p.layers.enable(2),null),g=null;function y(e){var t=u.get(e.inputSource);t&&t.dispatchEvent({type:e.type,data:e.inputSource})}function x(){U()(u).call(u,(function(e,t){e.disconnect(t)})),u.clear(),g=m=null,e.setFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),E.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function b(e){for(var t=i.inputSources,n=0;n<c.length;n++)u.set(t[n],c[n]);for(var r=0;r<e.removed.length;r++){var a=e.removed[r],o=u.get(a);o&&(o.dispatchEvent({type:"disconnected",data:a}),u.delete(a))}for(var s=0;s<e.added.length;s++){var l=e.added[s],h=u.get(l);h&&h.dispatchEvent({type:"connected",data:l})}}this.enabled=!1,this.isPresenting=!1,this.getController=function(e){var t=c[e];return void 0===t&&(t=new Cl,c[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){var t=c[e];return void 0===t&&(t=new Cl,c[e]=t),t.getGripSpace()},this.getHand=function(e){var t=c[e];return void 0===t&&(t=new Cl,c[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){r=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){s=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return a},this.getSession=function(){return i},this.setSession=function(){var e=o()(v.a.mark((function e(o){var l,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(i=o))e.next=24;else{if(i.addEventListener("select",y),i.addEventListener("selectstart",y),i.addEventListener("selectend",y),i.addEventListener("squeeze",y),i.addEventListener("squeezestart",y),i.addEventListener("squeezeend",y),i.addEventListener("end",x),i.addEventListener("inputsourceschange",b),!0!==(l=t.getContextAttributes()).xrCompatible)return e.next=14,t.makeXRCompatible();e.next=14}break;case 14:return c={antialias:l.antialias,alpha:l.alpha,depth:l.depth,stencil:l.stencil,framebufferScaleFactor:r},c=new XRWebGLLayer(i,t,c),i.updateRenderState({baseLayer:c}),e.next=19,i.requestReferenceSpace(s);case 19:a=e.sent,E.setContext(i),E.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"});case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var w=new Qi,_=new Qi;function M(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}this.getCamera=function(e){p.near=d.near=h.near=e.near,p.far=d.far=h.far=e.far,m===p.near&&g===p.far||(i.updateRenderState({depthNear:p.near,depthFar:p.far}),m=p.near,g=p.far);var t=e.parent,n=p.cameras;M(p,t);for(var r=0;r<n.length;r++)M(n[r],t);e.matrixWorld.copy(p.matrixWorld),e.matrix.copy(p.matrix),e.matrix.decompose(e.position,e.quaternion,e.scale);for(var a,o,s,l,c,u,f,v,y,x,b=e.children,S=0,E=b.length;S<E;S++)b[S].updateMatrixWorld(!0);return 2===n.length?(e=p,a=h,o=d,w.setFromMatrixPosition(a.matrixWorld),_.setFromMatrixPosition(o.matrixWorld),s=w.distanceTo(_),l=a.projectionMatrix.elements,o=o.projectionMatrix.elements,c=l[14]/(l[10]-1),u=l[14]/(l[10]+1),f=(l[9]+1)/l[5],v=(l[9]-1)/l[5],y=c*(l=(l[8]-1)/l[0]),x=c*(o=(o[8]+1)/o[0]),l=(o=s/(o-l))*-l,a.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(l),e.translateZ(o),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert(),a=c+o,c=u+o,e.projectionMatrix.makePerspective(y-l,s-l+x,f*u/c*a,v*u/c*a,a,c)):p.projectionMatrix.copy(h.projectionMatrix),p};var S=null,E=new To;E.setAnimationLoop((function(t,n){if(null!==(l=n.getViewerPose(a))){var r=l.views,o=i.renderState.baseLayer,s=(e.setFramebuffer(o.framebuffer),!1);r.length!==p.cameras.length&&(s=!(p.cameras.length=0));for(var u=0;u<r.length;u++){var h=r[u],d=o.getViewport(h),m=f[u];m.matrix.fromArray(h.transform.matrix),m.projectionMatrix.fromArray(h.projectionMatrix),m.viewport.set(d.x,d.y,d.width,d.height),0===u&&p.matrix.copy(m.matrix),!0===s&&p.cameras.push(m)}}for(var v=i.inputSources,g=0;g<c.length;g++){var y=c[g],x=v[g];y.update(x,n,a)}S&&S(t,n)})),this.setAnimationLoop=function(e){S=e},this.dispose=function(){}}function Ll(e){function t(t,n){t.opacity.value=n.opacity,n.color&&t.diffuse.value.copy(n.color),n.emissive&&t.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity),A()(n)&&(A()(t).value=A()(n)),n.alphaMap&&(t.alphaMap.value=n.alphaMap),n.specularMap&&(t.specularMap.value=n.specularMap);var i,r,a=e.get(n).envMap;a&&(t.envMap.value=a,t.flipEnvMap.value=a.isCubeTexture&&a._needsFlipEnvMap?-1:1,t.reflectivity.value=n.reflectivity,t.refractionRatio.value=n.refractionRatio,void 0!==(a=e.get(a).__maxMipLevel))&&(t.maxMipLevel.value=a),n.lightMap&&(t.lightMap.value=n.lightMap,t.lightMapIntensity.value=n.lightMapIntensity),n.aoMap&&(t.aoMap.value=n.aoMap,t.aoMapIntensity.value=n.aoMapIntensity),A()(n)?i=A()(n):n.specularMap?i=n.specularMap:n.displacementMap?i=n.displacementMap:n.normalMap?i=n.normalMap:n.bumpMap?i=n.bumpMap:n.roughnessMap?i=n.roughnessMap:n.metalnessMap?i=n.metalnessMap:n.alphaMap?i=n.alphaMap:n.emissiveMap?i=n.emissiveMap:n.clearcoatMap?i=n.clearcoatMap:n.clearcoatNormalMap?i=n.clearcoatNormalMap:n.clearcoatRoughnessMap&&(i=n.clearcoatRoughnessMap),void 0!==i&&(!0===(i=i.isWebGLRenderTarget?i.texture:i).matrixAutoUpdate&&i.updateMatrix(),t.uvTransform.value.copy(i.matrix)),n.aoMap?r=n.aoMap:n.lightMap&&(r=n.lightMap),void 0!==r&&(!0===(r=r.isWebGLRenderTarget?r.texture:r).matrixAutoUpdate&&r.updateMatrix(),t.uv2Transform.value.copy(r.matrix))}function n(t,n){t.roughness.value=n.roughness,t.metalness.value=n.metalness,n.roughnessMap&&(t.roughnessMap.value=n.roughnessMap),n.metalnessMap&&(t.metalnessMap.value=n.metalnessMap),n.emissiveMap&&(t.emissiveMap.value=n.emissiveMap),n.bumpMap&&(t.bumpMap.value=n.bumpMap,t.bumpScale.value=n.bumpScale,n.side===pe)&&(t.bumpScale.value*=-1),n.normalMap&&(t.normalMap.value=n.normalMap,t.normalScale.value.copy(n.normalScale),n.side===pe)&&t.normalScale.value.negate(),n.displacementMap&&(t.displacementMap.value=n.displacementMap,t.displacementScale.value=n.displacementScale,t.displacementBias.value=n.displacementBias),e.get(n).envMap&&(t.envMapIntensity.value=n.envMapIntensity)}return{refreshFogUniforms:function(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)},refreshMaterialUniforms:function(e,i,r,a){var o,s,l,c,u,h,d,f,p,m,v,g;i.isMeshBasicMaterial?t(e,i):i.isMeshLambertMaterial?(t(e,i),v=e,(g=i).emissiveMap&&(v.emissiveMap.value=g.emissiveMap)):i.isMeshToonMaterial?(t(e,i),v=e,(g=i).gradientMap&&(v.gradientMap.value=g.gradientMap),g.emissiveMap&&(v.emissiveMap.value=g.emissiveMap),g.bumpMap&&(v.bumpMap.value=g.bumpMap,v.bumpScale.value=g.bumpScale,g.side===pe)&&(v.bumpScale.value*=-1),g.normalMap&&(v.normalMap.value=g.normalMap,v.normalScale.value.copy(g.normalScale),g.side===pe)&&v.normalScale.value.negate(),g.displacementMap&&(v.displacementMap.value=g.displacementMap,v.displacementScale.value=g.displacementScale,v.displacementBias.value=g.displacementBias)):i.isMeshPhongMaterial?(t(e,i),s=i,(o=e).specular.value.copy(s.specular),o.shininess.value=Math.max(s.shininess,1e-4),s.emissiveMap&&(o.emissiveMap.value=s.emissiveMap),s.bumpMap&&(o.bumpMap.value=s.bumpMap,o.bumpScale.value=s.bumpScale,s.side===pe)&&(o.bumpScale.value*=-1),s.normalMap&&(o.normalMap.value=s.normalMap,o.normalScale.value.copy(s.normalScale),s.side===pe)&&o.normalScale.value.negate(),s.displacementMap&&(o.displacementMap.value=s.displacementMap,o.displacementScale.value=s.displacementScale,o.displacementBias.value=s.displacementBias)):i.isMeshStandardMaterial?(t(e,i),i.isMeshPhysicalMaterial?(n(o=e,s=i),o.reflectivity.value=s.reflectivity,o.clearcoat.value=s.clearcoat,o.clearcoatRoughness.value=s.clearcoatRoughness,s.sheen&&o.sheen.value.copy(s.sheen),s.clearcoatMap&&(o.clearcoatMap.value=s.clearcoatMap),s.clearcoatRoughnessMap&&(o.clearcoatRoughnessMap.value=s.clearcoatRoughnessMap),s.clearcoatNormalMap&&(o.clearcoatNormalScale.value.copy(s.clearcoatNormalScale),o.clearcoatNormalMap.value=s.clearcoatNormalMap,s.side===pe)&&o.clearcoatNormalScale.value.negate(),o.transmission.value=s.transmission,s.transmissionMap&&(o.transmissionMap.value=s.transmissionMap)):n(e,i)):i.isMeshMatcapMaterial?(t(e,i),p=e,(m=i).matcap&&(p.matcap.value=m.matcap),m.bumpMap&&(p.bumpMap.value=m.bumpMap,p.bumpScale.value=m.bumpScale,m.side===pe)&&(p.bumpScale.value*=-1),m.normalMap&&(p.normalMap.value=m.normalMap,p.normalScale.value.copy(m.normalScale),m.side===pe)&&p.normalScale.value.negate(),m.displacementMap&&(p.displacementMap.value=m.displacementMap,p.displacementScale.value=m.displacementScale,p.displacementBias.value=m.displacementBias)):i.isMeshDepthMaterial?(t(e,i),p=e,(m=i).displacementMap&&(p.displacementMap.value=m.displacementMap,p.displacementScale.value=m.displacementScale,p.displacementBias.value=m.displacementBias)):i.isMeshDistanceMaterial?(t(e,i),l=e,(c=i).displacementMap&&(l.displacementMap.value=c.displacementMap,l.displacementScale.value=c.displacementScale,l.displacementBias.value=c.displacementBias),l.referencePosition.value.copy(c.referencePosition),l.nearDistance.value=c.nearDistance,l.farDistance.value=c.farDistance):i.isMeshNormalMaterial?(t(e,i),l=e,(c=i).bumpMap&&(l.bumpMap.value=c.bumpMap,l.bumpScale.value=c.bumpScale,c.side===pe)&&(l.bumpScale.value*=-1),c.normalMap&&(l.normalMap.value=c.normalMap,l.normalScale.value.copy(c.normalScale),c.side===pe)&&l.normalScale.value.negate(),c.displacementMap&&(l.displacementMap.value=c.displacementMap,l.displacementScale.value=c.displacementScale,l.displacementBias.value=c.displacementBias)):i.isLineBasicMaterial?(f=i,(d=e).diffuse.value.copy(f.color),d.opacity.value=f.opacity,i.isLineDashedMaterial&&(d=i,(f=e).dashSize.value=d.dashSize,f.totalSize.value=d.dashSize+d.gapSize,f.scale.value=d.scale)):i.isPointsMaterial?(f=i,d=r,r=a,(a=e).diffuse.value.copy(f.color),a.opacity.value=f.opacity,a.size.value=f.size*d,a.scale.value=.5*r,A()(f)&&(A()(a).value=A()(f)),f.alphaMap&&(a.alphaMap.value=f.alphaMap),A()(f)?u=A()(f):f.alphaMap&&(u=f.alphaMap),void 0!==u&&(!0===u.matrixAutoUpdate&&u.updateMatrix(),a.uvTransform.value.copy(u.matrix))):i.isSpriteMaterial?(r=i,(a=e).diffuse.value.copy(r.color),a.opacity.value=r.opacity,a.rotation.value=r.rotation,A()(r)&&(A()(a).value=A()(r)),r.alphaMap&&(a.alphaMap.value=r.alphaMap),A()(r)?h=A()(r):r.alphaMap&&(h=r.alphaMap),void 0!==h&&(!0===h.matrixAutoUpdate&&h.updateMatrix(),a.uvTransform.value.copy(h.matrix))):i.isShadowMaterial?(e.color.value.copy(i.color),e.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function Pl(e){var t=void 0!==(e=e||{}).canvas?e.canvas:((n=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")).style.display="block",n),n=void 0!==e.context?e.context:null,i=void 0!==e.alpha&&e.alpha,r=void 0===e.depth||e.depth,a=void 0===e.stencil||e.stencil,o=void 0!==e.antialias&&e.antialias,s=void 0===e.premultipliedAlpha||e.premultipliedAlpha,l=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,c=void 0!==e.powerPreference?e.powerPreference:"default",u=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat,h=null,d=null,f=[],p=[],m=(this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=Zn,this.physicallyCorrectLights=!1,this.toneMapping=Qe,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4,this),v=!1,g=null,y=0,x=0,w=null,_=null,S=-1,E=null,T=new qi,C=new qi,L=null,P=t.width,k=t.height,D=1,N=null,O=null,F=new qi(0,0,P,k),z=new qi(0,0,P,k),B=!1,H=new Eo,U=!1,G=!1,j=new Er,W=new Qi,X={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function q(){return null===w?D:1}var Y,$,Z,Q,K,J,ee,te,ne,ie,re,ae,oe,se,le,ce,ue,he,de,fe,pe,me=n;function ve(e,n){for(var i=0;i<e.length;i++){var r=e[i];if(null!==(r=t.getContext(r,n)))return r}return null}try{var ge={alpha:i,depth:r,stencil:a,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:u};if(t.addEventListener("webglcontextlost",_e,!1),t.addEventListener("webglcontextrestored",Me,!1),null===me){var ye=["webgl2","webgl","experimental-webgl"];if(!0===m.isWebGL1Renderer&&ye.shift(),null===(me=ve(ye,ge)))throw ve(ye)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===me.getShaderPrecisionFormat&&(me.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(e){throw console.error("THREE.WebGLRenderer: "+e.message),e}function xe(){Y=new zo(me),$=new No(me,Y,e),Y.init($),fe=new Sl(0,Y,$),(Z=new _l(me,Y,$)).scissor(C.copy(z).multiplyScalar(D).floor()),Z.viewport(T.copy(F).multiplyScalar(D).floor()),Q=new Uo,K=new sl,J=new Ml(me,Y,Z,K,$,fe,Q),ee=new Fo(m),te=new Co(me,$),pe=new Io(me,Y,te,$),ne=new Bo(0,te,Q,pe),ie=new Wo(0,ne,te,Q),ue=new jo(me),le=new Oo(K),re=new ol(m,ee,Y,$,pe,le),ae=new Ll(K),oe=new hl(K),se=new gl(Y,$),ce=new Do(m,ee,Z,ie,s),he=new Ro(me,Y,Q,$),de=new Ho(me,Y,Q,$),Q.programs=re.programs,m.capabilities=$,m.extensions=Y,m.properties=K,m.renderLists=oe,m.state=Z,m.info=Q}xe();var be=new Al(m,me),we=(this.xr=be,new wl(m,ie,$.maxTextureSize));function _e(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),v=!0}function Me(){console.log("THREE.WebGLRenderer: Context Restored."),v=!1,xe()}function Se(e){(e=e.target).removeEventListener("dispose",Se),Ee(e=e),K.remove(e)}function Ee(e){void 0!==(e=K.get(e).program)&&re.releaseProgram(e)}this.shadowMap=we,this.getContext=function(){return me},this.getContextAttributes=function(){return me.getContextAttributes()},this.forceContextLoss=function(){var e=Y.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=Y.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return D},this.setPixelRatio=function(e){void 0!==e&&(D=e,this.setSize(P,k,!1))},this.getSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),e=new Ui),e.set(P,k)},this.setSize=function(e,n,i){be.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(P=e,k=n,t.width=Math.floor(e*D),t.height=Math.floor(n*D),!1!==i&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),e=new Ui),e.set(P*D,k*D).floor()},this.setDrawingBufferSize=function(e,n,i){P=e,k=n,D=i,t.width=Math.floor(e*i),t.height=Math.floor(n*i),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),e=new qi),e.copy(T)},this.getViewport=function(e){return e.copy(F)},this.setViewport=function(e,t,n,i){e.isVector4?F.set(e.x,e.y,e.z,e.w):F.set(e,t,n,i),Z.viewport(T.copy(F).multiplyScalar(D).floor())},this.getScissor=function(e){return e.copy(z)},this.setScissor=function(e,t,n,i){e.isVector4?z.set(e.x,e.y,e.z,e.w):z.set(e,t,n,i),Z.scissor(C.copy(z).multiplyScalar(D).floor())},this.getScissorTest=function(){return B},this.setScissorTest=function(e){Z.setScissorTest(B=e)},this.setOpaqueSort=function(e){N=e},this.setTransparentSort=function(e){O=e},this.getClearColor=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getClearColor() now requires a Color as an argument"),e=new ba),e.copy(ce.getClearColor())},this.setClearColor=function(){ce.setClearColor.apply(ce,arguments)},this.getClearAlpha=function(){return ce.getClearAlpha()},this.setClearAlpha=function(){ce.setClearAlpha.apply(ce,arguments)},this.clear=function(e,t,n){var i=0;void 0!==e&&!e||(i|=16384),void 0!==t&&!t||(i|=256),void 0!==n&&!n||(i|=1024),me.clear(i)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",_e,!1),t.removeEventListener("webglcontextrestored",Me,!1),oe.dispose(),se.dispose(),K.dispose(),ee.dispose(),ie.dispose(),pe.dispose(),be.dispose(),Ce.stop()},this.renderBufferImmediate=function(e,t){pe.initAttributes();var n=K.get(e);e.hasPositions&&!n.position&&(n.position=me.createBuffer()),e.hasNormals&&!n.normal&&(n.normal=me.createBuffer()),e.hasUvs&&!n.uv&&(n.uv=me.createBuffer()),e.hasColors&&!n.color&&(n.color=me.createBuffer()),t=t.getAttributes();e.hasPositions&&(me.bindBuffer(34962,n.position),me.bufferData(34962,e.positionArray,35048),pe.enableAttribute(t.position),me.vertexAttribPointer(t.position,3,5126,!1,0,0)),e.hasNormals&&(me.bindBuffer(34962,n.normal),me.bufferData(34962,e.normalArray,35048),pe.enableAttribute(t.normal),me.vertexAttribPointer(t.normal,3,5126,!1,0,0)),e.hasUvs&&(me.bindBuffer(34962,n.uv),me.bufferData(34962,e.uvArray,35048),pe.enableAttribute(t.uv),me.vertexAttribPointer(t.uv,2,5126,!1,0,0)),e.hasColors&&(me.bindBuffer(34962,n.color),me.bufferData(34962,e.colorArray,35048),pe.enableAttribute(t.color),me.vertexAttribPointer(t.color,3,5126,!1,0,0)),pe.disableUnusedAttributes(),me.drawArrays(4,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,n,i,r,a){null===t&&(t=X);var o=r.isMesh&&r.matrixWorld.determinant()<0;e=Re(e,t,i,r),Z.setMaterial(i,o),t=n.index,o=n.attributes.position;if(null===t){if(void 0===o||0===o.count)return}else if(0===t.count)return;var s=1,l=(e=(!0===i.wireframe&&(t=ne.getWireframeAttribute(n),s=2),(i.morphTargets||i.morphNormals)&&ue.update(r,n,i,e),pe.setup(r,i,e,n,t),he),null!==t&&(l=te.get(t),(e=de).setIndex(l)),(null!==t?t:o).count),c=(t=n.drawRange.start*s,o=n.drawRange.count*s,null!==a?a.start*s:0);a=null!==a?a.count*s:1/0,s=Math.max(t,c),l=Math.min(l,t+o,c+a)-1;0!==(t=Math.max(0,l-s+1))&&(r.isMesh?!0===i.wireframe?(Z.setLineWidth(i.wireframeLinewidth*q()),e.setMode(1)):e.setMode(4):r.isLine?(o=i.linewidth,Z.setLineWidth((o=void 0===o?1:o)*q()),r.isLineSegments?e.setMode(1):r.isLineLoop?e.setMode(2):e.setMode(3)):r.isPoints?e.setMode(0):r.isSprite&&e.setMode(4),r.isInstancedMesh?e.renderInstances(s,t,r.count):n.isInstancedBufferGeometry?(c=Math.min(n.instanceCount,n._maxInstanceCount),e.renderInstances(s,t,c)):e.render(s,t))},this.compile=function(e,t){(d=se.get(e)).init(),e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(d.pushLight(e),e.castShadow)&&d.pushShadow(e)})),d.setupLights();var n=new I.a;e.traverse((function(t){var i=t.material;if(i)if(M()(i))for(var r=0;r<i.length;r++){var a=i[r];!1===n.has(a)&&(Ie(a,e,t),n.set(a))}else!1===n.has(i)&&(Ie(i,e,t),n.set(i))}))};var Te=null,Ce=new To;Ce.setAnimationLoop((function(e){be.isPresenting||Te&&Te(e)})),"undefined"!=typeof window&&Ce.setContext(window),this.setAnimationLoop=function(e){Te=e,be.setAnimationLoop(e),null===e?Ce.stop():Ce.start()};var Ae=!(this.render=function(e,t){var n,i,r;void(Le=0)!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),r=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),n=arguments[3]),void 0!==t&&!0!==t.isCamera?console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera."):!0!==v&&(pe.resetDefaultState(),S=-1,!(E=null)===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),!0===be.enabled&&!0===be.isPresenting&&(t=be.getCamera(t)),!0===e.isScene&&e.onBeforeRender(m,e,t,r||w),(d=se.get(e,p.length)).init(),p.push(d),j.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),H.setFromProjectionMatrix(j),G=this.localClippingEnabled,U=le.init(this.clippingPlanes,G,t),(h=oe.get(e,f.length)).init(),f.push(h),function e(t,n,i,r){if(!1!==t.visible){var a=t.layers.test(n.layers);if(a)if(t.isGroup)i=t.renderOrder;else if(t.isLOD)!0===t.autoUpdate&&t.update(n);else if(t.isLight)d.pushLight(t),t.castShadow&&d.pushShadow(t);else if(t.isSprite){var o;t.frustumCulled&&!H.intersectsSprite(t)||(r&&W.setFromMatrixPosition(t.matrixWorld).applyMatrix4(j),a=ie.update(t),(o=t.material).visible&&h.push(t,a,o,i,W.z,null))}else if(t.isImmediateRenderObject)r&&W.setFromMatrixPosition(t.matrixWorld).applyMatrix4(j),h.push(t,null,t.material,i,W.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.frame!==Q.render.frame&&(t.skeleton.update(),t.skeleton.frame=Q.render.frame),!t.frustumCulled||H.intersectsObject(t))){r&&W.setFromMatrixPosition(t.matrixWorld).applyMatrix4(j);var s=ie.update(t),l=t.material;if(M()(l))for(var c=s.groups,u=0,f=c.length;u<f;u++){var p=c[u],m=l[p.materialIndex];m&&m.visible&&h.push(t,s,m,i,W.z,p)}else l.visible&&h.push(t,s,l,i,W.z,null)}for(var v=t.children,g=0,y=v.length;g<y;g++)e(v[g],n,i,r)}}(e,t,0,m.sortObjects),h.finish(),!0===m.sortObjects&&R()(h).call(h,N,O),!0===U&&le.beginShadows(),i=d.state.shadowsArray,we.render(i,e,t),d.setupLights(),d.setupLightsView(t),!0===U&&le.endShadows(),!0===this.info.autoReset&&this.info.reset(),void 0!==r&&this.setRenderTarget(r),ce.render(h,e,t,n),i=h.opaque,r=h.transparent,Ae=!0,0<i.length&&Pe(i,e,t),0<r.length&&Pe(r,e,t),!0===e.isScene&&e.onAfterRender(m,e,t),null!==w&&(J.updateRenderTargetMipmap(w),J.updateMultisampleRenderTarget(w)),Z.buffers.depth.setTest(!0),Z.buffers.depth.setMask(!0),Z.buffers.color.setMask(!0),Z.setPolygonOffset(!1),p.pop(),0<p.length&&(d=p[p.length-1]),f.pop(),h=0<f.length?f[f.length-1]:null)}),Le=0;function Pe(e,t,n){var i=[];if(2e4<Le+e.length){for(var r=0;r<e.length;r+=2e3)i.push(b()(e).call(e,r,r+2e3));if(0!==i.length){for(r=0;r<10;r++)r<i.length&&ke(i[r],t,n);Ae=!1,function e(t,n,i,r){n<t.length&&(Ae?console.log("状态",Ae,t.length):V()((function(n){ke(t[n],i,r),e(t,++n,i,r)}),1,n))}(i,10,t,n)}}else ke(e,t,n)}function ke(e,t,n){for(var i=!0===t.isScene?t.overrideMaterial:null,r=0,a=e.length;r<a;r++){var o=e[r];if(!(null!=o.group&&1==o.group.hide||null!=o.group&&0==o.group.visibility)){Le++;var s=o.object,l=o.geometry,c=null===i?o.material:i,u=o.group;if(n.isArrayCamera)for(var h=n.cameras,f=0,p=h.length;f<p;f++){var m=h[f];s.layers.test(m.layers)&&(Z.viewport(T.copy(m.viewport)),d.setupLightsView(m),De(s,t,m,l,c,u))}else De(s,t,n,l,c,u)}}}function De(e,t,n,i,r,a){var o,s;null!=e&&(e.onBeforeRender(m,t,n,i,r,a),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject?(o=Re(n,t,r,e),Z.setMaterial(r),pe.reset(),s=o,e.render((function(e){m.renderBufferImmediate(e,s)}))):m.renderBufferDirect(n,t,i,r,e,a),e.onAfterRender(m,t,n,i,r,a))}function Ie(e,t,n){!0!==t.isScene&&(t=X);var i=K.get(e),r=d.state.lights,a=d.state.shadowsArray,o=r.state.version,s=(a=re.getParameters(e,r.state,a,t,n),n=re.getProgramCacheKey(a),i.program),l=!0;if(i.environment=e.isMeshStandardMaterial?t.environment:null,i.fog=t.fog,i.envMap=ee.get(e.envMap||i.environment),void 0===s)e.addEventListener("dispose",Se);else if(s.cacheKey!==n)Ee(e);else{if(i.lightsStateVersion===o&&void 0!==a.shaderID)return;l=!1}l&&(a.uniforms=re.getUniforms(e),e.onBeforeCompile(a,m),s=re.acquireProgram(a,n),i.program=s,i.uniforms=a.uniforms,i.outputEncoding=a.outputEncoding),t=i.uniforms,(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(i.numClippingPlanes=le.numPlanes,i.numIntersection=le.numIntersection,t.clippingPlanes=le.uniform),i.needsLights=(l=e).isMeshLambertMaterial||l.isMeshToonMaterial||l.isMeshPhongMaterial||l.isMeshStandardMaterial||l.isShadowMaterial||l.isShaderMaterial&&!0===l.lights,i.lightsStateVersion=o,i.needsLights&&(t.ambientLightColor.value=r.state.ambient,t.lightProbe.value=r.state.probe,t.directionalLights.value=r.state.directional,t.directionalLightShadows.value=r.state.directionalShadow,t.spotLights.value=r.state.spot,t.spotLightShadows.value=r.state.spotShadow,t.rectAreaLights.value=r.state.rectArea,t.ltc_1.value=r.state.rectAreaLTC1,t.ltc_2.value=r.state.rectAreaLTC2,t.pointLights.value=r.state.point,t.pointLightShadows.value=r.state.pointShadow,t.hemisphereLights.value=r.state.hemi,t.directionalShadowMap.value=r.state.directionalShadowMap,t.directionalShadowMatrix.value=r.state.directionalShadowMatrix,t.spotShadowMap.value=r.state.spotShadowMap,t.spotShadowMatrix.value=r.state.spotShadowMatrix,t.pointShadowMap.value=r.state.pointShadowMap,t.pointShadowMatrix.value=r.state.pointShadowMatrix),n=i.program.getUniforms(),s=Us.seqWithValue(n.seq,t),i.uniformsList=s}function Re(e,t,n,i){var r,a,o,s,l,c,u,h,f;if(null!=d)return!0!==t.isScene&&(t=X),J.resetTextureUnits(),r=t.fog,o=n.isMeshStandardMaterial?t.environment:null,l=null===w?m.outputEncoding:w.texture.encoding,c=ee.get(n.envMap||o),a=K.get(n),s=d.state.lights,!0!==U||!0!==G&&e===E||(u=e===E&&n.id===S,le.setState(n,e,u)),n.version===a.__version?(n.fog&&a.fog!==r||a.environment!==o||a.needsLights&&a.lightsStateVersion!==s.state.version||void 0!==a.numClippingPlanes&&(a.numClippingPlanes!==le.numPlanes||a.numIntersection!==le.numIntersection)||a.outputEncoding!==l||a.envMap!==c)&&Ie(n,t,i):(Ie(n,t,i),a.__version=n.version),s=o=u=!1,c=(l=a.program).getUniforms(),t=a.uniforms,Z.useProgram(l.program)&&(s=o=u=!0),n.id!==S&&(S=n.id,o=!0),(u||E!==e)&&(c.setValue(me,"projectionMatrix",e.projectionMatrix),$.logarithmicDepthBuffer&&c.setValue(me,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),E!==e&&(E=e,s=o=!0),(n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshStandardMaterial||n.envMap)&&void 0!==(u=A()(c).cameraPosition)&&u.setValue(me,W.setFromMatrixPosition(e.matrixWorld)),(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial)&&c.setValue(me,"isOrthographic",!0===e.isOrthographicCamera),n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.isShadowMaterial||n.skinning)&&c.setValue(me,"viewMatrix",e.matrixWorldInverse),n.skinning&&(c.setOptional(me,i,"bindMatrix"),c.setOptional(me,i,"bindMatrixInverse"),u=i.skeleton)&&(e=u.bones,$.floatVertexTextures?(null===u.boneTexture&&(e=Math.sqrt(4*e.length),e=Hi.ceilPowerOfTwo(e),e=Math.max(e,4),(f=new Float32Array(e*e*4)).set(u.boneMatrices),h=new _o(f,e,e,Ft,Lt),u.boneMatrices=f,u.boneTexture=h,u.boneTextureSize=e),c.setValue(me,"boneTexture",u.boneTexture,J),c.setValue(me,"boneTextureSize",u.boneTextureSize)):c.setOptional(me,u,"boneMatrices")),!o&&a.receiveShadow===i.receiveShadow||(a.receiveShadow=i.receiveShadow,c.setValue(me,"receiveShadow",i.receiveShadow)),o&&(c.setValue(me,"toneMappingExposure",m.toneMappingExposure),a.needsLights&&(f=s,(h=t).ambientLightColor.needsUpdate=f,h.lightProbe.needsUpdate=f,h.directionalLights.needsUpdate=f,h.directionalLightShadows.needsUpdate=f,h.pointLights.needsUpdate=f,h.pointLightShadows.needsUpdate=f,h.spotLights.needsUpdate=f,h.spotLightShadows.needsUpdate=f,h.rectAreaLights.needsUpdate=f,h.hemisphereLights.needsUpdate=f),r&&n.fog&&ae.refreshFogUniforms(t,r),ae.refreshMaterialUniforms(t,n,D,k),Us.upload(me,a.uniformsList,t,J)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(Us.upload(me,a.uniformsList,t,J),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&c.setValue(me,"center",i.center),c.setValue(me,"modelViewMatrix",i.modelViewMatrix),c.setValue(me,"normalMatrix",i.normalMatrix),c.setValue(me,"modelMatrix",i.matrixWorld),l}this.setFramebuffer=function(e){g!==e&&null===w&&me.bindFramebuffer(36160,e),g=e},this.getActiveCubeFace=function(){return y},this.getActiveMipmapLevel=function(){return x},this.getRenderTarget=function(){return w},this.setRenderTarget=function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=(y=n,x=i,(w=e)&&void 0===K.get(e).__webglFramebuffer&&J.setupRenderTarget(e),g),a=!1,o=!1;L=e?(((t=e.texture).isDataTexture3D||t.isDataTexture2DArray)&&(o=!0),t=K.get(e).__webglFramebuffer,e.isWebGLCubeRenderTarget?(r=t[n],a=!0):r=e.isWebGLMultisampleRenderTarget?K.get(e).__webglMultisampledFramebuffer:t,T.copy(e.viewport),C.copy(e.scissor),e.scissorTest):(T.copy(F).multiplyScalar(D).floor(),C.copy(z).multiplyScalar(D).floor(),B),_!==r&&(me.bindFramebuffer(36160,r),_=r),Z.viewport(T),Z.scissor(C),Z.setScissorTest(L),a?(t=K.get(e.texture),me.framebufferTexture2D(36160,36064,34069+n,t.__webglTexture,i)):o&&(r=K.get(e.texture),me.framebufferTextureLayer(36160,36064,r.__webglTexture,i||0,n||0))},this.readRenderTargetPixels=function(e,t,n,i,r,a,o){if(e&&e.isWebGLRenderTarget){var s=K.get(e).__webglFramebuffer;if(s=e.isWebGLCubeRenderTarget&&void 0!==o?s[o]:s){o=!1,s!==_&&(me.bindFramebuffer(36160,s),o=!0);try{var l,c=e.texture,u=c.format,h=c.type;u!==Ft&&fe.convert(u)!==me.getParameter(35739)?console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format."):(l=h===Pt&&(Y.has("EXT_color_buffer_half_float")||$.isWebGL2&&Y.has("EXT_color_buffer_float")),h===Mt||fe.convert(h)===me.getParameter(35738)||h===Lt&&($.isWebGL2||Y.has("OES_texture_float")||Y.has("WEBGL_color_buffer_float"))||l?36053===me.checkFramebufferStatus(36160)?0<=t&&t<=e.width-i&&0<=n&&n<=e.height-r&&me.readPixels(t,n,i,r,fe.convert(u),fe.convert(h),a):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete."):console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type."))}finally{o&&me.bindFramebuffer(36160,_)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,i=Math.pow(2,-n),r=Math.floor(t.image.width*i),a=(i=Math.floor(t.image.height*i),fe.convert(t.format));J.setTexture2D(t,0),me.copyTexImage2D(3553,n,a,e.x,e.y,r,i,0),Z.unbindTexture()},this.copyTextureToTexture=function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,r=t.image.width,a=t.image.height,o=fe.convert(n.format),s=fe.convert(n.type);J.setTexture2D(n,0),me.pixelStorei(37440,n.flipY),me.pixelStorei(37441,n.premultiplyAlpha),me.pixelStorei(3317,n.unpackAlignment),t.isDataTexture?me.texSubImage2D(3553,i,e.x,e.y,r,a,o,s,t.image.data):t.isCompressedTexture?me.compressedTexSubImage2D(3553,i,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,o,t.mipmaps[0].data):me.texSubImage2D(3553,i,e.x,e.y,o,s,t.image),0===i&&n.generateMipmaps&&me.generateMipmap(3553),Z.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n,i){var r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0;if(m.isWebGL1Renderer)console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");else{var a,o=(n=n.image).width,s=n.height,l=(n=n.data,fe.convert(i.format)),c=fe.convert(i.type);if(i.isDataTexture3D)J.setTexture3D(i,0),a=32879;else{if(!i.isDataTexture2DArray)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");J.setTexture2DArray(i,0),a=35866}me.pixelStorei(37440,i.flipY),me.pixelStorei(37441,i.premultiplyAlpha),me.pixelStorei(3317,i.unpackAlignment);var u=me.getParameter(3314),h=me.getParameter(32878),d=me.getParameter(3316),f=me.getParameter(3315),p=me.getParameter(32877);me.pixelStorei(3314,o),me.pixelStorei(32878,s),me.pixelStorei(3316,e.min.x),me.pixelStorei(3315,e.min.y),me.pixelStorei(32877,e.min.z),me.texSubImage3D(a,r,t.x,t.y,t.z,e.max.x-e.min.x+1,e.max.y-e.min.y+1,e.max.z-e.min.z+1,l,c,n),me.pixelStorei(3314,u),me.pixelStorei(32878,h),me.pixelStorei(3316,d),me.pixelStorei(3315,f),me.pixelStorei(32877,p),0===r&&i.generateMipmaps&&me.generateMipmap(a),Z.unbindTexture()}},this.initTexture=function(e){J.setTexture2D(e,0),Z.unbindTexture()},this.resetState=function(){Z.reset(),pe.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Tl.prototype.isGroup=!0,g()(Cl.prototype,{constructor:Cl,getHandSpace:function(){return null===this._hand&&(this._hand=new Tl,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand},getTargetRaySpace:function(){return null===this._targetRay&&(this._targetRay=new Tl,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return null===this._grip&&(this._grip=new Tl,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this},disconnect:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this},update:function(e,t,n){var i=null,r=null,a=null,o=this._targetRay,s=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState)if(l&&e.hand){a=!0;var c,u=J(B()(m=e.hand).call(m));try{for(u.s();!(c=u.n()).done;){var h,d=c.value,f=t.getJointPose(d,n),p=(void 0===l.joints[d.jointName]&&((h=new Tl).matrixAutoUpdate=!1,h.visible=!1,l.joints[d.jointName]=h,l.add(h)),l.joints[d.jointName]);null!==f&&(p.matrix.fromArray(f.transform.matrix),p.matrix.decompose(p.position,p.rotation,p.scale),p.jointRadius=f.radius),p.visible=null!==f}}catch(e){u.e(e)}finally{u.f()}var m=l.joints["index-finger-tip"],v=l.joints["thumb-tip"];m=m.position.distanceTo(v.position);l.inputState.pinching&&.025<m?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&m<=.015&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==o&&null!==(i=t.getPose(e.targetRaySpace,n))&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale)),null!==s&&e.gripSpace&&null!==(r=t.getPose(e.gripSpace,n))&&(s.matrix.fromArray(r.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale));return null!==o&&(o.visible=null!==i),null!==s&&(s.visible=null!==r),null!==l&&(l.visible=null!==a),this}}),g()(Al.prototype,Ni.prototype);var kl=function(e){h()(n,e);var t=te(n);function n(){return p()(this,n),t.apply(this,arguments)}return m()(n)}(Pl),Dl=(kl.prototype.isWebGL1Renderer=!0,function(){function e(t,n){p()(this,e),this.name="",this.color=new ba(t),this.density=void 0!==n?n:25e-5}return m()(e,[{key:"clone",value:function(){return new e(this.color,this.density)}},{key:"toJSON",value:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}]),e}()),Il=(Dl.prototype.isFogExp2=!0,function(){function e(t,n,i){p()(this,e),this.name="",this.color=new ba(t),this.near=void 0!==n?n:1,this.far=void 0!==i?i:1e3}return m()(e,[{key:"clone",value:function(){return new e(this.color,this.near,this.far)}},{key:"toJSON",value:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}]),e}()),Rl=(Il.prototype.isFog=!0,function(e){h()(n,e);var t=te(n);function n(){var e;return p()(this,n),(e=t.call(this)).type="Scene",e.background=null,e.environment=null,e.fog=null,e.overrideMaterial=null,e.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:u()(e)})),e}return m()(n,[{key:"copy",value:function(e,t){return c()(f()(n.prototype),"copy",this).call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}},{key:"toJSON",value:function(e){var t=c()(f()(n.prototype),"toJSON",this).call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.environment&&(t.object.environment=this.environment.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}]),n}(Zr));function Nl(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=Si,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Hi.generateUUID()}Rl.prototype.isScene=!0,w()(Nl.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),g()(Nl.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(var i=0,r=this.stride;i<r;i++)this.array[e+i]=t.array[n+i];return this},set:function(e){return this.array.set(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:0),this},clone:function(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Hi.generateUUID()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=b()(t=this.array).call(t,0).buffer);var t=new Nl(new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),this.stride);return t.setUsage(this.usage),t},onUpload:function(e){return this.onUploadCallback=e,this},toJSON:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Hi.generateUUID()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=b()(Array.prototype).call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});var Ol=new Qi;function Fl(e,t,n,i){this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===i}E()(Fl.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}},needsUpdate:{set:function(e){this.data.needsUpdate=e}}}),g()(Fl.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(e){for(var t=0,n=this.data.count;t<n;t++)Ol.x=this.getX(t),Ol.y=this.getY(t),Ol.z=this.getZ(t),Ol.applyMatrix4(e),this.setXYZ(t,Ol.x,Ol.y,Ol.z);return this},setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this},setXYZW:function(e,t,n,i,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=r,this},clone:function(e){if(void 0!==e)return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Fl(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized);console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");for(var t=[],n=0;n<this.count;n++)for(var i=n*this.data.stride+this.offset,r=0;r<this.itemSize;r++)t.push(this.data.array[i+r]);return new Sa(new this.array.constructor(t),this.itemSize,this.normalized)},toJSON:function(e){if(void 0!==e)return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized};console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");for(var t=[],n=0;n<this.count;n++)for(var i=n*this.data.stride+this.offset,r=0;r<this.itemSize;r++)t.push(this.data.array[i+r]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}});var zl,Bl=function(e){h()(n,e);var t=te(n);function n(e){var i;return p()(this,n),(i=t.call(this)).type="SpriteMaterial",i.color=new ba(16777215),i.map=null,i.alphaMap=null,i.rotation=0,i.sizeAttenuation=!0,i.transparent=!0,i.setValues(e),i}return m()(n,[{key:"copy",value:function(e){return c()(f()(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=A()(e),this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}}]),n}(fa),Hl=(Bl.prototype.isSpriteMaterial=!0,new Qi),Ul=new Qi,Vl=new Qi,Gl=new Ui,jl=new Ui,Wl=new Er,Xl=new Qi,ql=new Qi,Yl=new Qi,$l=new Ui,Zl=new Ui,Ql=new Ui,Kl=function(e){h()(n,e);var t=te(n);function n(e){var i,r;return p()(this,n),(i=t.call(this)).type="Sprite",void 0===zl&&(zl=new Wa,r=new Nl(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5),zl.setIndex([0,1,2,0,2,3]),zl.setAttribute("position",new Fl(r,3,0,!1)),zl.setAttribute("uv",new Fl(r,2,3,!1))),i.geometry=zl,i.material=void 0!==e?e:new Bl,i.center=new Ui(.5,.5),i}return m()(n,[{key:"raycast",value:function(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Ul.setFromMatrixScale(this.matrixWorld),Wl.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Vl.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Ul.multiplyScalar(-Vl.z);var n,i,r=(0!==(r=this.material.rotation)&&(i=Math.cos(r),n=Math.sin(r)),this.center);Jl(Xl.set(-.5,-.5,0),Vl,r,Ul,n,i),Jl(ql.set(.5,-.5,0),Vl,r,Ul,n,i),Jl(Yl.set(.5,.5,0),Vl,r,Ul,n,i),$l.set(0,0),Zl.set(1,0),Ql.set(1,1),null===e.ray.intersectTriangle(Xl,ql,Yl,!1,Hl)&&(Jl(ql.set(-.5,.5,0),Vl,r,Ul,n,i),Zl.set(0,1),null===e.ray.intersectTriangle(Xl,Yl,ql,!1,Hl))||(r=e.ray.origin.distanceTo(Hl))<e.near||r>e.far||t.push({distance:r,point:Hl.clone(),uv:ha.getUV(Hl,Xl,ql,Yl,$l,Zl,Ql,new Ui),face:null,object:this})}},{key:"copy",value:function(e){return c()(f()(n.prototype),"copy",this).call(this,e),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}]),n}(Zr);function Jl(e,t,n,i,r,a){Gl.subVectors(e,n).addScalar(.5).multiply(i),void 0!==r?(jl.x=a*Gl.x-r*Gl.y,jl.y=r*Gl.x+a*Gl.y):jl.copy(Gl),e.copy(t),e.x+=jl.x,e.y+=jl.y,e.applyMatrix4(Wl)}Kl.prototype.isSprite=!0;var ec=new Qi,tc=new Qi,nc=function(e){h()(n,e);var t=te(n);function n(){var e;return p()(this,n),(e=t.call(this))._currentLevel=0,e.type="LOD",E()(u()(e),{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),e.autoUpdate=!0,e}return m()(n,[{key:"copy",value:function(e){c()(f()(n.prototype),"copy",this).call(this,e,!1);for(var t=e.levels,i=0,r=t.length;i<r;i++){var a=t[i];this.addLevel(a.object.clone(),a.distance)}return this.autoUpdate=e.autoUpdate,this}},{key:"addLevel",value:function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=(t=Math.abs(t),this.levels),i=0;i<n.length&&!(t<n[i].distance);i++);return x()(n).call(n,i,0,{distance:t,object:e}),this.add(e),this}},{key:"getCurrentLevel",value:function(){return this._currentLevel}},{key:"getObjectForDistance",value:function(e){var t=this.levels;if(0<t.length){for(var n=1,i=t.length;n<i&&!(e<t[n].distance);n++);return t[n-1].object}return null}},{key:"raycast",value:function(e,t){var n;0<this.levels.length&&(ec.setFromMatrixPosition(this.matrixWorld),n=e.ray.origin.distanceTo(ec),this.getObjectForDistance(n).raycast(e,t))}},{key:"update",value:function(e){var t=this.levels;if(1<t.length){ec.setFromMatrixPosition(e.matrixWorld),tc.setFromMatrixPosition(this.matrixWorld);var n,i,r=ec.distanceTo(tc)/e.zoom;for(t[0].object.visible=!0,n=1,i=t.length;n<i&&r>=t[n].distance;n++)t[n-1].object.visible=!1,t[n].object.visible=!0;for(this._currentLevel=n-1;n<i;n++)t[n].object.visible=!1}}},{key:"toJSON",value:function(e){for(var t=c()(f()(n.prototype),"toJSON",this).call(this,e),i=(!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[],this.levels),r=0,a=i.length;r<a;r++){var o=i[r];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}}]),n}(Zr),ic=new Qi,rc=new qi,ac=new qi,oc=new Qi,sc=new Er;function lc(e,t){co.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Er,this.bindMatrixInverse=new Er}function cc(){Zr.call(this),this.type="Bone"}lc.prototype=g()(T()(co.prototype),{constructor:lc,isSkinnedMesh:!0,copy:function(e){return co.prototype.copy.call(this,e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this},bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var e=new qi,t=this.geometry.attributes.skinWeight,n=0,i=t.count;n<i;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);var r=1/e.manhattanLength();r!=1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){co.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:function(e,t){var n=this.skeleton,i=this.geometry;rc.fromBufferAttribute(i.attributes.skinIndex,e),ac.fromBufferAttribute(i.attributes.skinWeight,e),ic.fromBufferAttribute(i.attributes.position,e).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(var r=0;r<4;r++){var a,o=ac.getComponent(r);0!==o&&(a=rc.getComponent(r),sc.multiplyMatrices(n.bones[a].matrixWorld,n.boneInverses[a]),t.addScaledVector(oc.copy(ic).applyMatrix4(sc),o))}return t.applyMatrix4(this.bindMatrixInverse)}}),cc.prototype=g()(T()(Zr.prototype),{constructor:cc,isBone:!0});var uc=new Er,hc=new Er,dc=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];p()(this,e),this.uuid=Hi.generateUUID(),this.bones=b()(t).call(t,0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}return m()(e,[{key:"init",value:function(){var e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(var n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new Er)}}},{key:"calculateInverses",value:function(){for(var e=this.boneInverses.length=0,t=this.bones.length;e<t;e++){var n=new Er;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}},{key:"pose",value:function(){for(var e=0,t=this.bones.length;e<t;e++){var n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(var i=0,r=this.bones.length;i<r;i++){var a=this.bones[i];a&&(a.parent&&a.parent.isBone?(a.matrix.copy(a.parent.matrixWorld).invert(),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale))}}},{key:"update",value:function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,i=this.boneTexture,r=0,a=e.length;r<a;r++){var o=e[r]?e[r].matrixWorld:hc;uc.multiplyMatrices(o,t[r]),uc.toArray(n,16*r)}null!==i&&(i.needsUpdate=!0)}},{key:"clone",value:function(){return new e(this.bones,this.boneInverses)}},{key:"getBoneByName",value:function(e){for(var t=0,n=this.bones.length;t<n;t++){var i=this.bones[t];if(i.name===e)return i}}},{key:"dispose",value:function(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}},{key:"fromJSON",value:function(e,t){this.uuid=e.uuid;for(var n=0,i=e.bones.length;n<i;n++){var r=e.bones[n],a=t[r];void 0===a&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),a=new cc),this.bones.push(a),this.boneInverses.push((new Er).fromArray(e.boneInverses[n]))}return this.init(),this}},{key:"toJSON",value:function(){for(var e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]},t=(e.uuid=this.uuid,this.bones),n=this.boneInverses,i=0,r=t.length;i<r;i++){var a=t[i];a=(e.bones.push(a.uuid),n[i]);e.boneInverses.push(a.toArray())}return e}}]),e}(),fc=new Er,pc=new Er,mc=[],vc=new co;function gc(e,t,n){co.call(this,e,t),this.instanceMatrix=new Sa(new Float32Array(16*n),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1}gc.prototype=g()(T()(co.prototype),{constructor:gc,isInstancedMesh:!0,copy:function(e){return co.prototype.copy.call(this,e),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this},getColorAt:function(e,t){t.fromArray(this.instanceColor.array,3*e)},getMatrixAt:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)},raycast:function(e,t){var n=this.matrixWorld,i=this.count;if(vc.geometry=this.geometry,vc.material=this.material,void 0!==vc.material)for(var r=0;r<i;r++){this.getMatrixAt(r,fc),pc.multiplyMatrices(n,fc),vc.matrixWorld=pc,vc.raycast(e,mc);for(var a=0,o=mc.length;a<o;a++){var s=mc[a];s.instanceId=r,s.object=this,t.push(s)}mc.length=0}},setColorAt:function(e,t){null===this.instanceColor&&(this.instanceColor=new Sa(new Float32Array(3*this.count),3)),t.toArray(this.instanceColor.array,3*e)},setMatrixAt:function(e,t){t.toArray(this.instanceMatrix.array,16*e)},updateMorphTargets:function(){},dispose:function(){this.dispatchEvent({type:"dispose"})}});var yc=function(e){h()(n,e);var t=te(n);function n(e){var i;return p()(this,n),(i=t.call(this)).type="LineBasicMaterial",i.color=new ba(16777215),i.linewidth=1,i.linecap="round",i.linejoin="round",i.morphTargets=!1,i.setValues(e),i}return m()(n,[{key:"copy",value:function(e){return c()(f()(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.morphTargets=e.morphTargets,this}}]),n}(fa),xc=(yc.prototype.isLineBasicMaterial=!0,new Qi),bc=new Qi,wc=new Er,_c=new Sr,Mc=new vr;function Sc(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Wa,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new yc;Zr.call(this),this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}Sc.prototype=g()(T()(Zr.prototype),{constructor:Sc,isLine:!0,copy:function(e){return Zr.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[0],i=1,r=t.count;i<r;i++)xc.fromBufferAttribute(t,i-1),bc.fromBufferAttribute(t,i),n[i]=n[i-1],n[i]+=xc.distanceTo(bc);e.setAttribute("lineDistance",new Ia(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this},raycast:function(e,t){var n=this.geometry,i=this.matrixWorld,r=e.params.Line.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),Mc.copy(n.boundingSphere),Mc.applyMatrix4(i),Mc.radius+=r,!1!==e.ray.intersectsSphere(Mc)){wc.copy(i).invert(),_c.copy(e.ray).applyMatrix4(wc);var a=(i=r/((this.scale.x+this.scale.y+this.scale.z)/3))*i,o=new Qi,s=new Qi,l=new Qi,c=new Qi,u=this.isLineSegments?2:1;if(n.isBufferGeometry){r=n.index;var h=n.attributes.position;if(null!==r)for(var d=r.array,f=0,p=d.length-1;f<p;f+=u){var m=d[f],v=d[f+1];o.fromBufferAttribute(h,m),s.fromBufferAttribute(h,v),a<_c.distanceSqToSegment(o,s,c,l)||(c.applyMatrix4(this.matrixWorld),(m=e.ray.origin.distanceTo(c))<e.near)||m>e.far||t.push({distance:m,point:l.clone().applyMatrix4(this.matrixWorld),index:f,face:null,faceIndex:null,object:this})}else for(var g,y=0,x=h.count-1;y<x;y+=u)o.fromBufferAttribute(h,y),s.fromBufferAttribute(h,y+1),a<_c.distanceSqToSegment(o,s,c,l)||(c.applyMatrix4(this.matrixWorld),(g=e.ray.origin.distanceTo(c))<e.near)||g>e.far||t.push({distance:g,point:l.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}else n.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},updateMorphTargets:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=k()(t);if(0<n.length){var i=t[n[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,a=i.length;r<a;r++){var o=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=r}}}}else void 0!==(t=e.morphTargets)&&0<t.length&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}});var Ec=new Qi,Tc=new Qi;function Cc(e,t){Sc.call(this,e,t),this.type="LineSegments"}Cc.prototype=g()(T()(Sc.prototype),{constructor:Cc,isLineSegments:!0,computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[],i=0,r=t.count;i<r;i+=2)Ec.fromBufferAttribute(t,i),Tc.fromBufferAttribute(t,i+1),n[i]=0===i?0:n[i-1],n[i+1]=n[i]+Ec.distanceTo(Tc);e.setAttribute("lineDistance",new Ia(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}});var Ac=function(e){h()(n,e);var t=te(n);function n(e,i){return p()(this,n),(e=t.call(this,e,i)).type="LineLoop",e}return m()(n)}(Sc),Lc=(Ac.prototype.isLineLoop=!0,function(e){h()(n,e);var t=te(n);function n(e){var i;return p()(this,n),(i=t.call(this)).type="PointsMaterial",i.color=new ba(16777215),i.map=null,i.alphaMap=null,i.size=1,i.sizeAttenuation=!0,i.morphTargets=!1,i.setValues(e),i}return m()(n,[{key:"copy",value:function(e){return c()(f()(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=A()(e),this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this}}]),n}(fa)),Pc=(Lc.prototype.isPointsMaterial=!0,new Er),kc=new Sr,Dc=new vr,Ic=new Qi;function Rc(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Wa,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Lc;Zr.call(this),this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}function Nc(e,t,n,i,r,a,o){var s=kc.distanceSqToPoint(e);s<n&&(n=new Qi,kc.closestPointToPoint(e,n),n.applyMatrix4(i),(e=r.ray.origin.distanceTo(n))<r.near||e>r.far||a.push({distance:e,distanceToRay:Math.sqrt(s),point:n,index:t,face:null,object:o}))}Rc.prototype=g()(T()(Zr.prototype),{constructor:Rc,isPoints:!0,copy:function(e){return Zr.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},raycast:function(e,t){var n=this.geometry,i=this.matrixWorld,r=e.params.Points.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),Dc.copy(n.boundingSphere),Dc.applyMatrix4(i),Dc.radius+=r,!1!==e.ray.intersectsSphere(Dc)){Pc.copy(i).invert(),kc.copy(e.ray).applyMatrix4(Pc);var a=(r=r/((this.scale.x+this.scale.y+this.scale.z)/3))*r;if(n.isBufferGeometry){r=n.index;var o=n.attributes.position;if(null!==r)for(var s=r.array,l=0,c=s.length;l<c;l++){var u=s[l];Ic.fromBufferAttribute(o,u),Nc(Ic,u,a,i,e,t,this)}else for(var h=0,d=o.count;h<d;h++)Ic.fromBufferAttribute(o,h),Nc(Ic,h,a,i,e,t,this)}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},updateMorphTargets:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=k()(t);if(0<n.length){var i=t[n[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,a=i.length;r<a;r++){var o=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=r}}}}else void 0!==(t=e.morphTargets)&&0<t.length&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}});var Oc=function(e){h()(n,e);var t=te(n);function n(e,i,r,a,o,s,l,c,h){p()(this,n),(i=t.call(this,e,i,r,a,o,s,l,c,h)).format=void 0!==l?l:Ot,i.minFilter=void 0!==s?s:yt,i.magFilter=void 0!==o?o:yt,i.generateMipmaps=!1;var d=u()(i);return"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback((function t(){d.needsUpdate=!0,e.requestVideoFrameCallback(t)})),i}return m()(n,[{key:"clone",value:function(){return new this.constructor(this.image).copy(this)}},{key:"update",value:function(){var e=this.image;0=="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}]),n}(Wi),Fc=(Oc.prototype.isVideoTexture=!0,function(e){h()(n,e);var t=te(n);function n(e,i,r,a,o,s,l,c,u,h,d,f){return p()(this,n),(s=t.call(this,null,s,l,c,u,h,a,o,d,f)).image={width:i,height:r},s.mipmaps=e,s.flipY=!1,s.generateMipmaps=!1,s}return m()(n)}(Wi)),zc=(Fc.prototype.isCompressedTexture=!0,function(e){h()(n,e);var t=te(n);function n(e,i,r,a,o,s,l,c,u){return p()(this,n),(e=t.call(this,e,i,r,a,o,s,l,c,u)).needsUpdate=!0,e}return m()(n)}(Wi)),Bc=(zc.prototype.isCanvasTexture=!0,function(e){h()(n,e);var t=te(n);function n(e,i,r,a,o,s,l,c,u,h){if(p()(this,n),(h=void 0!==h?h:Ut)!==Ut&&h!==Vt)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");return(a=t.call(this,null,a,o,s,l,c,h,r=void 0===(r=void 0===r&&h===Ut?Tt:r)&&h===Vt?Rt:r,u)).image={width:e,height:i},a.magFilter=void 0!==l?l:ft,a.minFilter=void 0!==c?c:ft,a.flipY=!1,a.generateMipmaps=!1,a}return m()(n)}(Wi)),Hc=(Bc.prototype.isDepthTexture=!0,function(e){h()(n,e);var t=te(n);function n(){var e,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:8,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:2*Math.PI,s=(p()(this,n),(e=t.call(this)).type="CircleGeometry",e.parameters={radius:i,segments:r,thetaStart:a,thetaLength:o},r=Math.max(3,r),[]),l=[],c=[],u=[],h=new Qi,d=new Ui;l.push(0,0,0),c.push(0,0,1),u.push(.5,.5);for(var f=0,m=3;f<=r;f++,m+=3){var v=a+f/r*o;h.x=i*Math.cos(v),h.y=i*Math.sin(v),l.push(h.x,h.y,h.z),c.push(0,0,1),d.x=(l[m]/i+1)/2,d.y=(l[m+1]/i+1)/2,u.push(d.x,d.y)}for(var g=1;g<=r;g++)s.push(g,g+1,0);return e.setIndex(s),e.setAttribute("position",new Ia(l,3)),e.setAttribute("normal",new Ia(c,3)),e.setAttribute("uv",new Ia(u,2)),e}return m()(n)}(Wa)),Uc=function(e){h()(n,e);var t=te(n);function n(){for(var e,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:8,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:1,l=5<arguments.length&&void 0!==arguments[5]&&arguments[5],c=6<arguments.length&&void 0!==arguments[6]?arguments[6]:0,h=7<arguments.length&&void 0!==arguments[7]?arguments[7]:2*Math.PI,d=(p()(this,n),(e=t.call(this)).type="CylinderGeometry",e.parameters={radiusTop:i,radiusBottom:r,height:a,radialSegments:o,heightSegments:s,openEnded:l,thetaStart:c,thetaLength:h},u()(e)),f=(o=Math.floor(o),s=Math.floor(s),[]),m=[],v=[],g=[],y=0,x=[],b=a/2,w=0,_=new Qi,M=new Qi,S=0,E=(r-i)/a,T=0;T<=s;T++){for(var C=[],A=T/s,L=A*(r-i)+i,P=0;P<=o;P++){var k=P/o,D=k*h+c,I=Math.sin(D);D=Math.cos(D);M.x=L*I,M.y=-A*a+b,M.z=L*D,m.push(M.x,M.y,M.z),_.set(I,E,D).normalize(),v.push(_.x,_.y,_.z),g.push(k,1-A),C.push(y++)}x.push(C)}for(var R=0;R<o;R++)for(var N=0;N<s;N++){var O=x[N][R],F=x[N+1][R],z=x[N+1][R+1],B=x[N][R+1];f.push(O,F,B),f.push(F,z,B),S+=6}function H(e){for(var t=y,n=new Ui,a=new Qi,s=0,l=!0===e?i:r,u=!0===e?1:-1,p=1;p<=o;p++)m.push(0,b*u,0),v.push(0,u,0),g.push(.5,.5),y++;for(var x=y,_=0;_<=o;_++){var M=_/o*h+c,S=Math.cos(M);M=Math.sin(M);a.x=l*M,a.y=b*u,a.z=l*S,m.push(a.x,a.y,a.z),v.push(0,u,0),n.x=.5*S+.5,n.y=.5*M*u+.5,g.push(n.x,n.y),y++}for(var E=0;E<o;E++){var T=t+E,C=x+E;!0===e?f.push(C,C+1,T):f.push(C+1,C,T),s+=3}d.addGroup(w,s,!0===e?1:2),w+=s}return d.addGroup(w,S,0),w+=S,!1===l&&(0<i&&H(!0),0<r)&&H(!1),e.setIndex(f),e.setAttribute("position",new Ia(m,3)),e.setAttribute("normal",new Ia(v,3)),e.setAttribute("uv",new Ia(g,2)),e}return m()(n)}(Wa),Vc=function(e){h()(n,e);var t=te(n);function n(){var e,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:8,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,s=4<arguments.length&&void 0!==arguments[4]&&arguments[4],l=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0,c=6<arguments.length&&void 0!==arguments[6]?arguments[6]:2*Math.PI;return p()(this,n),(e=t.call(this,0,i,r,a,o,s,l,c)).type="ConeGeometry",e.parameters={radius:i,height:r,radialSegments:a,heightSegments:o,openEnded:s,thetaStart:l,thetaLength:c},e}return m()(n)}(Uc),Gc=function(e){h()(n,e);var t=te(n);function n(e,i){for(var r,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,s=(p()(this,n),(r=t.call(this)).type="PolyhedronGeometry",r.parameters={vertices:e,indices:i,radius:a,detail:o},[]),l=[],c=o,u=new Qi,h=new Qi,d=new Qi,f=0;f<i.length;f+=3){ee(i[f+0],u),ee(i[f+1],h),ee(i[f+2],d),L=A=C=T=E=S=M=_=w=x=y=g=v=m=void 0;for(var m=u,v=h,g=d,y=c,x=y+1,w=[],_=0;_<=x;_++){w[_]=[];for(var M=m.clone().lerp(g,_/x),S=v.clone().lerp(g,_/x),E=x-_,T=0;T<=E;T++)w[_][T]=0===T&&_===x?M:M.clone().lerp(S,T/E)}for(var C=0;C<x;C++)for(var A=0;A<2*(x-C)-1;A++){var L=Math.floor(A/2);A%2==0?(J(w[C][L+1]),J(w[C+1][L]),J(w[C][L])):(J(w[C][L+1]),J(w[C+1][L+1]),J(w[C+1][L]))}}for(var P=a,k=new Qi,D=0;D<s.length;D+=3)k.x=s[D+0],k.y=s[D+1],k.z=s[D+2],k.normalize().multiplyScalar(P),s[D+0]=k.x,s[D+1]=k.y,s[D+2]=k.z;for(var I=new Qi,R=0;R<s.length;R+=3){I.x=s[R+0],I.y=s[R+1],I.z=s[R+2];var N=ne(I)/2/Math.PI+.5,O=function(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}(I)/Math.PI+.5;l.push(N,1-O)}for(var F=new Qi,z=new Qi,B=new Qi,H=new Qi,U=new Ui,V=new Ui,G=new Ui,j=0,W=0;j<s.length;j+=9,W+=6){F.set(s[j+0],s[j+1],s[j+2]),z.set(s[j+3],s[j+4],s[j+5]),B.set(s[j+6],s[j+7],s[j+8]),U.set(l[W+0],l[W+1]),V.set(l[W+2],l[W+3]),G.set(l[W+4],l[W+5]),H.copy(F).add(z).add(B).divideScalar(3);var X=ne(H);te(U,W+0,F,X),te(V,W+2,z,X),te(G,W+4,B,X)}for(var q=0;q<l.length;q+=6){var Y=l[q+0],$=l[q+2],Z=l[q+4],Q=Math.max(Y,$,Z),K=Math.min(Y,$,Z);.9<Q&&K<.1&&(Y<.2&&(l[q+0]+=1),$<.2&&(l[q+2]+=1),Z<.2)&&(l[q+4]+=1)}function J(e){s.push(e.x,e.y,e.z)}function ee(t,n){t*=3,n.x=e[0+t],n.y=e[1+t],n.z=e[2+t]}function te(e,t,n,i){i<0&&1===e.x&&(l[t]=e.x-1),0===n.x&&0===n.z&&(l[t]=i/2/Math.PI+.5)}function ne(e){return Math.atan2(e.z,-e.x)}return r.setAttribute("position",new Ia(s,3)),r.setAttribute("normal",new Ia(b()(s).call(s),3)),r.setAttribute("uv",new Ia(l,2)),0===o?r.computeVertexNormals():r.normalizeNormals(),r}return m()(n)}(Wa),jc=function(e){h()(n,e);var t=te(n);function n(){var e,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,a=1/(e=(p()(this,n),(1+Math.sqrt(5))/2));return(e=t.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-a,-e,0,-a,e,0,a,-e,0,a,e,-a,-e,0,-a,e,0,a,-e,0,a,e,0,-e,0,-a,e,0,-a,-e,0,a,e,0,a],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],i,r)).type="DodecahedronGeometry",e.parameters={radius:i,detail:r},e}return m()(n)}(Gc),Wc=new Qi,Xc=new Qi,qc=new Qi,Yc=new ha,$c=function(e){h()(n,e);var t=te(n);function n(e,i){var r;if(p()(this,n),(r=t.call(this)).type="EdgesGeometry",r.parameters={thresholdAngle:i},i=void 0!==i?i:1,!0===e.isGeometry)return console.error("THREE.EdgesGeometry no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),d()(r);for(var a,o,s,l=Math.pow(10,4),c=Math.cos(Hi.DEG2RAD*i),u=e.getIndex(),h=e.getAttribute("position"),f=(u||h).count,m=[0,0,0],v=["a","b","c"],g=new Array(3),y={},x=[],b=0;b<f;b+=3){u?(m[0]=u.getX(b),m[1]=u.getX(b+1),m[2]=u.getX(b+2)):(m[0]=b,m[1]=b+1,m[2]=b+2);var w,_=Yc.a,M=Yc.b,S=Yc.c;if(_.fromBufferAttribute(h,m[0]),M.fromBufferAttribute(h,m[1]),S.fromBufferAttribute(h,m[2]),Yc.getNormal(qc),g[0]=G()(w=G()(w="".concat(Math.round(_.x*l),",")).call(w,Math.round(_.y*l),",")).call(w,Math.round(_.z*l)),g[1]=G()(_=G()(w="".concat(Math.round(M.x*l),",")).call(w,Math.round(M.y*l),",")).call(_,Math.round(M.z*l)),g[2]=G()(_=G()(w="".concat(Math.round(S.x*l),",")).call(w,Math.round(S.y*l),",")).call(_,Math.round(S.z*l)),g[0]!==g[1]&&g[1]!==g[2]&&g[2]!==g[0])for(var E=0;E<3;E++){var T=(E+1)%3,C=g[E],A=g[T],L=Yc[v[E]],P=Yc[v[T]],k=G()(k="".concat(C,"_")).call(k,A);(A=G()(A="".concat(A,"_")).call(A,C))in y&&y[A]?(qc.dot(y[A].normal)<=c&&(x.push(L.x,L.y,L.z),x.push(P.x,P.y,P.z)),y[A]=null):k in y||(y[k]={index0:m[E],index1:m[T],normal:qc.clone()})}}for(a in y)y[a]&&(o=(s=y[a]).index0,s=s.index1,Wc.fromBufferAttribute(h,o),Xc.fromBufferAttribute(h,s),x.push(Wc.x,Wc.y,Wc.z),x.push(Xc.x,Xc.y,Xc.z));return r.setAttribute("position",new Ia(x,3)),r}return m()(n)}(Wa),Zc=function(e,t,n){n=n||2;var i,r,a,o,s,l=t&&t.length,c=l?t[0]*n:e.length,u=Qc(e,0,c,n,!0),h=[];if(u&&u.next!==u.prev){if(l&&(u=function(e,t,n,i){var r,a,o,s=[];for(r=0,a=t.length;r<a;r++)(o=Qc(e,o=t[r]*i,r<a-1?t[r+1]*i:e.length,i,!1))===o.next&&(o.steiner=!0),s.push(function(e){for(var t=e,n=e;(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),(t=t.next)!==e;);return n}(o));for(R()(s).call(s,Jc),r=0;r<s.length;r++)!function(e,t){(t=function(e,t){var n,i=t,r=e.x,a=e.y,o=-1/0;do{if(a<=i.y&&a>=i.next.y&&i.next.y!==i.y){var s=i.x+(a-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(s<=r&&o<s){if((o=s)===r){if(a===i.y)return i;if(a===i.next.y)return i.next}n=i.x<i.next.x?i:i.next}}}while((i=i.next)!==t);if(!n)return null;if(r!==o){var l,c=n,u=n.x,h=n.y,d=1/0;for(i=n;r>=i.x&&i.x>=u&&r!==i.x&&tu(a<h?r:o,a,u,h,a<h?o:r,a,i.x,i.y)&&(l=Math.abs(a-i.y)/(r-i.x),su(i,e))&&(l<d||l===d&&(i.x>n.x||i.x===n.x&&function(e,t){return nu(e.prev,e,t.prev)<0&&nu(t.next,e,e.next)<0}(n,i)))&&(n=i,d=l),(i=i.next)!==c;);}return n}(e,t))&&(e=lu(t,e),Kc(t,t.next),Kc(e,e.next))}(s[r],n),n=Kc(n,n.next);return n}(e,t,u,n)),e.length>80*n){for(var d=i=e[0],f=r=e[1],p=n;p<c;p+=n)(a=e[p])<d&&(d=a),(o=e[p+1])<f&&(f=o),i<a&&(i=a),r<o&&(r=o);s=0!==(s=Math.max(i-d,r-f))?1/s:0}!function e(t,n,i,r,a,o,s){if(t){if(!s&&o){for(var l=t,c=r,u=a,h=o,d=l;null===d.z&&(d.z=eu(d.x,d.y,c,u,h)),d.prevZ=d.prev,d.nextZ=d.next,(d=d.next)!==l;);d.prevZ.nextZ=null,d.prevZ=null;var f,p,m,v,g,y,x,b,w=d,_=1;do{for(p=w,g=w=null,y=0;p;){for(y++,m=p,f=x=0;f<_&&(x++,m=m.nextZ);f++);for(b=_;0<x||0<b&&m;)0!==x&&(0===b||!m||p.z<=m.z)?(p=(v=p).nextZ,x--):(m=(v=m).nextZ,b--),g?g.nextZ=v:w=v,v.prevZ=g,g=v;p=m}}while(g.nextZ=null,_*=2,1<y)}for(var M,S,E=t;t.prev!==t.next;)if(M=t.prev,S=t.next,o?function(e,t,n,i){var r=e.prev,a=e,o=e.next;if(!(0<=nu(r,a,o))){for(var s=(r.x<a.x?r.x<o.x?r:o:a.x<o.x?a:o).x,l=(r.y<a.y?r.y<o.y?r:o:a.y<o.y?a:o).y,c=(r.x>a.x?r.x>o.x?r:o:a.x>o.x?a:o).x,u=(r.y>a.y?r.y>o.y?r:o:a.y>o.y?a:o).y,h=eu(s,l,t,n,i),d=eu(c,u,t,n,i),f=e.prevZ,p=e.nextZ;f&&f.z>=h&&p&&p.z<=d;){if(f!==e.prev&&f!==e.next&&tu(r.x,r.y,a.x,a.y,o.x,o.y,f.x,f.y)&&0<=nu(f.prev,f,f.next))return;if(f=f.prevZ,p!==e.prev&&p!==e.next&&tu(r.x,r.y,a.x,a.y,o.x,o.y,p.x,p.y)&&0<=nu(p.prev,p,p.next))return;p=p.nextZ}for(;f&&f.z>=h;){if(f!==e.prev&&f!==e.next&&tu(r.x,r.y,a.x,a.y,o.x,o.y,f.x,f.y)&&0<=nu(f.prev,f,f.next))return;f=f.prevZ}for(;p&&p.z<=d;){if(p!==e.prev&&p!==e.next&&tu(r.x,r.y,a.x,a.y,o.x,o.y,p.x,p.y)&&0<=nu(p.prev,p,p.next))return;p=p.nextZ}return 1}}(t,r,a,o):function(e){var t=e.prev,n=e,i=e.next;if(!(0<=nu(t,n,i))){for(var r=e.next.next;r!==e.prev;){if(tu(t.x,t.y,n.x,n.y,i.x,i.y,r.x,r.y)&&0<=nu(r.prev,r,r.next))return;r=r.next}return 1}}(t))n.push(M.i/i),n.push(t.i/i),n.push(S.i/i),uu(t),t=S.next,E=S.next;else if((t=S)===E){s?1===s?e(t=function(e,t,n){var i=e;do{var r=i.prev,a=i.next.next}while(!iu(r,a)&&ru(r,i,i.next,a)&&su(r,a)&&su(a,r)&&(t.push(r.i/n),t.push(i.i/n),t.push(a.i/n),uu(i),uu(i.next),i=e=a),(i=i.next)!==e);return Kc(i)}(Kc(t),n,i),n,i,r,a,o,2):2===s&&function(t,n,i,r,a,o){var s=t;do{for(var l,c=s.next.next;c!==s.prev;){if(s.i!==c.i&&function(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&ru(n,n.next,e,t))return 1}while((n=n.next)!==e)}(e,t)&&(su(e,t)&&su(t,e)&&function(e,t){for(var n=e,i=!1,r=(e.x+t.x)/2,a=(e.y+t.y)/2;n.y>a!=n.next.y>a&&n.next.y!==n.y&&r<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(i=!i),(n=n.next)!==e;);return i}(e,t)&&(nu(e.prev,e,t.prev)||nu(e,t.prev,t))||iu(e,t)&&0<nu(e.prev,e,e.next)&&0<nu(t.prev,t,t.next))}(s,c))return l=lu(s,c),s=Kc(s,s.next),l=Kc(l,l.next),e(s,n,i,r,a,o),e(l,n,i,r,a,o);c=c.next}}while((s=s.next)!==t)}(t,n,i,r,a,o):e(Kc(t),n,i,r,a,o,1);break}}}(u,h,n,d,f,s)}return h};function Qc(e,t,n,i,r){var a,o;if(r===0<function(e,t,n,i){for(var r=0,a=t,o=n-i;a<n;a+=i)r+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return r}(e,t,n,i))for(a=t;a<n;a+=i)o=cu(a,e[a],e[a+1],o);else for(a=n-i;t<=a;a-=i)o=cu(a,e[a],e[a+1],o);return o&&iu(o,o.next)&&(uu(o),o=o.next),o}function Kc(e,t){if(!e)return e;t=t||e;var n,i=e;do{if(n=!1,i.steiner||!iu(i,i.next)&&0!==nu(i.prev,i,i.next))i=i.next;else{if(uu(i),(i=t=i.prev)===i.next)break;n=!0}}while(n||i!==t);return t}function Jc(e,t){return e.x-t.x}function eu(e,t,n,i,r){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*r)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*r)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function tu(e,t,n,i,r,a,o,s){return 0<=(r-o)*(t-s)-(e-o)*(a-s)&&0<=(e-o)*(i-s)-(n-o)*(t-s)&&0<=(n-o)*(a-s)-(r-o)*(i-s)}function nu(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function iu(e,t){return e.x===t.x&&e.y===t.y}function ru(e,t,n,i){var r=ou(nu(e,t,n)),a=ou(nu(e,t,i)),o=ou(nu(n,i,e)),s=ou(nu(n,i,t));return r!==a&&o!==s||0===r&&au(e,n,t)||0===a&&au(e,i,t)||0===o&&au(n,e,i)||!(0!==s||!au(n,t,i))}function au(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function ou(e){return 0<e?1:e<0?-1:0}function su(e,t){return nu(e.prev,e,e.next)<0?0<=nu(e,t,e.next)&&0<=nu(e,e.prev,t):nu(e,t,e.prev)<0||nu(e,e.next,t)<0}function lu(e,t){var n=new hu(e.i,e.x,e.y),i=new hu(t.i,t.x,t.y),r=e.next,a=t.prev;return(e.next=t).prev=e,(n.next=r).prev=n,(i.next=n).prev=i,(a.next=i).prev=a,i}function cu(e,t,n,i){return e=new hu(e,t,n),i?(e.next=i.next,(e.prev=i).next.prev=e,i.next=e):(e.prev=e).next=e,e}function uu(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function hu(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var du={area:function(e){for(var t=e.length,n=0,i=t-1,r=0;r<t;i=r++)n+=e[i].x*e[r].y-e[r].x*e[i].y;return.5*n},isClockWise:function(e){return du.area(e)<0},triangulateShape:function(e,t){var n=[],i=[],r=[],a=(fu(e),pu(n,e),e.length);U()(t).call(t,fu);for(var o=0;o<t.length;o++)i.push(a),a+=t[o].length,pu(n,t[o]);for(var s=Zc(n,i),l=0;l<s.length;l+=3)r.push(b()(s).call(s,l,l+3));return r}};function fu(e){var t=e.length;2<t&&e[t-1].equals(e[0])&&e.pop()}function pu(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}var mu=function(e){h()(n,e);var t=te(n);function n(e,i){p()(this,n),(r=t.call(this)).type="ExtrudeGeometry",r.parameters={shapes:e,options:i},e=M()(e)?e:[e];for(var r,a=u()(r),o=[],s=[],l=0,c=e.length;l<c;l++)!function(e){var t=[],n=void 0!==i.curveSegments?i.curveSegments:12,r=void 0!==i.steps?i.steps:1,l=void 0!==i.depth?i.depth:100,c=void 0===i.bevelEnabled||i.bevelEnabled,u=void 0!==i.bevelThickness?i.bevelThickness:6,h=void 0!==i.bevelSize?i.bevelSize:u-2,d=void 0!==i.bevelOffset?i.bevelOffset:0,f=void 0!==i.bevelSegments?i.bevelSegments:3,p=i.extrudePath,m=void 0!==i.UVGenerator?i.UVGenerator:vu;void 0!==i.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),l=i.amount);var v,g,y,x,b,w=!1;p&&(v=p.getSpacedPoints(r),c=!(w=!0),g=p.computeFrenetFrames(r,!1),y=new Qi,x=new Qi,b=new Qi),c||(d=h=u=f=0);var _=(p=e.extractPoints(n)).shape,M=p.holes;if(!du.isClockWise(_)){_=j()(_).call(_);for(var E=0,T=M.length;E<T;E++){var C=M[E];du.isClockWise(C)&&(M[E]=j()(C).call(C))}}for(var A=du.triangulateShape(_,M),L=_,P=0,k=M.length;P<k;P++){var D=M[P];_=G()(_).call(_,D)}function I(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}var R=_.length,N=A.length;function O(e,t,n){var i=e.x-t.x,r=e.y-t.y,a=n.x-e.x,o=n.y-e.y,s=i*i+r*r;if(Math.abs(i*o-r*a)>S.a){var l=Math.sqrt(s),c=Math.sqrt(a*a+o*o),u=t.x-r/l;t=t.y+i/l;if((n=(c=u+i*(l=((n.x-o/c-u)*o-(n.y+a/c-t)*a)/(i*o-r*a))-e.x)*c+(u=t+r*l-e.y)*u)<=2)return new Ui(c,u);l=Math.sqrt(n/2)}else t=!1,i>S.a?a>S.a&&(t=!0):i<-S.a?a<-S.a&&(t=!0):W()(r)===W()(o)&&(t=!0),l=t?(c=-r,u=i,Math.sqrt(s)):(c=i,u=r,Math.sqrt(s/2));return new Ui(c/l,u/l)}for(var F=[],z=0,B=L.length,H=B-1,U=z+1;z<B;z++,H++,U++)H===B&&(H=0),U===B&&(U=0),F[z]=O(L[z],L[H],L[U]);for(var V,X=[],q=G()(F).call(F),Y=0,$=M.length;Y<$;Y++){var Z=M[Y];V=[];for(var Q=0,K=Z.length,J=K-1,ee=Q+1;Q<K;Q++,J++,ee++)J===K&&(J=0),ee===K&&(ee=0),V[Q]=O(Z[Q],Z[J],Z[ee]);X.push(V),q=G()(q).call(q,V)}for(var te=0;te<f;te++){for(var ne=te/f,ie=u*Math.cos(ne*Math.PI/2),re=h*Math.sin(ne*Math.PI/2)+d,ae=0,oe=L.length;ae<oe;ae++){var se=I(L[ae],F[ae],re);Re(se.x,se.y,-ie)}for(var le=0,ce=M.length;le<ce;le++){var ue=M[le];V=X[le];for(var he=0,de=ue.length;he<de;he++){var fe=I(ue[he],V[he],re);Re(fe.x,fe.y,-ie)}}}for(var pe=h+d,me=0;me<R;me++){var ve=c?I(_[me],q[me],pe):_[me];w?(x.copy(g.normals[0]).multiplyScalar(ve.x),y.copy(g.binormals[0]).multiplyScalar(ve.y),b.copy(v[0]).add(x).add(y),Re(b.x,b.y,b.z)):Re(ve.x,ve.y,0)}for(var ge=1;ge<=r;ge++)for(var ye=0;ye<R;ye++){var xe=c?I(_[ye],q[ye],pe):_[ye];w?(x.copy(g.normals[ge]).multiplyScalar(xe.x),y.copy(g.binormals[ge]).multiplyScalar(xe.y),b.copy(v[ge]).add(x).add(y),Re(b.x,b.y,b.z)):Re(xe.x,xe.y,l/r*ge)}for(var be=f-1;0<=be;be--){for(var we=be/f,_e=u*Math.cos(we*Math.PI/2),Me=h*Math.sin(we*Math.PI/2)+d,Se=0,Ee=L.length;Se<Ee;Se++){var Te=I(L[Se],F[Se],Me);Re(Te.x,Te.y,l+_e)}for(var Ce=0,Ae=M.length;Ce<Ae;Ce++){var Le=M[Ce];V=X[Ce];for(var Pe=0,ke=Le.length;Pe<ke;Pe++){var De=I(Le[Pe],V[Pe],Me);w?Re(De.x,De.y+v[r-1].y,v[r-1].x+_e):Re(De.x,De.y,l+_e)}}}function Ie(e,t){for(var n=e.length;0<=--n;){var i=n,s=n-1;s<0&&(s=e.length-1);for(var l=0,c=r+2*f;l<c;l++){var u=R*l,h=R*(l+1),d=(p=d=void 0,t+i+u),p=t+s+u,v=t+s+h,g=t+i+h;Oe(d),Oe(p),Oe(g),Oe(p),Oe(v),Oe(g),d=o.length/3,Fe((p=m.generateSideWallUV(a,o,d-6,d-3,d-2,d-1))[0]),Fe(p[1]),Fe(p[3]),Fe(p[1]),Fe(p[2]),Fe(p[3])}}}function Re(e,n,i){t.push(e),t.push(n),t.push(i)}function Ne(e,t,n){Oe(e),Oe(t),Oe(n),e=o.length/3,Fe((t=m.generateTopUV(a,o,e-3,e-2,e-1))[0]),Fe(t[1]),Fe(t[2])}function Oe(e){o.push(t[3*e+0]),o.push(t[3*e+1]),o.push(t[3*e+2])}function Fe(e){s.push(e.x),s.push(e.y)}(function(){var e=o.length/3;if(c){for(var t=0*R,n=0;n<N;n++){var i=A[n];Ne(i[2]+t,i[1]+t,i[0]+t)}t=R*(r+2*f);for(var s=0;s<N;s++){var l=A[s];Ne(l[0]+t,l[1]+t,l[2]+t)}}else{for(var u=0;u<N;u++){var h=A[u];Ne(h[2],h[1],h[0])}for(var d=0;d<N;d++){var p=A[d];Ne(p[0]+R*r,p[1]+R*r,p[2]+R*r)}}a.addGroup(e,o.length/3-e,0)})(),function(){var e=o.length/3,t=0;Ie(L,t),t+=L.length;for(var n=0,i=M.length;n<i;n++){var r=M[n];Ie(r,t),t+=r.length}a.addGroup(e,o.length/3-e,1)}()}(e[l]);return r.setAttribute("position",new Ia(o,3)),r.setAttribute("uv",new Ia(s,2)),r.computeVertexNormals(),r}return m()(n,[{key:"toJSON",value:function(){var e=Wa.prototype.toJSON.call(this),t=n=this.parameters.shapes,n=this.parameters.options,i=e;if(i.shapes=[],M()(t))for(var r=0,a=t.length;r<a;r++){var o=t[r];i.shapes.push(o.uuid)}else i.shapes.push(t.uuid);return void 0!==n.extrudePath&&(i.options.extrudePath=n.extrudePath.toJSON()),i}}]),n}(Wa),vu={generateTopUV:function(e,t,n,i,r){var a=t[3*n],o=(n=t[3*n+1],t[3*i]),s=(i=t[3*i+1],t[3*r]);t=t[3*r+1];return[new Ui(a,n),new Ui(o,i),new Ui(s,t)]},generateSideWallUV:function(e,t,n,i,r,a){var o=t[3*n],s=t[3*n+1],l=(n=t[3*n+2],t[3*i]),c=t[3*i+1],u=(i=t[3*i+2],t[3*r]),h=t[3*r+1],d=(r=t[3*r+2],t[3*a]),f=t[3*a+1];t=t[3*a+2];return Math.abs(s-c)<.01?[new Ui(o,1-n),new Ui(l,1-i),new Ui(u,1-r),new Ui(d,1-t)]:[new Ui(s,1-n),new Ui(c,1-i),new Ui(h,1-r),new Ui(f,1-t)]}},gu=function(e){h()(n,e);var t=te(n);function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=(p()(this,n),(1+Math.sqrt(5))/2);return(r=t.call(this,[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,i)).type="IcosahedronGeometry",r.parameters={radius:e,detail:i},r}return m()(n)}(Gc),yu=function(e){h()(n,e);var t=te(n);function n(e){for(var i,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:12,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:2*Math.PI,s=(p()(this,n),(i=t.call(this)).type="LatheGeometry",i.parameters={points:e,segments:r,phiStart:a,phiLength:o},r=Math.floor(r),o=Hi.clamp(o,0,2*Math.PI),[]),l=[],c=[],u=1/r,h=new Qi,d=new Ui,f=0;f<=r;f++)for(var m=a+f*u*o,v=Math.sin(m),g=Math.cos(m),y=0;y<=e.length-1;y++)h.x=e[y].x*v,h.y=e[y].y,h.z=e[y].x*g,l.push(h.x,h.y,h.z),d.x=f/r,d.y=y/(e.length-1),c.push(d.x,d.y);for(var x=0;x<r;x++)for(var b=0;b<e.length-1;b++){var w=b+x*e.length,_=w+e.length,M=w+e.length+1,S=w+1;s.push(w,_,S),s.push(_,M,S)}if(i.setIndex(s),i.setAttribute("position",new Ia(l,3)),i.setAttribute("uv",new Ia(c,2)),i.computeVertexNormals(),o===2*Math.PI)for(var E=i.attributes.normal.array,T=new Qi,C=new Qi,A=new Qi,L=r*e.length*3,P=0,k=0;P<e.length;P++,k+=3)T.x=E[k+0],T.y=E[k+1],T.z=E[k+2],C.x=E[L+k+0],C.y=E[L+k+1],C.z=E[L+k+2],A.addVectors(T,C).normalize(),E[k+0]=E[L+k+0]=A.x,E[k+1]=E[L+k+1]=A.y,E[k+2]=E[L+k+2]=A.z;return i}return m()(n)}(Wa),xu=function(e){h()(n,e);var t=te(n);function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=(p()(this,n),t.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,i));return r.type="OctahedronGeometry",r.parameters={radius:e,detail:i},r}return m()(n)}(Gc);function bu(e,t,n){Wa.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n};for(var i=[],r=[],a=[],o=[],s=new Qi,l=new Qi,c=new Qi,u=new Qi,h=new Qi,d=(e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter."),t+1),f=0;f<=n;f++)for(var p=f/n,m=0;m<=t;m++){var v=m/t;e(v,p,l),r.push(l.x,l.y,l.z),0<=v-1e-5?(e(v-1e-5,p,c),u.subVectors(l,c)):(e(1e-5+v,p,c),u.subVectors(c,l)),0<=p-1e-5?(e(v,p-1e-5,c),h.subVectors(l,c)):(e(v,1e-5+p,c),h.subVectors(c,l)),s.crossVectors(u,h).normalize(),a.push(s.x,s.y,s.z),o.push(v,p)}for(var g=0;g<n;g++)for(var y=0;y<t;y++){var x=g*d+y+1,b=(g+1)*d+y+1,w=(g+1)*d+y;i.push(g*d+y,x,w),i.push(x,b,w)}this.setIndex(i),this.setAttribute("position",new Ia(r,3)),this.setAttribute("normal",new Ia(a,3)),this.setAttribute("uv",new Ia(o,2))}(bu.prototype=T()(Wa.prototype)).constructor=bu;var wu=function(e){h()(n,e);var t=te(n);function n(){for(var e,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:.5,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:8,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,l=5<arguments.length&&void 0!==arguments[5]?arguments[5]:2*Math.PI,c=(p()(this,n),(e=t.call(this)).type="RingGeometry",e.parameters={innerRadius:i,outerRadius:r,thetaSegments:a,phiSegments:o,thetaStart:s,thetaLength:l},a=Math.max(3,a),[]),u=[],h=[],d=[],f=i,m=(r-i)/(o=Math.max(1,o)),v=new Qi,g=new Ui,y=0;y<=o;y++){for(var x=0;x<=a;x++){var b=s+x/a*l;v.x=f*Math.cos(b),v.y=f*Math.sin(b),u.push(v.x,v.y,v.z),h.push(0,0,1),g.x=(v.x/r+1)/2,g.y=(v.y/r+1)/2,d.push(g.x,g.y)}f+=m}for(var w=0;w<o;w++)for(var _=w*(a+1),M=0;M<a;M++){var S=M+_,E=S+a+1,T=S+a+2,C=S+1;c.push(S,E,C),c.push(E,T,C)}return e.setIndex(c),e.setAttribute("position",new Ia(u,3)),e.setAttribute("normal",new Ia(h,3)),e.setAttribute("uv",new Ia(d,2)),e}return m()(n)}(Wa),_u=function(e){h()(n,e);var t=te(n);function n(e){var i,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:12,a=(p()(this,n),(i=t.call(this)).type="ShapeGeometry",i.parameters={shapes:e,curveSegments:r},[]),o=[],s=[],l=[],c=0,u=0;if(!1===M()(e))d(e);else for(var h=0;h<e.length;h++)d(e[h]),i.addGroup(c,u,h),c+=u,u=0;function d(e){var t=o.length/3,n=(e=e.extractPoints(r)).shape,i=e.holes;!1===du.isClockWise(n)&&(n=j()(n).call(n));for(var c=0,h=i.length;c<h;c++){var d=i[c];!0===du.isClockWise(d)&&(i[c]=j()(d).call(d))}for(var f=du.triangulateShape(n,i),p=0,m=i.length;p<m;p++){var v=i[p];n=G()(n).call(n,v)}for(var g=0,y=n.length;g<y;g++){var x=n[g];o.push(x.x,x.y,0),s.push(0,0,1),l.push(x.x,x.y)}for(var b=0,w=f.length;b<w;b++){var _=(S=f[b])[0]+t,M=S[1]+t,S=S[2]+t;a.push(_,M,S),u+=3}}return i.setIndex(a),i.setAttribute("position",new Ia(o,3)),i.setAttribute("normal",new Ia(s,3)),i.setAttribute("uv",new Ia(l,2)),i}return m()(n,[{key:"toJSON",value:function(){var e=Wa.prototype.toJSON.call(this),t=this.parameters.shapes,n=e;if(n.shapes=[],M()(t))for(var i=0,r=t.length;i<r;i++){var a=t[i];n.shapes.push(a.uuid)}else n.shapes.push(t.uuid);return n}}]),n}(Wa),Mu=function(e){h()(n,e);var t=te(n);function n(){for(var e,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:8,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:6,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:2*Math.PI,l=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0,c=6<arguments.length&&void 0!==arguments[6]?arguments[6]:Math.PI,u=(p()(this,n),(e=t.call(this)).type="SphereGeometry",e.parameters={radius:i,widthSegments:r,heightSegments:a,phiStart:o,phiLength:s,thetaStart:l,thetaLength:c},r=Math.max(3,Math.floor(r)),a=Math.max(2,Math.floor(a)),Math.min(l+c,Math.PI)),h=0,d=[],f=new Qi,m=new Qi,v=[],g=[],y=[],x=[],b=0;b<=a;b++){var w=[],_=b/a,M=0;0==b&&0==l?M=.5/r:b==a&&u==Math.PI&&(M=-.5/r);for(var S=0;S<=r;S++){var E=S/r;f.x=-i*Math.cos(o+E*s)*Math.sin(l+_*c),f.y=i*Math.cos(l+_*c),f.z=i*Math.sin(o+E*s)*Math.sin(l+_*c),g.push(f.x,f.y,f.z),m.copy(f).normalize(),y.push(m.x,m.y,m.z),x.push(E+M,1-_),w.push(h++)}d.push(w)}for(var T=0;T<a;T++)for(var C=0;C<r;C++){var A=d[T][C+1],L=d[T][C],P=d[T+1][C],k=d[T+1][C+1];(0!==T||0<l)&&v.push(A,L,k),(T!==a-1||u<Math.PI)&&v.push(L,P,k)}return e.setIndex(v),e.setAttribute("position",new Ia(g,3)),e.setAttribute("normal",new Ia(y,3)),e.setAttribute("uv",new Ia(x,2)),e}return m()(n)}(Wa),Su=function(e){h()(n,e);var t=te(n);function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=(p()(this,n),t.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,i));return r.type="TetrahedronGeometry",r.parameters={radius:e,detail:i},r}return m()(n)}(Gc),Eu=function(e){h()(n,e);var t=te(n);function n(e){var i,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=(p()(this,n),r.font);return a&&a.isFont?(a=a.generateShapes(e,r.size),r.depth=void 0!==r.height?r.height:50,void 0===r.bevelThickness&&(r.bevelThickness=10),void 0===r.bevelSize&&(r.bevelSize=8),void 0===r.bevelEnabled&&(r.bevelEnabled=!1),(i=t.call(this,a,r)).type="TextGeometry",i):(console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),d()(i,new Wa))}return m()(n)}(mu),Tu=function(e){h()(n,e);var t=te(n);function n(){for(var e,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:.4,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:8,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:6,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:2*Math.PI,l=(p()(this,n),(e=t.call(this)).type="TorusGeometry",e.parameters={radius:i,tube:r,radialSegments:a,tubularSegments:o,arc:s},a=Math.floor(a),o=Math.floor(o),[]),c=[],u=[],h=[],d=new Qi,f=new Qi,m=new Qi,v=0;v<=a;v++)for(var g=0;g<=o;g++){var y=g/o*s,x=v/a*Math.PI*2;f.x=(i+r*Math.cos(x))*Math.cos(y),f.y=(i+r*Math.cos(x))*Math.sin(y),f.z=r*Math.sin(x),c.push(f.x,f.y,f.z),d.x=i*Math.cos(y),d.y=i*Math.sin(y),m.subVectors(f,d).normalize(),u.push(m.x,m.y,m.z),h.push(g/o),h.push(v/a)}for(var b=1;b<=a;b++)for(var w=1;w<=o;w++){var _=(o+1)*(b-1)+w-1,M=(o+1)*(b-1)+w,S=(o+1)*b+w;l.push((o+1)*b+w-1,_,S),l.push(_,M,S)}return e.setIndex(l),e.setAttribute("position",new Ia(c,3)),e.setAttribute("normal",new Ia(u,3)),e.setAttribute("uv",new Ia(h,2)),e}return m()(n)}(Wa),Cu=function(e){h()(n,e);var t=te(n);function n(){for(var e,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:.4,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:64,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:8,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:2,l=5<arguments.length&&void 0!==arguments[5]?arguments[5]:3,c=(p()(this,n),(e=t.call(this)).type="TorusKnotGeometry",e.parameters={radius:i,tube:r,tubularSegments:a,radialSegments:o,p:s,q:l},a=Math.floor(a),o=Math.floor(o),[]),u=[],h=[],d=[],f=new Qi,m=new Qi,v=new Qi,g=new Qi,y=new Qi,x=new Qi,b=new Qi,w=0;w<=a;++w){var _=w/a*s*Math.PI*2;k(_,s,l,i,v),k(.01+_,s,l,i,g),x.subVectors(g,v),b.addVectors(g,v),y.crossVectors(x,b),b.crossVectors(y,x),y.normalize(),b.normalize();for(var M=0;M<=o;++M){var S=M/o*Math.PI*2,E=-r*Math.cos(S);S=r*Math.sin(S);f.x=v.x+(E*b.x+S*y.x),f.y=v.y+(E*b.y+S*y.y),f.z=v.z+(E*b.z+S*y.z),u.push(f.x,f.y,f.z),m.subVectors(f,v).normalize(),h.push(m.x,m.y,m.z),d.push(w/a),d.push(M/o)}}for(var T=1;T<=a;T++)for(var C=1;C<=o;C++){var A=(o+1)*T+(C-1),L=(o+1)*T+C,P=(o+1)*(T-1)+C;c.push((o+1)*(T-1)+(C-1),A,P),c.push(A,L,P)}function k(e,t,n,i,r){var a=Math.cos(e),o=Math.sin(e);n=n/t*e,t=Math.cos(n);r.x=i*(2+t)*.5*a,r.y=i*(2+t)*o*.5,r.z=i*Math.sin(n)*.5}return e.setIndex(c),e.setAttribute("position",new Ia(u,3)),e.setAttribute("normal",new Ia(h,3)),e.setAttribute("uv",new Ia(d,2)),e}return m()(n)}(Wa),Au=function(e){h()(n,e);var t=te(n);function n(e){for(var i,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:64,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:8,s=4<arguments.length&&void 0!==arguments[4]&&arguments[4],l=(p()(this,n),(i=t.call(this)).type="TubeGeometry",i.parameters={path:e,tubularSegments:r,radius:a,radialSegments:o,closed:s},e.computeFrenetFrames(r,s)),c=(i.tangents=l.tangents,i.normals=l.normals,i.binormals=l.binormals,new Qi),u=new Qi,h=new Ui,d=new Qi,f=[],m=[],v=[],g=[],y=0;y<r;y++)C(y);C(!1===s?r:0);for(var x=0;x<=r;x++)for(var b=0;b<=o;b++)h.x=x/r,h.y=b/o,v.push(h.x,h.y);for(var w=1;w<=r;w++)for(var _=1;_<=o;_++){var M=(o+1)*(w-1)+(_-1),S=(o+1)*w+(_-1),E=(o+1)*w+_,T=(o+1)*(w-1)+_;g.push(M,S,T),g.push(S,E,T)}function C(t){d=e.getPointAt(t/r,d);for(var n=l.normals[t],i=l.binormals[t],s=0;s<=o;s++){var h=s/o*Math.PI*2,p=Math.sin(h);h=-Math.cos(h);u.x=h*n.x+p*i.x,u.y=h*n.y+p*i.y,u.z=h*n.z+p*i.z,u.normalize(),m.push(u.x,u.y,u.z),c.x=d.x+a*u.x,c.y=d.y+a*u.y,c.z=d.z+a*u.z,f.push(c.x,c.y,c.z)}}return i.setIndex(g),i.setAttribute("position",new Ia(f,3)),i.setAttribute("normal",new Ia(m,3)),i.setAttribute("uv",new Ia(v,2)),i}return m()(n,[{key:"toJSON",value:function(){var e=Wa.prototype.toJSON.call(this);return e.path=this.parameters.path.toJSON(),e}}]),n}(Wa),Lu=function(e){h()(n,e);var t=te(n);function n(e){var i;if(p()(this,n),(i=t.call(this)).type="WireframeGeometry",!0===e.isGeometry)return console.error("THREE.WireframeGeometry no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),d()(i);var r=[],a=[0,0],o={},s=new Qi;if(null!==e.index){for(var l,c=e.attributes.position,u=e.index,h=e.groups,f=0,m=(h=0===h.length?[{start:0,count:u.count,materialIndex:0}]:h).length;f<m;++f)for(var v=h[f],g=v.start,y=g,x=g+v.count;y<x;y+=3)for(var b=0;b<3;b++){var w=u.getX(y+b),_=u.getX(y+(b+1)%3);void 0===o[w=(a[0]=Math.min(w,_),a[1]=Math.max(w,_),a[0]+","+a[1])]&&(o[w]={index1:a[0],index2:a[1]})}for(l in o){var M=o[l];s.fromBufferAttribute(c,M.index1),r.push(s.x,s.y,s.z),s.fromBufferAttribute(c,M.index2),r.push(s.x,s.y,s.z)}}else for(var S=e.attributes.position,E=0,T=S.count/3;E<T;E++)for(var C=0;C<3;C++){s.fromBufferAttribute(S,3*E+C),r.push(s.x,s.y,s.z);var A=3*E+(C+1)%3;s.fromBufferAttribute(S,A),r.push(s.x,s.y,s.z)}return i.setAttribute("position",new Ia(r,3)),i}return m()(n)}(Wa),Pu=t()({__proto__:null,BoxGeometry:ho,BoxBufferGeometry:ho,CircleGeometry:Hc,CircleBufferGeometry:Hc,ConeGeometry:Vc,ConeBufferGeometry:Vc,CylinderGeometry:Uc,CylinderBufferGeometry:Uc,DodecahedronGeometry:jc,DodecahedronBufferGeometry:jc,EdgesGeometry:$c,ExtrudeGeometry:mu,ExtrudeBufferGeometry:mu,IcosahedronGeometry:gu,IcosahedronBufferGeometry:gu,LatheGeometry:yu,LatheBufferGeometry:yu,OctahedronGeometry:xu,OctahedronBufferGeometry:xu,ParametricGeometry:bu,ParametricBufferGeometry:bu,PlaneGeometry:Ao,PlaneBufferGeometry:Ao,PolyhedronGeometry:Gc,PolyhedronBufferGeometry:Gc,RingGeometry:wu,RingBufferGeometry:wu,ShapeGeometry:_u,ShapeBufferGeometry:_u,SphereGeometry:Mu,SphereBufferGeometry:Mu,TetrahedronGeometry:Su,TetrahedronBufferGeometry:Su,TextGeometry:Eu,TextBufferGeometry:Eu,TorusGeometry:Tu,TorusBufferGeometry:Tu,TorusKnotGeometry:Cu,TorusKnotBufferGeometry:Cu,TubeGeometry:Au,TubeBufferGeometry:Au,WireframeGeometry:Lu}),ku=function(e){h()(n,e);var t=te(n);function n(e){var i;return p()(this,n),(i=t.call(this)).type="ShadowMaterial",i.color=new ba(0),i.transparent=!0,i.setValues(e),i}return m()(n,[{key:"copy",value:function(e){return c()(f()(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this}}]),n}(fa),Du=(ku.prototype.isShadowMaterial=!0,function(e){h()(n,e);var t=te(n);function n(e){return p()(this,n),(e=t.call(this,e)).type="RawShaderMaterial",e}return m()(n)}(vo));function Iu(e){fa.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new ba(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ba(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=oi,this.normalScale=new Ui(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.flatShading=!1,this.vertexTangents=!1,this.setValues(e)}function Ru(e){Iu.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ui(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,w()(this,"ior",{get:function(){return(1+.4*this.reflectivity)/(1-.4*this.reflectivity)},set:function(e){this.reflectivity=Hi.clamp(2.5*(e-1)/(e+1),0,1)}}),this.sheen=null,this.transmission=0,this.transmissionMap=null,this.setValues(e)}Du.prototype.isRawShaderMaterial=!0,((Iu.prototype=T()(fa.prototype)).constructor=Iu).prototype.isMeshStandardMaterial=!0,Iu.prototype.copy=function(e){return fa.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=A()(e),this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.flatShading=e.flatShading,this.vertexTangents=e.vertexTangents,this},((Ru.prototype=T()(Iu.prototype)).constructor=Ru).prototype.isMeshPhysicalMaterial=!0,Ru.prototype.copy=function(e){return Iu.prototype.copy.call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.reflectivity=e.reflectivity,e.sheen?this.sheen=(this.sheen||new ba).copy(e.sheen):this.sheen=null,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this};var Nu=function(e){h()(n,e);var t=te(n);function n(e){var i;return p()(this,n),(i=t.call(this)).type="MeshPhongMaterial",i.color=new ba(16777215),i.specular=new ba(1118481),i.shininess=30,i.map=null,i.lightMap=null,i.lightMapIntensity=1,i.aoMap=null,i.aoMapIntensity=1,i.emissive=new ba(0),i.emissiveIntensity=1,i.emissiveMap=null,i.bumpMap=null,i.bumpScale=1,i.normalMap=null,i.normalMapType=oi,i.normalScale=new Ui(1,1),i.displacementMap=null,i.displacementScale=1,i.displacementBias=0,i.specularMap=null,i.alphaMap=null,i.envMap=null,i.combine=Ye,i.reflectivity=1,i.refractionRatio=.98,i.wireframe=!1,i.wireframeLinewidth=1,i.wireframeLinecap="round",i.wireframeLinejoin="round",i.skinning=!1,i.morphTargets=!1,i.morphNormals=!1,i.flatShading=!1,i.setValues(e),i}return m()(n,[{key:"copy",value:function(e){return c()(f()(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=A()(e),this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.flatShading=e.flatShading,this}}]),n}(fa),Ou=(Nu.prototype.isMeshPhongMaterial=!0,function(e){h()(n,e);var t=te(n);function n(e){var i;return p()(this,n),(i=t.call(this)).defines={TOON:""},i.type="MeshToonMaterial",i.color=new ba(16777215),i.map=null,i.gradientMap=null,i.lightMap=null,i.lightMapIntensity=1,i.aoMap=null,i.aoMapIntensity=1,i.emissive=new ba(0),i.emissiveIntensity=1,i.emissiveMap=null,i.bumpMap=null,i.bumpScale=1,i.normalMap=null,i.normalMapType=oi,i.normalScale=new Ui(1,1),i.displacementMap=null,i.displacementScale=1,i.displacementBias=0,i.alphaMap=null,i.wireframe=!1,i.wireframeLinewidth=1,i.wireframeLinecap="round",i.wireframeLinejoin="round",i.skinning=!1,i.morphTargets=!1,i.morphNormals=!1,i.setValues(e),i}return m()(n,[{key:"copy",value:function(e){return c()(f()(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=A()(e),this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this}}]),n}(fa)),Fu=(Ou.prototype.isMeshToonMaterial=!0,function(e){h()(n,e);var t=te(n);function n(e){var i;return p()(this,n),(i=t.call(this)).type="MeshNormalMaterial",i.bumpMap=null,i.bumpScale=1,i.normalMap=null,i.normalMapType=oi,i.normalScale=new Ui(1,1),i.displacementMap=null,i.displacementScale=1,i.displacementBias=0,i.wireframe=!1,i.wireframeLinewidth=1,i.fog=!1,i.skinning=!1,i.morphTargets=!1,i.morphNormals=!1,i.flatShading=!1,i.setValues(e),i}return m()(n,[{key:"copy",value:function(e){return c()(f()(n.prototype),"copy",this).call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.flatShading=e.flatShading,this}}]),n}(fa)),zu=(Fu.prototype.isMeshNormalMaterial=!0,function(e){h()(n,e);var t=te(n);function n(e){var i;return p()(this,n),(i=t.call(this)).type="MeshLambertMaterial",i.color=new ba(16777215),i.map=null,i.lightMap=null,i.lightMapIntensity=1,i.aoMap=null,i.aoMapIntensity=1,i.emissive=new ba(0),i.emissiveIntensity=1,i.emissiveMap=null,i.specularMap=null,i.alphaMap=null,i.envMap=null,i.combine=Ye,i.reflectivity=1,i.refractionRatio=.98,i.wireframe=!1,i.wireframeLinewidth=1,i.wireframeLinecap="round",i.wireframeLinejoin="round",i.skinning=!1,i.morphTargets=!1,i.morphNormals=!1,i.setValues(e),i}return m()(n,[{key:"copy",value:function(e){return c()(f()(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=A()(e),this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this}}]),n}(fa)),Bu=(zu.prototype.isMeshLambertMaterial=!0,function(e){h()(n,e);var t=te(n);function n(e){var i;return p()(this,n),(i=t.call(this)).defines={MATCAP:""},i.type="MeshMatcapMaterial",i.color=new ba(16777215),i.matcap=null,i.map=null,i.bumpMap=null,i.bumpScale=1,i.normalMap=null,i.normalMapType=oi,i.normalScale=new Ui(1,1),i.displacementMap=null,i.displacementScale=1,i.displacementBias=0,i.alphaMap=null,i.skinning=!1,i.morphTargets=!1,i.morphNormals=!1,i.flatShading=!1,i.setValues(e),i}return m()(n,[{key:"copy",value:function(e){return c()(f()(n.prototype),"copy",this).call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=A()(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.flatShading=e.flatShading,this}}]),n}(fa)),Hu=(Bu.prototype.isMeshMatcapMaterial=!0,function(e){h()(n,e);var t=te(n);function n(e){var i;return p()(this,n),(i=t.call(this)).type="LineDashedMaterial",i.scale=1,i.dashSize=3,i.gapSize=1,i.setValues(e),i}return m()(n,[{key:"copy",value:function(e){return c()(f()(n.prototype),"copy",this).call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}]),n}(yc)),Uu=(Hu.prototype.isLineDashedMaterial=!0,t()({__proto__:null,ShadowMaterial:ku,SpriteMaterial:Bl,RawShaderMaterial:Du,ShaderMaterial:vo,PointsMaterial:Lc,MeshPhysicalMaterial:Ru,MeshStandardMaterial:Iu,MeshPhongMaterial:Nu,MeshToonMaterial:Ou,MeshNormalMaterial:Fu,MeshLambertMaterial:zu,MeshDepthMaterial:yl,MeshDistanceMaterial:xl,MeshBasicMaterial:wa,MeshMatcapMaterial:Bu,LineDashedMaterial:Hu,LineBasicMaterial:yc,Material:fa})),Vu={arraySlice:function(e,t,n){return Vu.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):b()(e).call(e,t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):b()(Array.prototype).call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,n=new Array(t),i=0;i!==t;++i)n[i]=i;return R()(n).call(n,(function(t,n){return e[t]-e[n]})),n},sortedArray:function(e,t,n){for(var i=e.length,r=new e.constructor(i),a=0,o=0;o!==i;++a)for(var s=n[a]*t,l=0;l!==t;++l)r[o++]=e[s+l];return r},flattenJSON:function(e,t,n,i){for(var r=1,a=e[0];void 0!==a&&void 0===a[i];)a=e[r++];if(void 0!==a){var o=a[i];if(void 0!==o)if(M()(o))for(;void 0!==(o=a[i])&&(t.push(a.time),n.push.apply(n,o)),void 0!==(a=e[r++]););else if(void 0!==o.toArray)for(;void 0!==(o=a[i])&&(t.push(a.time),o.toArray(n,n.length)),void 0!==(a=e[r++]););else for(;void 0!==(o=a[i])&&(t.push(a.time),n.push(o)),void 0!==(a=e[r++]););}},subclip:function(e,t,n,i){for(var r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:30,a=e.clone(),o=(a.name=t,[]),s=0;s<a.tracks.length;++s){for(var l=a.tracks[s],c=l.getValueSize(),u=[],h=[],d=0;d<l.times.length;++d){var f=l.times[d]*r;if(!(f<n||i<=f)){u.push(l.times[d]);for(var p=0;p<c;++p)h.push(B()(l)[d*c+p])}}0!==u.length&&(l.times=Vu.convertArray(u,l.times.constructor),l.values=Vu.convertArray(h,B()(l).constructor),o.push(l))}a.tracks=o;for(var m=1/0,v=0;v<a.tracks.length;++v)m>a.tracks[v].times[0]&&(m=a.tracks[v].times[0]);for(var g=0;g<a.tracks.length;++g)a.tracks[g].shift(-1*m);return a.resetDuration(),a},makeClipAdditive:function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:e,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:30,r=n.tracks.length,a=t/(i=i<=0?30:i),o=0;o<r;++o)!function(){var t=n.tracks[o],i=t.ValueTypeName;if("bool"!==i&&"string"!==i){var r=q()(u=e.tracks).call(u,(function(e){return e.name===t.name&&e.ValueTypeName===i}));if(void 0!==r)for(var s,l,c,u=0,h=t.getValueSize(),d=(t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=h/3),0),f=r.getValueSize(),p=(r.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=f/3),t.times.length-1),m=(s=a<=t.times[0]?(l=h-(c=u),Vu.arraySlice(B()(t),c,l)):a>=t.times[p]?(l=(c=p*h+u)+h-u,Vu.arraySlice(B()(t),c,l)):(c=h-(p=u),(l=t.createInterpolant()).evaluate(a),Vu.arraySlice(l.resultBuffer,p,c)),"quaternion"===i&&(new Zi).fromArray(s).normalize().conjugate().toArray(s),r.times.length),v=0;v<m;++v){var g=v*f+d;if("quaternion"===i)Zi.multiplyQuaternionsFlat(B()(r),g,s,0,B()(r),g);else for(var y=f-2*d,x=0;x<y;++x)B()(r)[g+x]-=s[x]}}}();return e.blendMode=Xn,e}};function Gu(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n}function ju(e,t,n,i){Gu.call(this,e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Wu(e,t,n,i){Gu.call(this,e,t,n,i)}function Xu(e,t,n,i){Gu.call(this,e,t,n,i)}g()(Gu.prototype,{evaluate:function(e){var t,n=this.parameterPositions,i=this._cachedIndex,r=n[i],a=n[i-1];e:{t:{n:{i:if(!(e<r)){for(var o=i+2;;){if(void 0===r){if(e<a)break i;return i=n.length,this._cachedIndex=i,this.afterEnd_(i-1,e,a)}if(i===o)break;if(a=r,e<(r=n[++i]))break t}t=n.length;break n}if(a<=e)break e;var s=n[1];e<s&&(i=2,a=s);for(var l=i-2;;){if(void 0===a)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(i===l)break;if(r=a,(a=n[--i-1])<=e)break t}t=i,i=0}for(;i<t;){var c=i+t>>>1;e<n[c]?t=c:i=1+c}if(r=n[i],void 0===(a=n[i-1]))return this._cachedIndex=0,this.beforeStart_(0,e,r);if(void 0===r)return i=n.length,this._cachedIndex=i,this.afterEnd_(i-1,a,e)}this._cachedIndex=i,this.intervalChanged_(i,a,r)}return this.interpolate_(i,a,e,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i,a=0;a!==i;++a)t[a]=n[r+a];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),g()(Gu.prototype,{beforeStart_:Gu.prototype.copySampleValue_,afterEnd_:Gu.prototype.copySampleValue_}),ju.prototype=g()(T()(Gu.prototype),{constructor:ju,DefaultSettings_:{endingStart:Vn,endingEnd:Vn},intervalChanged_:function(e,t,n){var i=this.parameterPositions,r=e-2,a=e+1,o=i[r],s=i[a];if(void 0===o)switch(this.getSettings_().endingStart){case Gn:r=e,o=2*t-n;break;case jn:o=t+i[r=i.length-2]-i[r+1];break;default:r=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case Gn:a=e,s=2*n-t;break;case jn:s=n+i[a=1]-i[0];break;default:a=e-1,s=t}var l=.5*(n-t),c=this.valueSize;this._weightPrev=l/(t-o),this._weightNext=l/(s-n),this._offsetPrev=r*c,this._offsetNext=a*c},interpolate_:function(e,t,n,i){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,c=this._offsetPrev,u=this._offsetNext,h=(e=this._weightPrev,this._weightNext),d=-e*(t=(i=(n=(n-t)/(i-t))*n)*n)+2*e*i-e*n,f=(1+e)*t+(-1.5-2*e)*i+(-.5+e)*n+1,p=(-1-h)*t+(1.5+h)*i+.5*n,m=h*t-h*i,v=0;v!==o;++v)r[v]=d*a[c+v]+f*a[l+v]+p*a[s+v]+m*a[u+v];return r}}),Wu.prototype=g()(T()(Gu.prototype),{constructor:Wu,interpolate_:function(e,t,n,i){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,c=(n-t)/(i-t),u=1-c,h=0;h!==o;++h)r[h]=a[l+h]*u+a[s+h]*c;return r}}),Xu.prototype=g()(T()(Gu.prototype),{constructor:Xu,interpolate_:function(e){return this.copySampleValue_(e-1)}});var qu=function(){function e(t,n,i,r){if(p()(this,e),void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===n||0===n.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Vu.convertArray(n,this.TimeBufferType),this.values=Vu.convertArray(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}return m()(e,[{key:"InterpolantFactoryMethodDiscrete",value:function(e){return new Xu(this.times,B()(this),this.getValueSize(),e)}},{key:"InterpolantFactoryMethodLinear",value:function(e){return new Wu(this.times,B()(this),this.getValueSize(),e)}},{key:"InterpolantFactoryMethodSmooth",value:function(e){return new ju(this.times,B()(this),this.getValueSize(),e)}},{key:"setInterpolation",value:function(e){var t;switch(e){case Bn:t=this.InterpolantFactoryMethodDiscrete;break;case Hn:t=this.InterpolantFactoryMethodLinear;break;case Un:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}console.warn("THREE.KeyframeTrack:",n)}else this.createInterpolant=t;return this}},{key:"getInterpolation",value:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Bn;case this.InterpolantFactoryMethodLinear:return Hn;case this.InterpolantFactoryMethodSmooth:return Un}}},{key:"getValueSize",value:function(){return B()(this).length/this.times.length}},{key:"shift",value:function(e){if(0!==e)for(var t=this.times,n=0,i=t.length;n!==i;++n)t[n]+=e;return this}},{key:"scale",value:function(e){if(1!==e)for(var t=this.times,n=0,i=t.length;n!==i;++n)t[n]*=e;return this}},{key:"trim",value:function(e,t){for(var n,i=this.times,r=i.length,a=0,o=r-1;a!==r&&i[a]<e;)++a;for(;-1!==o&&i[o]>t;)--o;return++o,0===a&&o===r||(o<=a&&(a=(o=Math.max(o,1))-1),n=this.getValueSize(),this.times=Vu.arraySlice(i,a,o),this.values=Vu.arraySlice(B()(this),a*n,o*n)),this}},{key:"validate",value:function(){for(var e=!0,t=this.getValueSize(),n=(t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1),this.times),i=B()(this),r=n.length,a=(0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1),null),o=0;o!==r;o++){var s=n[o];if("number"==typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),e=!1;break}if(null!==a&&s<a){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,a),e=!1;break}a=s}if(void 0!==i&&Vu.isTypedArray(i))for(var l=0,c=i.length;l!==c;++l){var u=i[l];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,u),e=!1;break}}return e}},{key:"optimize",value:function(){for(var e=Vu.arraySlice(this.times),t=Vu.arraySlice(B()(this)),n=this.getValueSize(),i=this.getInterpolation()===Un,r=e.length-1,a=1,o=1;o<r;++o){var s=!1,l=e[o];if(l!==e[o+1]&&(1!==o||l!==e[0]))if(i)s=!0;else for(var c=o*n,u=c-n,h=c+n,d=0;d!==n;++d){var f=t[c+d];if(f!==t[u+d]||f!==t[h+d]){s=!0;break}}if(s){if(o!==a){e[a]=e[o];for(var p=o*n,m=a*n,v=0;v!==n;++v)t[m+v]=t[p+v]}++a}}if(0<r){e[a]=e[r];for(var g=r*n,y=a*n,x=0;x!==n;++x)t[y+x]=t[g+x];++a}return a!==e.length?(this.times=Vu.arraySlice(e,0,a),this.values=Vu.arraySlice(t,0,a*n)):(this.times=e,this.values=t),this}},{key:"clone",value:function(){var e=Vu.arraySlice(this.times,0),t=Vu.arraySlice(B()(this),0);return(e=new this.constructor(this.name,e,t)).createInterpolant=this.createInterpolant,e}}],[{key:"toJSON",value:function(e){var t,n=e.constructor;return n.toJSON!==this.toJSON?t=n.toJSON(e):(t={name:e.name,times:Vu.convertArray(e.times,Array),values:Vu.convertArray(B()(e),Array)},(n=e.getInterpolation())!==e.DefaultInterpolation&&(t.interpolation=n)),t.type=e.ValueTypeName,t}}]),e}(),Yu=(qu.prototype.TimeBufferType=Float32Array,qu.prototype.ValueBufferType=Float32Array,qu.prototype.DefaultInterpolation=Hn,function(e){h()(n,e);var t=te(n);function n(){return p()(this,n),t.apply(this,arguments)}return m()(n)}(qu)),$u=(Yu.prototype.ValueTypeName="bool",Yu.prototype.ValueBufferType=Array,Yu.prototype.DefaultInterpolation=Bn,Yu.prototype.InterpolantFactoryMethodLinear=void 0,Yu.prototype.InterpolantFactoryMethodSmooth=void 0,function(e){h()(n,e);var t=te(n);function n(){return p()(this,n),t.apply(this,arguments)}return m()(n)}(qu)),Zu=($u.prototype.ValueTypeName="color",function(e){h()(n,e);var t=te(n);function n(){return p()(this,n),t.apply(this,arguments)}return m()(n)}(qu));function Qu(e,t,n,i){Gu.call(this,e,t,n,i)}Zu.prototype.ValueTypeName="number",Qu.prototype=g()(T()(Gu.prototype),{constructor:Qu,interpolate_:function(e,t,n,i){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(n-t)/(i-t),l=e*o,c=l+o;l!==c;l+=4)Zi.slerpFlat(r,0,a,l-o,a,l,s);return r}});var Ku=function(e){h()(n,e);var t=te(n);function n(){return p()(this,n),t.apply(this,arguments)}return m()(n,[{key:"InterpolantFactoryMethodLinear",value:function(e){return new Qu(this.times,B()(this),this.getValueSize(),e)}}]),n}(qu),Ju=(Ku.prototype.ValueTypeName="quaternion",Ku.prototype.DefaultInterpolation=Hn,Ku.prototype.InterpolantFactoryMethodSmooth=void 0,function(e){h()(n,e);var t=te(n);function n(){return p()(this,n),t.apply(this,arguments)}return m()(n)}(qu)),eh=(Ju.prototype.ValueTypeName="string",Ju.prototype.ValueBufferType=Array,Ju.prototype.DefaultInterpolation=Bn,Ju.prototype.InterpolantFactoryMethodLinear=void 0,Ju.prototype.InterpolantFactoryMethodSmooth=void 0,function(e){h()(n,e);var t=te(n);function n(){return p()(this,n),t.apply(this,arguments)}return m()(n)}(qu)),th=(eh.prototype.ValueTypeName="vector",function(){function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1,i=2<arguments.length?arguments[2]:void 0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:Wn;p()(this,e),this.name=t,this.tracks=i,this.duration=n,this.blendMode=r,this.uuid=Hi.generateUUID(),this.duration<0&&this.resetDuration()}return m()(e,[{key:"resetDuration",value:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var i=this.tracks[t];e=Math.max(e,i.times[i.times.length-1])}return this.duration=e,this}},{key:"trim",value:function(){for(var e,t=0;t<this.tracks.length;t++)O()(e=this.tracks[t]).call(e,0,this.duration);return this}},{key:"validate",value:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}},{key:"optimize",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}},{key:"clone",value:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}},{key:"toJSON",value:function(){return this.constructor.toJSON(this)}}],[{key:"parse",value:function(e){for(var t=[],n=e.tracks,i=1/(e.fps||1),r=0,a=n.length;r!==a;++r)t.push(function(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t,n,i=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Zu;case"vector":case"vector2":case"vector3":case"vector4":return eh;case"color":return $u;case"quaternion":return Ku;case"bool":case"boolean":return Yu;case"string":return Ju}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);return void 0===e.times&&(t=[],n=[],Vu.flattenJSON(Y()(e),t,n,"value"),e.times=t,e.values=n),void 0!==i.parse?i.parse(e):new i(e.name,e.times,B()(e),e.interpolation)}(n[r]).scale(i));var o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o}},{key:"toJSON",value:function(e){for(var t=[],n=e.tracks,i=(e={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode},0),r=n.length;i!==r;++i)t.push(qu.toJSON(n[i]));return e}},{key:"CreateFromMorphTargetSequence",value:function(e,t,n,i){for(var r=t.length,a=[],o=0;o<r;o++){var s=[],l=((c=[]).push((o+r-1)%r,o,(o+1)%r),s.push(0,1,0),Vu.getKeyframeOrder(c)),c=Vu.sortedArray(c,1,l);s=Vu.sortedArray(s,1,l);i||0!==c[0]||(c.push(r),s.push(s[0])),a.push(new Zu(".morphTargetInfluences["+t[o].name+"]",c,s).scale(1/n))}return new this(e,-1,a)}},{key:"findByName",value:function(e,t){var n=e;M()(e)||(n=e.geometry&&e.geometry.animations||e.animations);for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null}},{key:"CreateClipsFromMorphTargetSequences",value:function(e,t,n){for(var i={},r=/^([\w-]*?)([\d]+)$/,a=0,o=e.length;a<o;a++){var s,l=e[a],c=l.name.match(r);c&&1<c.length&&((s=i[c=c[1]])||(i[c]=s=[]),s.push(l))}var u,h=[];for(u in i)h.push(this.CreateFromMorphTargetSequence(u,i[u],t,n));return h}},{key:"parseAnimation",value:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,i,r){var a;0!==n.length&&(Vu.flattenJSON(n,n=[],a=[],i),0!==n.length)&&r.push(new e(t,n,a))},i=[],r=e.name||"default",a=e.fps||30,o=e.blendMode,s=e.length||-1,l=e.hierarchy||[],c=0;c<l.length;c++){var u=Y()(l[c]);if(u&&0!==u.length)if(u[0].morphTargets){var h,d={},f=void 0;for(f=0;f<u.length;f++)if(u[f].morphTargets)for(var p=0;p<u[f].morphTargets.length;p++)d[u[f].morphTargets[p]]=-1;for(h in d){for(var m=[],v=[],g=0;g!==u[f].morphTargets.length;++g){var y=u[f];m.push(y.time),v.push(y.morphTarget===h?1:0)}i.push(new Zu(".morphTargetInfluence["+h+"]",m,v))}s=d.length*(a||1)}else{var x=".bones["+t[c].name+"]";n(eh,x+".position",u,"pos",i),n(Ku,x+".quaternion",u,"rot",i),n(eh,x+".scale",u,"scl",i)}}return 0===i.length?null:new this(r,s,i,o)}}]),e}()),nh={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function ih(e,t,n){var i=this,r=!1,a=0,o=0,s=void 0,l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){o++,!1===r&&void 0!==i.onStart&&i.onStart(e,a,o),r=!0},this.itemEnd=function(e){a++,void 0!==i.onProgress&&i.onProgress(e,a,o),a===o&&(r=!1,void 0!==i.onLoad)&&i.onLoad()},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return s?s(e):e},this.setURLModifier=function(e){return s=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){return-1!==(e=y()(l).call(l,e))&&x()(l).call(l,e,2),this},this.getHandler=function(e){for(var t=0,n=l.length;t<n;t+=2){var i=l[t],r=l[t+1];if(i.global&&(i.lastIndex=0),i.test(e))return r}return null}}var rh=new ih;function ah(e){this.manager=void 0!==e?e:rh,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}g()(ah.prototype,{load:function(){},loadAsync:function(e,t){var n=this;return new $.a((function(i,r){n.load(e,i,t,r)}))},parse:function(){},setCrossOrigin:function(e){return this.crossOrigin=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}});var oh={};function sh(e){ah.call(this,e)}sh.prototype=g()(T()(ah.prototype),{constructor:sh,load:function(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var r=this,a=nh.get(e);if(void 0!==a)return r.manager.itemStart(e),V()((function(){t&&t(a),r.manager.itemEnd(e)}),0),a;if(void 0===oh[e]){var o,s=e.match(/^data:(.*?)(;base64)?,(.*)$/);if(s){var l=s[1],c=!!s[2],u=s[3];u=decodeURIComponent(u);c&&(u=atob(u));try{var h=(this.responseType||"").toLowerCase();switch(h){case"arraybuffer":case"blob":for(var d=new Uint8Array(u.length),f=0;f<u.length;f++)d[f]=u.charCodeAt(f);p="blob"===h?new Blob([d.buffer],{type:l}):d.buffer;break;case"document":var p=(new DOMParser).parseFromString(u,l);break;case"json":p=JSON.parse(u);break;default:p=u}V()((function(){t&&t(p),r.manager.itemEnd(e)}),0)}catch(t){V()((function(){i&&i(t),r.manager.itemError(e),r.manager.itemEnd(e)}),0)}}else{for(var m in oh[e]=[],oh[e].push({onLoad:t,onProgress:n,onError:i}),(o=new XMLHttpRequest).open("GET",e,!0),o.addEventListener("load",(function(t){var n=this.response,i=oh[e];if(delete oh[e],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),nh.add(e,n);for(var a=0,o=i.length;a<o;a++){var s=i[a];s.onLoad&&s.onLoad(n)}}else{for(var l=0,c=i.length;l<c;l++){var u=i[l];u.onError&&u.onError(t)}r.manager.itemError(e)}r.manager.itemEnd(e)}),!1),o.addEventListener("progress",(function(t){for(var n=oh[e],i=0,r=n.length;i<r;i++){var a=n[i];a.onProgress&&a.onProgress(t)}}),!1),o.addEventListener("error",(function(t){var n=oh[e];delete oh[e];for(var i=0,a=n.length;i<a;i++){var o=n[i];o.onError&&o.onError(t)}r.manager.itemError(e),r.manager.itemEnd(e)}),!1),o.addEventListener("abort",(function(t){var n=oh[e];delete oh[e];for(var i=0,a=n.length;i<a;i++){var o=n[i];o.onError&&o.onError(t)}r.manager.itemError(e),r.manager.itemEnd(e)}),!1),void 0!==this.responseType&&(o.responseType=this.responseType),void 0!==this.withCredentials&&(o.withCredentials=this.withCredentials),o.overrideMimeType&&o.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)o.setRequestHeader(m,this.requestHeader[m]);o.send(null)}return r.manager.itemStart(e),o}oh[e].push({onLoad:t,onProgress:n,onError:i})},setResponseType:function(e){return this.responseType=e,this},setMimeType:function(e){return this.mimeType=e,this}});var lh=function(e){h()(n,e);var t=te(n);function n(e){return p()(this,n),t.call(this,e)}return m()(n,[{key:"load",value:function(e,t,n,i){var r=this,a=new sh(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(n){try{t(r.parse(JSON.parse(n)))}catch(n){i?i(n):console.error(n),r.manager.itemError(e)}}),n,i)}},{key:"parse",value:function(e){for(var t=[],n=0;n<e.length;n++){var i=th.parse(e[n]);t.push(i)}return t}}]),n}(ah);function ch(e){ah.call(this,e)}ch.prototype=g()(T()(ah.prototype),{constructor:ch,load:function(e,t,n,i){var r=this,a=[],o=new Fc,s=new sh(this.manager),l=(s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(r.withCredentials),0);if(M()(e))for(var c=0,u=e.length;c<u;++c)!function(c){s.load(e[c],(function(e){e=r.parse(e,!0),a[c]={width:e.width,height:e.height,format:e.format,mipmaps:e.mipmaps},6===(l+=1)&&(1===e.mipmapCount&&(o.minFilter=yt),o.image=a,o.format=e.format,o.needsUpdate=!0,t)&&t(o)}),n,i)}(c);else s.load(e,(function(e){var n=r.parse(e,!0);if(n.isCubemap){for(var i=n.mipmaps.length/n.mipmapCount,s=0;s<i;s++){a[s]={mipmaps:[]};for(var l=0;l<n.mipmapCount;l++)a[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+l]),a[s].format=n.format,a[s].width=n.width,a[s].height=n.height}o.image=a}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=yt),o.format=n.format,o.needsUpdate=!0,t&&t(o)}),n,i);return o}});var uh=function(e){h()(n,e);var t=te(n);function n(e){return p()(this,n),t.call(this,e)}return m()(n,[{key:"load",value:function(e,t,n,i){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var r,a=this,o=nh.get(e);return void 0!==o?(a.manager.itemStart(e),V()((function(){t&&t(o),a.manager.itemEnd(e)}),0),o):((r=document.createElementNS("http://www.w3.org/1999/xhtml","img")).addEventListener("load",s,!1),r.addEventListener("error",l,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(r.crossOrigin=this.crossOrigin),a.manager.itemStart(e),r.src=e,r);function s(){r.removeEventListener("load",s,!1),r.removeEventListener("error",l,!1),nh.add(e,this),t&&t(this),a.manager.itemEnd(e)}function l(t){r.removeEventListener("load",s,!1),r.removeEventListener("error",l,!1),i&&i(t),a.manager.itemError(e),a.manager.itemEnd(e)}}}]),n}(ah),hh=function(e){h()(n,e);var t=te(n);function n(e){return p()(this,n),t.call(this,e)}return m()(n,[{key:"load",value:function(e,t,n,i){for(var r=new bo,a=new uh(this.manager),o=(a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),0),s=0;s<e.length;++s)!function(n){a.load(e[n],(function(e){r.images[n]=e,6==++o&&(r.needsUpdate=!0,t)&&t(r)}),void 0,i)}(s);return r}}]),n}(ah);function dh(e){ah.call(this,e)}function fh(e){ah.call(this,e)}function ph(){this.type="Curve",this.arcLengthDivisions=200}dh.prototype=g()(T()(ah.prototype),{constructor:dh,load:function(e,t,n,i){var r=this,a=new _o,o=new sh(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(r.withCredentials),o.load(e,(function(e){(e=r.parse(e))&&(void 0!==e.image?a.image=e.image:void 0!==e.data&&(a.image.width=e.width,a.image.height=e.height,a.image.data=e.data),a.wrapS=void 0!==e.wrapS?e.wrapS:ht,a.wrapT=void 0!==e.wrapT?e.wrapT:ht,a.magFilter=void 0!==e.magFilter?e.magFilter:yt,a.minFilter=void 0!==e.minFilter?e.minFilter:yt,a.anisotropy=void 0!==e.anisotropy?e.anisotropy:1,void 0!==e.encoding&&(a.encoding=e.encoding),void 0!==e.flipY&&(a.flipY=e.flipY),void 0!==e.format&&(a.format=e.format),void 0!==e.type&&(a.type=e.type),void 0!==e.mipmaps&&(a.mipmaps=e.mipmaps,a.minFilter=wt),1===e.mipmapCount&&(a.minFilter=yt),a.needsUpdate=!0,t)&&t(a,e)}),n,i),a}}),fh.prototype=g()(T()(ah.prototype),{constructor:fh,load:function(e,t,n,i){var r=new Wi,a=new uh(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,(function(n){r.image=n,n=0<e.search(/\.jpe?g($|\?)/i)||0===e.search(/^data\:image\/jpeg/),r.format=n?Ot:Ft,r.needsUpdate=!0,void 0!==t&&t(r)}),n,i),r}}),g()(ph.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){return e=this.getUtoTmapping(e),this.getPoint(e,t)},getPoints:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n=[],i=this.getPoint(0),r=0;n.push(0);for(var a=1;a<=e;a++)r+=(t=this.getPoint(a/e)).distanceTo(i),n.push(r),i=t;return this.cacheArcLengths=n},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){for(var n,i=this.getLengths(),r=0,a=i.length,o=t||e*i[a-1],s=0,l=a-1;s<=l;)if((n=i[r=Math.floor(s+(l-s)/2)]-o)<0)s=r+1;else{if(!(0<n)){l=r;break}l=r-1}return i[r=l]===o?r/(a-1):(r+(o-(t=i[r]))/(i[r+1]-t))/(a-1)},getTangent:function(e,t){var n=e-1e-4;1<(e=e+1e-4)&&(e=1),n=this.getPoint(n=n<0?0:n),e=this.getPoint(e);return(t=t||new(n.isVector2?Ui:Qi)).copy(e).sub(n).normalize(),t},getTangentAt:function(e,t){return e=this.getUtoTmapping(e),this.getTangent(e,t)},computeFrenetFrames:function(e,t){for(var n=new Qi,i=[],r=[],a=[],o=new Qi,s=new Er,l=0;l<=e;l++)i[l]=this.getTangentAt(l/e,new Qi),i[l].normalize();r[0]=new Qi,a[0]=new Qi;var c=Number.MAX_VALUE,u=Math.abs(i[0].x),h=Math.abs(i[0].y),d=Math.abs(i[0].z);u<=c&&(c=u,n.set(1,0,0)),h<=c&&(c=h,n.set(0,1,0)),d<=c&&n.set(0,0,1),o.crossVectors(i[0],n).normalize(),r[0].crossVectors(i[0],o),a[0].crossVectors(i[0],r[0]);for(var f,p=1;p<=e;p++)r[p]=r[p-1].clone(),a[p]=a[p-1].clone(),o.crossVectors(i[p-1],i[p]),o.length()>S.a&&(o.normalize(),f=Math.acos(Hi.clamp(i[p-1].dot(i[p]),-1,1)),r[p].applyMatrix4(s.makeRotationAxis(o,f))),a[p].crossVectors(i[p],r[p]);if(!0===t){var m=Math.acos(Hi.clamp(r[0].dot(r[e]),-1,1));m/=e,0<i[0].dot(o.crossVectors(r[0],r[e]))&&(m=-m);for(var v=1;v<=e;v++)r[v].applyMatrix4(s.makeRotationAxis(i[v],m*v)),a[v].crossVectors(i[v],r[v])}return{tangents:i,normals:r,binormals:a}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}});var mh=function(e){h()(n,e);var t=te(n);function n(){var e,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,l=5<arguments.length&&void 0!==arguments[5]?arguments[5]:2*Math.PI,c=6<arguments.length&&void 0!==arguments[6]&&arguments[6],u=7<arguments.length&&void 0!==arguments[7]?arguments[7]:0;return p()(this,n),(e=t.call(this)).type="EllipseCurve",e.aX=i,e.aY=r,e.xRadius=a,e.yRadius=o,e.aStartAngle=s,e.aEndAngle=l,e.aClockwise=c,e.aRotation=u,e}return m()(n,[{key:"getPoint",value:function(e,t){t=t||new Ui;for(var n=2*Math.PI,i=this.aEndAngle-this.aStartAngle,r=Math.abs(i)<S.a;i<0;)i+=n;for(;n<i;)i-=n;i<S.a&&(i=r?0:n),!0!==this.aClockwise||r||(i===n?i=-n:i-=n);var a,o,s,l;r=this.aStartAngle+e*i,e=this.aX+this.xRadius*Math.cos(r),r=this.aY+this.yRadius*Math.sin(r);return 0!==this.aRotation&&(a=Math.cos(this.aRotation),o=Math.sin(this.aRotation),e=(s=e-this.aX)*a-(l=r-this.aY)*o+this.aX,r=s*o+l*a+this.aY),t.set(e,r)}},{key:"copy",value:function(e){return c()(f()(n.prototype),"copy",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}},{key:"toJSON",value:function(){var e=c()(f()(n.prototype),"toJSON",this).call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}},{key:"fromJSON",value:function(e){return c()(f()(n.prototype),"fromJSON",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}]),n}(ph),vh=(mh.prototype.isEllipseCurve=!0,function(e){h()(n,e);var t=te(n);function n(e,i,r,a,o,s){return p()(this,n),(e=t.call(this,e,i,r,r,a,o,s)).type="ArcCurve",e}return m()(n)}(mh));function gh(){var e=0,t=0,n=0,i=0;function r(r,a,o,s){n=-3*(e=r)+3*a-2*(t=o)-s,i=2*r-2*a+o+s}return{initCatmullRom:function(e,t,n,i,a){r(t,n,a*(n-e),a*(i-t))},initNonuniformCatmullRom:function(e,t,n,i,a,o,s){e=(t-e)/a-(n-e)/(a+o)+(n-t)/o,a=(n-t)/o-(i-t)/(o+s)+(i-n)/s,r(t,n,e*=o,a*=o)},calc:function(r){var a=r*r;return e+t*r+n*a+i*(a*r)}}}vh.prototype.isArcCurve=!0;var yh=new Qi,xh=new gh,bh=new gh,wh=new gh,_h=function(e){h()(n,e);var t=te(n);function n(){var e,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],r=1<arguments.length&&void 0!==arguments[1]&&arguments[1],a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"centripetal",o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:.5;return p()(this,n),(e=t.call(this)).type="CatmullRomCurve3",e.points=i,e.closed=r,e.curveType=a,e.tension=o,e}return m()(n,[{key:"getPoint",value:function(e){var t,n,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Qi,r=this.points,a=r.length,o=(e=(e=(a-(this.closed?0:1))*e)-(l=Math.floor(e)),this.closed?l+=0<l?0:(Math.floor(Math.abs(l)/a)+1)*a:0===e&&l===a-1&&(l=a-2,e=1),t=this.closed||0<l?r[(l-1)%a]:(yh.subVectors(r[0],r[1]).add(r[0]),yh),r[l%a]),s=r[(l+1)%a],l=this.closed||l+2<a?r[(l+2)%a]:(yh.subVectors(r[a-1],r[a-2]).add(r[a-1]),yh);return"centripetal"===this.curveType||"chordal"===this.curveType?(r="chordal"===this.curveType?.5:.25,a=Math.pow(t.distanceToSquared(o),r),(n=Math.pow(o.distanceToSquared(s),r))<1e-4&&(n=1),a<1e-4&&(a=n),(r=Math.pow(s.distanceToSquared(l),r))<1e-4&&(r=n),xh.initNonuniformCatmullRom(t.x,o.x,s.x,l.x,a,n,r),bh.initNonuniformCatmullRom(t.y,o.y,s.y,l.y,a,n,r),wh.initNonuniformCatmullRom(t.z,o.z,s.z,l.z,a,n,r)):"catmullrom"===this.curveType&&(xh.initCatmullRom(t.x,o.x,s.x,l.x,this.tension),bh.initCatmullRom(t.y,o.y,s.y,l.y,this.tension),wh.initCatmullRom(t.z,o.z,s.z,l.z,this.tension)),i.set(xh.calc(e),bh.calc(e),wh.calc(e)),i}},{key:"copy",value:function(e){c()(f()(n.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,i=e.points.length;t<i;t++){var r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}},{key:"toJSON",value:function(){var e=c()(f()(n.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,i=this.points.length;t<i;t++){var r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}},{key:"fromJSON",value:function(e){c()(f()(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,i=e.points.length;t<i;t++){var r=e.points[t];this.points.push((new Qi).fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}]),n}(ph);function Mh(e,t,n,i,r){var a=e*e;return(2*n-2*i+(t=.5*(i-t))+(r=.5*(r-n)))*(e*a)+(-3*n+3*i-2*t-r)*a+t*e+n}function Sh(e,t,n,i){return(r=1-(r=e))*r*t+2*(1-e)*e*n+e*e*i;var r}function Eh(e,t,n,i,r){return(a=1-(a=e))*a*a*t+3*(a=1-e)*a*e*n+3*(1-e)*e*e*i+e*e*e*r;var a}_h.prototype.isCatmullRomCurve3=!0;var Th=function(e){h()(n,e);var t=te(n);function n(){var e,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Ui,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Ui,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new Ui,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:new Ui;return p()(this,n),(e=t.call(this)).type="CubicBezierCurve",e.v0=i,e.v1=r,e.v2=a,e.v3=o,e}return m()(n,[{key:"getPoint",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Ui,n=this.v0,i=this.v1,r=this.v2,a=this.v3;return t.set(Eh(e,n.x,i.x,r.x,a.x),Eh(e,n.y,i.y,r.y,a.y)),t}},{key:"copy",value:function(e){return c()(f()(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=c()(f()(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return c()(f()(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),n}(ph),Ch=(Th.prototype.isCubicBezierCurve=!0,function(e){h()(n,e);var t=te(n);function n(){var e,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Qi,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Qi,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new Qi,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:new Qi;return p()(this,n),(e=t.call(this)).type="CubicBezierCurve3",e.v0=i,e.v1=r,e.v2=a,e.v3=o,e}return m()(n,[{key:"getPoint",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Qi,n=this.v0,i=this.v1,r=this.v2,a=this.v3;return t.set(Eh(e,n.x,i.x,r.x,a.x),Eh(e,n.y,i.y,r.y,a.y),Eh(e,n.z,i.z,r.z,a.z)),t}},{key:"copy",value:function(e){return c()(f()(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=c()(f()(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return c()(f()(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),n}(ph)),Ah=(Ch.prototype.isCubicBezierCurve3=!0,function(e){h()(n,e);var t=te(n);function n(){var e,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Ui,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Ui;return p()(this,n),(e=t.call(this)).type="LineCurve",e.v1=i,e.v2=r,e}return m()(n,[{key:"getPoint",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Ui;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"getTangent",value:function(e,t){return(t=t||new Ui).copy(this.v2).sub(this.v1).normalize(),t}},{key:"copy",value:function(e){return c()(f()(n.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=c()(f()(n.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return c()(f()(n.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(ph)),Lh=(Ah.prototype.isLineCurve=!0,function(e){h()(n,e);var t=te(n);function n(){var e,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Qi,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Qi;return p()(this,n),(e=t.call(this)).type="LineCurve3",e.isLineCurve3=!0,e.v1=i,e.v2=r,e}return m()(n,[{key:"getPoint",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Qi;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"copy",value:function(e){return c()(f()(n.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=c()(f()(n.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return c()(f()(n.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(ph)),Ph=function(e){h()(n,e);var t=te(n);function n(){var e,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Ui,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Ui,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new Ui;return p()(this,n),(e=t.call(this)).type="QuadraticBezierCurve",e.v0=i,e.v1=r,e.v2=a,e}return m()(n,[{key:"getPoint",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Ui,n=this.v0,i=this.v1,r=this.v2;return t.set(Sh(e,n.x,i.x,r.x),Sh(e,n.y,i.y,r.y)),t}},{key:"copy",value:function(e){return c()(f()(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=c()(f()(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return c()(f()(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(ph),kh=(Ph.prototype.isQuadraticBezierCurve=!0,function(e){h()(n,e);var t=te(n);function n(){var e,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Qi,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Qi,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new Qi;return p()(this,n),(e=t.call(this)).type="QuadraticBezierCurve3",e.v0=i,e.v1=r,e.v2=a,e}return m()(n,[{key:"getPoint",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Qi,n=this.v0,i=this.v1,r=this.v2;return t.set(Sh(e,n.x,i.x,r.x),Sh(e,n.y,i.y,r.y),Sh(e,n.z,i.z,r.z)),t}},{key:"copy",value:function(e){return c()(f()(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=c()(f()(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return c()(f()(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(ph)),Dh=(kh.prototype.isQuadraticBezierCurve3=!0,function(e){h()(n,e);var t=te(n);function n(){var e,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return p()(this,n),(e=t.call(this)).type="SplineCurve",e.points=i,e}return m()(n,[{key:"getPoint",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Ui,n=(e=((o=this.points).length-1)*e,Math.floor(e)),i=(e=e-n,o[0===n?n:n-1]),r=o[n],a=o[n>o.length-2?o.length-1:n+1],o=o[n>o.length-3?o.length-1:n+2];return t.set(Mh(e,i.x,r.x,a.x,o.x),Mh(e,i.y,r.y,a.y,o.y)),t}},{key:"copy",value:function(e){c()(f()(n.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,i=e.points.length;t<i;t++){var r=e.points[t];this.points.push(r.clone())}return this}},{key:"toJSON",value:function(){var e=c()(f()(n.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,i=this.points.length;t<i;t++){var r=this.points[t];e.points.push(r.toArray())}return e}},{key:"fromJSON",value:function(e){c()(f()(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,i=e.points.length;t<i;t++){var r=e.points[t];this.points.push((new Ui).fromArray(r))}return this}}]),n}(ph)),Ih=(Dh.prototype.isSplineCurve=!0,t()({__proto__:null,ArcCurve:vh,CatmullRomCurve3:_h,CubicBezierCurve:Th,CubicBezierCurve3:Ch,EllipseCurve:mh,LineCurve:Ah,LineCurve3:Lh,QuadraticBezierCurve:Ph,QuadraticBezierCurve3:kh,SplineCurve:Dh})),Rh=function(e){h()(n,e);var t=te(n);function n(){var e;return p()(this,n),(e=t.call(this)).type="CurvePath",e.curves=[],e.autoClose=!1,e}return m()(n,[{key:"add",value:function(e){this.curves.push(e)}},{key:"closePath",value:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Ah(t,e))}},{key:"getPoint",value:function(e){for(var t,n,i,r=e*this.getLength(),a=this.getCurveLengths(),o=0;o<a.length;){if(a[o]>=r)return t=a[o]-r,i=(n=this.curves[o]).getLength(),n.getPointAt(0===i?0:1-t/i);o++}return null}},{key:"getLength",value:function(){var e=this.getCurveLengths();return e[e.length-1]}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}},{key:"getCurveLengths",value:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,i=this.curves.length;n<i;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e}},{key:"getSpacedPoints",value:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:40,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}},{key:"getPoints",value:function(){for(var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:12,n=[],i=0,r=this.curves;i<r.length;i++)for(var a=r[i],o=a&&a.isEllipseCurve?2*t:a&&(a.isLineCurve||a.isLineCurve3)?1:a&&a.isSplineCurve?t*a.points.length:t,s=a.getPoints(o),l=0;l<s.length;l++){var c=s[l];e&&e.equals(c)||(n.push(c),e=c)}return this.autoClose&&1<n.length&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}},{key:"copy",value:function(e){c()(f()(n.prototype),"copy",this).call(this,e),this.curves=[];for(var t=0,i=e.curves.length;t<i;t++){var r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}},{key:"toJSON",value:function(){var e=c()(f()(n.prototype),"toJSON",this).call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,i=this.curves.length;t<i;t++){var r=this.curves[t];e.curves.push(r.toJSON())}return e}},{key:"fromJSON",value:function(e){c()(f()(n.prototype),"fromJSON",this).call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,i=e.curves.length;t<i;t++){var r=e.curves[t];this.curves.push((new Ih[r.type]).fromJSON(r))}return this}}]),n}(ph),Nh=function(e){h()(n,e);var t=te(n);function n(e){var i;return p()(this,n),(i=t.call(this)).type="Path",i.currentPoint=new Ui,e&&i.setFromPoints(e),i}return m()(n,[{key:"setFromPoints",value:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}},{key:"moveTo",value:function(e,t){return this.currentPoint.set(e,t),this}},{key:"lineTo",value:function(e,t){var n=new Ah(this.currentPoint.clone(),new Ui(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}},{key:"quadraticCurveTo",value:function(e,t,n,i){return e=new Ph(this.currentPoint.clone(),new Ui(e,t),new Ui(n,i)),this.curves.push(e),this.currentPoint.set(n,i),this}},{key:"bezierCurveTo",value:function(e,t,n,i,r,a){return e=new Th(this.currentPoint.clone(),new Ui(e,t),new Ui(n,i),new Ui(r,a)),this.curves.push(e),this.currentPoint.set(r,a),this}},{key:"splineThru",value:function(e){var t=G()(t=[this.currentPoint.clone()]).call(t,e);t=new Dh(t);return this.curves.push(t),this.currentPoint.copy(e[e.length-1]),this}},{key:"arc",value:function(e,t,n,i,r,a){var o=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+o,t+s,n,i,r,a),this}},{key:"absarc",value:function(e,t,n,i,r,a){return this.absellipse(e,t,n,n,i,r,a),this}},{key:"ellipse",value:function(e,t,n,i,r,a,o,s){var l=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+l,t+c,n,i,r,a,o,s),this}},{key:"absellipse",value:function(e,t,n,i,r,a,o,s){return e=new mh(e,t,n,i,r,a,o,s),0<this.curves.length&&((t=e.getPoint(0)).equals(this.currentPoint)||this.lineTo(t.x,t.y)),this.curves.push(e),n=e.getPoint(1),this.currentPoint.copy(n),this}},{key:"copy",value:function(e){return c()(f()(n.prototype),"copy",this).call(this,e),this.currentPoint.copy(e.currentPoint),this}},{key:"toJSON",value:function(){var e=c()(f()(n.prototype),"toJSON",this).call(this);return e.currentPoint=this.currentPoint.toArray(),e}},{key:"fromJSON",value:function(e){return c()(f()(n.prototype),"fromJSON",this).call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}]),n}(Rh),Oh=function(e){h()(n,e);var t=te(n);function n(e){return p()(this,n),(e=t.call(this,e)).uuid=Hi.generateUUID(),e.type="Shape",e.holes=[],e}return m()(n,[{key:"getPointsHoles",value:function(e){for(var t=[],n=0,i=this.holes.length;n<i;n++)t[n]=this.holes[n].getPoints(e);return t}},{key:"extractPoints",value:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}},{key:"copy",value:function(e){c()(f()(n.prototype),"copy",this).call(this,e),this.holes=[];for(var t=0,i=e.holes.length;t<i;t++){var r=e.holes[t];this.holes.push(r.clone())}return this}},{key:"toJSON",value:function(){var e=c()(f()(n.prototype),"toJSON",this).call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,i=this.holes.length;t<i;t++){var r=this.holes[t];e.holes.push(r.toJSON())}return e}},{key:"fromJSON",value:function(e){c()(f()(n.prototype),"fromJSON",this).call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,i=e.holes.length;t<i;t++){var r=e.holes[t];this.holes.push((new Nh).fromJSON(r))}return this}}]),n}(Nh),Fh=function(e){h()(n,e);var t=te(n);function n(e){var i,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return p()(this,n),(i=t.call(this)).type="Light",i.color=new ba(e),i.intensity=r,i}return m()(n,[{key:"copy",value:function(e){return c()(f()(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this}},{key:"toJSON",value:function(e){return(e=c()(f()(n.prototype),"toJSON",this).call(this,e)).object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}]),n}(Zr),zh=(Fh.prototype.isLight=!0,function(e){h()(n,e);var t=te(n);function n(e,i,r){return p()(this,n),(e=t.call(this,e,r)).type="HemisphereLight",e.position.copy(Zr.DefaultUp),e.updateMatrix(),e.groundColor=new ba(i),e}return m()(n,[{key:"copy",value:function(e){return Fh.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}]),n}(Fh)),Bh=(zh.prototype.isHemisphereLight=!0,new Er),Hh=new Qi,Uh=new Qi,Vh=function(e){h()(n,e);var t=te(n);function n(){var e;return p()(this,n),(e=t.call(this,new yo(50,1,.5,500))).focus=1,e}return m()(n,[{key:"updateMatrices",value:function(e){var t=this.camera,i=2*Hi.RAD2DEG*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,a=e.distance||t.far;i===t.fov&&r===t.aspect&&a===t.far||(t.fov=i,t.aspect=r,t.far=a,t.updateProjectionMatrix()),c()(f()(n.prototype),"updateMatrices",this).call(this,e)}}]),n}(n=function(){function e(t){p()(this,e),this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new Ui(512,512),this.map=null,this.mapPass=null,this.matrix=new Er,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Eo,this._frameExtents=new Ui(1,1),this._viewportCount=1,this._viewports=[new qi(0,0,1,1)]}return m()(e,[{key:"getViewportCount",value:function(){return this._viewportCount}},{key:"getFrustum",value:function(){return this._frustum}},{key:"updateMatrices",value:function(e){var t=this.camera,n=this.matrix;Hh.setFromMatrixPosition(e.matrixWorld),t.position.copy(Hh),Uh.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Uh),t.updateMatrixWorld(),Bh.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Bh),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)}},{key:"getViewport",value:function(e){return this._viewports[e]}},{key:"getFrameExtents",value:function(){return this._frameExtents}},{key:"copy",value:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}]),e}()),Gh=(Vh.prototype.isSpotLightShadow=!0,function(e){h()(n,e);var t=te(n);function n(e,i){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:Math.PI/3,o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,s=5<arguments.length&&void 0!==arguments[5]?arguments[5]:1;return p()(this,n),(e=t.call(this,e,i)).type="SpotLight",e.position.copy(Zr.DefaultUp),e.updateMatrix(),e.target=new Zr,e.distance=r,e.angle=a,e.penumbra=o,e.decay=s,e.shadow=new Vh,e}return m()(n,[{key:"power",get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}},{key:"copy",value:function(e){return c()(f()(n.prototype),"copy",this).call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(Fh)),jh=(Gh.prototype.isSpotLight=!0,new Er),Wh=new Qi,Xh=new Qi,qh=function(e){h()(n,e);var t=te(n);function n(){var e;return p()(this,n),(e=t.call(this,new yo(90,1,.5,500)))._frameExtents=new Ui(4,2),e._viewportCount=6,e._viewports=[new qi(2,1,1,1),new qi(0,1,1,1),new qi(3,1,1,1),new qi(1,1,1,1),new qi(3,0,1,1),new qi(1,0,1,1)],e._cubeDirections=[new Qi(1,0,0),new Qi(-1,0,0),new Qi(0,0,1),new Qi(0,0,-1),new Qi(0,1,0),new Qi(0,-1,0)],e._cubeUps=[new Qi(0,1,0),new Qi(0,1,0),new Qi(0,1,0),new Qi(0,1,0),new Qi(0,0,1),new Qi(0,0,-1)],e}return m()(n,[{key:"updateMatrices",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=this.camera,i=this.matrix;Wh.setFromMatrixPosition(e.matrixWorld),n.position.copy(Wh),Xh.copy(n.position),Xh.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(Xh),n.updateMatrixWorld(),i.makeTranslation(-Wh.x,-Wh.y,-Wh.z),jh.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(jh)}}]),n}(n),Yh=(qh.prototype.isPointLightShadow=!0,function(e){h()(n,e);var t=te(n);function n(e,i){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;return p()(this,n),(e=t.call(this,e,i)).type="PointLight",e.distance=r,e.decay=a,e.shadow=new qh,e}return m()(n,[{key:"power",get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}},{key:"copy",value:function(e){return c()(f()(n.prototype),"copy",this).call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}]),n}(Fh)),$h=(Yh.prototype.isPointLight=!0,function(e){h()(n,e);var t=te(n);function n(){var e,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:-1,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:-1,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:.1,l=5<arguments.length&&void 0!==arguments[5]?arguments[5]:2e3;return p()(this,n),(e=t.call(this)).type="OrthographicCamera",e.zoom=1,e.view=null,e.left=i,e.right=r,e.top=a,e.bottom=o,e.near=s,e.far=l,e.updateProjectionMatrix(),e}return m()(n,[{key:"copy",value:function(e,t){return c()(f()(n.prototype),"copy",this).call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:g()({},e.view),this}},{key:"setViewOffset",value:function(e,t,n,i,r,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e,t=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),i=(r=(this.right+this.left)/2)-t,r=r+t,a=(t=(a=(this.top+this.bottom)/2)+n,a-n);null!==this.view&&this.view.enabled&&(n=(this.right-this.left)/this.view.fullWidth/this.zoom,e=(this.top-this.bottom)/this.view.fullHeight/this.zoom,r=(i+=n*this.view.offsetX)+n*this.view.width,a=(t-=e*this.view.offsetY)-e*this.view.height),this.projectionMatrix.makeOrthographic(i,r,t,a,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){return(e=Zr.prototype.toJSON.call(this,e)).object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=g()({},this.view)),e}}]),n}(go)),Zh=($h.prototype.isOrthographicCamera=!0,function(e){h()(n,e);var t=te(n);function n(){return p()(this,n),t.call(this,new $h(-5,5,5,-5,.5,500))}return m()(n)}(n)),Qh=(Zh.prototype.isDirectionalLightShadow=!0,function(e){h()(n,e);var t=te(n);function n(e,i){return p()(this,n),(e=t.call(this,e,i)).type="DirectionalLight",e.position.copy(Zr.DefaultUp),e.updateMatrix(),e.target=new Zr,e.shadow=new Zh,e}return m()(n,[{key:"copy",value:function(e){return c()(f()(n.prototype),"copy",this).call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(Fh)),Kh=(Qh.prototype.isDirectionalLight=!0,function(e){h()(n,e);var t=te(n);function n(e,i){return p()(this,n),(e=t.call(this,e,i)).type="AmbientLight",e}return m()(n)}(Fh)),Jh=(Kh.prototype.isAmbientLight=!0,function(e){h()(n,e);var t=te(n);function n(e,i){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:10,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:10;return p()(this,n),(e=t.call(this,e,i)).type="RectAreaLight",e.width=r,e.height=a,e}return m()(n,[{key:"copy",value:function(e){return c()(f()(n.prototype),"copy",this).call(this,e),this.width=e.width,this.height=e.height,this}},{key:"toJSON",value:function(e){return(e=c()(f()(n.prototype),"toJSON",this).call(this,e)).object.width=this.width,e.object.height=this.height,e}}]),n}(Fh)),ed=(Jh.prototype.isRectAreaLight=!0,function(){function e(){p()(this,e),this.coefficients=[];for(var t=0;t<9;t++)this.coefficients.push(new Qi)}return m()(e,[{key:"set",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}},{key:"zero",value:function(){for(var e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}},{key:"getAt",value:function(e,t){var n=e.x,i=e.y,r=(e=e.z,this.coefficients);return t.copy(r[0]).multiplyScalar(.282095),t.addScaledVector(r[1],.488603*i),t.addScaledVector(r[2],.488603*e),t.addScaledVector(r[3],.488603*n),t.addScaledVector(r[4],n*i*1.092548),t.addScaledVector(r[5],i*e*1.092548),t.addScaledVector(r[6],.315392*(3*e*e-1)),t.addScaledVector(r[7],n*e*1.092548),t.addScaledVector(r[8],.546274*(n*n-i*i)),t}},{key:"getIrradianceAt",value:function(e,t){var n=e.x,i=e.y,r=(e=e.z,this.coefficients);return t.copy(r[0]).multiplyScalar(.886227),t.addScaledVector(r[1],1.023328*i),t.addScaledVector(r[2],1.023328*e),t.addScaledVector(r[3],1.023328*n),t.addScaledVector(r[4],.858086*n*i),t.addScaledVector(r[5],.858086*i*e),t.addScaledVector(r[6],.743125*e*e-.247708),t.addScaledVector(r[7],.858086*n*e),t.addScaledVector(r[8],.429043*(n*n-i*i)),t}},{key:"add",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}},{key:"addScaledSH",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}},{key:"scale",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}},{key:"lerp",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}},{key:"equals",value:function(e){for(var t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}},{key:"copy",value:function(e){return this.set(e.coefficients)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"fromArray",value:function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,i=0;i<9;i++)n[i].fromArray(e,t+3*i);return this}},{key:"toArray",value:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,i=0;i<9;i++)n[i].toArray(e,t+3*i);return e}}],[{key:"getBasisAt",value:function(e,t){var n=e.x,i=e.y;e=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*e,t[3]=.488603*n,t[4]=1.092548*n*i,t[5]=1.092548*i*e,t[6]=.315392*(3*e*e-1),t[7]=1.092548*n*e,t[8]=.546274*(n*n-i*i)}}]),e}()),td=(ed.prototype.isSphericalHarmonics3=!0,function(e){h()(n,e);var t=te(n);function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new ed,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return p()(this,n),(i=t.call(this,void 0,i)).sh=e,i}return m()(n,[{key:"copy",value:function(e){return c()(f()(n.prototype),"copy",this).call(this,e),this.sh.copy(e.sh),this}},{key:"fromJSON",value:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}},{key:"toJSON",value:function(e){return(e=c()(f()(n.prototype),"toJSON",this).call(this,e)).object.sh=this.sh.toArray(),e}}]),n}(Fh)),nd=(td.prototype.isLightProbe=!0,function(e){h()(n,e);var t=te(n);function n(e){return p()(this,n),(e=t.call(this,e)).textures={},e}return m()(n,[{key:"load",value:function(e,t,n,i){var r=this,a=new sh(r.manager);a.setPath(r.path),a.setRequestHeader(r.requestHeader),a.setWithCredentials(r.withCredentials),a.load(e,(function(n){try{t(r.parse(JSON.parse(n)))}catch(n){i?i(n):console.error(n),r.manager.itemError(e)}}),n,i)}},{key:"parse",value:function(e){var t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}var i,r=new Uu[e.type];if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&void 0!==r.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.sheen&&(r.sheen=(new ba).setHex(e.sheen)),void 0!==e.emissive&&void 0!==r.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==r.specular&&r.specular.setHex(e.specular),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearcoat&&(r.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(r.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.combine&&(r.combine=e.combine),void 0!==e.side&&(r.side=e.side),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(r.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(r.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(r.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(r.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(r.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(r.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(r.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(r.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),1!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.polygonOffset&&(r.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(r.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(r.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.skinning&&(r.skinning=e.skinning),void 0!==e.morphTargets&&(r.morphTargets=e.morphTargets),void 0!==e.morphNormals&&(r.morphNormals=e.morphNormals),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.vertexTangents&&(r.vertexTangents=e.vertexTangents),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.toneMapped&&(r.toneMapped=e.toneMapped),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.vertexColors&&("number"==typeof e.vertexColors?r.vertexColors=0<e.vertexColors:r.vertexColors=e.vertexColors),void 0!==e.uniforms)for(var a in e.uniforms){var o=e.uniforms[a];switch(r.uniforms[a]={},o.type){case"t":r.uniforms[a].value=n(o.value);break;case"c":r.uniforms[a].value=(new ba).setHex(o.value);break;case"v2":r.uniforms[a].value=(new Ui).fromArray(o.value);break;case"v3":r.uniforms[a].value=(new Qi).fromArray(o.value);break;case"v4":r.uniforms[a].value=(new qi).fromArray(o.value);break;case"m3":r.uniforms[a].value=(new Vi).fromArray(o.value);break;case"m4":r.uniforms[a].value=(new Er).fromArray(o.value);break;default:r.uniforms[a].value=o.value}}if(void 0!==e.defines&&(r.defines=e.defines),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.extensions)for(var s in e.extensions)r.extensions[s]=e.extensions[s];return void 0!==e.shading&&(r.flatShading=1===e.shading),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==A()(e)&&(r.map=n(A()(e))),void 0!==e.matcap&&(r.matcap=n(e.matcap)),void 0!==e.alphaMap&&(r.alphaMap=n(e.alphaMap)),void 0!==e.bumpMap&&(r.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(r.normalMapType=e.normalMapType),void 0!==e.normalScale&&(i=e.normalScale,!1===M()(i)&&(i=[i,i]),r.normalScale=(new Ui).fromArray(i)),void 0!==e.displacementMap&&(r.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=n(e.specularMap)),void 0!==e.envMap&&(r.envMap=n(e.envMap)),void 0!==e.envMapIntensity&&(r.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(r.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(r.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatMap&&(r.clearcoatMap=n(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(r.clearcoatNormalScale=(new Ui).fromArray(e.clearcoatNormalScale)),void 0!==e.transmission&&(r.transmission=e.transmission),void 0!==e.transmissionMap&&(r.transmissionMap=n(e.transmissionMap)),r}},{key:"setTextures",value:function(e){return this.textures=e,this}}]),n}(ah)),id={decodeText:function(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,i=e.length;n<i;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(e){return t}},extractUrlBase:function(e){var t=Z()(e).call(e,"/");return-1===t?"./":e.substr(0,t+1)}};function rd(){Wa.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}function ad(e,t,n,i){"number"==typeof n&&(i=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),Sa.call(this,e,t,n),this.meshPerAttribute=i||1}rd.prototype=g()(T()(Wa.prototype),{constructor:rd,isInstancedBufferGeometry:!0,copy:function(e){return Wa.prototype.copy.call(this,e),this.instanceCount=e.instanceCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e=Wa.prototype.toJSON.call(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}),ad.prototype=g()(T()(Sa.prototype),{constructor:ad,isInstancedBufferAttribute:!0,copy:function(e){return Sa.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},toJSON:function(){var e=Sa.prototype.toJSON.call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}});var od=function(e){h()(n,e);var t=te(n);function n(e){return p()(this,n),t.call(this,e)}return m()(n,[{key:"load",value:function(e,t,n,i){var r=this,a=new sh(r.manager);a.setPath(r.path),a.setRequestHeader(r.requestHeader),a.setWithCredentials(r.withCredentials),a.load(e,(function(n){try{t(r.parse(JSON.parse(n)))}catch(n){i?i(n):console.error(n),r.manager.itemError(e)}}),n,i)}},{key:"parse",value:function(e){var t={},n={};function i(e,i){var r,a;return void 0!==t[i]?t[i]:(r=e.interleavedBuffers[i],e=e,a=r.buffer,a=void 0!==n[a]?n[a]:(e=e.arrayBuffers[a],e=new Uint32Array(e).buffer,n[a]=e),(e=new Nl(Fa(r.type,a),r.stride)).uuid=r.uuid,t[i]=e)}var r,a=new(e.isInstancedBufferGeometry?rd:Wa),o=(void 0!==(x=e.data.index)&&(x=Fa(x.type,x.array),a.setIndex(new Sa(x,1))),e.data.attributes);for(r in o){var s,l=o[r],c=void 0;c=l.isInterleavedBufferAttribute?new Fl(i(e.data,l.data),l.itemSize,l.offset,l.normalized):(s=Fa(l.type,l.array),new(l.isInstancedBufferAttribute?ad:Sa)(s,l.itemSize,l.normalized)),void 0!==l.name&&(c.name=l.name),a.setAttribute(r,c)}var u=e.data.morphAttributes;if(u)for(var h in u){for(var d=u[h],f=[],p=0,m=d.length;p<m;p++){var v=d[p],g=void 0;g=v.isInterleavedBufferAttribute?new Fl(i(e.data,v.data),v.itemSize,v.offset,v.normalized):new Sa(Fa(v.type,v.array),v.itemSize,v.normalized),void 0!==v.name&&(g.name=v.name),f.push(g)}a.morphAttributes[h]=f}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);var y,x,b=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==b)for(var w=0,_=b.length;w!==_;++w){var M=b[w];a.addGroup(M.start,M.count,M.materialIndex)}return void 0!==(x=e.data.boundingSphere)&&(y=new Qi,void 0!==x.center&&y.fromArray(x.center),a.boundingSphere=new vr(y,x.radius)),e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}]),n}(ah),sd=function(e){h()(n,e);var t=te(n);function n(e){return p()(this,n),t.call(this,e)}return m()(n,[{key:"load",value:function(e,t,n,i){var r=this,a=""===this.path?id.extractUrlBase(e):this.path;(a=(this.resourcePath=this.resourcePath||a,new sh(this.manager))).setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(n){var a=null;try{a=JSON.parse(n)}catch(n){return void 0!==i&&i(n),void console.error("THREE:ObjectLoader: Can't parse "+e+".",n.message)}void 0===(n=a.metadata)||void 0===n.type||"geometry"===n.type.toLowerCase()?console.error("THREE.ObjectLoader: Can't load "+e):r.parse(a,t)}),n,i)}},{key:"parse",value:function(e,t){var n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=(i=this.parseGeometries(e.geometries,i),this.parseImages(e.images,(function(){void 0!==t&&t(o)}))),a=this.parseTextures(e.textures,r),o=(a=this.parseMaterials(e.materials,a),this.parseObject(e.object,i,a,n));i=this.parseSkeletons(e.skeletons,o);if(this.bindSkeletons(o,i),void 0!==t){var s,l=!1;for(s in r)if(r[s]instanceof HTMLImageElement){l=!0;break}!1===l&&t(o)}return o}},{key:"parseShapes",value:function(e){var t={};if(void 0!==e)for(var n=0,i=e.length;n<i;n++){var r=(new Oh).fromJSON(e[n]);t[r.uuid]=r}return t}},{key:"parseSkeletons",value:function(e,t){var n={},i={};if(t.traverse((function(e){e.isBone&&(i[e.uuid]=e)})),void 0!==e)for(var r=0,a=e.length;r<a;r++){var o=(new dc).fromJSON(e[r],i);n[o.uuid]=o}return n}},{key:"parseGeometries",value:function(e,t){var n={};if(void 0!==e)for(var i=new od,r=0,a=e.length;r<a;r++){var o=void 0,s=e[r];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":o=new Pu[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":o=new Pu[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":o=new Pu[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":o=new Pu[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":o=new Pu[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":o=new Pu[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":o=new Pu[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":o=new Pu[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":o=new Pu[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":o=new Pu[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"TubeGeometry":case"TubeBufferGeometry":o=new Pu[s.type]((new Ih[s.path.type]).fromJSON(s.path),s.tubularSegments,s.radius,s.radialSegments,s.closed);break;case"LatheGeometry":case"LatheBufferGeometry":o=new Pu[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":o=new Pu[s.type](s.vertices,s.indices,s.radius,s.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var l=[],c=0,u=s.shapes.length;c<u;c++){var h=t[s.shapes[c]];l.push(h)}o=new Pu[s.type](l,s.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":l=[];for(var d=0,f=s.shapes.length;d<f;d++){var p=t[s.shapes[d]];l.push(p)}var m=s.options.extrudePath;void 0!==m&&(s.options.extrudePath=(new Ih[m.type]).fromJSON(m)),o=new Pu[s.type](l,s.options);break;case"BufferGeometry":case"InstancedBufferGeometry":o=i.parse(s);break;case"Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),!0===o.isBufferGeometry&&void 0!==s.userData&&(o.userData=s.userData),n[s.uuid]=o}return n}},{key:"parseMaterials",value:function(e,t){var n={},i={};if(void 0!==e){var r=new nd;r.setTextures(t);for(var a=0,o=e.length;a<o;a++){var s=e[a];if("MultiMaterial"===s.type){for(var l=[],c=0;c<s.materials.length;c++){var u=s.materials[c];void 0===n[u.uuid]&&(n[u.uuid]=r.parse(u)),l.push(n[u.uuid])}i[s.uuid]=l}else void 0===n[s.uuid]&&(n[s.uuid]=r.parse(s)),i[s.uuid]=n[s.uuid]}}return i}},{key:"parseAnimations",value:function(e){var t={};if(void 0!==e)for(var n=0;n<e.length;n++){var i=e[n];t[(i=th.parse(i)).uuid]=i}return t}},{key:"parseImages",value:function(e,t){var n=this,i={};function r(e){var t,i;return"string"==typeof e?(t=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t=e)?t:n.resourcePath+t,i=t,n.manager.itemStart(i),a.load(i,(function(){n.manager.itemEnd(i)}),void 0,(function(){n.manager.itemError(i),n.manager.itemEnd(i)}))):e.data?{data:Fa(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&0<e.length){var a;t=new ih(t);(a=new uh(t)).setCrossOrigin(this.crossOrigin);for(var o=0,s=e.length;o<s;o++){var l=e[o],c=l.url;if(M()(c)){i[l.uuid]=[];for(var u=0,h=c.length;u<h;u++){var d=r(c[u]);null!==d&&(d instanceof HTMLImageElement?i[l.uuid].push(d):i[l.uuid].push(new _o(d.data,d.width,d.height)))}}else{var f=r(l.url);null!==f&&(i[l.uuid]=f)}}}return i}},{key:"parseTextures",value:function(e,t){function n(e,t){return"number"==typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var i={};if(void 0!==e)for(var r=0,a=e.length;r<a;r++){var o=e[r],s=(void 0===o.image&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),void(void 0===t[o.image]&&console.warn("THREE.ObjectLoader: Undefined image",o.image))),l=t[o.image];M()(l)?(s=new bo(l),6===l.length&&(s.needsUpdate=!0)):(s=l&&l.data?new _o(l.data,l.width,l.height):new Wi(l),l&&(s.needsUpdate=!0)),s.uuid=o.uuid,void 0!==o.name&&(s.name=o.name),void 0!==o.mapping&&(s.mapping=n(o.mapping,ld)),void 0!==o.offset&&s.offset.fromArray(o.offset),void 0!==_()(o)&&_()(s).fromArray(_()(o)),void 0!==o.center&&s.center.fromArray(o.center),void 0!==o.rotation&&(s.rotation=o.rotation),void 0!==o.wrap&&(s.wrapS=n(o.wrap[0],cd),s.wrapT=n(o.wrap[1],cd)),void 0!==o.format&&(s.format=o.format),void 0!==o.type&&(s.type=o.type),void 0!==o.encoding&&(s.encoding=o.encoding),void 0!==o.minFilter&&(s.minFilter=n(o.minFilter,ud)),void 0!==o.magFilter&&(s.magFilter=n(o.magFilter,ud)),void 0!==o.anisotropy&&(s.anisotropy=o.anisotropy),void 0!==o.flipY&&(s.flipY=o.flipY),void 0!==o.premultiplyAlpha&&(s.premultiplyAlpha=o.premultiplyAlpha),void 0!==o.unpackAlignment&&(s.unpackAlignment=o.unpackAlignment),i[o.uuid]=s}return i}},{key:"parseObject",value:function(e,t,n,i){function r(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function a(e){if(void 0!==e){if(M()(e)){for(var t=[],i=0,r=e.length;i<r;i++){var a=e[i];void 0===n[a]&&console.warn("THREE.ObjectLoader: Undefined material",a),t.push(n[a])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}switch(e.type){case"Scene":o=new Rl,void 0!==e.background&&D()(e.background)&&(o.background=new ba(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?o.fog=new Il(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(o.fog=new Dl(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":o=new yo(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(o.focus=e.focus),void 0!==e.zoom&&(o.zoom=e.zoom),void 0!==e.filmGauge&&(o.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(o.filmOffset=e.filmOffset),void 0!==e.view&&(o.view=g()({},e.view));break;case"OrthographicCamera":o=new $h(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(o.zoom=e.zoom),void 0!==e.view&&(o.view=g()({},e.view));break;case"AmbientLight":o=new Kh(e.color,e.intensity);break;case"DirectionalLight":o=new Qh(e.color,e.intensity);break;case"PointLight":o=new Yh(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new Jh(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new Gh(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new zh(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=(new td).fromJSON(e);break;case"SkinnedMesh":o=new lc(s=r(e.geometry),l=a(e.material)),void 0!==e.bindMode&&(o.bindMode=e.bindMode),void 0!==e.bindMatrix&&o.bindMatrix.fromArray(e.bindMatrix),void 0!==e.skeleton&&(o.skeleton=e.skeleton);break;case"Mesh":o=new co(s=r(e.geometry),l=a(e.material));break;case"InstancedMesh":var o,s=r(e.geometry),l=a(e.material),c=e.count,u=e.instanceMatrix;(o=new gc(s,l,c)).instanceMatrix=new Sa(new Float32Array(u.array),16);break;case"LOD":o=new nc;break;case"Line":o=new Sc(r(e.geometry),a(e.material));break;case"LineLoop":o=new Ac(r(e.geometry),a(e.material));break;case"LineSegments":o=new Cc(r(e.geometry),a(e.material));break;case"PointCloud":case"Points":o=new Rc(r(e.geometry),a(e.material));break;case"Sprite":o=new Kl(a(e.material));break;case"Group":o=new Tl;break;case"Bone":o=new cc;break;default:o=new Zr}if(o.uuid=e.uuid,void 0!==e.name&&(o.name=e.name),void 0!==e.matrix?(o.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(void 0!==e.position&&o.position.fromArray(e.position),void 0!==e.rotation&&o.rotation.fromArray(e.rotation),void 0!==e.quaternion&&o.quaternion.fromArray(e.quaternion),void 0!==e.scale&&o.scale.fromArray(e.scale)),void 0!==e.castShadow&&(o.castShadow=e.castShadow),void 0!==e.receiveShadow&&(o.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(o.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(o.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(o.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&o.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera)&&(o.shadow.camera=this.parseObject(e.shadow.camera)),void 0!==e.visible&&(o.visible=e.visible),void 0!==e.frustumCulled&&(o.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(o.renderOrder=e.renderOrder),void 0!==e.userData&&(o.userData=e.userData),void 0!==e.layers&&(o.layers.mask=e.layers),void 0!==e.children)for(var h=e.children,d=0;d<h.length;d++)o.add(this.parseObject(h[d],t,n,i));if(void 0!==e.animations)for(var f=e.animations,p=0;p<f.length;p++){var m=f[p];o.animations.push(i[m])}if("LOD"===e.type){void 0!==e.autoUpdate&&(o.autoUpdate=e.autoUpdate);for(var v=e.levels,y=0;y<v.length;y++){var x=v[y],b=o.getObjectByProperty("uuid",x.object);void 0!==b&&o.addLevel(b,x.distance)}}return o}},{key:"bindSkeletons",value:function(e,t){0!==k()(t).length&&e.traverse((function(e){var n;!0===e.isSkinnedMesh&&void 0!==e.skeleton&&(void 0===(n=t[e.skeleton])?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",e.skeleton):Q()(e).call(e,n,e.bindMatrix))}))}},{key:"setTexturePath",value:function(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}]),n}(ah),ld={UVMapping:it,CubeReflectionMapping:rt,CubeRefractionMapping:at,EquirectangularReflectionMapping:ot,EquirectangularRefractionMapping:st,CubeUVReflectionMapping:lt,CubeUVRefractionMapping:ct},cd={RepeatWrapping:ut,ClampToEdgeWrapping:ht,MirroredRepeatWrapping:dt},ud={NearestFilter:ft,NearestMipmapNearestFilter:pt,NearestMipmapLinearFilter:vt,LinearFilter:yt,LinearMipmapNearestFilter:xt,LinearMipmapLinearFilter:wt};function hd(e){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),ah.call(this,e),this.options={premultiplyAlpha:"none"}}hd.prototype=g()(T()(ah.prototype),{constructor:hd,isImageBitmapLoader:!0,setOptions:function(e){return this.options=e,this},load:function(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var r=this,a=nh.get(e);if(void 0!==a)return r.manager.itemStart(e),V()((function(){t&&t(a),r.manager.itemEnd(e)}),0),a;var o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",o.headers=this.requestHeader,fetch(e,o).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,g()(r.options,{colorSpaceConversion:"none"}))})).then((function(n){nh.add(e,n),t&&t(n),r.manager.itemEnd(e)})).catch((function(t){i&&i(t),r.manager.itemError(e),r.manager.itemEnd(e)})),r.manager.itemStart(e)}});var dd=function(){function e(){p()(this,e),this.type="ShapePath",this.color=new ba,this.subPaths=[],this.currentPath=null}return m()(e,[{key:"moveTo",value:function(e,t){return this.currentPath=new Nh,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}},{key:"lineTo",value:function(e,t){return this.currentPath.lineTo(e,t),this}},{key:"quadraticCurveTo",value:function(e,t,n,i){return this.currentPath.quadraticCurveTo(e,t,n,i),this}},{key:"bezierCurveTo",value:function(e,t,n,i,r,a){return this.currentPath.bezierCurveTo(e,t,n,i,r,a),this}},{key:"splineThru",value:function(e){return this.currentPath.splineThru(e),this}},{key:"toShapes",value:function(e,t){function n(e){for(var t=[],n=0,i=e.length;n<i;n++){var r=e[n],a=new Oh;a.curves=r.curves,t.push(a)}return t}var i,r,a,o=du.isClockWise,s=this.subPaths;if(0===s.length)return[];if(!0===t)return n(s);var l=[];if(1===s.length)r=s[0],(a=new Oh).curves=r.curves,l.push(a);else{var c,u=!o(s[0].getPoints()),h=(u=e?!u:u,[]),d=[],f=[],p=0;d[p]=void 0,f[p]=[];for(var m=0,v=s.length;m<v;m++)i=o(c=(r=s[m]).getPoints()),(e?!i:i)?(!u&&d[p]&&p++,d[p]={s:new Oh,p:c},d[p].s.curves=r.curves,u&&p++,f[p]=[]):f[p].push({h:r,p:c[0]});if(!d[0])return n(s);if(1<d.length){for(var g=!1,y=[],x=0,b=d.length;x<b;x++)h[x]=[];for(var w=0,_=d.length;w<_;w++)for(var M=f[w],E=0;E<M.length;E++){for(var T=M[E],C=!0,A=0;A<d.length;A++)!function(e,t){for(var n=t.length,i=!1,r=n-1,a=0;a<n;r=a++){var o=t[r],s=t[a],l=s.x-o.x,c=s.y-o.y;if(Math.abs(c)>S.a){if(c<0&&(o=t[a],l=-l,s=t[r],c=-c),!(e.y<o.y||e.y>s.y))if(e.y===o.y){if(e.x===o.x)return 1}else{if(0==(c=c*(e.x-o.x)-l*(e.y-o.y)))return 1;c<0||(i=!i)}}else if(e.y===o.y&&(s.x<=e.x&&e.x<=o.x||o.x<=e.x&&e.x<=s.x))return 1}return i}(T.p,d[A].p)||(w!==A&&y.push({froms:w,tos:A,hole:E}),C?(C=!1,h[A].push(T)):g=!0);C&&h[w].push(T)}0<y.length&&(g||(f=h))}for(var L=0,P=d.length;L<P;L++){a=d[L].s,l.push(a);for(var k,D=0,I=(k=f[L]).length;D<I;D++)a.holes.push(k[D].h)}}return l}}]),e}(),fd=function(){function e(t){p()(this,e),this.type="Font",this.data=t}return m()(e,[{key:"generateShapes",value:function(e){for(var t=[],n=function(e,t,n){for(var i=K()(e),r=t/n.resolution,a=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*r,o=[],s=0,l=0,c=0;c<i.length;c++){var u=i[c];"\n"===u?(s=0,l-=a):(u=function(e,t,n,i,r){var a=r.glyphs[e]||r.glyphs["?"];if(a){var o,s,l,c,u,h,d,f,p=new dd;if(a.o)for(var m=a._cachedOutline||(a._cachedOutline=a.o.split(" ")),v=0,g=m.length;v<g;)switch(m[v++]){case"m":o=m[v++]*t+n,s=m[v++]*t+i,p.moveTo(o,s);break;case"l":o=m[v++]*t+n,s=m[v++]*t+i,p.lineTo(o,s);break;case"q":l=m[v++]*t+n,c=m[v++]*t+i,u=m[v++]*t+n,h=m[v++]*t+i,p.quadraticCurveTo(u,h,l,c);break;case"b":l=m[v++]*t+n,c=m[v++]*t+i,u=m[v++]*t+n,h=m[v++]*t+i,d=m[v++]*t+n,f=m[v++]*t+i,p.bezierCurveTo(u,h,d,f,l,c)}return{offsetX:a.ha*t,path:p}}console.error('THREE.Font: character "'+e+'" does not exists in font family '+r.familyName+".")}(u,r,s,l,n),s+=u.offsetX,o.push(u.path))}return o}(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,this.data),i=0,r=n.length;i<r;i++)Array.prototype.push.apply(t,n[i].toShapes());return t}}]),e}();fd.prototype.isFont=!0;var pd,md=function(e){h()(n,e);var t=te(n);function n(e){return p()(this,n),t.call(this,e)}return m()(n,[{key:"load",value:function(e,t,n,i){var r=this,a=new sh(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(r.withCredentials),a.load(e,(function(e){var n;try{n=JSON.parse(e)}catch(t){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(e.substring(65,e.length-2))}e=r.parse(n),t&&t(e)}),n,i)}},{key:"parse",value:function(e){return new fd(e)}}]),n}(ah),vd={getContext:function(){return pd=void 0===pd?new(window.AudioContext||window.webkitAudioContext):pd},setContext:function(e){pd=e}},gd=function(e){h()(n,e);var t=te(n);function n(e){return p()(this,n),t.call(this,e)}return m()(n,[{key:"load",value:function(e,t,n,i){var r=this,a=new sh(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(n){try{var a=b()(n).call(n,0);vd.getContext().decodeAudioData(a,(function(e){t(e)}))}catch(n){i?i(n):console.error(n),r.manager.itemError(e)}}),n,i)}}]),n}(ah),yd=function(e){h()(n,e);var t=te(n);function n(e,i){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,a=(e=(p()(this,n),r=t.call(this,void 0,r),(new ba).set(e)),i=(new ba).set(i),e=new Qi(e.r,e.g,e.b),i=new Qi(i.r,i.g,i.b),Math.sqrt(Math.PI)),o=a*Math.sqrt(.75);return r.sh.coefficients[0].copy(e).add(i).multiplyScalar(a),r.sh.coefficients[1].copy(e).sub(i).multiplyScalar(o),r}return m()(n)}(td),xd=(yd.prototype.isHemisphereLightProbe=!0,function(e){h()(n,e);var t=te(n);function n(e){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;p()(this,n),i=t.call(this,void 0,i),e=(new ba).set(e);return i.sh.coefficients[0].set(e.r,e.g,e.b).multiplyScalar(2*Math.sqrt(Math.PI)),i}return m()(n)}(td)),bd=(xd.prototype.isAmbientLightProbe=!0,new Er),wd=new Er,_d=function(){function e(){p()(this,e),this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new yo,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new yo,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}return m()(e,[{key:"update",value:function(e){var t,n,i,r,a,o=this._cache;o.focus===e.focus&&o.fov===e.fov&&o.aspect===e.aspect*this.aspect&&o.near===e.near&&o.far===e.far&&o.zoom===e.zoom&&o.eyeSep===this.eyeSep||(o.focus=e.focus,o.fov=e.fov,o.aspect=e.aspect*this.aspect,o.near=e.near,o.far=e.far,o.zoom=e.zoom,o.eyeSep=this.eyeSep,t=e.projectionMatrix.clone(),n=(r=o.eyeSep/2)*o.near/o.focus,i=o.near*Math.tan(Hi.DEG2RAD*o.fov*.5)/o.zoom,wd.elements[12]=-r,bd.elements[12]=r,r=-i*o.aspect+n,a=i*o.aspect+n,t.elements[0]=2*o.near/(a-r),t.elements[8]=(a+r)/(a-r),this.cameraL.projectionMatrix.copy(t),r=-i*o.aspect-n,a=i*o.aspect-n,t.elements[0]=2*o.near/(a-r),t.elements[8]=(a+r)/(a-r),this.cameraR.projectionMatrix.copy(t)),this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(wd),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(bd)}}]),e}(),Md=function(){function e(t){p()(this,e),this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}return m()(e,[{key:"start",value:function(){this.startTime=Sd(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}},{key:"stop",value:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}},{key:"getElapsedTime",value:function(){return this.getDelta(),this.elapsedTime}},{key:"getDelta",value:function(){var e,t=0;return this.autoStart&&!this.running?(this.start(),0):(this.running&&(t=((e=Sd())-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t),t)}}]),e}();function Sd(){return("undefined"==typeof performance?Date:performance).now()}var Ed=new Qi,Td=new Zi,Cd=new Qi,Ad=new Qi,Ld=function(e){h()(n,e);var t=te(n);function n(){var e;return p()(this,n),(e=t.call(this)).type="AudioListener",e.context=vd.getContext(),e.gain=e.context.createGain(),e.gain.connect(e.context.destination),e.filter=null,e.timeDelta=0,e._clock=new Md,e}return m()(n,[{key:"getInput",value:function(){return this.gain}},{key:"removeFilter",value:function(){return null!==F()(this)&&(this.gain.disconnect(F()(this)),F()(this).disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}},{key:"getFilter",value:function(){return F()(this)}},{key:"setFilter",value:function(e){return(null!==F()(this)?(this.gain.disconnect(F()(this)),F()(this)):this.gain).disconnect(this.context.destination),this.filter=e,this.gain.connect(F()(this)),F()(this).connect(this.context.destination),this}},{key:"getMasterVolume",value:function(){return this.gain.gain.value}},{key:"setMasterVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}},{key:"updateMatrixWorld",value:function(e){c()(f()(n.prototype),"updateMatrixWorld",this).call(this,e);e=this.context.listener;var t,i=this.up;this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Ed,Td,Cd),Ad.set(0,0,-1).applyQuaternion(Td),e.positionX?(t=this.context.currentTime+this.timeDelta,e.positionX.linearRampToValueAtTime(Ed.x,t),e.positionY.linearRampToValueAtTime(Ed.y,t),e.positionZ.linearRampToValueAtTime(Ed.z,t),e.forwardX.linearRampToValueAtTime(Ad.x,t),e.forwardY.linearRampToValueAtTime(Ad.y,t),e.forwardZ.linearRampToValueAtTime(Ad.z,t),e.upX.linearRampToValueAtTime(i.x,t),e.upY.linearRampToValueAtTime(i.y,t),e.upZ.linearRampToValueAtTime(i.z,t)):(e.setPosition(Ed.x,Ed.y,Ed.z),e.setOrientation(Ad.x,Ad.y,Ad.z,i.x,i.y,i.z))}}]),n}(Zr),Pd=function(e){h()(n,e);var t=te(n);function n(e){var i;return p()(this,n),(i=t.call(this)).type="Audio",i.listener=e,i.context=e.context,i.gain=i.context.createGain(),i.gain.connect(e.getInput()),i.autoplay=!1,i.buffer=null,i.detune=0,i.loop=!1,i.loopStart=0,i.loopEnd=0,i.offset=0,i.duration=void 0,i.playbackRate=1,i.isPlaying=!1,i.hasPlaybackControl=!0,i.source=null,i.sourceType="empty",i._startedAt=0,i._progress=0,i._connected=!1,i.filters=[],i}return m()(n,[{key:"getOutput",value:function(){return this.gain}},{key:"setNodeSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}},{key:"setMediaElementSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}},{key:"setMediaStreamSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}},{key:"setBuffer",value:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}},{key:"play",value:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;if(!0===this.isPlaying)console.warn("THREE.Audio: Audio is already playing.");else{if(!1!==this.hasPlaybackControl)return this._startedAt=this.context.currentTime+t,(t=this.context.createBufferSource()).buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=Q()(e=this.onEnded).call(e,this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect();console.warn("THREE.Audio: this Audio has no playback control.")}}},{key:"pause",value:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"stop",value:function(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"connect",value:function(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}},{key:"disconnect",value:function(){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}},{key:"getFilters",value:function(){return this.filters}},{key:"setFilters",value:function(e){return e=e||[],!0===this._connected?(this.disconnect(),this.filters=b()(e).call(e),this.connect()):this.filters=b()(e).call(e),this}},{key:"setDetune",value:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}},{key:"getDetune",value:function(){return this.detune}},{key:"getFilter",value:function(){return this.getFilters()[0]}},{key:"setFilter",value:function(e){return this.setFilters(e?[e]:[])}},{key:"setPlaybackRate",value:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"onEnded",value:function(){this.isPlaying=!1}},{key:"getLoop",value:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}},{key:"setLoop",value:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"setLoopStart",value:function(e){return this.loopStart=e,this}},{key:"setLoopEnd",value:function(e){return this.loopEnd=e,this}},{key:"getVolume",value:function(){return this.gain.gain.value}},{key:"setVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}]),n}(Zr),kd=new Qi,Dd=new Zi,Id=new Qi,Rd=new Qi,Nd=function(e){h()(n,e);var t=te(n);function n(e){return p()(this,n),(e=t.call(this,e)).panner=e.context.createPanner(),e.panner.panningModel="HRTF",e.panner.connect(e.gain),e}return m()(n,[{key:"getOutput",value:function(){return this.panner}},{key:"getRefDistance",value:function(){return this.panner.refDistance}},{key:"setRefDistance",value:function(e){return this.panner.refDistance=e,this}},{key:"getRolloffFactor",value:function(){return this.panner.rolloffFactor}},{key:"setRolloffFactor",value:function(e){return this.panner.rolloffFactor=e,this}},{key:"getDistanceModel",value:function(){return this.panner.distanceModel}},{key:"setDistanceModel",value:function(e){return this.panner.distanceModel=e,this}},{key:"getMaxDistance",value:function(){return this.panner.maxDistance}},{key:"setMaxDistance",value:function(e){return this.panner.maxDistance=e,this}},{key:"setDirectionalCone",value:function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}},{key:"updateMatrixWorld",value:function(e){var t;c()(f()(n.prototype),"updateMatrixWorld",this).call(this,e),!0===this.hasPlaybackControl&&!1===this.isPlaying||(this.matrixWorld.decompose(kd,Dd,Id),Rd.set(0,0,1).applyQuaternion(Dd),(e=this.panner).positionX?(t=this.context.currentTime+this.listener.timeDelta,e.positionX.linearRampToValueAtTime(kd.x,t),e.positionY.linearRampToValueAtTime(kd.y,t),e.positionZ.linearRampToValueAtTime(kd.z,t),e.orientationX.linearRampToValueAtTime(Rd.x,t),e.orientationY.linearRampToValueAtTime(Rd.y,t),e.orientationZ.linearRampToValueAtTime(Rd.z,t)):(e.setPosition(kd.x,kd.y,kd.z),e.setOrientation(Rd.x,Rd.y,Rd.z)))}}]),n}(Pd),Od=function(){function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2048;p()(this,e),this.analyser=t.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}return m()(e,[{key:"getFrequencyData",value:function(){return this.analyser.getByteFrequencyData(this.data),this.data}},{key:"getAverageFrequency",value:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}]),e}(),Fd=function(){function e(t,n,i){var r,a,o;switch(p()(this,e),this.binding=t,this.valueSize=i,n){case"quaternion":r=this._slerp,a=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*i),this._workIndex=5;break;case"string":case"bool":r=this._select,a=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*i);break;default:r=this._lerp,a=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*i)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=a,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}return m()(e,[{key:"accumulate",value:function(e,t){var n=this.buffer,i=this.valueSize,r=e*i+i;if(0===(e=this.cumulativeWeight)){for(var a=0;a!==i;++a)n[r+a]=n[a];e=t}else this._mixBufferRegion(n,r,0,t/(e+=t),i);this.cumulativeWeight=e}},{key:"accumulateAdditive",value:function(e){var t=this.buffer,n=this.valueSize,i=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,n),this.cumulativeWeightAdditive+=e}},{key:"apply",value:function(e){var t,n=this.valueSize,i=this.buffer,r=e*n+n,a=(e=this.cumulativeWeight,this.cumulativeWeightAdditive),o=this.binding;this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,e<1&&(t=n*this._origIndex,this._mixBufferRegion(i,r,t,1-e,n)),0<a&&this._mixBufferRegionAdditive(i,r,this._addIndex*n,1,n);for(var s=n,l=n+n;s!==l;++s)if(i[s]!==i[s+n]){o.setValue(i,r);break}}},{key:"saveOriginalState",value:function(){var e=this.binding,t=this.buffer,n=this.valueSize,i=n*this._origIndex;e.getValue(t,i);for(var r=n,a=i;r!==a;++r)t[r]=t[i+r%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}},{key:"restoreOriginalState",value:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)}},{key:"_setAdditiveIdentityNumeric",value:function(){for(var e=this._addIndex*this.valueSize,t=e+this.valueSize,n=e;n<t;n++)this.buffer[n]=0}},{key:"_setAdditiveIdentityQuaternion",value:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}},{key:"_setAdditiveIdentityOther",value:function(){for(var e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize,n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}},{key:"_select",value:function(e,t,n,i,r){if(.5<=i)for(var a=0;a!==r;++a)e[t+a]=e[n+a]}},{key:"_slerp",value:function(e,t,n,i){Zi.slerpFlat(e,t,e,t,e,n,i)}},{key:"_slerpAdditive",value:function(e,t,n,i,r){r=this._workIndex*r,Zi.multiplyQuaternionsFlat(e,r,e,t,e,n),Zi.slerpFlat(e,t,e,t,e,r,i)}},{key:"_lerp",value:function(e,t,n,i,r){for(var a=1-i,o=0;o!==r;++o){var s=t+o;e[s]=e[s]*a+e[n+o]*i}}},{key:"_lerpAdditive",value:function(e,t,n,i,r){for(var a=0;a!==r;++a){var o=t+a;e[o]=e[o]+e[n+a]*i}}}]),e}(),zd=(X="\\[\\]\\.:\\/",new RegExp("["+X+"]","g")),Bd=(t="[^"+X+"]",n="[^"+X.replace("\\.","")+"]",X=/((?:WC+[\/:])*)/.source.replace("WC",t),n=/(WCOD+)?/.source.replace("WCOD",n),/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",t)),Hd=(t=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",t),new RegExp("^"+X+n+Bd+t+"$")),Ud=["material","materials","bones"];function Vd(e,t,n){n=n||Gd.parseTrackName(t),this._targetGroup=e,this._bindings=e.subscribe_(t,n)}function Gd(e,t,n){this.path=t,this.parsedPath=n||Gd.parseTrackName(t),this.node=Gd.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}g()(Vd.prototype,{getValue:function(e,t){Q()(this).call(this);var n=this._targetGroup.nCachedObjects_;void 0!==(n=this._bindings[n])&&n.getValue(e,t)},setValue:function(e,t){for(var n=this._bindings,i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(e,t)},bind:function(){for(var e,t=this._bindings,n=this._targetGroup.nCachedObjects_,i=t.length;n!==i;++n)Q()(e=t[n]).call(e)},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}),g()(Gd,{Composite:Vd,create:function(e,t,n){return new(e&&e.isAnimationObjectGroup?Gd.Composite:Gd)(e,t,n)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(zd,"")},parseTrackName:function(e){if(!(n=Hd.exec(e)))throw new Error("PropertyBinding: Cannot parse trackName: "+e);var t,n,i=(n={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]}).nodeName&&Z()(i=n.nodeName).call(i,".");if(void 0!==i&&-1!==i&&(t=n.nodeName.substring(i+1),-1!==y()(Ud).call(Ud,t))&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=t),null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n},findNode:function(e,t){if(!t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}return e.children&&(n=function e(n){for(var i=0;i<n.length;i++){var r=n[i];if(r.name===t||r.uuid===t)return r;if(r=e(r.children))return r}return null}(e.children))?n:null}}),g()(Gd.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)e[t++]=n[i]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=e[t++]},function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){Q()(this).call(this),this.getValue(e,t)},setValue:function(e,t){Q()(this).call(this),this.setValue(e,t)},bind:function(){var e=this.node,t=(s=this.parsedPath).objectName,n=s.propertyName,i=s.propertyIndex;if(e||(e=Gd.findNode(this.rootNode,s.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(t){var r=s.objectIndex;switch(t){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(var a=0;a<e.length;a++)if(e[a].name===r){r=a;break}break;default:if(void 0===e[t])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[t]}if(void 0!==r){if(void 0===e[r])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[r]}}var o=e[n];if(void 0===o)s=s.nodeName,console.error("THREE.PropertyBinding: Trying to update property for track: "+s+"."+n+" but it wasn't found.",e);else{var s=this.Versioning.None,l=(void 0!==(this.targetObject=e).needsUpdate?s=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(s=this.Versioning.MatrixWorldNeedsUpdate),this.BindingType.Direct);if(void 0!==i){if("morphTargetInfluences"===n){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[i]&&(i=e.morphTargetDictionary[i])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=i}else void 0!==o.fromArray&&void 0!==o.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):M()(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=n;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][s]}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),g()(Gd.prototype,{_getValue_unbound:Gd.prototype.getValue,_setValue_unbound:Gd.prototype.setValue});var jd=function(){function e(){p()(this,e),this.uuid=Hi.generateUUID(),this._objects=b()(Array.prototype).call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var n=0,i=arguments.length;n!==i;++n)t[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}}return m()(e,[{key:"add",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._paths,i=this._parsedPaths,r=this._bindings,a=r.length,o=void 0,s=e.length,l=this.nCachedObjects_,c=0,u=arguments.length;c!==u;++c){var h=arguments[c],d=h.uuid,f=t[d];if(void 0===f){f=s++,t[d]=f,e.push(h);for(var p=0,m=a;p!==m;++p)r[p].push(new Gd(h,n[p],i[p]))}else if(f<l){o=e[f];var v=--l,g=e[v];e[t[g.uuid]=f]=g,e[t[d]=v]=h;for(var y=0,x=a;y!==x;++y){var b=r[y],w=b[v],_=b[f];b[f]=w,void 0===_&&(_=new Gd(h,n[y],i[y])),b[v]=_}}else e[f]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l}},{key:"remove",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length,r=this.nCachedObjects_,a=0,o=arguments.length;a!==o;++a){var s=arguments[a],l=s.uuid,c=t[l];if(void 0!==c&&r<=c){var u=r++,h=e[u];e[t[h.uuid]=c]=h,e[t[l]=u]=s;for(var d=0,f=i;d!==f;++d){var p=n[d],m=p[u],v=p[c];p[c]=m,p[u]=v}}}this.nCachedObjects_=r}},{key:"uncache",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length,r=this.nCachedObjects_,a=e.length,o=0,s=arguments.length;o!==s;++o){var l=t[u=arguments[o].uuid];if(void 0!==l)if(delete t[u],l<r){var c=--r,u=e[c],h=--a,d=e[h];e[t[u.uuid]=l]=u,e[t[d.uuid]=c]=d,e.pop();for(var f=0,p=i;f!==p;++f){var m=n[f],v=m[c],g=m[h];m[l]=v,m[c]=g,m.pop()}}else{var y=--a;u=e[y];0<y&&(t[u.uuid]=l),e[l]=u,e.pop();for(var x=0,b=i;x!==b;++x){var w=n[x];w[l]=w[y],w.pop()}}}this.nCachedObjects_=r}},{key:"subscribe_",value:function(e,t){var n=this._bindingsIndicesByPath,i=n[e],r=this._bindings;if(void 0!==i)return r[i];var a=this._paths,o=this._parsedPaths,s=this._objects,l=s.length,c=this.nCachedObjects_,u=new Array(l);i=r.length;n[e]=i,a.push(e),o.push(t),r.push(u);for(var h=c,d=s.length;h!==d;++h){var f=s[h];u[h]=new Gd(f,e,t)}return u}},{key:"unsubscribe_",value:function(e){var t,n,i,r,a,o=this._bindingsIndicesByPath,s=o[e];void 0!==s&&(t=this._paths,n=this._parsedPaths,a=(i=this._bindings)[r=i.length-1],i[o[e[r]]=s]=a,i.pop(),n[s]=n[r],n.pop(),t[s]=t[r],t.pop())}}]),e}(),Wd=(jd.prototype.isAnimationObjectGroup=!0,function(){function e(t,n){for(var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:n.blendMode,a=(p()(this,e),this._mixer=t,this._clip=n,this._localRoot=i,this.blendMode=r,n.tracks),o=a.length,s=new Array(o),l={endingStart:Vn,endingEnd:Vn},c=0;c!==o;++c){var u=a[c].createInterpolant(null);(s[c]=u).settings=l}this._interpolantSettings=l,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Fn,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}return m()(e,[{key:"play",value:function(){return this._mixer._activateAction(this),this}},{key:"stop",value:function(){return this._mixer._deactivateAction(this),this.reset()}},{key:"reset",value:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}},{key:"isRunning",value:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}},{key:"isScheduled",value:function(){return this._mixer._isActiveAction(this)}},{key:"startAt",value:function(e){return this._startTime=e,this}},{key:"setLoop",value:function(e,t){return this.loop=e,this.repetitions=t,this}},{key:"setEffectiveWeight",value:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}},{key:"getEffectiveWeight",value:function(){return this._effectiveWeight}},{key:"fadeIn",value:function(e){return this._scheduleFading(e,0,1)}},{key:"fadeOut",value:function(e){return this._scheduleFading(e,1,0)}},{key:"crossFadeFrom",value:function(e,t,n){var i,r;return e.fadeOut(t),this.fadeIn(t),n&&(r=(n=this._clip.duration)/(i=e._clip.duration),e.warp(1,i/n,t),this.warp(r,1,t)),this}},{key:"crossFadeTo",value:function(e,t,n){return e.crossFadeFrom(this,t,n)}},{key:"stopFading",value:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"setEffectiveTimeScale",value:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}},{key:"getEffectiveTimeScale",value:function(){return this._effectiveTimeScale}},{key:"setDuration",value:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}},{key:"syncWith",value:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}},{key:"halt",value:function(e){return this.warp(this._effectiveTimeScale,0,e)}},{key:"warp",value:function(e,t,n){var i=(a=this._mixer).time,r=this.timeScale,a=(null===(o=this._timeScaleInterpolant)&&(o=a._lendControlInterpolant(),this._timeScaleInterpolant=o),o.parameterPositions),o=o.sampleValues;return a[0]=i,a[1]=i+n,o[0]=e/r,o[1]=t/r,this}},{key:"stopWarping",value:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"getMixer",value:function(){return this._mixer}},{key:"getClip",value:function(){return this._clip}},{key:"getRoot",value:function(){return this._localRoot||this._mixer._root}},{key:"_update",value:function(e,t,n,i){if(this.enabled){var r=this._startTime;if(null!==r){if((r=(e-r)*n)<0||0===n)return;this._startTime=null,t=n*r}t*=this._updateTimeScale(e);var a=this._updateTime(t),o=this._updateWeight(e);if(0<o){var s=this._interpolants,l=this._propertyBindings;if(this.blendMode===Xn)for(var c=0,u=s.length;c!==u;++c)s[c].evaluate(a),l[c].accumulateAdditive(o);else for(var h=0,d=s.length;h!==d;++h)s[h].evaluate(a),l[h].accumulate(i,o)}}else this._updateWeight(e)}},{key:"_updateWeight",value:function(e){var t,n,i=0;return this.enabled&&(i=this.weight,null!==(t=this._weightInterpolant))&&(i*=n=t.evaluate(e)[0],e>t.parameterPositions[1])&&(this.stopFading(),0===n)&&(this.enabled=!1),this._effectiveWeight=i}},{key:"_updateTimeScale",value:function(e){var t,n=0;return this.paused||(n=this.timeScale,null!==(t=this._timeScaleInterpolant)&&(n*=t.evaluate(e)[0],e>t.parameterPositions[1])&&(this.stopWarping(),0===n?this.paused=!0:this.timeScale=n)),this._effectiveTimeScale=n}},{key:"_updateTime",value:function(e){var t,n=this._clip.duration,i=this.loop,r=this.time+e,a=this._loopCount,o=i===zn;if(0===e)return-1!==a&&o&&1==(1&a)?n-r:r;if(i===On){-1===a&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(n<=r)r=n;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else if(-1===a&&(0<=e?this._setEndings(!(a=0),0===this.repetitions,o):this._setEndings(0===this.repetitions,!0,o)),n<=r||r<0?(r-=n*(i=Math.floor(r/n)),a+=Math.abs(i),(t=this.repetitions-a)<=0?(this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r=0<e?n:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:0<e?1:-1})):(1==t?this._setEndings(t=e<0,!t,o):this._setEndings(!1,!1,o),this._loopCount=a,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:i}))):this.time=r,o&&1==(1&a))return n-r;return r}},{key:"_setEndings",value:function(e,t,n){var i=this._interpolantSettings;n?(i.endingStart=Gn,i.endingEnd=Gn):(i.endingStart=e?this.zeroSlopeAtStart?Gn:Vn:jn,i.endingEnd=t?this.zeroSlopeAtEnd?Gn:Vn:jn)}},{key:"_scheduleFading",value:function(e,t,n){var i=(r=this._mixer).time,r=(null===(a=this._weightInterpolant)&&(a=r._lendControlInterpolant(),this._weightInterpolant=a),a.parameterPositions),a=a.sampleValues;return r[0]=i,a[0]=t,r[1]=i+e,a[1]=n,this}}]),e}()),Xd=function(e){h()(n,e);var t=te(n);function n(e){var i;return p()(this,n),(i=t.call(this))._root=e,i._initMemoryManager(),i._accuIndex=0,i.time=0,i.timeScale=1,i}return m()(n,[{key:"_bindAction",value:function(e,t){var n=e._localRoot||this._root,i=e._clip.tracks,r=i.length,a=e._propertyBindings,o=e._interpolants,s=n.uuid,l=(e=this._bindingsByRootAndName)[s];void 0===l&&(e[s]=l={});for(var c=0;c!==r;++c){var u=i[c],h=u.name,d=l[h];if(void 0===d){if(void 0!==(d=a[c])){null===d._cacheIndex&&(++d.referenceCount,this._addInactiveBinding(d,s,h));continue}var f=t&&t._propertyBindings[c].binding.parsedPath;++(d=new Fd(Gd.create(n,h,f),u.ValueTypeName,u.getValueSize())).referenceCount,this._addInactiveBinding(d,s,h)}a[c]=d,o[c].resultBuffer=d.buffer}}},{key:"_activateAction",value:function(e){if(!this._isActiveAction(e)){null===e._cacheIndex&&(t=(e._localRoot||this._root).uuid,n=e._clip.uuid,i=this._actionsByClip[n],this._bindAction(e,i&&i.knownActions[0]),this._addInactiveAction(e,n,t));for(var t,n,i,r=e._propertyBindings,a=0,o=r.length;a!==o;++a){var s=r[a];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}},{key:"_deactivateAction",value:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,i=t.length;n!==i;++n){var r=t[n];0==--r.useCount&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(e)}}},{key:"_initMemoryManager",value:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}},{key:"_isActiveAction",value:function(e){return null!==(e=e._cacheIndex)&&e<this._nActiveActions}},{key:"_addInactiveAction",value:function(e,t,n){var i=this._actions,r=this._actionsByClip,a=r[t];void 0===a?(a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=a):(r=a.knownActions,e._byClipCacheIndex=r.length,r.push(e)),e._cacheIndex=i.length,i.push(e),a.actionByRoot[n]=e}},{key:"_removeInactiveAction",value:function(e){var t,n=(t=this._actions)[t.length-1],i=e._cacheIndex,r=(i=(t[n._cacheIndex=i]=n,t.pop(),e._cacheIndex=null,e._clip.uuid),(t=(n=this._actionsByClip)[i]).knownActions),a=r[r.length-1],o=e._byClipCacheIndex;r[a._byClipCacheIndex=o]=a,r.pop(),e._byClipCacheIndex=null,delete t.actionByRoot[(e._localRoot||this._root).uuid],0===r.length&&delete n[i],this._removeInactiveBindingsForAction(e)}},{key:"_removeInactiveBindingsForAction",value:function(e){for(var t=e._propertyBindings,n=0,i=t.length;n!==i;++n){var r=t[n];0==--r.referenceCount&&this._removeInactiveBinding(r)}}},{key:"_lendAction",value:function(e){var t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,r=t[i];t[e._cacheIndex=i]=e,t[r._cacheIndex=n]=r}},{key:"_takeBackAction",value:function(e){var t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,r=t[i];t[e._cacheIndex=i]=e,t[r._cacheIndex=n]=r}},{key:"_addInactiveBinding",value:function(e,t,n){var i=this._bindingsByRootAndName,r=this._bindings,a=i[t];void 0===a&&(i[t]=a={}),(a[n]=e)._cacheIndex=r.length,r.push(e)}},{key:"_removeInactiveBinding",value:function(e){var t=this._bindings,n=(i=e.binding).rootNode.uuid,i=i.path,r=this._bindingsByRootAndName,a=r[n],o=t[t.length-1];e=e._cacheIndex;t[o._cacheIndex=e]=o,t.pop(),delete a[i],0===k()(a).length&&delete r[n]}},{key:"_lendBinding",value:function(e){var t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,r=t[i];t[e._cacheIndex=i]=e,t[r._cacheIndex=n]=r}},{key:"_takeBackBinding",value:function(e){var t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,r=t[i];t[e._cacheIndex=i]=e,t[r._cacheIndex=n]=r}},{key:"_lendControlInterpolant",value:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&(e[(n=new Wu(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t]=n),n}},{key:"_takeBackControlInterpolant",value:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,r=t[i];t[e.__cacheIndex=i]=e,t[r.__cacheIndex=n]=r}},{key:"clipAction",value:function(e,t,n){var i,r=(i=t||this._root).uuid,a=(e=null!==(i="string"==typeof e?th.findByName(i,e):e)?i.uuid:e,this._actionsByClip[e]),o=null;if(void 0===n&&(n=null!==i?i.blendMode:Wn),void 0!==a){var s=a.actionByRoot[r];if(void 0!==s&&s.blendMode===n)return s;o=a.knownActions[0],null===i&&(i=o._clip)}return null===i?null:(s=new Wd(this,i,t,n),this._bindAction(s,o),this._addInactiveAction(s,e,r),s)}},{key:"existingAction",value:function(e,t){var n=(t=t||this._root).uuid;t=(t="string"==typeof e?th.findByName(t,e):e)?t.uuid:e;return void 0!==(e=this._actionsByClip[t])&&e.actionByRoot[n]||null}},{key:"stopAllAction",value:function(){for(var e=this._actions,t=this._nActiveActions-1;0<=t;--t)e[t].stop();return this}},{key:"update",value:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,i=this.time+=e,r=W()(e),a=this._accuIndex^=1,o=0;o!==n;++o)t[o]._update(i,e,r,a);for(var s=this._bindings,l=this._nActiveBindings,c=0;c!==l;++c)s[c].apply(a);return this}},{key:"setTime",value:function(e){for(var t=this.time=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}},{key:"getRoot",value:function(){return this._root}},{key:"uncacheClip",value:function(e){var t=this._actions,n=(e=e.uuid,this._actionsByClip),i=n[e];if(void 0!==i){for(var r=i.knownActions,a=0,o=r.length;a!==o;++a){var s=r[a],l=(this._deactivateAction(s),s._cacheIndex),c=t[t.length-1];s._cacheIndex=null,s._byClipCacheIndex=null,t[c._cacheIndex=l]=c,t.pop(),this._removeInactiveBindingsForAction(s)}delete n[e]}}},{key:"uncacheRoot",value:function(e){var t,n=e.uuid,i=this._actionsByClip;for(t in i){var r=i[t].actionByRoot[n];void 0!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}var a=this._bindingsByRootAndName[n];if(void 0!==a)for(var o in a)(o=a[o]).restoreOriginalState(),this._removeInactiveBinding(o)}},{key:"uncacheAction",value:function(e,t){null!==(e=this.existingAction(e,t))&&(this._deactivateAction(e),this._removeInactiveAction(e))}}]),n}(Ni),qd=(Xd.prototype._controlInterpolantsResultBuffer=new Float32Array(1),function(){function e(t){p()(this,e),"string"==typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}return m()(e,[{key:"clone",value:function(){return new e(void 0===this.value.clone?this.value:this.value.clone())}}]),e}());function Yd(e,t,n){Nl.call(this,e,t),this.meshPerAttribute=n||1}function $d(e,t,n,i,r){this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=i,this.count=r,this.version=0}function Zd(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1/0;this.ray=new Sr(e,t),this.near=n,this.far=i,this.camera=null,this.layers=new Or,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},E()(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function Qd(e,t){return e.distance-t.distance}function Kd(e,t,n,i){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===i)for(var r=e.children,a=0,o=r.length;a<o;a++)Kd(r[a],t,n,!0)}Yd.prototype=g()(T()(Nl.prototype),{constructor:Yd,isInstancedInterleavedBuffer:!0,copy:function(e){return Nl.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},clone:function(e){return(e=Nl.prototype.clone.call(this,e)).meshPerAttribute=this.meshPerAttribute,e},toJSON:function(e){return(e=Nl.prototype.toJSON.call(this,e)).isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}),w()($d.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),g()($d.prototype,{isGLBufferAttribute:!0,setBuffer:function(e){return this.buffer=e,this},setType:function(e,t){return this.type=e,this.elementSize=t,this},setItemSize:function(e){return this.itemSize=e,this},setCount:function(e){return this.count=e,this}}),g()(Zd.prototype,{set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)},intersectObject:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];return Kd(e,this,n,t),R()(n).call(n,Qd),n},intersectObjects:function(e){for(var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],i=0,r=e.length;i<r;i++)Kd(e[i],this,n,t);return R()(n).call(n,Qd),n}});var Jd=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;return p()(this,e),this.radius=t,this.phi=n,this.theta=i,this}return m()(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}},{key:"makeSafe",value:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Hi.clamp(t/this.radius,-1,1))),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),ef=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;return p()(this,e),this.radius=t,this.theta=n,this.y=i,this}return m()(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),tf=new Ui,nf=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Ui(1/0,1/0),n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Ui(-1/0,-1/0);p()(this,e),this.min=t,this.max=n}return m()(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){return t=tf.copy(t).multiplyScalar(.5),this.min.copy(e).sub(t),this.max.copy(e).add(t),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y}},{key:"getCenter",value:function(e){return void 0===e&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new Ui),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return void 0===e&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new Ui),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}},{key:"getParameter",value:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new Ui),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}},{key:"clampPoint",value:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new Ui),t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return tf.copy(e).clamp(this.min,this.max).sub(e).length()}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}(),rf=(nf.prototype.isBox2=!0,new Qi),af=new Qi,of=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Qi,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Qi;p()(this,e),this.start=t,this.end=n}return m()(e,[{key:"set",value:function(e,t){return this.start.copy(e),this.end.copy(t),this}},{key:"copy",value:function(e){return this.start.copy(e.start),this.end.copy(e.end),this}},{key:"getCenter",value:function(e){return void 0===e&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new Qi),e.addVectors(this.start,this.end).multiplyScalar(.5)}},{key:"delta",value:function(e){return void 0===e&&(console.warn("THREE.Line3: .delta() target is now required"),e=new Qi),e.subVectors(this.end,this.start)}},{key:"distanceSq",value:function(){return this.start.distanceToSquared(this.end)}},{key:"distance",value:function(){return this.start.distanceTo(this.end)}},{key:"at",value:function(e,t){return void 0===t&&(console.warn("THREE.Line3: .at() target is now required"),t=new Qi),this.delta(t).multiplyScalar(e).add(this.start)}},{key:"closestPointToPointParameter",value:function(e,t){return rf.subVectors(e,this.start),af.subVectors(this.end,this.start),e=af.dot(af),e=af.dot(rf)/e,t?Hi.clamp(e,0,1):e}},{key:"closestPointToPoint",value:function(e,t,n){return e=this.closestPointToPointParameter(e,t),void 0===n&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new Qi),this.delta(n).multiplyScalar(e).add(this.start)}},{key:"applyMatrix4",value:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}},{key:"equals",value:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();function sf(e){Zr.call(this),this.material=e,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}((sf.prototype=T()(Zr.prototype)).constructor=sf).prototype.isImmediateRenderObject=!0;var lf=new Qi,cf=function(e){h()(n,e);var t=te(n);function n(e,i){p()(this,n),(r=t.call(this)).light=e,r.light.updateMatrixWorld(),r.matrix=e.matrixWorld,r.matrixAutoUpdate=!1,r.color=i;e=new Wa;for(var r,a=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],o=0,s=1;o<32;o++,s++){var l=o/32*Math.PI*2,c=s/32*Math.PI*2;a.push(Math.cos(l),Math.sin(l),1,Math.cos(c),Math.sin(c),1)}return e.setAttribute("position",new Ia(a,3)),i=new yc({fog:!1,toneMapped:!1}),r.cone=new Cc(e,i),r.add(r.cone),r.update(),r}return m()(n,[{key:"dispose",value:function(){this.cone.geometry.dispose(),this.cone.material.dispose()}},{key:"update",value:function(){this.light.updateMatrixWorld();var e=this.light.distance||1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),lf.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(lf),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}]),n}(Zr),uf=new Qi,hf=new Er,df=new Er,ff=function(e){h()(n,e);var t=te(n);function n(e){p()(this,n);for(var i=function e(t){var n=[];t&&t.isBone&&n.push(t);for(var i=0;i<t.children.length;i++)n.push.apply(n,e(t.children[i]));return n}(e),r=new Wa,a=[],o=[],s=new ba(0,0,1),l=new ba(0,1,0),c=0;c<i.length;c++){var u=i[c];u.parent&&u.parent.isBone&&(a.push(0,0,0),a.push(0,0,0),o.push(s.r,s.g,s.b),o.push(l.r,l.g,l.b))}r.setAttribute("position",new Ia(a,3)),r.setAttribute("color",new Ia(o,3));var h=new yc({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});return(r=t.call(this,r,h)).type="SkeletonHelper",r.isSkeletonHelper=!0,r.root=e,r.bones=i,r.matrix=e.matrixWorld,r.matrixAutoUpdate=!1,r}return m()(n,[{key:"updateMatrixWorld",value:function(e){var t=this.bones,i=this.geometry,r=i.getAttribute("position");df.copy(this.root.matrixWorld).invert();for(var a=0,o=0;a<t.length;a++){var s=t[a];s.parent&&s.parent.isBone&&(hf.multiplyMatrices(df,s.matrixWorld),uf.setFromMatrixPosition(hf),r.setXYZ(o,uf.x,uf.y,uf.z),hf.multiplyMatrices(df,s.parent.matrixWorld),uf.setFromMatrixPosition(hf),r.setXYZ(o+1,uf.x,uf.y,uf.z),o+=2)}i.getAttribute("position").needsUpdate=!0,c()(f()(n.prototype),"updateMatrixWorld",this).call(this,e)}}]),n}(Cc),pf=function(e){h()(n,e);var t=te(n);function n(e,i,r){p()(this,n);i=new Mu(i,4,2);var a=new wa({wireframe:!0,fog:!1,toneMapped:!1});return(i=t.call(this,i,a)).light=e,i.light.updateMatrixWorld(),i.color=r,i.type="PointLightHelper",i.matrix=i.light.matrixWorld,i.matrixAutoUpdate=!1,i.update(),i}return m()(n,[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}},{key:"update",value:function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}]),n}(co),mf=new Qi,vf=new ba,gf=new ba,yf=function(e){h()(n,e);var t=te(n);function n(e,i,r){p()(this,n),(a=t.call(this)).light=e,a.light.updateMatrixWorld(),a.matrix=e.matrixWorld,a.matrixAutoUpdate=!1,a.color=r;var a;(e=new xu(i)).rotateY(.5*Math.PI),a.material=new wa({wireframe:!0,fog:!1,toneMapped:!1}),void 0===a.color&&(a.material.vertexColors=!0),r=e.getAttribute("position"),i=new Float32Array(3*r.count);return e.setAttribute("color",new Sa(i,3)),a.add(new co(e,a.material)),a.update(),a}return m()(n,[{key:"dispose",value:function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}},{key:"update",value:function(){var e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var t=e.geometry.getAttribute("color");vf.copy(this.light.color),gf.copy(this.light.groundColor);for(var n=0,i=t.count;n<i;n++){var r=n<i/2?vf:gf;t.setXYZ(n,r.r,r.g,r.b)}t.needsUpdate=!0}e.lookAt(mf.setFromMatrixPosition(this.light.matrixWorld).negate())}}]),n}(Zr),xf=function(e){h()(n,e);var t=te(n);function n(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:4473924,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:8947848,o=(p()(this,n),r=new ba(r),a=new ba(a),i/2),s=e/i,l=e/2,c=[],u=[],h=0,d=0,f=-l;h<=i;h++,f+=s){c.push(-l,0,f,l,0,f),c.push(f,0,-l,f,0,l);var m=h===o?r:a;m.toArray(u,d),d+=3,m.toArray(u,d),d+=3,m.toArray(u,d),d+=3,m.toArray(u,d),d+=3}var v=((e=new Wa).setAttribute("position",new Ia(c,3)),e.setAttribute("color",new Ia(u,3)),new yc({vertexColors:!0,toneMapped:!1}));return(e=t.call(this,e,v)).type="GridHelper",e}return m()(n)}(Cc),bf=function(e){h()(n,e);var t=te(n);function n(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:16,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:8,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:64,o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:4473924,s=5<arguments.length&&void 0!==arguments[5]?arguments[5]:8947848,l=(p()(this,n),o=new ba(o),s=new ba(s),[]),c=[],u=0;u<=i;u++){var h=u/i*(2*Math.PI),d=Math.sin(h)*e;h=Math.cos(h)*e,d=(l.push(0,0,0),l.push(d,0,h),1&u?o:s);c.push(d.r,d.g,d.b),c.push(d.r,d.g,d.b)}for(var f=0;f<=r;f++)for(var m=1&f?o:s,v=e-e/r*f,g=0;g<a;g++){var y=g/a*(2*Math.PI),x=Math.sin(y)*v,b=Math.cos(y)*v;l.push(x,0,b),c.push(m.r,m.g,m.b),y=(g+1)/a*(2*Math.PI),x=Math.sin(y)*v,b=Math.cos(y)*v,l.push(x,0,b),c.push(m.r,m.g,m.b)}var w=new Wa,_=(w.setAttribute("position",new Ia(l,3)),w.setAttribute("color",new Ia(c,3)),new yc({vertexColors:!0,toneMapped:!1}));return(w=t.call(this,w,_)).type="PolarGridHelper",w}return m()(n)}(Cc),wf=new Qi,_f=new Qi,Mf=new Qi,Sf=function(e){h()(n,e);var t=te(n);function n(e,i,r){p()(this,n),(a=t.call(this)).light=e,a.light.updateMatrixWorld(),a.matrix=e.matrixWorld,a.matrixAutoUpdate=!1,a.color=r,void 0===i&&(i=1);var a;(e=new Wa).setAttribute("position",new Ia([-i,i,0,i,i,0,i,-i,0,-i,-i,0,-i,i,0],3)),r=new yc({fog:!1,toneMapped:!1});return a.lightPlane=new Sc(e,r),a.add(a.lightPlane),(e=new Wa).setAttribute("position",new Ia([0,0,0,0,0,1],3)),a.targetLine=new Sc(e,r),a.add(a.targetLine),a.update(),a}return m()(n,[{key:"dispose",value:function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}},{key:"update",value:function(){wf.setFromMatrixPosition(this.light.matrixWorld),_f.setFromMatrixPosition(this.light.target.matrixWorld),Mf.subVectors(_f,wf),this.lightPlane.lookAt(_f),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(_f),this.targetLine.scale.z=Mf.length()}}]),n}(Zr),Ef=new Qi,Tf=new go,Cf=function(e){h()(n,e);var t=te(n);function n(e){p()(this,n);var i=new Wa,r=new yc({color:16777215,vertexColors:!0,toneMapped:!1}),a=[],o=[],s={},l=new ba(16755200),c=new ba(16711680),u=new ba(43775),h=new ba(16777215),d=new ba(3355443);function f(e,t,n){m(e,n),m(t,n)}function m(e,t){a.push(0,0,0),o.push(t.r,t.g,t.b),void 0===s[e]&&(s[e]=[]),s[e].push(a.length/3-1)}return f("n1","n2",l),f("n2","n4",l),f("n4","n3",l),f("n3","n1",l),f("f1","f2",l),f("f2","f4",l),f("f4","f3",l),f("f3","f1",l),f("n1","f1",l),f("n2","f2",l),f("n3","f3",l),f("n4","f4",l),f("p","n1",c),f("p","n2",c),f("p","n3",c),f("p","n4",c),f("u1","u2",u),f("u2","u3",u),f("u3","u1",u),f("c","t",h),f("p","c",d),f("cn1","cn2",d),f("cn3","cn4",d),f("cf1","cf2",d),f("cf3","cf4",d),i.setAttribute("position",new Ia(a,3)),i.setAttribute("color",new Ia(o,3)),(l=t.call(this,i,r)).type="CameraHelper",l.camera=e,l.camera.updateProjectionMatrix&&l.camera.updateProjectionMatrix(),l.matrix=e.matrixWorld,l.matrixAutoUpdate=!1,l.pointMap=s,l.update(),l}return m()(n,[{key:"update",value:function(){var e=this.geometry,t=this.pointMap;Tf.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Af("c",t,e,Tf,0,0,-1),Af("t",t,e,Tf,0,0,1),Af("n1",t,e,Tf,-1,-1,-1),Af("n2",t,e,Tf,1,-1,-1),Af("n3",t,e,Tf,-1,1,-1),Af("n4",t,e,Tf,1,1,-1),Af("f1",t,e,Tf,-1,-1,1),Af("f2",t,e,Tf,1,-1,1),Af("f3",t,e,Tf,-1,1,1),Af("f4",t,e,Tf,1,1,1),Af("u1",t,e,Tf,.7,1.1,-1),Af("u2",t,e,Tf,-.7,1.1,-1),Af("u3",t,e,Tf,0,2,-1),Af("cf1",t,e,Tf,-1,0,1),Af("cf2",t,e,Tf,1,0,1),Af("cf3",t,e,Tf,0,-1,1),Af("cf4",t,e,Tf,0,1,1),Af("cn1",t,e,Tf,-1,0,-1),Af("cn2",t,e,Tf,1,0,-1),Af("cn3",t,e,Tf,0,-1,-1),Af("cn4",t,e,Tf,0,1,-1),e.getAttribute("position").needsUpdate=!0}}]),n}(Cc);function Af(e,t,n,i,r,a,o){Ef.set(r,a,o).unproject(i);var s=t[e];if(void 0!==s)for(var l=n.getAttribute("position"),c=0,u=s.length;c<u;c++)l.setXYZ(s[c],Ef.x,Ef.y,Ef.z)}var Lf,Pf,kf=new er,Df=function(e){h()(n,e);var t=te(n);function n(e){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:16776960,r=(p()(this,n),new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7])),a=new Float32Array(24),o=new Wa;return o.setIndex(new Sa(r,1)),o.setAttribute("position",new Sa(a,3)),(r=t.call(this,o,new yc({color:i,toneMapped:!1}))).object=e,r.type="BoxHelper",r.matrixAutoUpdate=!1,r.update(),r}return m()(n,[{key:"update",value:function(e){var t,n,i;void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&kf.setFromObject(this.object),kf.isEmpty()||(e=kf.min,t=kf.max,(i=(n=this.geometry.attributes.position).array)[0]=t.x,i[1]=t.y,i[2]=t.z,i[3]=e.x,i[4]=t.y,i[5]=t.z,i[6]=e.x,i[7]=e.y,i[8]=t.z,i[9]=t.x,i[10]=e.y,i[11]=t.z,i[12]=t.x,i[13]=t.y,i[14]=e.z,i[15]=e.x,i[16]=t.y,i[17]=e.z,i[18]=e.x,i[19]=e.y,i[20]=e.z,i[21]=t.x,i[22]=e.y,i[23]=e.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere())}},{key:"setFromObject",value:function(e){return this.object=e,this.update(),this}},{key:"copy",value:function(e){return Cc.prototype.copy.call(this,e),this.object=e.object,this}}]),n}(Cc),If=function(e){h()(n,e);var t=te(n);function n(e){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:16776960,r=(p()(this,n),new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7])),a=new Wa;return a.setIndex(new Sa(r,1)),a.setAttribute("position",new Ia([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),(r=t.call(this,a,new yc({color:i,toneMapped:!1}))).box=e,r.type="Box3Helper",r.geometry.computeBoundingSphere(),r}return m()(n,[{key:"updateMatrixWorld",value:function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),c()(f()(n.prototype),"updateMatrixWorld",this).call(this,e))}}]),n}(Cc),Rf=function(e){h()(n,e);var t=te(n);function n(e){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:16776960,a=(p()(this,n),new Wa);return(e=(a.setAttribute("position",new Ia([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),a.computeBoundingSphere(),(a=t.call(this,a,new yc({color:r,toneMapped:!1}))).type="PlaneHelper",a.plane=e,a.size=i,new Wa)).setAttribute("position",new Ia([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),e.computeBoundingSphere(),a.add(new co(e,new wa({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1}))),a}return m()(n,[{key:"updateMatrixWorld",value:function(e){var t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?pe:fe,this.lookAt(this.plane.normal),c()(f()(n.prototype),"updateMatrixWorld",this).call(this,e)}}]),n}(Sc),Nf=new Qi,Of=function(e){h()(n,e);var t=te(n);function n(){var e,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Qi(0,0,1),r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Qi(0,0,0),a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:16776960,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:.2*a,l=5<arguments.length&&void 0!==arguments[5]?arguments[5]:.2*s;return p()(this,n),(e=t.call(this)).type="ArrowHelper",void 0===Lf&&((Lf=new Wa).setAttribute("position",new Ia([0,0,0,0,1,0],3)),(Pf=new Uc(0,.5,1,5,1)).translate(0,-.5,0)),e.position.copy(r),e.line=new Sc(Lf,new yc({color:o,toneMapped:!1})),e.line.matrixAutoUpdate=!1,e.add(e.line),e.cone=new co(Pf,new wa({color:o,toneMapped:!1})),e.cone.matrixAutoUpdate=!1,e.add(e.cone),e.setDirection(i),e.setLength(a,s,l),e}return m()(n,[{key:"setDirection",value:function(e){.99999<e.y?this.quaternion.set(0,0,0,1):e.y<-.99999?this.quaternion.set(1,0,0,0):(Nf.set(e.z,0,-e.x).normalize(),e=Math.acos(e.y),this.quaternion.setFromAxisAngle(Nf,e))}},{key:"setLength",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:.2*e,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:.2*t;this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}},{key:"setColor",value:function(e){this.line.material.color.set(e),this.cone.material.color.set(e)}},{key:"copy",value:function(e){return c()(f()(n.prototype),"copy",this).call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}}]),n}(Zr),Ff=function(e){h()(n,e);var t=te(n);function n(){var e,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;p()(this,n),i=[0,0,0,i,0,0,0,0,0,0,i,0,0,0,0,0,0,i],(e=new Wa).setAttribute("position",new Ia(i,3)),e.setAttribute("color",new Ia([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3)),i=new yc({vertexColors:!0,toneMapped:!1});return(e=t.call(this,e,i)).type="AxesHelper",e}return m()(n)}(Cc),zf=new Float32Array(1),Bf=new Int32Array(zf.buffer),Hf={toHalfFloat:function(e){zf[0]=e;var t=(e=Bf[0])>>16&32768,n=e>>12&2047,i=e>>23&255;if(!(i<103)){if(142<i)return 31744|t|((255==i?0:1)&&8388607&e);if(i<113)return t|((n|=2048)>>114-i)+(n>>113-i&1);t=(t|i-112<<10|n>>1)+(1&n)}return t}},Uf=Math.pow(2,8),Vf=[.125,.215,.35,.446,.526,.582],Gf=5+Vf.length,jf=(X={},s()(X,Zn,0),s()(X,Qn,1),s()(X,Jn,2),s()(X,ti,3),s()(X,ni,4),s()(X,ii,5),s()(X,Kn,6),X),Wf=new wa({side:pe,depthWrite:!1,depthTest:!1}),Xf=new co(new ho,Wf),qf=new $h,Yf=(n=function(){for(var e=[],t=[],n=[],i=8,r=0;r<Gf;r++){for(var a=Math.pow(2,i),o=(t.push(a),1/a),s=(o=(4<r?o=Vf[r-8+4-1]:0==r&&(o=0),n.push(o),1/(a-1)),[a=-o/2,a,o=1+o/2,a,o,o,a,a,o,o,a,o]),l=new Float32Array(108),c=new Float32Array(72),u=new Float32Array(36),h=0;h<6;h++){var d=h%3*2/3-1,f=2<h?0:-1;l.set([d,f,0,d+2/3,f,0,d+2/3,1+f,0,d,f,0,d+2/3,1+f,0,d,1+f,0],18*h),c.set(s,12*h),u.set([h,h,h,h,h,h],6*h)}(a=new Wa).setAttribute("position",new Sa(l,3)),a.setAttribute("uv",new Sa(c,2)),a.setAttribute("faceIndex",new Sa(u,1)),e.push(a),4<i&&i--}return{_lodPlanes:e,_sizeLods:t,_sigmas:n}}())._lodPlanes,$f=n._sizeLods,Zf=n._sigmas,Qf=new ba,Kf=null,Jf=(t=1/(Bd=(1+Math.sqrt(5))/2),[new Qi(1,1,1),new Qi(-1,1,1),new Qi(1,1,-1),new Qi(-1,1,-1),new Qi(0,Bd,t),new Qi(0,Bd,-t),new Qi(t,0,Bd),new Qi(-t,0,Bd),new Qi(Bd,t,0),new Qi(-Bd,t,0)]);function ep(e){var t=Math.max(e.r,e.g,e.b);t=Math.min(Math.max(Math.ceil(z()(t)),-128),127);return e.multiplyScalar(Math.pow(2,-t)),(t+128)/255}var tp=function(){function e(t){var n,i;p()(this,e),this._renderer=t,this._pingPongRenderTarget=null,this._blurMaterial=(t=20,n=new Float32Array(t),i=new Qi(0,1,0),new Du({name:"SphericalGaussianBlur",defines:{n:t},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i},inputEncoding:{value:jf[Zn]},outputEncoding:{value:jf[Zn]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t".concat("\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t","\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t"),blending:ye,depthTest:!1,depthWrite:!1})),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}return m()(e,[{key:"fromScene",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:.1,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:100,r=(Kf=this._renderer.getRenderTarget(),this._allocateTargets());return this._sceneToCubeUV(e,n,i,r),0<t&&this._blur(r,0,0,t),this._applyPMREM(r),this._cleanup(r),r}},{key:"fromEquirectangular",value:function(e){return this._fromTexture(e)}},{key:"fromCubemap",value:function(e){return this._fromTexture(e)}},{key:"compileCubemapShader",value:function(){null===this._cubemapShader&&(this._cubemapShader=ap(),this._compileMaterial(this._cubemapShader))}},{key:"compileEquirectangularShader",value:function(){null===this._equirectShader&&(this._equirectShader=rp(),this._compileMaterial(this._equirectShader))}},{key:"dispose",value:function(){this._blurMaterial.dispose(),null!==this._cubemapShader&&this._cubemapShader.dispose(),null!==this._equirectShader&&this._equirectShader.dispose();for(var e=0;e<Yf.length;e++)Yf[e].dispose()}},{key:"_cleanup",value:function(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(Kf),e.scissorTest=!1,ip(e,0,0,e.width,e.height)}},{key:"_fromTexture",value:function(e){Kf=this._renderer.getRenderTarget();var t=this._allocateTargets(e);return this._textureToCubeUV(e,t),this._applyPMREM(t),this._cleanup(t),t}},{key:"_allocateTargets",value:function(e){var t={magFilter:ft,minFilter:ft,generateMipmaps:!1,type:Mt,format:Ht,encoding:void 0===(t=e)||t.type!==Mt||t.encoding!==Zn&&t.encoding!==Qn&&t.encoding!==Kn?Jn:e.encoding,depthBuffer:!1},n=np(t);return n.depthBuffer=!e,this._pingPongRenderTarget=np(t),n}},{key:"_compileMaterial",value:function(e){e=new co(Yf[0],e),this._renderer.compile(e,qf)}},{key:"_sceneToCubeUV",value:function(e,t,n,i){var r=new yo(90,1,t,n),a=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],s=this._renderer,l=(t=s.autoClear,n=s.outputEncoding,s.toneMapping),c=(s.getClearColor(Qf),s.toneMapping=Qe,s.outputEncoding=Zn,s.autoClear=!1),u=e.background;u?u.isColor&&(Wf.color.copy(u).convertSRGBToLinear(),e.background=null,u=ep(Wf.color),Wf.opacity=u,c=!0):(Wf.color.copy(Qf).convertSRGBToLinear(),u=ep(Wf.color),Wf.opacity=u,c=!0);for(var h=0;h<6;h++){var d=h%3;0==d?(r.up.set(0,a[h],0),r.lookAt(o[h],0,0)):1==d?(r.up.set(0,0,a[h]),r.lookAt(0,o[h],0)):(r.up.set(0,a[h],0),r.lookAt(0,0,o[h])),ip(i,d*Uf,2<h?Uf:0,Uf,Uf),s.setRenderTarget(i),c&&s.render(Xf,r),s.render(e,r)}s.toneMapping=l,s.outputEncoding=n,s.autoClear=t}},{key:"_textureToCubeUV",value:function(e,t){var n=this._renderer,i=(e.isCubeTexture?null==this._cubemapShader&&(this._cubemapShader=ap()):null==this._equirectShader&&(this._equirectShader=rp()),e.isCubeTexture?this._cubemapShader:this._equirectShader),r=new co(Yf[0],i);((i=i.uniforms).envMap.value=e).isCubeTexture||i.texelSize.value.set(1/e.image.width,1/e.image.height),i.inputEncoding.value=jf[e.encoding],i.outputEncoding.value=jf[t.texture.encoding],ip(t,0,0,3*Uf,2*Uf),n.setRenderTarget(t),n.render(r,qf)}},{key:"_applyPMREM",value:function(e){var t=this._renderer,n=t.autoClear;t.autoClear=!1;for(var i=1;i<Gf;i++){var r=Math.sqrt(Zf[i]*Zf[i]-Zf[i-1]*Zf[i-1]);this._blur(e,i-1,i,r,Jf[(i-1)%Jf.length])}t.autoClear=n}},{key:"_blur",value:function(e,t,n,i,r){var a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,i,"latitudinal",r),this._halfBlur(a,e,n,n,i,"longitudinal",r)}},{key:"_halfBlur",value:function(e,t,n,i,r,a,o){for(var s=this._renderer,l=this._blurMaterial,c=("latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!"),new co(Yf[i],l)),u=(l=l.uniforms,$f[n]-1),h=r/(u=isFinite(r)?Math.PI/(2*u):2*Math.PI/39),d=isFinite(r)?1+Math.floor(3*h):20,f=(20<d&&console.warn(G()(r=G()(r="sigmaRadians, ".concat(r,", is too large and will clip, as it requested ")).call(r,d," samples when the maximum is set to ")).call(r,20)),[]),p=0,m=0;m<20;++m){var v=m/h;v=Math.exp(-v*v/2);f.push(v),0==m?p+=v:m<d&&(p+=2*v)}for(var g=0;g<f.length;g++)f[g]=f[g]/p;l.envMap.value=e.texture,l.samples.value=d,l.weights.value=f,l.latitudinal.value="latitudinal"===a,o&&(l.poleAxis.value=o),l.dTheta.value=u,l.mipInt.value=8-n,l.inputEncoding.value=jf[e.texture.encoding],l.outputEncoding.value=jf[e.texture.encoding],r=$f[i],ip(t,3*Math.max(0,Uf-2*r),(0===i?0:2*Uf)+2*r*(4<i?i-8+4:0),3*r,2*r),s.setRenderTarget(t),s.render(c,qf)}}]),e}();function np(e){return(e=new Yi(3*Uf,3*Uf,e)).texture.mapping=lt,e.texture.name="PMREM.cubeUv",e.scissorTest=!0,e}function ip(e,t,n,i,r){e.viewport.set(t,n,i,r),e.scissor.set(t,n,i,r)}function rp(){var e=new Ui(1,1);return new Du({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:e},inputEncoding:{value:jf[Zn]},outputEncoding:{value:jf[Zn]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform vec2 texelSize;\n\n\t\t\t".concat("\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t","\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tvec2 f = fract( uv / texelSize - 0.5 );\n\t\t\t\tuv -= f * texelSize;\n\t\t\t\tvec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x += texelSize.x;\n\t\t\t\tvec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.y += texelSize.y;\n\t\t\t\tvec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x -= texelSize.x;\n\t\t\t\tvec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\n\t\t\t\tvec3 tm = mix( tl, tr, f.x );\n\t\t\t\tvec3 bm = mix( bl, br, f.x );\n\t\t\t\tgl_FragColor.rgb = mix( tm, bm, f.y );\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t"),blending:ye,depthTest:!1,depthWrite:!1})}function ap(){return new Du({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:jf[Zn]},outputEncoding:{value:jf[Zn]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\t".concat("\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t","\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t"),blending:ye,depthTest:!1,depthWrite:!1})}var op=0,sp=1,lp=0,cp=1,up=2;function hp(e){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),e}function dp(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),e.isMultiMaterial=!0,(e.materials=e).clone=function(){return b()(e).call(e)},e}function fp(e,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Rc(e,t)}function pp(e){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new Kl(e)}function mp(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Rc(e,t)}function vp(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Lc(e)}function gp(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Lc(e)}function yp(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Lc(e)}function xp(e,t,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new Qi(e,t,n)}function bp(e,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new Sa(e,t).setUsage(Ei)}function wp(e,t){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new Ea(e,t)}function _p(e,t){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new Ta(e,t)}function Mp(e,t){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new Ca(e,t)}function Sp(e,t){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new Aa(e,t)}function Ep(e,t){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new La(e,t)}function Tp(e,t){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new Pa(e,t)}function Cp(e,t){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new ka(e,t)}function Ap(e,t){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new Ia(e,t)}function Lp(e,t){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new Ra(e,t)}function Pp(e){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new Ff(e)}function kp(e,t){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new Df(e,t)}function Dp(e,t){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Cc(new $c(e.geometry),new yc({color:void 0!==t?t:16777215}))}function Ip(e,t){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Cc(new Lu(e.geometry),new yc({color:void 0!==t?t:16777215}))}function Rp(e){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new sh(e)}function Np(e){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new dh(e)}function Op(e,t,n){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new wo(e,n)}function Fp(){console.error("THREE.CanvasRenderer has been removed")}function zp(){console.error("THREE.JSONLoader has been removed.")}ph.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=T()(ph.prototype),(e.prototype.constructor=e).prototype.getPoint=t,e},Nh.prototype.fromPoints=function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)},xf.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},ff.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},ah.prototype.extractUrlBase=function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),id.extractUrlBase(e)},ah.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},nf.prototype.center=function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},nf.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},nf.prototype.isIntersectionBox=function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},nf.prototype.size=function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)},er.prototype.center=function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},er.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},er.prototype.isIntersectionBox=function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},er.prototype.isIntersectionSphere=function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},er.prototype.size=function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)},vr.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()},Eo.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)},of.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Hi.random16=function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},Hi.nearestPowerOfTwo=function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Hi.floorPowerOfTwo(e)},Hi.nextPowerOfTwo=function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Hi.ceilPowerOfTwo(e)},Vi.prototype.flattenToArrayOffset=function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},Vi.prototype.multiplyVector3=function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},Vi.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},Vi.prototype.applyToBufferAttribute=function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},Vi.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},Vi.prototype.getInverse=function(e){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()},Er.prototype.extractPosition=function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},Er.prototype.flattenToArrayOffset=function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},Er.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new Qi).setFromMatrixColumn(this,3)},Er.prototype.setRotationFromQuaternion=function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},Er.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},Er.prototype.multiplyVector3=function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},Er.prototype.multiplyVector4=function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},Er.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},Er.prototype.rotateAxis=function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},Er.prototype.crossVector=function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},Er.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")},Er.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},Er.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},Er.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},Er.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},Er.prototype.applyToBufferAttribute=function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},Er.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},Er.prototype.makeFrustum=function(e,t,n,i,r,a){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,i,n,r,a)},Er.prototype.getInverse=function(e){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()},ea.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},Zi.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Zi.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()},Sr.prototype.isIntersectionBox=function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},Sr.prototype.isIntersectionPlane=function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},Sr.prototype.isIntersectionSphere=function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},ha.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},ha.prototype.barycoordFromPoint=function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},ha.prototype.midpoint=function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},ha.prototypenormal=function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},ha.prototype.plane=function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)},ha.barycoordFromPoint=function(e,t,n,i,r){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),ha.getBarycoord(e,t,n,i,r)},ha.normal=function(e,t,n,i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),ha.getNormal(e,t,n,i)},Oh.prototype.extractAllPoints=function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},Oh.prototype.extrude=function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new mu(this,e)},Oh.prototype.makeGeometry=function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new _u(this,e)},Ui.prototype.fromAttribute=function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},Ui.prototype.distanceToManhattan=function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},Ui.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Qi.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},Qi.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},Qi.prototype.getPositionFromMatrix=function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},Qi.prototype.getScaleFromMatrix=function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},Qi.prototype.getColumnFromMatrix=function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},Qi.prototype.applyProjection=function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},Qi.prototype.fromAttribute=function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},Qi.prototype.distanceToManhattan=function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},Qi.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},qi.prototype.fromAttribute=function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},qi.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Zr.prototype.getChildByName=function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},Zr.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},Zr.prototype.translate=function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},Zr.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},Zr.prototype.applyMatrix=function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)},E()(Zr.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),co.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")},E()(co.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),qn},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),E()(nc.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),w()(dc.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),lc.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},w()(ph.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),yo.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},E()(Fh.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),E()(Sa.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Ei},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Ei)}}}),Sa.prototype.setDynamic=function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?Ei:Si),this},Sa.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},Sa.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},Wa.prototype.addIndex=function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},Wa.prototype.addAttribute=function(e,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new Sa(t,arguments[2])))},Wa.prototype.addDrawCall=function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},Wa.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},Wa.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},Wa.prototype.removeAttribute=function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},Wa.prototype.applyMatrix=function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)},E()(Wa.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),E()(rd.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(e){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=e}}}),E()(Zd.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(e){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=e}}}),E()(Nl.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===Ei},set:function(e){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(e)}}}),Nl.prototype.setDynamic=function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?Ei:Si),this},Nl.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},mu.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")},mu.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")},mu.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")},Rl.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")},E()(qd.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),E()(fa.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new ba}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=e===ve}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}}}),E()(Nu.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),E()(Ru.prototype,{transparency:{get:function(){return console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission},set:function(e){console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission=e}}}),E()(vo.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Pl.prototype.clearTarget=function(e,t,n,i){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,i)},Pl.prototype.animate=function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},Pl.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},Pl.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},Pl.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},Pl.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},Pl.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},Pl.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},Pl.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},Pl.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},Pl.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},Pl.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},Pl.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},Pl.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},Pl.prototype.enableScissorTest=function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},Pl.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},Pl.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},Pl.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},Pl.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},Pl.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},Pl.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},Pl.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},Pl.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},Pl.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},Pl.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()},E()(Pl.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===e?Qn:Zn}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),E()(wl.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),E()(Yi.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),_()(this.texture)},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),E()(Pd.prototype,{load:{value:function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new gd).load(e,(function(e){t.setBuffer(e)})),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),Od.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},xo.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)},xo.prototype.clear=function(e,t,n,i){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(e,t,n,i)},Gi.crossOrigin=void 0,Gi.loadTexture=function(e,t,n,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var r=((r=new fh).setCrossOrigin(this.crossOrigin),r.load(e,n,void 0,i));return t&&(r.mapping=t),r},Gi.loadTextureCube=function(e,t,n,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var r=((r=new hh).setCrossOrigin(this.crossOrigin),r.load(e,n,void 0,i));return t&&(r.mapping=t),r},Gi.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},Gi.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};var Bp={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function Hp(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:ne}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=ne)},function(e,t,n){e.exports=n(311)},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var i=n(139),r=n(228);function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),i(e,r(a.key),a)}}e.exports=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),i(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){e.exports=n(307)},function(e,t,n){"use strict";(function(e){var i,r=n(146);const a=Object.prototype.toString,o=Object.getPrototypeOf,s=(i=Object.create(null),e=>(e=a.call(e),i[e]||(i[e]=e.slice(8,-1).toLowerCase())));var l=e=>(e=e.toLowerCase(),t=>s(t)===e),c=e=>t=>typeof t===e;const u=Array.isArray,h=c("undefined"),d=l("ArrayBuffer");var f=c("string");const p=c("function"),m=c("number"),v=e=>null!==e&&"object"==typeof e,g=e=>{var t;return"object"===s(e)&&!(null!==(t=o(e))&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)};c=l("Date");var y=l("File"),x=l("Blob"),b=l("FileList"),w=l("URLSearchParams");function _(e,t,{allOwnKeys:n=!1}={}){if(null!=e){let s;var i;if("object"!=typeof e&&(e=[e]),u(e))for(s=0,i=e.length;s<i;s++)t.call(null,e[s],s,e);else{var r,a=n?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;for(s=0;s<o;s++)r=a[s],t.call(null,e[r],r,e)}}}function M(e,t){t=t.toLowerCase();var n,i=Object.keys(e);let r=i.length;for(;0<r--;)if(t===(n=i[r]).toLowerCase())return n;return null}const S="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:e,E=e=>!h(e)&&e!==S;T="undefined"!=typeof Uint8Array&&o(Uint8Array);e=e=>T&&e instanceof T;var T,C,A=l("HTMLFormElement"),L=(C=Object.prototype.hasOwnProperty,(e,t)=>C.call(e,t)),P=l("RegExp");const k=(e,t)=>{var n=Object.getOwnPropertyDescriptors(e);const i={};_(n,(n,r)=>{!1!==t(n,r,e)&&(i[r]=n)}),Object.defineProperties(e,i)};var D="abcdefghijklmnopqrstuvwxyz",I="0123456789";const R={DIGIT:I,ALPHA:D,ALPHA_DIGIT:D+D.toUpperCase()+I};t.a={isArray:u,isArrayBuffer:d,isBuffer:function(e){return null!==e&&!h(e)&&null!==e.constructor&&!h(e.constructor)&&p(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||a.call(e)===t||p(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&d(e.buffer)},isString:f,isNumber:m,isBoolean:e=>!0===e||!1===e,isObject:v,isPlainObject:g,isUndefined:h,isDate:c,isFile:y,isBlob:x,isRegExp:P,isFunction:p,isStream:e=>v(e)&&p(e.pipe),isURLSearchParams:w,isTypedArray:e,isFileList:b,forEach:_,merge:function e(){const t=(E(this)&&this||{}).caseless,n={};var i=(i,r)=>{r=t&&M(n,r)||r,g(n[r])&&g(i)?n[r]=e(n[r],i):g(i)?n[r]=e({},i):u(i)?n[r]=i.slice():n[r]=i};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&_(arguments[e],i);return n},extend:(e,t,n,{allOwnKeys:i}={})=>(_(t,(t,i)=>{n&&p(t)?e[i]=Object(r.a)(t,n):e[i]=t},{allOwnKeys:i}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>65279===e.charCodeAt(0)?e.slice(1):e,inherits:(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,i)=>{var r,a;let s;var l={};if(t=t||{},null!=e)do{for(s=(r=Object.getOwnPropertyNames(e)).length;0<s--;)a=r[s],i&&!i(a,e,t)||l[a]||(t[a]=e[a],l[a]=!0)}while((e=!1!==n&&o(e))&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:s,kindOfTest:l,endsWith:(e,t,n)=>(e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length,-1!==(e=e.indexOf(t,n))&&e===n),toArray:e=>{if(!e)return null;if(u(e))return e;let t=e.length;if(!m(t))return null;for(var n=new Array(t);0<t--;)n[t]=e[t];return n},forEachEntry:(e,t)=>{for(var n=(e&&e[Symbol.iterator]).call(e);(i=n.next())&&!i.done;){var i=i.value;t.call(e,i[0],i[1])}},matchAll:(e,t)=>{for(var n,i=[];null!==(n=e.exec(t));)i.push(n);return i},isHTMLForm:A,hasOwnProperty:L,hasOwnProp:L,reduceDescriptors:k,freezeMethods:e=>{k(e,(t,n)=>{if(p(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var i=e[n];p(i)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={};var i=e=>{e.forEach(e=>{n[e]=!0})};return u(e)?i(e):i(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:M,global:S,isContextDefined:E,ALPHABET:R,generateString:(e=16,t=R.ALPHA_DIGIT)=>{let n="";for(var i=t.length;e--;)n+=t[Math.random()*i|0];return n},isSpecCompliantForm:function(e){return!!(e&&p(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,i)=>{if(v(e)){if(0<=t.indexOf(e))return;if(!("toJSON"in e)){t[i]=e;const r=u(e)?[]:{};return _(e,(e,t)=>{e=n(e,i+1),h(e)||(r[t]=e)}),t[i]=void 0,r}}return e};return n(e,0)}}}).call(this,n(88))},function(e,t,n){e.exports=n(203)},function(e,t,n){var i=n(236),r=n(139),a=n(440);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=i(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r(e,"prototype",{writable:!1}),t&&a(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){e.exports=n(303)},function(e,t,n){e.exports=n(202)},function(e,t,n){e.exports=n(204)},function(e,t,n){e.exports=n(453)},function(e,t,n){var i=n(167),r=n(166),a=n(235);function o(t){var n;return e.exports=o=i?r(n=a).call(n):function(e){return e.__proto__||a(e)},e.exports.__esModule=!0,e.exports.default=e.exports,o(t)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){e.exports=n(286)},function(e,t,n){var i=n(401),r=n(166),a=n(415),o=n(422);function s(){var t;return"undefined"!=typeof Reflect&&i?e.exports=s=r(t=i).call(t):e.exports=s=function(e,t,n){var i=o(e,t);if(i)return(i=a(i,t)).get?i.get.call(arguments.length<3?e:n):i.value},e.exports.__esModule=!0,e.exports.default=e.exports,s.apply(this,arguments)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){e.exports=n(179)},function(e,t,n){e.exports=n(237)},function(e,t,n){"use strict";function i(e){function t(n,i,r){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,i)}return new e(n,i,r)}return a(e,this,arguments)}return t.prototype=e.prototype,t}var r=n(29),a=n(89),o=n(152),s=n(38),l=n(93).f,c=n(184),u=n(24),h=n(69),d=n(70),f=n(39);e.exports=function(e,t){var n,a,p,m,v,g,y=e.target,x=e.global,b=e.stat,w=e.proto,_=x?r:b?r[y]:(r[y]||{}).prototype,M=x?u:u[y]||d(u,y,{})[y],S=M.prototype;for(a in t)v=!(n=c(x?a:y+(b?".":"#")+a,e.forced))&&_&&f(_,a),m=M[a],v&&(g=e.dontCallGetSet?(g=l(_,a))&&g.value:_[a]),p=v&&g?g:t[a],v&&typeof m==typeof p||(v=e.bind&&v?h(p,r):e.wrap&&v?i(p):w&&s(p)?o(p):p,(e.sham||p&&p.sham||m&&m.sham)&&d(v,"sham",!0),d(M,a,v),w&&(f(u,m=y+"Prototype")||d(u,m,{}),d(u[m],a,p),e.real)&&S&&(n||!S[a])&&d(S,a,p))}},function(e,t,n){e.exports=n(315)},function(e,t,n){e.exports=n(456)},function(e,t,n){e.exports=n(320)},function(e,t,n){e.exports=n(471)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";var i=n(5);function r(e,t,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r)}i.a.inherits(r,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:i.a.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const a=r.prototype,o={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{o[e]={value:e}}),Object.defineProperties(r,o),Object.defineProperty(a,"isAxiosError",{value:!0}),r.from=(e,t,n,o,s,l)=>{var c=Object.create(a);return i.a.toFlatObject(e,c,(function(e){return e!==Error.prototype}),e=>"isAxiosError"!==e),r.call(c,e.message,t,n,o,s),c.cause=e,c.name=e.name,l&&Object.assign(c,l),c},t.a=r},function(e,t){e.exports={}},function(e,t,n){e.exports=n(495)},function(e,t,n){n=n(108);var i=(r=Function.prototype).call,r=n&&r.bind.bind(i,i);e.exports=n?r:function(e){return function(){return i.apply(e,arguments)}}},function(e,t,n){e.exports=n(299)},function(e,t,n){var i=n(139),r=n(228);e.exports=function(e,t,n){return(t=r(t))in e?i(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){(function(t){function n(e){return e&&e.Math==Math&&e}e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,n(88))},function(e,t,n){e.exports=n(460)},function(e,t,n){e.exports=n(539)},function(e,t,n){e.exports=n(212)},function(e,t,n){n=n(26),e.exports=n({}.isPrototypeOf)},function(e,t,n){var i=n(38),r=(n=n(181)).all;e.exports=n.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:i(e)||e===r}:function(e){return"object"==typeof e?null!==e:i(e)}},function(e,t,n){var i=n(29),r=n(109),a=n(39),o=n(130),s=n(96),l=n(182),c=r("wks"),u=i.Symbol,h=u&&u.for,d=l?u:u&&u.withoutSetter||o;e.exports=function(e){var t;return a(c,e)&&(s||"string"==typeof c[e])||(t="Symbol."+e,s&&a(u,e)?c[e]=u[e]:c[e]=(l&&h?h:d)(t)),c[e]}},function(e,t,n){"use strict";(function(e){var i=n(148),r=n.n(i),a=(i=n(58),n.n(i)),o=(i=n(618),n(177));(i=i.a.create({baseURL:e.env.VUE_APP_BASE_API,timeout:5e5})).interceptors.request.use((function(e){return e.headers.lotAuthorization=Object(o.a)(),e.headers.Authorization=Object(o.b)(),e}),(function(e){return console.log(e),a.a.reject(e)})),i.interceptors.response.use((function(e){var t=e.data;return null==e.Result&&200==e.status||null!=t.Result&&!0===t.Result?t:null!=t.size?e:"success"===t.status||200===t.ResultCode||200===t.code||"success"===t.status?t:(50008!==t.code&&50012!==t.code&&50014!==t.code||r()({message:t.Msg||"Error",type:"error",duration:5e3}),a.a.reject(new Error(t.msg||"Error")))}),(function(e){return console.log("err"+e),r()({message:e.message,type:"error",duration:5e3}),a.a.reject(e)})),t.a=i}).call(this,n(143))},function(e,t,n){e.exports=n(468)},function(e,t,n){var i=(n=n(181)).all;e.exports=n.IS_HTMLDDA?function(e){return"function"==typeof e||e===i}:function(e){return"function"==typeof e}},function(e,t,n){var i=n(26),r=n(55),a=i({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(r(e),t)}},function(e,t,n){var i=n(24),r=n(39),a=n(136),o=n(54).f;e.exports=function(e){var t=i.Symbol||(i.Symbol={});r(t,e)||o(t,e,{value:a.f(e)})}},function(e,t,n){var i=n(24);e.exports=function(e){return i[e+"Prototype"]}},function(e,t,n){n=n(22),e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t,n){n=n(108);var i=Function.prototype.call;e.exports=n?i.bind(i):function(){return i.apply(i,arguments)}},function(e,t,n){e.exports=n(477)},function(e,t,n){e.exports=n(513)},function(e,t,n){n=n(441)(),e.exports=n;try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},function(e,t,n){e.exports=n(227)},function(e,t,n){e.exports=n(234)},function(e,t,n){e.exports=n(465)},function(e,t,n){var i=n(34),r=String,a=TypeError;e.exports=function(e){if(i(e))return e;throw a(r(e)+" is not an object")}},function(e,t,n){e.exports=n(473)},function(e,t,n){function i(e){return o(e)?e:void 0}var r=n(24),a=n(29),o=n(38);e.exports=function(e,t){return arguments.length<2?i(r[e])||i(a[e]):r[e]&&r[e][t]||a[e]&&a[e][t]}},function(e,t,n){e.exports=n(488)},function(e,t,n){var i=n(42),r=n(183),a=n(185),o=n(50),s=n(128),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,h="enumerable",d="configurable",f="writable";t.f=i?a?function(e,t,n){var i;return o(e),t=s(t),o(n),"function"==typeof e&&"prototype"===t&&"value"in n&&f in n&&!n[f]&&(i=u(e,t))&&i[f]&&(e[t]=n.value,n={configurable:(d in n?n:i)[d],enumerable:(h in n?n:i)[h],writable:!1}),c(e,t,n)}:c:function(e,t,n){if(o(e),t=s(t),o(n),r)try{return c(e,t,n)}catch(e){}if("get"in n||"set"in n)throw l("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var i=n(94),r=Object;e.exports=function(e){return r(i(e))}},function(e,t,n){var i=n(71),r=String;e.exports=function(e){if("Symbol"===i(e))throw TypeError("Cannot convert a Symbol value to a string");return r(e)}},function(e,t,n){"use strict";n.r(t),function(e,i){n.d(t,"EffectScope",(function(){return xt})),n.d(t,"computed",(function(){return st})),n.d(t,"customRef",(function(){return tt})),n.d(t,"default",(function(){return $i})),n.d(t,"defineAsyncComponent",(function(){return Cn})),n.d(t,"defineComponent",(function(){return Gn})),n.d(t,"del",(function(){return Oe})),n.d(t,"effectScope",(function(){return wt})),n.d(t,"getCurrentInstance",(function(){return ue})),n.d(t,"getCurrentScope",(function(){return _t})),n.d(t,"h",(function(){return dn})),n.d(t,"inject",(function(){return Tt})),n.d(t,"isProxy",(function(){return Ge})),n.d(t,"isReactive",(function(){return He})),n.d(t,"isReadonly",(function(){return Ve})),n.d(t,"isRef",(function(){return qe})),n.d(t,"isShallow",(function(){return Ue})),n.d(t,"markRaw",(function(){return We})),n.d(t,"mergeDefaults",(function(){return sn})),n.d(t,"nextTick",(function(){return Sn})),n.d(t,"onActivated",(function(){return Nn})),n.d(t,"onBeforeMount",(function(){return Ln})),n.d(t,"onBeforeUnmount",(function(){return In})),n.d(t,"onBeforeUpdate",(function(){return kn})),n.d(t,"onDeactivated",(function(){return On})),n.d(t,"onErrorCaptured",(function(){return Un})),n.d(t,"onMounted",(function(){return Pn})),n.d(t,"onRenderTracked",(function(){return zn})),n.d(t,"onRenderTriggered",(function(){return Bn})),n.d(t,"onScopeDispose",(function(){return Mt})),n.d(t,"onServerPrefetch",(function(){return Fn})),n.d(t,"onUnmounted",(function(){return Rn})),n.d(t,"onUpdated",(function(){return Dn})),n.d(t,"provide",(function(){return St})),n.d(t,"proxyRefs",(function(){return Je})),n.d(t,"reactive",(function(){return Fe})),n.d(t,"readonly",(function(){return rt})),n.d(t,"ref",(function(){return Ye})),n.d(t,"set",(function(){return Ne})),n.d(t,"shallowReactive",(function(){return ze})),n.d(t,"shallowReadonly",(function(){return ot})),n.d(t,"shallowRef",(function(){return $e})),n.d(t,"toRaw",(function(){return je})),n.d(t,"toRef",(function(){return it})),n.d(t,"toRefs",(function(){return nt})),n.d(t,"triggerRef",(function(){return Qe})),n.d(t,"unref",(function(){return Ke})),n.d(t,"useAttrs",(function(){return rn})),n.d(t,"useCssModule",(function(){return En})),n.d(t,"useCssVars",(function(){return Tn})),n.d(t,"useListeners",(function(){return an})),n.d(t,"useSlots",(function(){return nn})),n.d(t,"version",(function(){return Vn})),n.d(t,"watch",(function(){return gt})),n.d(t,"watchEffect",(function(){return dt})),n.d(t,"watchPostEffect",(function(){return ft})),n.d(t,"watchSyncEffect",(function(){return pt}));
/*!
 * Vue.js v2.7.14
 * (c) 2014-2022 Evan You
 * Released under the MIT License.
 */
var r=Object.freeze({}),a=Array.isArray;function o(e){return null==e}function s(e){return null!=e}function l(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e||"boolean"==typeof e}function c(e){return"function"==typeof e}function u(e){return null!==e&&"object"==typeof e}var h=Object.prototype.toString;function d(e){return"[object Object]"===h.call(e)}function f(e){var t=parseFloat(String(e));return 0<=t&&Math.floor(t)===t&&isFinite(e)}function p(e){return s(e)&&"function"==typeof e.then&&"function"==typeof e.catch}function m(e){return null==e?"":Array.isArray(e)||d(e)&&e.toString===h?JSON.stringify(e,null,2):String(e)}function v(e){var t=parseFloat(e);return isNaN(t)?e:t}function g(e,t){for(var n=Object.create(null),i=e.split(","),r=0;r<i.length;r++)n[i[r]]=!0;return t?function(e){return n[e.toLowerCase()]}:function(e){return n[e]}}g("slot,component",!0);var y=g("key,ref,slot,slot-scope,is");function x(e,t){var n=e.length;if(n){if(t!==e[n-1])return-1<(t=e.indexOf(t))?e.splice(t,1):void 0;e.length=n-1}}var b=Object.prototype.hasOwnProperty;function w(e,t){return b.call(e,t)}function _(e){var t=Object.create(null);return function(n){return t[n]||(t[n]=e(n))}}var M=/-(\w)/g,S=_((function(e){return e.replace(M,(function(e,t){return t?t.toUpperCase():""}))})),E=_((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),T=/\B([A-Z])/g,C=_((function(e){return e.replace(T,"-$1").toLowerCase()})),A=Function.prototype.bind?function(e,t){return e.bind(t)}:function(e,t){function n(n){var i=arguments.length;return i?1<i?e.apply(t,arguments):e.call(t,n):e.call(t)}return n._length=e.length,n};function L(e,t){for(var n=e.length-(t=t||0),i=new Array(n);n--;)i[n]=e[n+t];return i}function P(e,t){for(var n in t)e[n]=t[n];return e}function k(e){for(var t={},n=0;n<e.length;n++)e[n]&&P(t,e[n]);return t}function D(e,t,n){}function I(e,t,n){return!1}var R=function(e){return e};function N(e,t){if(e===t)return!0;var n=u(e),i=u(t);if(!n||!i)return!n&&!i&&String(e)===String(t);try{var r,a,o=Array.isArray(e),s=Array.isArray(t);return o&&s?e.length===t.length&&e.every((function(e,n){return N(e,t[n])})):e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!o&&!s&&(r=Object.keys(e),a=Object.keys(t),r.length===a.length)&&r.every((function(n){return N(e[n],t[n])}))}catch(n){return!1}}function O(e,t){for(var n=0;n<e.length;n++)if(N(e[n],t))return n;return-1}function F(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}function z(e,t){return e===t?0===e&&1/e!=1/t:e==e||t==t}var B="data-server-rendered",H=["component","directive","filter"],U=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],V={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:I,isReservedAttr:I,isUnknownElement:I,getTagNamespace:D,parsePlatformTagName:R,mustUseProp:I,async:!0,_lifecycleHooks:U},G=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function j(e){return 36===(e=(e+"").charCodeAt(0))||95===e}function W(e,t,n,i){Object.defineProperty(e,t,{value:n,enumerable:!!i,writable:!0,configurable:!0})}var X,q=new RegExp("[^".concat(G.source,".$_\\d]")),Y="__proto__"in{},$="undefined"!=typeof window,Z=(G=$&&window.navigator.userAgent.toLowerCase())&&/msie|trident/.test(G),Q=G&&0<G.indexOf("msie 9.0"),K=G&&0<G.indexOf("edge/"),J=(G&&G.indexOf("android"),G&&/iphone|ipad|ipod|ios/.test(G)),ee=(G=(G&&/chrome\/\d+/.test(G),G&&/phantomjs/.test(G),G&&G.match(/firefox\/(\d+)/)),{}.watch),te=!1;if($)try{var ne={};Object.defineProperty(ne,"passive",{get:function(){te=!0}}),window.addEventListener("test-passive",null,ne)}catch(U){}var ie=function(){return X=void 0===X?!$&&void 0!==e&&e.process&&"server"===e.process.env.VUE_ENV:X},re=$&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ae(e){return"function"==typeof e&&/native code/.test(e.toString())}var oe="undefined"!=typeof Symbol&&ae(Symbol)&&"undefined"!=typeof Reflect&&ae(Reflect.ownKeys);function se(){this.set=Object.create(null)}var le="undefined"!=typeof Set&&ae(Set)?Set:(se.prototype.has=function(e){return!0===this.set[e]},se.prototype.add=function(e){this.set[e]=!0},se.prototype.clear=function(){this.set=Object.create(null)},se),ce=null;function ue(){return ce&&{proxy:ce}}function he(e){(e=void 0===e?null:e)||ce&&ce._scope.off(),(ce=e)&&e._scope.on()}Object.defineProperty(fe.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0});var de=fe;function fe(e,t,n,i,r,a,o,s){this.tag=e,this.data=t,this.children=n,this.text=i,this.elm=r,this.ns=void 0,this.context=a,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=o,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}function pe(e){void 0===e&&(e="");var t=new de;return t.text=e,t.isComment=!0,t}function me(e){return new de(void 0,void 0,void 0,String(e))}function ve(e){var t=new de(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}var ge=0,ye=[],xe=(be.prototype.addSub=function(e){this.subs.push(e)},be.prototype.removeSub=function(e){this.subs[this.subs.indexOf(e)]=null,this._pending||(this._pending=!0,ye.push(this))},be.prototype.depend=function(e){be.target&&be.target.addDep(this)},be.prototype.notify=function(e){for(var t=this.subs.filter((function(e){return e})),n=0,i=t.length;n<i;n++)t[n].update()},be);function be(){this._pending=!1,this.id=ge++,this.subs=[]}xe.target=null;var we=[];function _e(e){we.push(e),xe.target=e}function Me(){we.pop(),xe.target=we[we.length-1]}var Se=Array.prototype,Ee=Object.create(Se),Te=(["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(e){var t=Se[e];W(Ee,e,(function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r,a=t.apply(this,n),o=this.__ob__;switch(e){case"push":case"unshift":r=n;break;case"splice":r=n.slice(2)}return r&&o.observeArray(r),o.dep.notify(),a}))})),Object.getOwnPropertyNames(Ee)),Ce={},Ae=!0;function Le(e){Ae=e}var Pe={notify:D,depend:D,addSub:D,removeSub:D},ke=(De.prototype.observeArray=function(e){for(var t=0,n=e.length;t<n;t++)Ie(e[t],!1,this.mock)},De);function De(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=!1),this.value=e,this.shallow=t,this.mock=n,this.dep=n?Pe:new xe,this.vmCount=0,W(e,"__ob__",this),a(e)){if(!n)if(Y)e.__proto__=Ee;else for(var i=0,r=Te.length;i<r;i++)W(e,o=Te[i],Ee[o]);t||this.observeArray(e)}else{var o,s=Object.keys(e);for(i=0;i<s.length;i++)Re(e,o=s[i],Ce,void 0,t,n)}}function Ie(e,t,n){return e&&w(e,"__ob__")&&e.__ob__ instanceof ke?e.__ob__:!Ae||!n&&ie()||!a(e)&&!d(e)||!Object.isExtensible(e)||e.__v_skip||qe(e)||e instanceof de?void 0:new ke(e,t,n)}function Re(e,t,n,i,r,o){var s,l,c,u=new xe,h=Object.getOwnPropertyDescriptor(e,t);if(!h||!1!==h.configurable)return s=h&&h.get,l=h&&h.set,s&&!l||n!==Ce&&2!==arguments.length||(n=e[t]),c=!r&&Ie(n,!1,o),Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=s?s.call(e):n;return xe.target&&(u.depend(),c)&&(c.dep.depend(),a(t))&&function e(t){for(var n=void 0,i=0,r=t.length;i<r;i++)(n=t[i])&&n.__ob__&&n.__ob__.dep.depend(),a(n)&&e(n)}(t),qe(t)&&!r?t.value:t},set:function(t){var i=s?s.call(e):n;if(z(i,t)){if(l)l.call(e,t);else{if(s)return;if(!r&&qe(i)&&!qe(t))return void(i.value=t);n=t}c=!r&&Ie(t,!1,o),u.notify()}}}),u}function Ne(e,t,n){if(!Ve(e)){var i=e.__ob__;if(a(e)&&f(t))e.length=Math.max(e.length,t),e.splice(t,1,n),i&&!i.shallow&&i.mock&&Ie(n,!1,!0);else{if(t in e&&!(t in Object.prototype))return e[t]=n;if(!(e._isVue||i&&i.vmCount)){if(!i)return e[t]=n;Re(i.value,t,n,void 0,i.shallow,i.mock),i.dep.notify()}}return n}}function Oe(e,t){var n;a(e)&&f(t)?e.splice(t,1):(n=e.__ob__,e._isVue||n&&n.vmCount||Ve(e)||w(e,t)&&(delete e[t],n)&&n.dep.notify())}function Fe(e){return Be(e,!1),e}function ze(e){return Be(e,!0),W(e,"__v_isShallow",!0),e}function Be(e,t){Ve(e)||Ie(e,t,ie())}function He(e){return Ve(e)?He(e.__v_raw):!(!e||!e.__ob__)}function Ue(e){return!(!e||!e.__v_isShallow)}function Ve(e){return!(!e||!e.__v_isReadonly)}function Ge(e){return He(e)||Ve(e)}function je(e){var t=e&&e.__v_raw;return t?je(t):e}function We(e){return Object.isExtensible(e)&&W(e,"__v_skip",!0),e}var Xe="__v_isRef";function qe(e){return!(!e||!0!==e.__v_isRef)}function Ye(e){return Ze(e,!1)}function $e(e){return Ze(e,!0)}function Ze(e,t){var n;return qe(e)?e:(W(n={},Xe,!0),W(n,"__v_isShallow",t),W(n,"dep",Re(n,"value",e,null,t,ie())),n)}function Qe(e){e.dep&&e.dep.notify()}function Ke(e){return qe(e)?e.value:e}function Je(e){if(He(e))return e;for(var t={},n=Object.keys(e),i=0;i<n.length;i++)et(t,e,n[i]);return t}function et(e,t,n){Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:function(){var e,i=t[n];return qe(i)?i.value:((e=i&&i.__ob__)&&e.dep.depend(),i)},set:function(e){var i=t[n];qe(i)&&!qe(e)?i.value=e:t[n]=e}})}function tt(e){var t=new xe,n=(e=e((function(){t.depend()}),(function(){t.notify()}))).get,i=e.set;return W(e={get value(){return n()},set value(e){i(e)}},Xe,!0),e}function nt(e){var t,n=a(e)?new Array(e.length):{};for(t in e)n[t]=it(e,t);return n}function it(e,t,n){var i=e[t];return qe(i)||W(i={get value(){var i=e[t];return void 0===i?n:i},set value(n){e[t]=n}},Xe,!0),i}function rt(e){return at(e,!1)}function at(e,t){if(!d(e))return e;if(Ve(e))return e;var n=t?"__v_rawToShallowReadonly":"__v_rawToReadonly",i=e[n];if(i)return i;for(var r=Object.create(Object.getPrototypeOf(e)),a=(W(e,n,r),W(r,"__v_isReadonly",!0),W(r,"__v_raw",e),qe(e)&&W(r,Xe,!0),(t||Ue(e))&&W(r,"__v_isShallow",!0),Object.keys(e)),o=0;o<a.length;o++)!function(e,t,n,i){Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:function(){var e=t[n];return i||!d(e)?e:rt(e)},set:function(){}})}(r,e,a[o],t);return r}function ot(e){return at(e,!0)}function st(e,t){var n,i=c(e),r=i?(n=e,D):(n=e.get,e.set),a=ie()?null:new Yn(ce,n,D,{lazy:!0});return W(e={effect:a,get value(){return a?(a.dirty&&a.evaluate(),xe.target&&a.depend(),a.value):n()},set value(e){r(e)}},Xe,!0),W(e,"__v_isReadonly",i),e}var lt="watcher",ct="".concat(lt," callback"),ut="".concat(lt," getter"),ht="".concat(lt," cleanup");function dt(e,t){return yt(e,null,t)}function ft(e,t){return yt(e,null,{flush:"post"})}function pt(e,t){return yt(e,null,{flush:"sync"})}var mt,vt={};function gt(e,t,n){return yt(e,t,n)}function yt(e,t,n){function i(e,t,n){return pn(e,null,n=void 0===n?null:n,m,t)}var o,s,l,u,h,d=(n=void 0===n?r:n).immediate,f=n.deep,p=void 0===(p=n.flush)?"pre":p,m=(n.onTrack,n.onTrigger,ce),v=!1,g=!1,y=(qe(e)?(s=function(){return e.value},v=Ue(e)):He(e)?(s=function(){return e.__ob__.dep.depend(),e},f=!0):s=a(e)?(g=!0,v=e.some((function(e){return He(e)||Ue(e)})),function(){return e.map((function(e){return qe(e)?e.value:He(e)?Wn(e):c(e)?i(e,ut):void 0}))}):c(e)?t?function(){return i(e,ut)}:function(){if(!m||!m._isDestroyed)return l&&l(),i(e,lt,[y])}:D,t&&f&&(o=s,s=function(){return Wn(o())}),function(e){l=u.onStop=function(){i(e,ht)}});return ie()?(y=D,t?d&&i(t,ct,[s(),g?[]:void 0,y]):s(),D):((u=new Yn(ce,s,D,{lazy:!0})).noRecurse=!t,h=g?[]:vt,u.run=function(){var e;u.active&&(t?(e=u.get(),(f||v||(g?e.some((function(e,t){return z(e,h[t])})):z(e,h)))&&(l&&l(),i(t,ct,[e,h===vt?void 0:h,y]),h=e)):u.get())},"sync"===p?u.update=u.run:"post"===p?(u.post=!0,u.update=function(){return vi(u)}):u.update=function(){var e;m&&m===ce&&!m._isMounted?(e=m._preWatchers||(m._preWatchers=[])).indexOf(u)<0&&e.push(u):vi(u)},t?d?u.run():h=u.get():"post"===p&&m?m.$once("hook:mounted",(function(){return u.get()})):u.get(),function(){u.teardown()})}bt.prototype.run=function(e){if(this.active){var t=mt;try{return mt=this,e()}finally{mt=t}}},bt.prototype.on=function(){mt=this},bt.prototype.off=function(){mt=this.parent},bt.prototype.stop=function(e){if(this.active){var t=void 0,n=void 0;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].teardown();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);this.detached||!this.parent||e||(e=this.parent.scopes.pop())&&e!==this&&((this.parent.scopes[this.index]=e).index=this.index),this.parent=void 0,this.active=!1}};var xt=bt;function bt(e){this.detached=e=void 0!==e&&e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=mt,!e&&mt&&(this.index=(mt.scopes||(mt.scopes=[])).push(this)-1)}function wt(e){return new xt(e)}function _t(){return mt}function Mt(e){mt&&mt.cleanups.push(e)}function St(e,t){ce&&(Et(ce)[e]=t)}function Et(e){var t=e._provided,n=e.$parent&&e.$parent._provided;return n===t?e._provided=Object.create(n):t}function Tt(e,t,n){void 0===n&&(n=!1);var i,r=ce;if(r)return(i=r.$parent&&r.$parent._provided)&&e in i?i[e]:1<arguments.length?n&&c(t)?t.call(r):t:void 0}var Ct=_((function(e){var t="&"===e.charAt(0),n="~"===(e=t?e.slice(1):e).charAt(0),i="!"===(e=n?e.slice(1):e).charAt(0);return{name:e=i?e.slice(1):e,once:n,capture:i,passive:t}}));function At(e,t){function n(){var e=n.fns;if(!a(e))return pn(e,null,arguments,t,"v-on handler");for(var i=e.slice(),r=0;r<i.length;r++)pn(i[r],null,arguments,t,"v-on handler")}return n.fns=e,n}function Lt(e,t,n,i,r,a){var s,l,c,u;for(s in e)l=e[s],c=t[s],u=Ct(s),o(l)||(o(c)?(o(l.fns)&&(l=e[s]=At(l,a)),!0===u.once&&(l=e[s]=r(u.name,l,u.capture)),n(u.name,l,u.capture,u.passive,u.params)):l!==c&&(c.fns=l,e[s]=c));for(s in t)o(e[s])&&i((u=Ct(s)).name,t[s],u.capture)}function Pt(e,t,n){var i,r=(e=e instanceof de?e.data.hook||(e.data.hook={}):e)[t];function a(){n.apply(this,arguments),x(i.fns,a)}o(r)?i=At([a]):s(r.fns)&&!0===r.merged?(i=r).fns.push(a):i=At([r,a]),i.merged=!0,e[t]=i}function kt(e,t,n,i,r){if(s(t)){if(w(t,n))return e[n]=t[n],r||delete t[n],1;if(w(t,i))return e[n]=t[i],r||delete t[i],1}}function Dt(e){return l(e)?[me(e)]:a(e)?function e(t,n){var i,r,c,u,h=[];for(i=0;i<t.length;i++)o(r=t[i])||"boolean"==typeof r||(u=h[c=h.length-1],a(r)?0<r.length&&(It((r=e(r,"".concat(n||"","_").concat(i)))[0])&&It(u)&&(h[c]=me(u.text+r[0].text),r.shift()),h.push.apply(h,r)):l(r)?It(u)?h[c]=me(u.text+r):""!==r&&h.push(me(r)):It(r)&&It(u)?h[c]=me(u.text+r.text):(!0===t._isVList&&s(r.tag)&&o(r.key)&&s(n)&&(r.key="__vlist".concat(n,"_").concat(i,"__")),h.push(r)));return h}(e):void 0}function It(e){return s(e)&&s(e.text)&&!1===e.isComment}function Rt(e,t){var n,i,r,o,l=null;if(a(e)||"string"==typeof e)for(l=new Array(e.length),n=0,i=e.length;n<i;n++)l[n]=t(e[n],n);else if("number"==typeof e)for(l=new Array(e),n=0;n<e;n++)l[n]=t(n+1,n);else if(u(e))if(oe&&e[Symbol.iterator]){l=[];for(var c=e[Symbol.iterator](),h=c.next();!h.done;)l.push(t(h.value,l.length)),h=c.next()}else for(r=Object.keys(e),l=new Array(r.length),n=0,i=r.length;n<i;n++)o=r[n],l[n]=t(e[o],o,n);return(l=s(l)?l:[])._isVList=!0,l}function Nt(e,t,n,i){var r=(r=this.$scopedSlots[e])?(n=n||{},r(n=i?P(P({},i),n):n)||(c(t)?t():t)):this.$slots[e]||(c(t)?t():t);return(i=n&&n.slot)?this.$createElement("template",{slot:i},r):r}function Ot(e){return Ii(this.$options,"filters",e)||R}function Ft(e,t){return a(e)?-1===e.indexOf(t):e!==t}function zt(e,t,n,i,r){return n=V.keyCodes[t]||n,r&&i&&!V.keyCodes[t]?Ft(r,i):n?Ft(n,e):i?C(i)!==t:void 0===e}function Bt(e,t,n,i,r){if(n&&u(n)){a(n)&&(n=k(n));var o,s=void 0;for(o in n)!function(a){s="class"===a||"style"===a||y(a)?e:(o=e.attrs&&e.attrs.type,i||V.mustUseProp(t,o,a)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={}));var o=S(a),l=C(a);o in s||l in s||(s[a]=n[a],r&&((e.on||(e.on={}))["update:".concat(a)]=function(e){n[a]=e}))}(o)}return e}function Ht(e,t){var n=this._staticTrees||(this._staticTrees=[]),i=n[e];return i&&!t||Vt(i=n[e]=this.$options.staticRenderFns[e].call(this._renderProxy,this._c,this),"__static__".concat(e),!1),i}function Ut(e,t,n){return Vt(e,"__once__".concat(t).concat(n?"_".concat(n):""),!0),e}function Vt(e,t,n){if(a(e))for(var i=0;i<e.length;i++)e[i]&&"string"!=typeof e[i]&&Gt(e[i],"".concat(t,"_").concat(i),n);else Gt(e,t,n)}function Gt(e,t,n){e.isStatic=!0,e.key=t,e.isOnce=n}function jt(e,t){if(t&&d(t)){var n,i=e.on=e.on?P({},e.on):{};for(n in t){var r=i[n],a=t[n];i[n]=r?[].concat(r,a):a}}return e}function Wt(e,t,n,i){t=t||{$stable:!n};for(var r=0;r<e.length;r++){var o=e[r];a(o)?Wt(o,t,n):o&&(o.proxy&&(o.fn.proxy=!0),t[o.key]=o.fn)}return i&&(t.$key=i),t}function Xt(e,t){for(var n=0;n<t.length;n+=2){var i=t[n];"string"==typeof i&&i&&(e[t[n]]=t[n+1])}return e}function qt(e,t){return"string"==typeof e?t+e:e}function Yt(e){e._o=Ut,e._n=v,e._s=m,e._l=Rt,e._t=Nt,e._q=N,e._i=O,e._m=Ht,e._f=Ot,e._k=zt,e._b=Bt,e._v=me,e._e=pe,e._u=Wt,e._g=jt,e._d=Xt,e._p=qt}function $t(e,t){if(!e||!e.length)return{};for(var n,i={},r=0,a=e.length;r<a;r++){var o=e[r],s=o.data;s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,o.context!==t&&o.fnContext!==t||!s||null==s.slot?(i.default||(i.default=[])).push(o):(s=i[s=s.slot]||(i[s]=[]),"template"===o.tag?s.push.apply(s,o.children||[]):s.push(o))}for(n in i)i[n].every(Zt)&&delete i[n];return i}function Zt(e){return e.isComment&&!e.asyncFactory||" "===e.text}function Qt(e){return e.isComment&&e.asyncFactory}function Kt(e,t,n,i){var o,s,l=0<Object.keys(n).length,c=t?!!t.$stable:!l,u=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(c&&i&&i!==r&&u===i.$key&&!l&&!i.$hasNormal)return i;for(var h in o={},t)t[h]&&"$"!==h[0]&&(o[h]=function(e,t,n,i){function r(){var t=ce,n=(he(e),arguments.length?i.apply(null,arguments):i({})),r=(n=n&&"object"==typeof n&&!a(n)?[n]:Dt(n))&&n[0];return he(t),n&&(!r||1===n.length&&r.isComment&&!Qt(r))?void 0:n}return i.proxy&&Object.defineProperty(t,n,{get:r,enumerable:!0,configurable:!0}),r}(e,n,h,t[h]))}else o={};for(s in n)s in o||(o[s]=function(e,t){return function(){return e[t]}}(n,s));return t&&Object.isExtensible(t)&&(t._normalized=o),W(o,"$stable",c),W(o,"$key",u),W(o,"$hasNormal",l),o}function Jt(e){return{get attrs(){var t;return e._attrsProxy||(W(t=e._attrsProxy={},"_v_attr_proxy",!0),en(t,e.$attrs,r,e,"$attrs")),e._attrsProxy},get listeners(){return e._listenersProxy||en(e._listenersProxy={},e.$listeners,r,e,"$listeners"),e._listenersProxy},get slots(){var t=e;return t._slotsProxy||tn(t._slotsProxy={},t.$scopedSlots),t._slotsProxy},emit:A(e.$emit,e),expose:function(t){t&&Object.keys(t).forEach((function(n){return et(e,t,n)}))}}}function en(e,t,n,i,r){var a,o=!1;for(a in t)a in e?t[a]!==n[a]&&(o=!0):(o=!0,function(e,t,n,i){Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){return n[i][t]}})}(e,a,i,r));for(a in e)a in t||(o=!0,delete e[a]);return o}function tn(e,t){for(var n in t)e[n]=t[n];for(var n in e)n in t||delete e[n]}function nn(){return on().slots}function rn(){return on().attrs}function an(){return on().listeners}function on(){var e=ce;return e._setupContext||(e._setupContext=Jt(e))}function sn(e,t){var n,i=a(e)?e.reduce((function(e,t){return e[t]={},e}),{}):e;for(n in t){var r=i[n];r?a(r)||c(r)?i[n]={type:r,default:t[n]}:r.default=t[n]:null===r&&(i[n]={default:t[n]})}return i}var ln=null;function cn(e,t){return u(e=e.__esModule||oe&&"Module"===e[Symbol.toStringTag]?e.default:e)?t.extend(e):e}function un(e){if(a(e))for(var t=0;t<e.length;t++){var n=e[t];if(s(n)&&(s(n.componentOptions)||Qt(n)))return n}}function hn(e,t,n,i,r,h){(a(n)||l(n))&&(r=i,i=n,n=void 0);var d;h=r=!0===h?2:r;return s(n)&&s(n.__ob__)?pe():(t=s(n)&&s(n.is)?n.is:t)?(a(i)&&c(i[0])&&((n=n||{}).scopedSlots={default:i[0]},i.length=0),2===h?i=Dt(i):1===h&&(i=function(e){for(var t=0;t<e.length;t++)if(a(e[t]))return Array.prototype.concat.apply([],e);return e}(i)),h="string"==typeof t?(h=void 0,d=e.$vnode&&e.$vnode.ns||V.getTagNamespace(t),V.isReservedTag(t)?new de(V.parsePlatformTagName(t),n,i,void 0,void 0,e):n&&n.pre||!s(h=Ii(e.$options,"components",t))?new de(t,n,i,void 0,void 0,e):Si(h,n,e,i,t)):Si(t,n,e,i),a(h)?h:s(h)?(s(d)&&function e(t,n,i){if(t.ns=n,"foreignObject"===t.tag&&(i=!(n=void 0)),s(t.children))for(var r=0,a=t.children.length;r<a;r++){var l=t.children[r];s(l.tag)&&(o(l.ns)||!0===i&&"svg"!==l.tag)&&e(l,n,i)}}(h,d),s(n)&&(u((r=n).style)&&Wn(r.style),u(r.class))&&Wn(r.class),h):pe()):pe()}function dn(e,t,n){return hn(ce,e,t,n,2,!0)}function fn(e,t,n){_e();try{if(t)for(var i=t;i=i.$parent;){var r=i.$options.errorCaptured;if(r)for(var a=0;a<r.length;a++)try{if(!1===r[a].call(i,e,t,n))return}catch(e){mn(e,i,"errorCaptured hook")}}mn(e,t,n)}finally{Me()}}function pn(e,t,n,i,r){var a;try{(a=n?e.apply(t,n):e.call(t))&&!a._isVue&&p(a)&&!a._handled&&(a.catch((function(e){return fn(e,i,r+" (Promise/async)")})),a._handled=!0)}catch(e){fn(e,i,r)}return a}function mn(e,t,n){if(V.errorHandler)try{return V.errorHandler.call(null,e,t,n)}catch(t){t!==e&&vn(t)}vn(e)}function vn(e){if(!$||"undefined"==typeof console)throw e;console.error(e)}ne=!1;var gn,yn,xn,bn,wn=[],_n=!1;function Mn(){_n=!1;for(var e=wn.slice(0),t=wn.length=0;t<e.length;t++)e[t]()}function Sn(e,t){var n;if(wn.push((function(){if(e)try{e.call(t)}catch(e){fn(e,t,"nextTick")}else n&&n(t)})),_n||(_n=!0,yn()),!e&&"undefined"!=typeof Promise)return new Promise((function(e){n=e}))}function En(e){return void 0===e&&(e="$style"),ce&&ce[e]||r}function Tn(e){var t;$&&(t=ce)&&ft((function(){var n=t.$el,i=e(t,t._setupProxy);if(n&&1===n.nodeType){var r,a=n.style;for(r in i)a.setProperty("--".concat(r),i[r])}}))}function Cn(e){var t=(e=c(e)?{loader:e}:e).loader,n=e.loadingComponent,i=e.errorComponent,r=e.delay,a=void 0===r?200:r,o=e.timeout,s=(e.suspensible,e.onError),l=null,u=0,h=function(){var e;return l||(e=l=t().catch((function(e){if(e=e instanceof Error?e:new Error(String(e)),s)return new Promise((function(t,n){s(e,(function(){return t((u++,l=null,h()))}),(function(){return n(e)}),u+1)}));throw e})).then((function(t){return e!==l&&l?l:t&&(t.__esModule||"Module"===t[Symbol.toStringTag])?t.default:t})))};return function(){return{component:h(),delay:a,timeout:o,error:i,loading:n}}}function An(e){return function(t,n){(n=void 0===n?ce:n)&&((n=(n=n).$options)[e]=Li(n[e],t))}}"undefined"!=typeof Promise&&ae(Promise)?(gn=Promise.resolve(),yn=function(){gn.then(Mn),J&&setTimeout(D)},ne=!0):Z||"undefined"==typeof MutationObserver||!ae(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString()?yn=void 0!==i&&ae(i)?function(){i(Mn)}:function(){setTimeout(Mn,0)}:(xn=1,Ei=new MutationObserver(Mn),bn=document.createTextNode(String(xn)),Ei.observe(bn,{characterData:!0}),yn=function(){xn=(xn+1)%2,bn.data=String(xn)},ne=!0);var Ln=An("beforeMount"),Pn=An("mounted"),kn=An("beforeUpdate"),Dn=An("updated"),In=An("beforeDestroy"),Rn=An("destroyed"),Nn=An("activated"),On=An("deactivated"),Fn=An("serverPrefetch"),zn=An("renderTracked"),Bn=An("renderTriggered"),Hn=An("errorCaptured");function Un(e,t){Hn(e,t=void 0===t?ce:t)}var Vn="2.7.14";function Gn(e){return e}var jn=new le;function Wn(e){return function e(t,n){var i,r,o=a(t);if(!(!o&&!u(t)||t.__v_skip||Object.isFrozen(t)||t instanceof de)){if(t.__ob__){var s=t.__ob__.dep.id;if(n.has(s))return;n.add(s)}if(o)for(i=t.length;i--;)e(t[i],n);else if(qe(t))e(t.value,n);else for(i=(r=Object.keys(t)).length;i--;)e(t[r[i]],n)}}(e,jn),jn.clear(),e}var Xn,qn=0,Yn=($n.prototype.get=function(){_e(this);var e,t=this.vm;try{e=this.getter.call(t,t)}catch(e){if(!this.user)throw e;fn(e,t,'getter for watcher "'.concat(this.expression,'"'))}finally{this.deep&&Wn(e),Me(),this.cleanupDeps()}return e},$n.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t))||e.addSub(this)},$n.prototype.cleanupDeps=function(){for(var e=this.deps.length;e--;){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},$n.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():vi(this)},$n.prototype.run=function(){var e,t,n;this.active&&((e=this.get())!==this.value||u(e)||this.deep)&&(t=this.value,this.value=e,this.user?(n='callback for watcher "'.concat(this.expression,'"'),pn(this.cb,this.vm,[e,t],this.vm,n)):this.cb.call(this.vm,e,t))},$n.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},$n.prototype.depend=function(){for(var e=this.deps.length;e--;)this.deps[e].depend()},$n.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&x(this.vm._scope.effects,this),this.active){for(var e=this.deps.length;e--;)this.deps[e].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},$n);function $n(e,t,n,i,r){var a;(a=void 0===(a=mt&&!mt._vm?mt:e?e._scope:void 0)?mt:a)&&a.active&&a.effects.push(this),(this.vm=e)&&r&&(e._watcher=this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync,this.before=i.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++qn,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new le,this.newDepIds=new le,this.expression="",c(t)?this.getter=t:(this.getter=function(e){var t;if(!q.test(e))return t=e.split("."),function(e){for(var n=0;n<t.length;n++){if(!e)return;e=e[t[n]]}return e}}(t),this.getter||(this.getter=D)),this.value=this.lazy?void 0:this.get()}function Zn(e,t){Xn.$on(e,t)}function Qn(e,t){Xn.$off(e,t)}function Kn(e,t){var n=Xn;return function i(){null!==t.apply(null,arguments)&&n.$off(e,i)}}function Jn(e,t,n){Lt(t,n||{},Zn,Qn,Kn,Xn=e),Xn=void 0}var ei=null;function ti(e){var t=ei;return ei=e,function(){ei=t}}function ni(e){for(;e=e&&e.$parent;)if(e._inactive)return 1}function ii(e,t){if(t){if(e._directInactive=!1,ni(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var n=0;n<e.$children.length;n++)ii(e.$children[n]);ri(e,"activated")}}function ri(e,t,n,i){void 0===i&&(i=!0),_e();var r=ce,a=(i&&he(e),e.$options[t]),o="".concat(t," hook");if(a)for(var s=0,l=a.length;s<l;s++)pn(a[s],e,n||null,e,o);e._hasHookEvent&&e.$emit("hook:"+t),i&&he(r),Me()}var ai,oi=[],si=[],li={},ci=!1,ui=!1,hi=0,di=0,fi=Date.now,pi=($&&!Z&&(ai=window.performance)&&"function"==typeof ai.now&&fi()>document.createEvent("Event").timeStamp&&(fi=function(){return ai.now()}),function(e,t){if(e.post){if(!t.post)return 1}else if(t.post)return-1;return e.id-t.id});function mi(){var e,t;for(di=fi(),ui=!0,oi.sort(pi),hi=0;hi<oi.length;hi++)(e=oi[hi]).before&&e.before(),t=e.id,li[t]=null,e.run();for(var n=si.slice(),i=oi.slice(),r=(hi=oi.length=si.length=0,ci=ui=!(li={}),n),a=0;a<r.length;a++)r[a]._inactive=!0,ii(r[a],!0);for(var o=i,s=o.length;s--;){var l=o[s],c=l.vm;c&&c._watcher===l&&c._isMounted&&!c._isDestroyed&&ri(c,"updated")}(function(){for(var e=0;e<ye.length;e++){var t=ye[e];t.subs=t.subs.filter((function(e){return e})),t._pending=!1}ye.length=0})(),re&&V.devtools&&re.emit("flush")}function vi(e){var t=e.id;if(null==li[t]&&(e!==xe.target||!e.noRecurse)){if(li[t]=!0,ui){for(var n=oi.length-1;hi<n&&oi[n].id>e.id;)n--;oi.splice(n+1,0,e)}else oi.push(e);ci||(ci=!0,Sn(mi))}}function gi(e,t){if(e){for(var n=Object.create(null),i=oe?Reflect.ownKeys(e):Object.keys(e),r=0;r<i.length;r++){var a,o=i[r];"__ob__"!==o&&((a=e[o].from)in t._provided?n[o]=t._provided[a]:"default"in e[o]&&(a=e[o].default,n[o]=c(a)?a.call(t):a))}return n}}function yi(e,t,n,i,o){var s,l=this,c=o.options,u=!(o=(w(i,"_uid")?(s=Object.create(i))._original=i:i=(s=i)._original,!0===c._compiled));this.data=e,this.props=t,this.children=n,this.parent=i,this.listeners=e.on||r,this.injections=gi(c.inject,i),this.slots=function(){return l.$slots||Kt(i,e.scopedSlots,l.$slots=$t(n,i)),l.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Kt(i,e.scopedSlots,this.slots())}}),o&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=Kt(i,e.scopedSlots,this.$slots)),c._scopeId?this._c=function(e,t,n,r){return(e=hn(s,e,t,n,r,u))&&!a(e)&&(e.fnScopeId=c._scopeId,e.fnContext=i),e}:this._c=function(e,t,n,i){return hn(s,e,t,n,i,u)}}function xi(e,t,n,i){return(e=ve(e)).fnContext=n,e.fnOptions=i,t.slot&&((e.data||(e.data={})).slot=t.slot),e}function bi(e,t){for(var n in t)e[S(n)]=t[n]}function wi(e){return e.name||e.__name||e._componentTag}Yt(yi.prototype);var _i={init:function(e,t){e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive?_i.prepatch(e,e):(e.componentInstance=function(e,t){t={_isComponent:!0,_parentVnode:e,parent:t};var n=e.data.inlineTemplate;return s(n)&&(t.render=n.render,t.staticRenderFns=n.staticRenderFns),new e.componentOptions.Ctor(t)}(e,ei)).$mount(t?e.elm:void 0,t)},prepatch:function(e,t){var n=t.componentOptions,i=t.componentInstance=e.componentInstance,a=n.propsData,o=(e=n.listeners,n=n.children,t.data.scopedSlots),s=i.$scopedSlots,l=(s=!!(o&&!o.$stable||s!==r&&!s.$stable||o&&i.$scopedSlots.$key!==o.$key||!o&&i.$scopedSlots.$key),o=!!(n||i.$options._renderChildren||s),s=i.$vnode,i.$options._parentVnode=t,i.$vnode=t,i._vnode&&(i._vnode.parent=t),i.$options._renderChildren=n,t.data.attrs||r);i._attrsProxy&&en(i._attrsProxy,l,s.data&&s.data.attrs||r,i,"$attrs")&&(o=!0),i.$attrs=l,e=e||r,s=i.$options._parentListeners;if(i._listenersProxy&&en(i._listenersProxy,e,s||r,i,"$listeners"),i.$listeners=i.$options._parentListeners=e,Jn(i,e,s),a&&i.$options.props){Le(!1);for(var c=i._props,u=i.$options._propKeys||[],h=0;h<u.length;h++){var d=u[h],f=i.$options.props;c[d]=Ri(d,f,a,i)}Le(!0),i.$options.propsData=a}o&&(i.$slots=$t(n,t.context),i.$forceUpdate())},insert:function(e){var t=e.context,n=e.componentInstance;n._isMounted||(n._isMounted=!0,ri(n,"mounted")),e.data.keepAlive&&(t._isMounted?((e=n)._inactive=!1,si.push(e)):ii(n,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?function e(t,n){if(!(n&&(t._directInactive=!0,ni(t))||t._inactive)){t._inactive=!0;for(var i=0;i<t.$children.length;i++)e(t.$children[i]);ri(t,"deactivated")}}(t,!0):t.$destroy())}},Mi=Object.keys(_i);function Si(e,t,n,i,l){if(!o(e)){var c,h,d,f,m,v,g,y,b,w,_,M,S,E,T=n.$options._base;if("function"==typeof(e=u(e)?T.extend(e):e)){if(o(e.cid)&&(d=T,void 0===(e=!0===(h=c=e).error&&s(h.errorComp)?h.errorComp:s(h.resolved)?h.resolved:((f=ln)&&s(h.owners)&&-1===h.owners.indexOf(f)&&h.owners.push(f),!0===h.loading&&s(h.loadingComp)?h.loadingComp:f&&!s(h.owners)?(m=h.owners=[f],v=!0,y=g=null,f.$on("hook:destroyed",(function(){return x(m,f)})),b=function(e){for(var t=0,n=m.length;t<n;t++)m[t].$forceUpdate();e&&(m.length=0,null!==g&&(clearTimeout(g),g=null),null!==y)&&(clearTimeout(y),y=null)},T=F((function(e){h.resolved=cn(e,d),v?m.length=0:b(!0)})),w=F((function(e){s(h.errorComp)&&(h.error=!0,b(!0))})),u(_=h(T,w))&&(p(_)?o(h.resolved)&&_.then(T,w):p(_.component)&&(_.component.then(T,w),s(_.error)&&(h.errorComp=cn(_.error,d)),s(_.loading)&&(h.loadingComp=cn(_.loading,d),0===_.delay?h.loading=!0:g=setTimeout((function(){g=null,o(h.resolved)&&o(h.error)&&(h.loading=!0,b(!1))}),_.delay||200)),s(_.timeout))&&(y=setTimeout((function(){y=null,o(h.resolved)&&w(null)}),_.timeout))),v=!1,h.loading?h.loadingComp:h.resolved):void 0))))return T=c,_=t,M=n,S=i,E=l,(A=pe()).asyncFactory=T,A.asyncMeta={data:_,context:M,children:S,tag:E},A;t=t||{},Yi(e),s(t.model)&&(M=t,S=(T=e.options).model&&T.model.prop||"value",T=T.model&&T.model.event||"input",(M.attrs||(M.attrs={}))[S]=M.model.value,E=(S=M.on||(M.on={}))[T],M=M.model.callback,s(E)?(a(E)?-1===E.indexOf(M):E!==M)&&(S[T]=[M].concat(E)):S[T]=M);var A=function(e,t){if(!o(t=t.options.props)){var n={},i=e.attrs,r=e.props;if(s(i)||s(r))for(var a in t){var l=C(a);kt(n,r,a,l,!0)||kt(n,i,a,l,!1)}return n}}(t,e);if(!0!==e.options.functional){T=t.on;for(var L=(t.on=t.nativeOn,!0===e.options.abstract&&(L=t.slot,t={},L)&&(t.slot=L),t),P=L.hook||(L.hook={}),k=0;k<Mi.length;k++){var D=Mi[k],I=P[D],R=_i[D];I===R||I&&I._merged||(P[D]=I?function(e,t){function n(n,i){e(n,i),t(n,i)}return n._merged=!0,n}(R,I):R)}var N=wi(e.options)||l;return new de("vue-component-".concat(e.cid).concat(N?"-".concat(N):""),t,void 0,void 0,void 0,n,{Ctor:e,propsData:A,listeners:T,tag:l,children:i},c)}var O=A,z=t,B=(T=n,l=i,(N=e).options),H={},U=B.props;if(s(U))for(var V in U)H[V]=Ri(V,U,O||r);else s(z.attrs)&&bi(H,z.attrs),s(z.props)&&bi(H,z.props);var G=new yi(z,H,l,T,N);if((l=B.render.call(null,G._c,G))instanceof de)return xi(l,z,G.parent,B);if(a(l)){for(var j=Dt(l)||[],W=new Array(j.length),X=0;X<j.length;X++)W[X]=xi(j[X],z,G.parent,B);return W}}}}var Ei=D,Ti=V.optionMergeStrategies;function Ci(e,t,n){if(void 0===n&&(n=!0),t)for(var i,r,a,o=oe?Reflect.ownKeys(t):Object.keys(t),s=0;s<o.length;s++)"__ob__"!==(i=o[s])&&(r=e[i],a=t[i],n&&w(e,i)?r!==a&&d(r)&&d(a)&&Ci(r,a):Ne(e,i,a));return e}function Ai(e,t,n){return n?function(){var i=c(t)?t.call(n,n):t,r=c(e)?e.call(n,n):e;return i?Ci(i,r):r}:t?e?function(){return Ci(c(t)?t.call(this,this):t,c(e)?e.call(this,this):e)}:t:e}function Li(e,t){return(t=t?e?e.concat(t):a(t)?t:[t]:e)&&function(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(t)}function Pi(e,t,n,i){return e=Object.create(e||null),t?P(e,t):e}Ti.data=function(e,t,n){return n?Ai(e,t,n):t&&"function"!=typeof t?e:Ai(e,t)},U.forEach((function(e){Ti[e]=Li})),H.forEach((function(e){Ti[e+"s"]=Pi})),Ti.watch=function(e,t,n,i){if(e===ee&&(e=void 0),!(t=t===ee?void 0:t))return Object.create(e||null);if(!e)return t;var r,o={};for(r in P(o,e),t){var s=o[r],l=t[r];s&&!a(s)&&(s=[s]),o[r]=s?s.concat(l):a(l)?l:[l]}return o},Ti.props=Ti.methods=Ti.inject=Ti.computed=function(e,t,n,i){var r;return e?(P(r=Object.create(null),e),t&&P(r,t),r):t},Ti.provide=function(e,t){return e?function(){var n=Object.create(null);return Ci(n,c(e)?e.call(this):e),t&&Ci(n,c(t)?t.call(this):t,!1),n}:t};var ki=function(e,t){return void 0===t?e:t};function Di(e,t,n){var i=(u=t=c(t)?t.options:t).props;if(i){var r,o,s={};if(a(i))for(r=i.length;r--;)"string"==typeof(o=i[r])&&(s[S(o)]={type:null});else if(d(i))for(var l in i)o=i[l],s[S(l)]=d(o)?o:{type:o};u.props=s}var u,h=(u=t).inject;if(h){var f=u.inject={};if(a(h))for(var p=0;p<h.length;p++)f[h[p]]={from:h[p]};else if(d(h))for(var m in h){var v=h[m];f[m]=d(v)?P({from:m},v):{from:v}}}var g=t.directives;if(g)for(var y in g){var x=g[y];c(x)&&(g[y]={bind:x,update:x})}if(!t._base&&(t.extends&&(e=Di(e,t.extends,n)),t.mixins))for(var b=0,_=t.mixins.length;b<_;b++)e=Di(e,t.mixins[b],n);var M,E={};for(M in e)T(M);for(M in t)w(e,M)||T(M);function T(i){var r=Ti[i]||ki;E[i]=r(e[i],t[i],n,i)}return E}function Ii(e,t,n){var i;if("string"==typeof n)return w(e=e[t],n)?e[n]:w(e,t=S(n))?e[t]:!w(e,i=E(t))&&(e[n]||e[t])||e[i]}function Ri(e,t,n,i){t=t[e];var r=!w(n,e),a=(n=n[e],zi(Boolean,t.type));return-1<a&&(r&&!w(t,"default")?n=!1:""!==n&&n!==C(e)||!((r=zi(String,t.type))<0||a<r)||(n=!0)),void 0===n&&(n=function(e,t,n){if(w(t,"default")){var i=t.default;return e&&e.$options.propsData&&void 0===e.$options.propsData[n]&&void 0!==e._props[n]?e._props[n]:c(i)&&"Function"!==Oi(t.type)?i.call(e):i}}(i,t,e),a=Ae,Le(!0),Ie(n),Le(a)),n}var Ni=/^\s*function (\w+)/;function Oi(e){return(e=e&&e.toString().match(Ni))?e[1]:""}function Fi(e,t){return Oi(e)===Oi(t)}function zi(e,t){if(!a(t))return Fi(t,e)?0:-1;for(var n=0,i=t.length;n<i;n++)if(Fi(t[n],e))return n;return-1}var Bi={enumerable:!0,configurable:!0,get:D,set:D};function Hi(e,t,n){Bi.get=function(){return this[t][n]},Bi.set=function(e){this[t][n]=e},Object.defineProperty(e,n,Bi)}var Ui={lazy:!0};function Vi(e,t,n){var i=!ie();c(n)?(Bi.get=i?Gi(t):ji(n),Bi.set=D):(Bi.get=n.get?i&&!1!==n.cache?Gi(t):ji(n.get):D,Bi.set=n.set||D),Object.defineProperty(e,t,Bi)}function Gi(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),xe.target&&t.depend(),t.value}}function ji(e){return function(){return e.call(this,this)}}function Wi(e,t,n,i){return"string"==typeof(n=d(n)?(i=n).handler:n)&&(n=e[n]),e.$watch(t,n,i)}var Xi,qi=0;function Yi(e){var t,n,i=e.options;return e.super&&(t=Yi(e.super))!==e.superOptions&&(e.superOptions=t,(n=function(e){var t,n,i=e.options,r=e.sealedOptions;for(n in i)i[n]!==r[n]&&((t=t||{})[n]=i[n]);return t}(e))&&P(e.extendOptions,n),(i=e.options=Di(t,e.extendOptions)).name)&&(i.components[i.name]=e),i}function $i(e){this._init(e)}function Zi(e){return e&&(wi(e.Ctor.options)||e.tag)}function Qi(e,t){return a(e)?-1<e.indexOf(t):"string"==typeof e?-1<e.split(",").indexOf(t):!!function(e){return"[object RegExp]"===h.call(e)}(e)&&e.test(t)}function Ki(e,t){var n,i=e.cache,r=e.keys,a=e._vnode;for(n in i){var o=i[n];o&&(o=o.name)&&!t(o)&&Ji(i,n,r,a)}}function Ji(e,t,n,i){var r=e[t];!r||i&&r.tag===i.tag||r.componentInstance.$destroy(),e[t]=null,x(n,t)}$i.prototype._init=function(e){var t,n,i,o,s=this,l=(s._uid=qi++,s._isVue=!0,s.__v_skip=!0,s._scope=new xt(!0),s._scope._vm=!0,e&&e._isComponent?(t=e,h=(h=s).$options=Object.create(h.constructor.options),l=t._parentVnode,h.parent=t.parent,l=(h._parentVnode=l).componentOptions,h.propsData=l.propsData,h._parentListeners=l.listeners,h._renderChildren=l.children,h._componentTag=l.tag,t.render&&(h.render=t.render,h.staticRenderFns=t.staticRenderFns)):s.$options=Di(Yi(s.constructor),e||{},s),(s._renderProxy=s)._self=s),h=l.$options,f=h.parent;if(f&&!h.abstract){for(;f.$options.abstract&&f.$parent;)f=f.$parent;f.$children.push(l)}l.$parent=f,l.$root=f?f.$root:l,l.$children=[],l.$refs={},l._provided=f?f._provided:Object.create(null),l._watcher=null,l._inactive=null,l._directInactive=!1,l._isMounted=!1,l._isDestroyed=!1,l._isBeingDestroyed=!1,(t=s)._events=Object.create(null),t._hasHookEvent=!1,(e=t.$options._parentListeners)&&Jn(t,e),(n=s)._vnode=null,n._staticTrees=null,e=n.$options,m=(p=n.$vnode=e._parentVnode)&&p.context,n.$slots=$t(e._renderChildren,m),n.$scopedSlots=p?Kt(n.$parent,p.data.scopedSlots,n.$slots):r,n._c=function(e,t,i,r){return hn(n,e,t,i,r,!1)},n.$createElement=function(e,t,i,r){return hn(n,e,t,i,r,!0)},m=p&&p.data,Re(n,"$attrs",m&&m.attrs||r,null,!0),Re(n,"$listeners",e._parentListeners||r,null,!0),ri(s,"beforeCreate",void 0,!1),(o=gi((i=s).$options.inject,i))&&(Le(!1),Object.keys(o).forEach((function(e){Re(i,e,o[e])})),Le(!0)),function(e){var t=e.$options;if(t.props){var n,i=e,r=t.props,o=i.$options.propsData||{},s=i._props=ze({}),l=i.$options._propKeys=[];for(n in i.$parent&&Le(!1),r){void 0;var h=n;l.push(h);var f=Ri(h,r,o,i);Re(s,h,f),h in i||Hi(i,"_props",h)}Le(!0)}var p=e,m=p.$options;if(E=m.setup){var v=p._setupContext=Jt(p),g=(he(p),_e(),pn(E,null,[p._props||ze({}),v],p,"setup"));if(Me(),he(),c(g))m.render=g;else if(u(g))if((p._setupState=g).__sfc){var y=p._setupProxy={};for(x in g)"__sfc"!==x&&et(y,g,x)}else for(var x in g)j(x)||et(p,g,x)}if(t.methods){var b,_=e,M=t.methods;for(b in _.$options.props,M)_[b]="function"!=typeof M[b]?D:A(M[b],_)}if(t.data){for(var S=e,E=S.$options.data,T=(d(E=S._data=c(E)?function(e,t){_e();try{return e.call(t,t)}catch(e){return fn(e,t,"data()"),{}}finally{Me()}}(E,S):E||{})||(E={}),Object.keys(E)),C=S.$options.props,L=(S.$options.methods,T.length);L--;){var P=T[L];C&&w(C,P)||j(P)||Hi(S,"_data",P)}(E=Ie(E))&&E.vmCount++}else(v=Ie(e._data={}))&&v.vmCount++;if(t.computed){var k,I=e,R=t.computed,N=I._computedWatchers=Object.create(null),O=ie();for(k in R){var F=R[k],z=c(F)?F:F.get;O||(N[k]=new Yn(I,z||D,D,Ui)),k in I||Vi(I,k,F)}}if(t.watch&&t.watch!==ee){var B,H=e,U=t.watch;for(B in U){var V=U[B];if(a(V))for(var G=0;G<V.length;G++)Wi(H,B,V[G]);else Wi(H,B,V)}}}(s);var p=s,m=p.$options.provide;if(m){var v=c(m)?m.call(p):m;if(u(v))for(var g=Et(p),y=oe?Reflect.ownKeys(v):Object.keys(v),x=0;x<y.length;x++){var b=y[x];Object.defineProperty(g,b,Object.getOwnPropertyDescriptor(v,b))}}ri(s,"created"),s.$options.el&&s.$mount(s.$options.el)},U=$i,ir={get:function(){return this._data}},nr={get:function(){return this._props}},Object.defineProperty(U.prototype,"$data",ir),Object.defineProperty(U.prototype,"$props",nr),U.prototype.$set=Ne,U.prototype.$delete=Oe,U.prototype.$watch=function(e,t,n){if(d(t))return Wi(this,e,t,n);(n=n||{}).user=!0;var i=new Yn(this,e,t,n);return n.immediate&&(e='callback for immediate watcher "'.concat(i.expression,'"'),_e(),pn(t,this,[i.value],this,e),Me()),function(){i.teardown()}},Xi=/^hook:/,(ir=$i).prototype.$on=function(e,t){if(a(e))for(var n=0,i=e.length;n<i;n++)this.$on(e[n],t);else(this._events[e]||(this._events[e]=[])).push(t),Xi.test(e)&&(this._hasHookEvent=!0);return this},ir.prototype.$once=function(e,t){var n=this;function i(){n.$off(e,i),t.apply(n,arguments)}return i.fn=t,n.$on(e,i),n},ir.prototype.$off=function(e,t){if(arguments.length)if(a(e))for(var n=0,i=e.length;n<i;n++)this.$off(e[n],t);else{var r=this._events[e];if(r)if(t){for(var o,s=r.length;s--;)if((o=r[s])===t||o.fn===t){r.splice(s,1);break}}else this._events[e]=null}else this._events=Object.create(null);return this},ir.prototype.$emit=function(e){if(t=this._events[e])for(var t=1<t.length?L(t):t,n=L(arguments,1),i='event handler for "'.concat(e,'"'),r=0,a=t.length;r<a;r++)pn(t[r],this,n,this,i);return this},(nr=$i).prototype._update=function(e,t){for(var n=this,i=n.$el,r=n._vnode,a=ti(n),o=(n._vnode=e,n.$el=r?n.__patch__(r,e):n.__patch__(n.$el,e,t,!1),a(),i&&(i.__vue__=null),n.$el&&(n.$el.__vue__=n),n);o&&o.$vnode&&o.$parent&&o.$vnode===o.$parent._vnode;)o.$parent.$el=o.$el,o=o.$parent},nr.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},nr.prototype.$destroy=function(){var e,t=this;t._isBeingDestroyed||(ri(t,"beforeDestroy"),t._isBeingDestroyed=!0,!(e=t.$parent)||e._isBeingDestroyed||t.$options.abstract||x(e.$children,t),t._scope.stop(),t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),ri(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null))},Yt((U=$i).prototype),U.prototype.$nextTick=function(e){return Sn(e,this)},U.prototype._render=function(){var e,t,n=this,i=(t=n.$options).render;(t=t._parentVnode)&&n._isMounted&&(n.$scopedSlots=Kt(n.$parent,t.data.scopedSlots,n.$slots,n.$scopedSlots),n._slotsProxy)&&tn(n._slotsProxy,n.$scopedSlots),n.$vnode=t;try{he(n),ln=n,e=i.call(n._renderProxy,n.$createElement)}catch(t){fn(t,n,"render"),e=n._vnode}finally{ln=null,he()}return(e=(e=a(e)&&1===e.length?e[0]:e)instanceof de?e:pe()).parent=t,e};var er,tr,nr={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:ir=[String,RegExp,Array],exclude:ir,max:[String,Number]},methods:{cacheVNode:function(){var e,t,n=this.cache,i=this.keys,r=this.vnodeToCache,a=this.keyToCache;r&&(e=r.tag,t=r.componentInstance,r=r.componentOptions,n[a]={name:Zi(r),tag:e,componentInstance:t},i.push(a),this.max&&i.length>parseInt(this.max)&&Ji(n,i[0],i,this._vnode),this.vnodeToCache=null)}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)Ji(this.cache,e,this.keys)},mounted:function(){var e=this;this.cacheVNode(),this.$watch("include",(function(t){Ki(e,(function(e){return Qi(t,e)}))})),this.$watch("exclude",(function(t){Ki(e,(function(e){return!Qi(t,e)}))}))},updated:function(){this.cacheVNode()},render:function(){var e=this.$slots.default,t=un(e),n=t&&t.componentOptions;if(n){var i=Zi(n),r=this.include,a=this.exclude;if(r&&(!i||!Qi(r,i))||a&&i&&Qi(a,i))return t;r=this.cache,a=this.keys,r[i=null==t.key?n.Ctor.cid+(n.tag?"::".concat(n.tag):""):t.key]?(t.componentInstance=r[i].componentInstance,x(a,i),a.push(i)):(this.vnodeToCache=t,this.keyToCache=i),t.data.keepAlive=!0}return t||e&&e[0]}}};er=$i,U={get:function(){return V}},Object.defineProperty(er,"config",U),er.util={warn:Ei,extend:P,mergeOptions:Di,defineReactive:Re},er.set=Ne,er.delete=Oe,er.nextTick=Sn,er.observable=function(e){return Ie(e),e},er.options=Object.create(null),H.forEach((function(e){er.options[e+"s"]=Object.create(null)})),P((er.options._base=er).options.components,nr),er.use=function(e){var t,n=this._installedPlugins||(this._installedPlugins=[]);return-1<n.indexOf(e)||((t=L(arguments,1)).unshift(this),c(e.install)?e.install.apply(e,t):c(e)&&e.apply(null,t),n.push(e)),this},er.mixin=function(e){return this.options=Di(this.options,e),this},function(e){e.cid=0;var t=1;e.extend=function(e){var n=this,i=n.cid,r=(e=e||{})._Ctor||(e._Ctor={});if(r[i])return r[i];function a(e){this._init(e)}var o=wi(e)||wi(n.options);if(((a.prototype=Object.create(n.prototype)).constructor=a).cid=t++,a.options=Di(n.options,e),a.super=n,a.options.props){var s,l=a;for(s in l.options.props)Hi(l.prototype,"_props",s)}if(a.options.computed){var c,u=a,h=u.options.computed;for(c in h)Vi(u.prototype,c,h[c])}return a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,H.forEach((function(e){a[e]=n[e]})),o&&(a.options.components[o]=a),a.superOptions=n.options,a.extendOptions=e,a.sealedOptions=P({},a.options),r[i]=a}}(er),tr=er,H.forEach((function(e){tr[e]=function(t,n){return n?("component"===e&&d(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&c(n)&&(n={bind:n,update:n}),this.options[e+"s"][t]=n):this.options[e+"s"][t]}})),Object.defineProperty($i.prototype,"$isServer",{get:ie}),Object.defineProperty($i.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty($i,"FunctionalRenderContext",{value:yi}),$i.version=Vn;var ir=g("style,class"),rr=g("input,textarea,option,select,progress"),ar=g("contenteditable,draggable,spellcheck"),or=g("events,caret,typing,plaintext-only"),sr=g("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),lr="http://www.w3.org/1999/xlink",cr=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},ur=function(e){return cr(e)?e.slice(6,e.length):""},hr=function(e){return null==e||!1===e};function dr(e,t){return{staticClass:fr(e.staticClass,t.staticClass),class:s(e.class)?[e.class,t.class]:t.class}}function fr(e,t){return e?t?e+" "+t:e:t||""}function pr(e){if(Array.isArray(e)){for(var t,n=e,i="",r=0,a=n.length;r<a;r++)s(t=pr(n[r]))&&""!==t&&(i&&(i+=" "),i+=t);return i}if(u(e)){var o,l=e,c="";for(o in l)l[o]&&(c&&(c+=" "),c+=o);return c}return"string"==typeof e?e:""}function mr(e){return gr(e)||yr(e)}var vr={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},gr=g("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),yr=g("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),xr=Object.create(null),br=g("text,number,password,search,email,tel,url");function wr(e,t){var n,i,r,o,l,u,h,d=e.data.ref;s(d)&&(n=e.context,i=e.componentInstance||e.elm,r=t?null:i,o=t?void 0:i,c(d)?pn(d,n,[r],n,"template ref function"):(e=e.data.refInFor,u=qe(d),h=n.$refs,((l="string"==typeof d||"number"==typeof d)||u)&&(e?(e=l?h[d]:d.value,t?a(e)&&x(e,i):a(e)?e.includes(i)||e.push(i):l?(h[d]=[i],_r(n,d,h[d])):d.value=[i]):l?t&&h[d]!==i||(h[d]=o,_r(n,d,r)):!u||t&&d.value!==i||(d.value=r))))}function _r(e,t,n){(e=e._setupState)&&w(e,t)&&(qe(e[t])?e[t].value=n:e[t]=n)}U=Object.freeze({__proto__:null,createElement:function(e,t){var n=document.createElement(e);return"select"===e&&t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n},createElementNS:function(e,t){return document.createElementNS(vr[e],t)},createTextNode:function(e){return document.createTextNode(e)},createComment:function(e){return document.createComment(e)},insertBefore:function(e,t,n){e.insertBefore(t,n)},removeChild:function(e,t){e.removeChild(t)},appendChild:function(e,t){e.appendChild(t)},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},tagName:function(e){return e.tagName},setTextContent:function(e,t){e.textContent=t},setStyleScope:function(e,t){e.setAttribute(t,"")}}),nr={create:function(e,t){wr(t)},update:function(e,t){e.data.ref!==t.data.ref&&(wr(e,!0),wr(t))},destroy:function(e){wr(e,!0)}};var Mr=new de("",{},[]),Sr=["create","activate","update","remove","destroy"];function Er(e,t){return e.key===t.key&&e.asyncFactory===t.asyncFactory&&(e.tag===t.tag&&e.isComment===t.isComment&&s(e.data)===s(t.data)&&(i=t,"input"!==(n=e).tag||(r=s(n=n.data)&&s(n=n.attrs)&&n.type)===(i=s(n=i.data)&&s(n=n.attrs)&&n.type)||br(r)&&br(i))||!0===e.isAsyncPlaceholder&&o(t.asyncFactory.error));var n,i,r}var Tr={create:Cr,update:Cr,destroy:function(e){Cr(e,Mr)}};function Cr(e,t){if(e.data.directives||t.data.directives){var n,i,r,a=e,o=t,s=(e=a===Mr,o===Mr),l=Lr(a.data.directives,a.context),c=Lr(o.data.directives,o.context),u=[],h=[];for(n in c)i=l[n],r=c[n],i?(r.oldValue=i.value,r.oldArg=i.arg,Pr(r,"update",o,a),r.def&&r.def.componentUpdated&&h.push(r)):(Pr(r,"bind",o,a),r.def&&r.def.inserted&&u.push(r));if(u.length&&(t=function(){for(var e=0;e<u.length;e++)Pr(u[e],"inserted",o,a)},e?Pt(o,"insert",t):t()),h.length&&Pt(o,"postpatch",(function(){for(var e=0;e<h.length;e++)Pr(h[e],"componentUpdated",o,a)})),!e)for(n in l)c[n]||Pr(l[n],"unbind",a,a,s)}}var Ar=Object.create(null);function Lr(e,t){var n=Object.create(null);if(e)for(var i,r,a=0;a<e.length;a++)(i=e[a]).modifiers||(i.modifiers=Ar),n[(r=i).rawName||"".concat(r.name,".").concat(Object.keys(r.modifiers||{}).join("."))]=i,t._setupState&&t._setupState.__sfc&&(r=i.def||Ii(t,"_setupState","v-"+i.name),i.def="function"==typeof r?{bind:r,update:r}:r),i.def=i.def||Ii(t.$options,"directives",i.name);return n}function Pr(e,t,n,i,r){var a=e.def&&e.def[t];if(a)try{a(n.elm,e,n,i,r)}catch(i){fn(i,n.context,"directive ".concat(e.name," ").concat(t," hook"))}}function kr(e,t){var n=t.componentOptions;if(!(s(n)&&!1===n.Ctor.options.inheritAttrs||o(e.data.attrs)&&o(t.data.attrs))){var i,r,a=t.elm,l=e.data.attrs||{},c=t.data.attrs||{};for(i in c=s(c.__ob__)||!0===c._v_attr_proxy?t.data.attrs=P({},c):c)r=c[i],l[i]!==r&&Dr(a,i,r,t.data.pre);for(i in(Z||K)&&c.value!==l.value&&Dr(a,"value",c.value),l)o(c[i])&&(cr(i)?a.removeAttributeNS(lr,ur(i)):ar(i)||a.removeAttribute(i))}}function Dr(e,t,n,i){i||-1<e.tagName.indexOf("-")?Ir(e,t,n):sr(t)?hr(n)?e.removeAttribute(t):(n="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,n)):ar(t)?e.setAttribute(t,function(e,t){return hr(t)||"false"===t?"false":"contenteditable"===e&&or(t)?t:"true"}(t,n)):cr(t)?hr(n)?e.removeAttributeNS(lr,ur(t)):e.setAttributeNS(lr,t,n):Ir(e,t,n)}function Ir(e,t,n){var i;hr(n)?e.removeAttribute(t):(!Z||Q||"TEXTAREA"!==e.tagName||"placeholder"!==t||""===n||e.__ieph||(e.addEventListener("input",i=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",i)}),e.__ieph=!0),e.setAttribute(t,n))}function Rr(e,t){var n=t.elm,i=t.data;e=e.data;o(i.staticClass)&&o(i.class)&&(o(e)||o(e.staticClass)&&o(e.class))||(i=function(e){for(var t=e.data,n=e,i=e;s(i.componentInstance);)(i=i.componentInstance._vnode)&&i.data&&(t=dr(i.data,t));for(;s(n=n.parent);)n&&n.data&&(t=dr(t,n.data));e=t.staticClass;var r=t.class;return s(e)||s(r)?fr(e,pr(r)):""}(t),(i=s(e=n._transitionClasses)?fr(i,pr(e)):i)!==n._prevClass&&(n.setAttribute("class",i),n._prevClass=i))}nr=[nr,Tr],Tr={create:kr,update:kr};var Nr,Or={create:Rr,update:Rr};function Fr(e,t,n){var i=Nr;return function r(){null!==t.apply(null,arguments)&&Hr(e,r,n,i)}}var zr=ne&&!(G&&Number(G[1])<=53);function Br(e,t,n,i){var r,a;zr&&(r=di,t=(a=t)._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=r||e.timeStamp<=0||e.target.ownerDocument!==document)return a.apply(this,arguments)}),Nr.addEventListener(e,t,te?{capture:n,passive:i}:n)}function Hr(e,t,n,i){(i||Nr).removeEventListener(e,t._wrapper||t,n)}function Ur(e,t){var n,i,r;o(e.data.on)&&o(t.data.on)||(n=t.data.on||{},i=e.data.on||{},Nr=t.elm||e.elm,s((e=n).__r)&&(e[r=Z?"change":"input"]=[].concat(e.__r,e[r]||[]),delete e.__r),s(e.__c)&&(e.change=[].concat(e.__c,e.change||[]),delete e.__c),Lt(n,i,Br,Hr,Fr,t.context),Nr=void 0)}var Vr;ne={create:Ur,update:Ur,destroy:function(e){return Ur(e,Mr)}};function Gr(e,t){if(!o(e.data.domProps)||!o(t.data.domProps)){var n,i,r,a,l=t.elm,c=e.data.domProps||{},u=t.data.domProps||{};for(n in!s(u.__ob__)&&!0!==u._v_attr_proxy||(u=t.data.domProps=P({},u)),c)n in u||(l[n]="");for(n in u){if(i=u[n],"textContent"===n||"innerHTML"===n){if(t.children&&(t.children.length=0),i===c[n])continue;1===l.childNodes.length&&l.removeChild(l.childNodes[0])}if("value"===n&&"PROGRESS"!==l.tagName){var h=o(l._value=i)?"":String(i);a=h,(r=l).composing||"OPTION"!==r.tagName&&!function(e,t){var n=!0;try{n=document.activeElement!==e}catch(e){}return n&&e.value!==t}(r,a)&&!function(e,t){var n=e.value;if(s(e=e._vModifiers)){if(e.number)return v(n)!==v(t);if(e.trim)return n.trim()!==t.trim()}return n!==t}(r,a)||(l.value=h)}else if("innerHTML"===n&&yr(l.tagName)&&o(l.innerHTML)){(Vr=Vr||document.createElement("div")).innerHTML="<svg>".concat(i,"</svg>");for(var d=Vr.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;d.firstChild;)l.appendChild(d.firstChild)}else if(i!==c[n])try{l[n]=i}catch(e){}}}}G={create:Gr,update:Gr};var jr=_((function(e){var t={},n=/:(.+)/;return e.split(/;(?![^(]*\))/g).forEach((function(e){e&&1<(e=e.split(n)).length&&(t[e[0].trim()]=e[1].trim())})),t}));function Wr(e){var t=Xr(e.style);return e.staticStyle?P(e.staticStyle,t):t}function Xr(e){return Array.isArray(e)?k(e):"string"==typeof e?jr(e):e}function qr(e,t,n){if($r.test(t))e.style.setProperty(t,n);else if(Zr.test(n))e.style.setProperty(C(t),n.replace(Zr,""),"important");else{var i=Kr(t);if(Array.isArray(n))for(var r=0,a=n.length;r<a;r++)e.style[i]=n[r];else e.style[i]=n}}var Yr,$r=/^--/,Zr=/\s*!important$/,Qr=["Webkit","Moz","ms"],Kr=_((function(e){if(Yr=Yr||document.createElement("div").style,"filter"!==(e=S(e))&&e in Yr)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<Qr.length;n++){var i=Qr[n]+t;if(i in Yr)return i}}));function Jr(e,t){var n=t.data;e=e.data;if(!(o(n.staticStyle)&&o(n.style)&&o(e.staticStyle)&&o(e.style))){var i,r,a=t.elm,l=(n=e.staticStyle,e=e.normalizedStyle||e.style||{},n||e),c=(n=Xr(t.data.style)||{},t.data.normalizedStyle=s(n.__ob__)?P({},n):n,function(e,t){for(var n,i={},r=e;r.componentInstance;)(r=r.componentInstance._vnode)&&r.data&&(n=Wr(r.data))&&P(i,n);(n=Wr(e.data))&&P(i,n);for(var a=e;a=a.parent;)a.data&&(n=Wr(a.data))&&P(i,n);return i}(t));for(r in l)o(c[r])&&qr(a,r,"");for(r in c)(i=c[r])!==l[r]&&qr(a,r,null==i?"":i)}}var ea={create:Jr,update:Jr},ta=/\s+/;function na(e,t){var n;(t=t&&t.trim())&&(e.classList?-1<t.indexOf(" ")?t.split(ta).forEach((function(t){return e.classList.add(t)})):e.classList.add(t):(n=" ".concat(e.getAttribute("class")||""," ")).indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim()))}function ia(e,t){if(t&&(t=t.trim()))if(e.classList)-1<t.indexOf(" ")?t.split(ta).forEach((function(t){return e.classList.remove(t)})):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{for(var n=" ".concat(e.getAttribute("class")||""," "),i=" "+t+" ";0<=n.indexOf(i);)n=n.replace(i," ");(n=n.trim())?e.setAttribute("class",n):e.removeAttribute("class")}}function ra(e){var t;if(e)return"object"==typeof e?(!(t={})!==e.css&&P(t,aa(e.name||"v")),P(t,e),t):"string"==typeof e?aa(e):void 0}var aa=_((function(e){return{enterClass:"".concat(e,"-enter"),enterToClass:"".concat(e,"-enter-to"),enterActiveClass:"".concat(e,"-enter-active"),leaveClass:"".concat(e,"-leave"),leaveToClass:"".concat(e,"-leave-to"),leaveActiveClass:"".concat(e,"-leave-active")}})),oa=$&&!Q,sa="transition",la="animation",ca="transition",ua="transitionend",ha="animation",da="animationend",fa=(oa&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(ca="WebkitTransition",ua="webkitTransitionEnd"),void 0===window.onanimationend)&&void 0!==window.onwebkitanimationend&&(ha="WebkitAnimation",da="webkitAnimationEnd"),$?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()});function pa(e){fa((function(){fa(e)}))}function ma(e,t){var n=e._transitionClasses||(e._transitionClasses=[]);n.indexOf(t)<0&&(n.push(t),na(e,t))}function va(e,t){e._transitionClasses&&x(e._transitionClasses,t),ia(e,t)}function ga(e,t,n){var i=(t=xa(e,t)).type,r=t.timeout,a=t.propCount;if(!i)return n();function o(t){t.target===e&&++l>=a&&c()}var s=i===sa?ua:da,l=0,c=function(){e.removeEventListener(s,o),n()};setTimeout((function(){l<a&&c()}),r+1),e.addEventListener(s,o)}var ya=/\b(transform|all)(,|$)/;function xa(e,t){var n,i=((e=window.getComputedStyle(e))[ca+"Delay"]||"").split(", "),r=(e[ca+"Duration"]||"").split(", "),a=(i=ba(i,r),(e[ha+"Delay"]||"").split(", ")),o=(e[ha+"Duration"]||"").split(", "),s=(a=ba(a,o),0),l=0;t===sa?0<i&&(n=sa,s=i,l=r.length):t===la?0<a&&(n=la,s=a,l=o.length):l=(n=0<(s=Math.max(i,a))?a<i?sa:la:null)?(n===sa?r:o).length:0,t=n===sa&&ya.test(e[ca+"Property"]);return{type:n,timeout:s,propCount:l,hasTransform:t}}function ba(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(null,t.map((function(t,n){return wa(t)+wa(e[n])})))}function wa(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function _a(e,t){var n=e.elm;if(!o(S=(s(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb()),ra(e.data.transition)))&&!s(n._enterCb)&&1===n.nodeType){for(var i=S.css,r=S.type,a=S.enterClass,l=S.enterToClass,h=S.enterActiveClass,d=S.appearClass,f=S.appearToClass,p=S.appearActiveClass,m=S.beforeEnter,g=S.enter,y=S.afterEnter,x=S.enterCancelled,b=S.beforeAppear,w=S.appear,_=S.afterAppear,M=S.appearCancelled,S=S.duration,E=ei,T=ei.$vnode;T&&T.parent;)E=T.context,T=T.parent;var C,A,L,P,k,D,I,R,N,O,z=!E._isMounted||!e.isRootInsert;z&&!w&&""!==w||(C=z&&d?d:a,A=z&&p?p:h,L=z&&f?f:l,d=z&&b||m,P=z&&c(w)?w:g,k=z&&_||y,D=z&&M||x,I=v(u(S)?S.enter:S),R=!1!==i&&!Q,N=Ea(P),O=n._enterCb=F((function(){R&&(va(n,L),va(n,A)),O.cancelled?(R&&va(n,C),D&&D(n)):k&&k(n),n._enterCb=null})),e.data.show||Pt(e,"insert",(function(){var t;(t=(t=n.parentNode)&&t._pending&&t._pending[e.key])&&t.tag===e.tag&&t.elm._leaveCb&&t.elm._leaveCb(),P&&P(n,O)})),d&&d(n),R&&(ma(n,C),ma(n,A),pa((function(){va(n,C),O.cancelled||(ma(n,L),N)||(Sa(I)?setTimeout(O,I):ga(n,r,O))}))),e.data.show&&(t&&t(),P)&&P(n,O),R)||N||O()}}function Ma(e,t){var n,i,r,a,l,c,h,d,f,p,m,g,y,x,b=e.elm,w=(s(b._enterCb)&&(b._enterCb.cancelled=!0,b._enterCb()),ra(e.data.transition));if(o(w)||1!==b.nodeType)return t();function _(){x.cancelled||(!e.data.show&&b.parentNode&&((b.parentNode._pending||(b.parentNode._pending={}))[e.key]=e),c&&c(b),m&&(ma(b,r),ma(b,l),pa((function(){va(b,r),x.cancelled||(ma(b,a),g)||(Sa(y)?setTimeout(x,y):ga(b,i,x))}))),h&&h(b,x),m)||g||x()}s(b._leaveCb)||(n=w.css,i=w.type,r=w.leaveClass,a=w.leaveToClass,l=w.leaveActiveClass,c=w.beforeLeave,h=w.leave,d=w.afterLeave,f=w.leaveCancelled,p=w.delayLeave,w=w.duration,m=!1!==n&&!Q,g=Ea(h),y=v(u(w)?w.leave:w),x=b._leaveCb=F((function(){b.parentNode&&b.parentNode._pending&&(b.parentNode._pending[e.key]=null),m&&(va(b,a),va(b,l)),x.cancelled?(m&&va(b,r),f&&f(b)):(t(),d&&d(b)),b._leaveCb=null})),p?p(_):_())}function Sa(e){return"number"==typeof e&&!isNaN(e)}function Ea(e){var t;return!o(e)&&(s(t=e.fns)?Ea(Array.isArray(t)?t[0]:t):1<(e._length||e.length))}function Ta(e,t){!0!==t.data.show&&_a(t)}U=function(e){for(var t,n={},i=e.modules,r=e.nodeOps,c=0;c<Sr.length;++c)for(n[Sr[c]]=[],t=0;t<i.length;++t)s(i[t][Sr[c]])&&n[Sr[c]].push(i[t][Sr[c]]);function u(e,t){function n(){0==--n.listeners&&h(e)}return n.listeners=t,n}function h(e){var t=r.parentNode(e);s(t)&&r.removeChild(t,e)}function d(e,t,i,a,o,l,c){(e=s(e.elm)&&s(l)?l[c]=ve(e):e).isRootInsert=!o,function(e,t,i,r){var a,o=e.data;if(s(o))return a=s(e.componentInstance)&&o.keepAlive,s(o=o.hook)&&s(o=o.init)&&o(e,!1),s(e.componentInstance)?(f(e,t),p(i,e.elm,r),!0===a&&function(e,t,i,r){for(var a,o=e;o.componentInstance;)if(s(a=(o=o.componentInstance._vnode).data)&&s(a=a.transition)){for(a=0;a<n.activate.length;++a)n.activate[a](Mr,o);t.push(o);break}p(i,e.elm,r)}(e,t,i,r),1):void 0}(e,t,i,a)||(l=e.data,c=e.children,s(o=e.tag)?(e.elm=e.ns?r.createElementNS(e.ns,o):r.createElement(o,e),x(e),m(e,c,t),s(l)&&y(e,t)):!0===e.isComment?e.elm=r.createComment(e.text):e.elm=r.createTextNode(e.text),p(i,e.elm,a))}function f(e,t){s(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,v(e)?(y(e,t),x(e)):(wr(e),t.push(e))}function p(e,t,n){s(e)&&(s(n)?r.parentNode(n)===e&&r.insertBefore(e,t,n):r.appendChild(e,t))}function m(e,t,n){if(a(t))for(var i=0;i<t.length;++i)d(t[i],n,e.elm,null,!0,t,i);else l(e.text)&&r.appendChild(e.elm,r.createTextNode(String(e.text)))}function v(e){for(;e.componentInstance;)e=e.componentInstance._vnode;return s(e.tag)}function y(e,t){for(var i=0;i<n.create.length;++i)n.create[i](Mr,e);s(c=e.data.hook)&&(s(c.create)&&c.create(Mr,e),s(c.insert))&&t.push(e)}function x(e){var t;if(s(t=e.fnScopeId))r.setStyleScope(e.elm,t);else for(var n=e;n;)s(t=n.context)&&s(t=t.$options._scopeId)&&r.setStyleScope(e.elm,t),n=n.parent;s(t=ei)&&t!==e.context&&t!==e.fnContext&&s(t=t.$options._scopeId)&&r.setStyleScope(e.elm,t)}function b(e,t,n,i,r,a){for(;i<=r;++i)d(n[i],a,e,t,!1,n,i)}function w(e){var t,i,r=e.data;if(s(r))for(s(t=r.hook)&&s(t=t.destroy)&&t(e),t=0;t<n.destroy.length;++t)n.destroy[t](e);if(s(t=e.children))for(i=0;i<e.children.length;++i)w(e.children[i])}function _(e,t,i){for(;t<=i;++t){var r=e[t];s(r)&&(s(r.tag)?(function e(t,i){if(s(i)||s(t.data)){var r,a=n.remove.length+1;for(s(i)?i.listeners+=a:i=u(t.elm,a),s(r=t.componentInstance)&&s(r=r._vnode)&&s(r.data)&&e(r,i),r=0;r<n.remove.length;++r)n.remove[r](t,i);s(r=t.data.hook)&&s(r=r.remove)?r(t,i):i()}else h(t.elm)}(r),w(r)):h(r.elm))}}function M(e,t,i,a,l,c){if(e!==t)if(a=(t=s(t.elm)&&s(a)?a[l]=ve(t):t).elm=e.elm,!0===e.isAsyncPlaceholder)s(t.asyncFactory.resolved)?T(e.elm,t,i):t.isAsyncPlaceholder=!0;else if(!0!==t.isStatic||!0!==e.isStatic||t.key!==e.key||!0!==t.isCloned&&!0!==t.isOnce){var u,h=(s(l=t.data)&&s(u=l.hook)&&s(u=u.prepatch)&&u(e,t),e.children),f=t.children;if(s(l)&&v(t)){for(u=0;u<n.update.length;++u)n.update[u](e,t);s(u=l.hook)&&s(u=u.update)&&u(e,t)}o(t.text)?s(h)&&s(f)?h!==f&&function(e,t,n,i,a){for(var l,c,u,h=0,f=0,p=t.length-1,m=t[0],v=t[p],g=n.length-1,y=n[0],x=n[g],w=!a;h<=p&&f<=g;)o(m)?m=t[++h]:o(v)?v=t[--p]:Er(m,y)?(M(m,y,i,n,f),m=t[++h],y=n[++f]):Er(v,x)?(M(v,x,i,n,g),v=t[--p],x=n[--g]):Er(m,x)?(M(m,x,i,n,g),w&&r.insertBefore(e,m.elm,r.nextSibling(v.elm)),m=t[++h],x=n[--g]):(Er(v,y)?(M(v,y,i,n,f),w&&r.insertBefore(e,v.elm,m.elm),v=t[--p]):(o(l)&&(l=function(e,t,n){for(var i,r={},a=t;a<=n;++a)s(i=e[a].key)&&(r[i]=a);return r}(t,h,p)),!o(c=s(y.key)?l[y.key]:function(e,t,n,i){for(var r=n;r<i;r++){var a=t[r];if(s(a)&&Er(e,a))return r}}(y,t,h,p))&&Er(u=t[c],y)?(M(u,y,i,n,f),t[c]=void 0,w&&r.insertBefore(e,u.elm,m.elm)):d(y,i,e,m.elm,!1,n,f)),y=n[++f]);p<h?b(e,o(n[g+1])?null:n[g+1].elm,n,f,g,i):g<f&&_(t,h,p)}(a,h,f,i,c):s(f)?(s(e.text)&&r.setTextContent(a,""),b(a,null,f,0,f.length-1,i)):s(h)?_(h,0,h.length-1):s(e.text)&&r.setTextContent(a,""):e.text!==t.text&&r.setTextContent(a,t.text),s(l)&&s(u=l.hook)&&s(u=u.postpatch)&&u(e,t)}else t.componentInstance=e.componentInstance}function S(e,t,n){if(!0===n&&s(e.parent))e.parent.data.pendingInsert=t;else for(var i=0;i<t.length;++i)t[i].data.hook.insert(t[i])}var E=g("attrs,class,staticClass,staticStyle,key");function T(e,t,n,i){var r,a=t.tag,o=t.data,l=t.children;if(i=i||o&&o.pre,t.elm=e,!0===t.isComment&&s(t.asyncFactory))return t.isAsyncPlaceholder=!0;if(s(o)&&(s(r=o.hook)&&s(r=r.init)&&r(t,!0),s(r=t.componentInstance)))f(t,n);else if(s(a)){if(s(l))if(e.hasChildNodes())if(s(r=o)&&s(r=r.domProps)&&s(r=r.innerHTML)){if(r!==e.innerHTML)return}else{for(var c=!0,u=e.firstChild,h=0;h<l.length;h++){if(!u||!T(u,l[h],n,i)){c=!1;break}u=u.nextSibling}if(!c||u)return}else m(t,l,n);if(s(o)){var d,p=!1;for(d in o)if(!E(d)){p=!0,y(t,n);break}!p&&o.class&&Wn(o.class)}}else e.data!==t.text&&(e.data=t.text);return 1}return function(e,t,i,a){if(!o(t)){var l=!1,c=[];if(o(e))l=!0,d(t,c);else{var u=s(e.nodeType);if(!u&&Er(e,t))M(e,t,c,null,null,a);else{if(u){if(1===e.nodeType&&e.hasAttribute(B)&&(e.removeAttribute(B),i=!0),!0===i&&T(e,t,c))return S(t,c,!0),e;a=e,e=new de(r.tagName(a).toLowerCase(),{},[],void 0,a)}if(u=e.elm,i=r.parentNode(u),d(t,c,u._leaveCb?null:i,r.nextSibling(u)),s(t.parent))for(var h=t.parent,f=v(t);h;){for(var p=0;p<n.destroy.length;++p)n.destroy[p](h);if(h.elm=t.elm,f){for(var m=0;m<n.create.length;++m)n.create[m](Mr,h);var g=h.data.hook.insert;if(g.merged)for(var y=1;y<g.fns.length;y++)g.fns[y]()}else wr(h);h=h.parent}s(i)?_([e],0,0):s(e.tag)&&w(e)}}return S(t,c,l),t.elm}s(e)&&w(e)}}({nodeOps:U,modules:[Tr,Or,ne,G,ea,$?{create:Ta,activate:Ta,remove:function(e,t){!0!==e.data.show?Ma(e,t):t()}}:{}].concat(nr)});var Ca=(Q&&document.addEventListener("selectionchange",(function(){var e=document.activeElement;e&&e.vmodel&&Ra(e,"input")})),{inserted:function(e,t,n,i){"select"===n.tag?(i.elm&&!i.elm._vOptions?Pt(n,"postpatch",(function(){Ca.componentUpdated(e,t,n)})):Aa(e,t,n.context),e._vOptions=[].map.call(e.options,ka)):"textarea"!==n.tag&&!br(e.type)||(e._vModifiers=t.modifiers,t.modifiers.lazy)||(e.addEventListener("compositionstart",Da),e.addEventListener("compositionend",Ia),e.addEventListener("change",Ia),Q&&(e.vmodel=!0))},componentUpdated:function(e,t,n){var i,r;"select"===n.tag&&(Aa(e,t,n.context),i=e._vOptions,(r=e._vOptions=[].map.call(e.options,ka)).some((function(e,t){return!N(e,i[t])})))&&(e.multiple?t.value.some((function(e){return Pa(e,r)})):t.value!==t.oldValue&&Pa(t.value,r))&&Ra(e,"change")}});function Aa(e,t){La(e,t),(Z||K)&&setTimeout((function(){La(e,t)}),0)}function La(e,t){var n=t.value,i=e.multiple;if(!i||Array.isArray(n)){for(var r,a,o=0,s=e.options.length;o<s;o++)if(a=e.options[o],i)r=-1<O(n,ka(a)),a.selected!==r&&(a.selected=r);else if(N(ka(a),n))return void(e.selectedIndex!==o&&(e.selectedIndex=o));i||(e.selectedIndex=-1)}}function Pa(e,t){return t.every((function(t){return!N(t,e)}))}function ka(e){return"_value"in e?e._value:e.value}function Da(e){e.target.composing=!0}function Ia(e){e.target.composing&&(e.target.composing=!1,Ra(e.target,"input"))}function Ra(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function Na(e){return!e.componentInstance||e.data&&e.data.transition?e:Na(e.componentInstance._vnode)}function Oa(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?Oa(un(t.children)):e}function Fa(e){var t={},n=e.$options;for(i in n.propsData)t[i]=e[i];var i,r=n._parentListeners;for(i in r)t[S(i)]=r[i];return t}function za(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}function Ba(e){return e.tag||Qt(e)}function Ha(e){return"show"===e.name}function Ua(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function Va(e){e.data.newPos=e.elm.getBoundingClientRect()}function Ga(e){var t=e.data.pos,n=e.data.newPos,i=t.left-n.left;t=t.top-n.top;(i||t)&&(e.data.moved=!0,(n=e.elm.style).transform=n.WebkitTransform="translate(".concat(i,"px,").concat(t,"px)"),n.transitionDuration="0s")}Tr={model:Ca,show:{bind:function(e,t,n){t=t.value;var i=(n=Na(n)).data&&n.data.transition,r=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;t&&i?(n.data.show=!0,_a(n,(function(){e.style.display=r}))):e.style.display=t?r:"none"},update:function(e,t,n){var i=t.value;!i!=!t.oldValue&&((n=Na(n)).data&&n.data.transition?(n.data.show=!0,i?_a(n,(function(){e.style.display=e.__vOriginalDisplay})):Ma(n,(function(){e.style.display="none"}))):e.style.display=i?e.__vOriginalDisplay:"none")},unbind:function(e,t,n,i,r){r||(e.style.display=e.__vOriginalDisplay)}}},ne={name:"transition",props:Or={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]},abstract:!0,render:function(e){var t=this;if((i=this.$slots.default)&&(i=i.filter(Ba)).length){var n=this.mode,i=i[0];if(!function(e){for(;e=e.parent;)if(e.data.transition)return 1}(this.$vnode)){var r=Oa(i);if(r){if(this._leaving)return za(e,i);var a="__transition-".concat(this._uid,"-"),o=(a=(r.key=null==r.key?r.isComment?a+"comment":a+r.tag:l(r.key)&&0!==String(r.key).indexOf(a)?a+r.key:r.key,(r.data||(r.data={})).transition=Fa(this)),this._vnode),s=Oa(o);if(r.data.directives&&r.data.directives.some(Ha)&&(r.data.show=!0),s&&s.data&&(h=r,(c=s).key!==h.key||c.tag!==h.tag)&&!Qt(s)&&(!s.componentInstance||!s.componentInstance._vnode.isComment)){var c=s.data.transition=P({},a);if("out-in"===n)return this._leaving=!0,Pt(c,"afterLeave",(function(){t._leaving=!1,t.$forceUpdate()})),za(e,i);if("in-out"===n){if(Qt(r))return o;var u,h=function(){u()};Pt(a,"afterEnter",h),Pt(a,"enterCancelled",h),Pt(c,"delayLeave",(function(e){u=e}))}}}}return i}}},delete(G=P({tag:String,moveClass:String},Or)).mode,ea={Transition:ne,TransitionGroup:{props:G,beforeMount:function(){var e=this,t=this._update;this._update=function(n,i){var r=ti(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,r(),t.call(e,n,i)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),i=this.prevChildren=this.children,r=this.$slots.default||[],a=this.children=[],o=Fa(this),s=0;s<r.length;s++)(l=r[s]).tag&&null!=l.key&&0!==String(l.key).indexOf("__vlist")&&(a.push(l),((n[l.key]=l).data||(l.data={})).transition=o);if(i){var l,c=[],u=[];for(s=0;s<i.length;s++)(l=i[s]).data.transition=o,l.data.pos=l.elm.getBoundingClientRect(),(n[l.key]?c:u).push(l);this.kept=e(t,null,c),this.removed=u}return e(t,null,a)},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(Ua),e.forEach(Va),e.forEach(Ga),this._reflow=document.body.offsetHeight,e.forEach((function(e){var n;e.data.moved&&(e=(n=e.elm).style,ma(n,t),e.transform=e.WebkitTransform=e.transitionDuration="",n.addEventListener(ua,n._moveCb=function e(i){i&&i.target!==n||i&&!/transform$/.test(i.propertyName)||(n.removeEventListener(ua,e),n._moveCb=null,va(n,t))}))})))},methods:{hasMove:function(e,t){var n;return!!oa&&(this._hasMove||(n=e.cloneNode(),e._transitionClasses&&e._transitionClasses.forEach((function(e){ia(n,e)})),na(n,t),n.style.display="none",this.$el.appendChild(n),e=xa(n),this.$el.removeChild(n),this._hasMove=e.hasTransform))}}}},$i.config.mustUseProp=function(e,t,n){return"value"===n&&rr(e)&&"button"!==t||"selected"===n&&"option"===e||"checked"===n&&"input"===e||"muted"===n&&"video"===e},$i.config.isReservedTag=mr,$i.config.isReservedAttr=ir,$i.config.getTagNamespace=function(e){return yr(e)?"svg":"math"===e?"math":void 0},$i.config.isUnknownElement=function(e){var t;return!$||!mr(e)&&(e=e.toLowerCase(),null!=xr[e]?xr[e]:(t=document.createElement(e),-1<e.indexOf("-")?xr[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:xr[e]=/HTMLUnknownElement/.test(t.toString())))},P($i.options.directives,Tr),P($i.options.components,ea),$i.prototype.__patch__=$?U:D,$i.prototype.$mount=function(e,t){e=e&&$?"string"==typeof(i=e)?document.querySelector(i)||document.createElement("div"):i:void 0;var n=this,i=e,r=t,a=(n.$el=i,n.$options.render||(n.$options.render=pe),ri(n,"beforeMount"),new Yn(n,(function(){n._update(n._render(),r)}),D,i={before:function(){n._isMounted&&!n._isDestroyed&&ri(n,"beforeUpdate")}},!0),r=!1,n._preWatchers);if(a)for(var o=0;o<a.length;o++)a[o].run();return null==n.$vnode&&(n._isMounted=!0,ri(n,"mounted")),n},$&&setTimeout((function(){V.devtools&&re&&re.emit("init",$i)}),0)}.call(this,n(88),n(243).setImmediate)},function(e,t,n){e.exports=n(216)},function(e,t,n){e.exports=n(481)},function(e,t,n){var i=n(38),r=n(98),a=TypeError;e.exports=function(e){if(i(e))return e;throw a(r(e)+" is not a function")}},function(e,t,n){var i=n(260);e.exports=function(e){return i(e.length)}},function(e,t){e.exports=!0},function(e,t,n){var i=n(215);function r(e,t,n,r,a,o,s){try{var l=e[o](s),c=l.value}catch(e){return void n(e)}l.done?t(c):i.resolve(c).then(r,a)}e.exports=function(e){return function(){var t=this,n=arguments;return new i((function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,l,"next",e)}function l(e){r(o,i,a,s,l,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var i=n(127),r=n(94);e.exports=function(e){return i(r(e))}},function(e,t,n){var i=n(70);e.exports=function(e,t,n,r){return r&&r.enumerable?e[t]=n:i(e,t,n),e}},function(e,t,n){var i,r,a,o,s=n(192),l=n(29),c=n(34),u=n(70),h=n(39),d=n(155),f=n(133),p=(n=n(113),"Object already initialized"),m=l.TypeError,v=(l=l.WeakMap,s||d.state?((a=d.state||(d.state=new l)).get=a.get,a.has=a.has,a.set=a.set,i=function(e,t){if(a.has(e))throw m(p);return t.facade=e,a.set(e,t),t},r=function(e){return a.get(e)||{}},function(e){return a.has(e)}):(n[o=f("state")]=!0,i=function(e,t){if(h(e,o))throw m(p);return t.facade=e,u(e,o,t),t},r=function(e){return h(e,o)?e[o]:{}},function(e){return h(e,o)}));e.exports={set:i,get:r,has:v,enforce:function(e){return v(e)?r(e):i(e,{})},getterFor:function(e){return function(t){if(c(t)&&(t=r(t)).type===e)return t;throw m("Incompatible receiver, "+e+" required")}}}},function(e,t,n){n(68);var i,r=n(285),a=n(29),o=n(71),s=n(70),l=n(100),c=n(35)("toStringTag");for(i in r){var u;(u=(u=a[i])&&u.prototype)&&o(u)!==c&&s(u,c,i),l[i]=l.Array}},function(e,t,n){"use strict";var i=n(64),r=n(115),a=n(100),o=n(66),s=n(54).f,l=n(163),c=n(164),u=n(62),h=(n=n(42),"Array Iterator"),d=o.set,f=o.getterFor(h);e.exports=l(Array,"Array",(function(e,t){d(this,{type:h,target:i(e),index:0,kind:t})}),(function(){var e=f(this),t=e.target,n=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,c(void 0,!0)):c("keys"==n?i:"values"==n?t[i]:[i,t[i]],!1)}),"values"),o=a.Arguments=a.Array;if(r("keys"),r("values"),r("entries"),!u&&n&&"values"!==o.name)try{s(o,"name",{value:"values"})}catch(e){}},function(e,t,n){var i=n(152),r=n(60),a=n(108),o=i(i.bind);e.exports=function(e,t){return r(e),void 0===t?e:a?o(e,t):function(){return e.apply(t,arguments)}}},function(e,t,n){var i=n(42),r=n(54),a=n(78);e.exports=i?function(e,t,n){return r.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var i=n(158),r=n(38),a=n(77),o=n(35)("toStringTag"),s=Object,l="Arguments"==a(function(){return arguments}());e.exports=i?a:function(e){var t;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(t=function(e,t){try{return e[t]}catch(e){}}(e=s(e),o))?t:l?a(e):"Object"==(t=a(e))&&r(e.callee)?"Arguments":t}},function(e,t,n){var i=n(158),r=n(54).f,a=n(70),o=n(39),s=n(265),l=n(35)("toStringTag");e.exports=function(e,t,n,c){e&&(n=n?e:e.prototype,o(n,l)||r(n,l,{configurable:!0,value:t}),c)&&!i&&a(n,"toString",s)}},function(e,t,n){function i(e){var t=1==e,n=2==e,i=3==e,a=4==e,h=6==e,d=7==e,f=5==e||h;return function(p,m,v,g){for(var y,x,b=s(p),w=o(b),_=r(m,v),M=l(w),S=0,E=(m=g||c,t?m(p,M):n||d?m(p,0):void 0);S<M;S++)if((f||S in w)&&(x=_(y=w[S],S,b),e))if(t)E[S]=x;else if(x)switch(e){case 3:return!0;case 5:return y;case 6:return S;case 2:u(E,y)}else switch(e){case 4:return!1;case 7:u(E,y)}return h?-1:i||a?a:E}}var r=n(69),a=n(26),o=n(127),s=n(55),l=n(61),c=n(157),u=a([].push);e.exports={forEach:i(0),map:i(1),filter:i(2),some:i(3),every:i(4),find:i(5),findIndex:i(6),filterReject:i(7)}},function(e,t,n){e.exports=n(534)},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){e.exports=n(505)},function(e,t,n){var i=(n=n(26))({}.toString),r=n("".slice);e.exports=function(e){return r(i(e),8,-1)}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){n=n(52),e.exports=n("navigator","userAgent")||""},function(e,t){},function(e,t,n){function i(){}var r,a=n(50),o=n(159),s=n(161),l=n(113),c=n(189),u=n(156),h=(n=n(133),"prototype"),d="script",f=n("IE_PROTO"),p=function(e){return"<script>"+e+"</"+d+">"},m=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}m="undefined"==typeof document||document.domain&&r?function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t}(r):(t="javascript:",(e=u("iframe")).style.display="none",c.appendChild(e),e.src=String(t),(t=e.contentWindow.document).open(),t.write(p("document.F=Object")),t.close(),t.F);for(var e,t,n=s.length;n--;)delete m[h][s[n]];return m()};l[f]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(i[h]=a(e),n=new i,i[h]=null,n[f]=e):n=m(),void 0===t?n:o.f(n,t)}},function(e,t,n){function i(e,t){this.stopped=e,this.result=t}var r=n(69),a=n(43),o=n(50),s=n(98),l=n(207),c=n(61),u=n(33),h=n(165),d=n(117),f=n(206),p=TypeError,m=i.prototype;e.exports=function(e,t,n){function v(e){return y&&f(y,"normal",e),new i(!0,e)}function g(e){return E?(o(e),A?L(e[0],e[1],v):L(e[0],e[1])):A?L(e,v):L(e)}var y,x,b,w,_,M,S=n&&n.that,E=!(!n||!n.AS_ENTRIES),T=!(!n||!n.IS_RECORD),C=!(!n||!n.IS_ITERATOR),A=!(!n||!n.INTERRUPTED),L=r(t,S);if(T)y=e.iterator;else if(C)y=e;else{if(!(n=d(e)))throw p(s(e)+" is not iterable");if(l(n)){for(x=0,b=c(e);x<b;x++)if((w=g(e[x]))&&u(m,w))return w;return new i(!1)}y=h(e,n)}for(_=(T?e:y).next;!(M=a(_,y)).done;){try{w=g(M.value)}catch(e){f(y,"throw",e)}if("object"==typeof w&&w&&u(m,w))return w}return new i(!1)}},function(e,t,n){"use strict";function i(e){var t,n;this.promise=new e((function(e,i){if(void 0!==t||void 0!==n)throw a("Bad Promise constructor");t=e,n=i})),this.resolve=r(t),this.reject=r(n)}var r=n(60),a=TypeError;e.exports.f=function(e){return new i(e)}},function(e,t,n){"use strict";(function(e){var i=n(5),r=n(23),a=n(147);function o(e){return i.a.isPlainObject(e)||i.a.isArray(e)}function s(e){return i.a.endsWith(e,"[]")?e.slice(0,-2):e}function l(e,t,n){return e?e.concat(t).map((function(e,t){return e=s(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const c=i.a.toFlatObject(i.a,{},null,(function(e){return/^is[A-Z]/.test(e)}));t.a=function(t,n,u){if(!i.a.isObject(t))throw new TypeError("target must be an object");n=n||new(a.a||FormData);const h=(u=i.a.toFlatObject(u,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!i.a.isUndefined(t[e])}))).metaTokens,d=u.visitor||g,f=u.dots,p=u.indexes,m=(u.Blob||"undefined"!=typeof Blob&&Blob)&&i.a.isSpecCompliantForm(n);if(!i.a.isFunction(d))throw new TypeError("visitor must be a function");function v(t){if(null===t)return"";if(i.a.isDate(t))return t.toISOString();if(!m&&i.a.isBlob(t))throw new r.a("Blob is not supported. Use a Buffer instead.");return i.a.isArrayBuffer(t)||i.a.isTypedArray(t)?m&&"function"==typeof Blob?new Blob([t]):e.from(t):t}function g(e,t,r){let a=e;if(e&&!r&&"object"==typeof e)if(i.a.endsWith(t,"{}"))t=h?t:t.slice(0,-2),e=JSON.stringify(e);else if(i.a.isArray(e)&&(c=e,i.a.isArray(c))&&!c.some(o)||(i.a.isFileList(e)||i.a.endsWith(t,"[]"))&&(a=i.a.toArray(e)))return t=s(t),a.forEach((function(e,r){i.a.isUndefined(e)||null===e||n.append(!0===p?l([t],r,f):null===p?t:t+"[]",v(e))})),!1;var c;return!!o(e)||(n.append(l(r,t,f),v(e)),!1)}const y=[],x=Object.assign(c,{defaultVisitor:g,convertValue:v,isVisitable:o});if(i.a.isObject(t))return function e(t,r){if(!i.a.isUndefined(t)){if(-1!==y.indexOf(t))throw Error("Circular reference detected in "+r.join("."));y.push(t),i.a.forEach(t,(function(t,a){!0===(!(i.a.isUndefined(t)||null===t)&&d.call(n,t,i.a.isString(a)?a.trim():a,r,x))&&e(t,r?r.concat(a):[a])})),y.pop()}}(t),n;throw new TypeError("data must be an object")}}).call(this,n(242).Buffer)},function(e,t,n){var i=n(577),r=n(578),a=n(230),o=n(579);e.exports=function(e){return i(e)||r(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";(function(e){var n={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},Out:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1}},Back:{In:function(e){return e*e*(2.70158*e-1.70158)},Out:function(e){return--e*e*(2.70158*e+1.70158)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((1+t)*e-t)*.5:.5*((e-=2)*e*((1+t)*e+t)+2)}},Bounce:{In:function(e){return 1-n.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*n.Bounce.In(2*e):.5*n.Bounce.Out(2*e-1)+.5}}},i=r="undefined"==typeof self&&void 0!==e&&e.hrtime?function(){var t=e.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?self.performance.now.bind(self.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()},r=(a.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map((function(t){return e._tweens[t]}))},a.prototype.removeAll=function(){this._tweens={}},a.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},a.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},a.prototype.update=function(e,t){void 0===e&&(e=i()),void 0===t&&(t=!1);var n=Object.keys(this._tweens);if(0===n.length)return!1;for(;0<n.length;){this._tweensAddedDuringUpdate={};for(var r=0;r<n.length;r++){var a=this._tweens[n[r]];a&&!1===a.update(e,!t)&&!t&&delete this._tweens[n[r]]}n=Object.keys(this._tweensAddedDuringUpdate)}return!0},a);function a(){this._tweens={},this._tweensAddedDuringUpdate={}}var o,s={Linear:function(e,t){var n=e.length-1,i=n*t,r=Math.floor(i),a=s.Utils.Linear;return t<0?a(e[0],e[1],i):1<t?a(e[n],e[n-1],n-i):a(e[r],e[n<r+1?n:r+1],i-r)},Bezier:function(e,t){for(var n=0,i=e.length-1,r=Math.pow,a=s.Utils.Bernstein,o=0;o<=i;o++)n+=r(1-t,i-o)*r(t,o)*e[o]*a(i,o);return n},CatmullRom:function(e,t){var n=e.length-1,i=n*t,r=Math.floor(i),a=s.Utils.CatmullRom;return e[0]===e[n]?a(e[((r=t<0?Math.floor(i=n*(1+t)):r)-1+n)%n],e[r],e[(r+1)%n],e[(r+2)%n],i-r):t<0?e[0]-(a(e[0],e[0],e[1],e[1],-i)-e[0]):1<t?e[n]-(a(e[n],e[n],e[n-1],e[n-1],i-n)-e[n]):a(e[r?r-1:0],e[r],e[n<r+1?n:r+1],e[n<r+2?n:r+2],i-r)},Utils:{Linear:function(e,t,n){return(t-e)*n+e},Bernstein:function(e,t){var n=s.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:(o=[1],function(e){var t=1;if(o[e])return o[e];for(var n=e;1<n;n--)t*=n;return o[e]=t}),CatmullRom:function(e,t,n,i,r){var a=r*r;return(2*t-2*n+(e=.5*(n-e))+(i=.5*(i-t)))*(r*a)+(-3*t+3*n-2*e-i)*a+e*r+t}}},l=(c.nextId=function(){return c._nextId++},c._nextId=0,c);function c(){}var u=new r,h=(d.prototype.getId=function(){return this._id},d.prototype.isPlaying=function(){return this._isPlaying},d.prototype.isPaused=function(){return this._isPaused},d.prototype.to=function(e,t){return this._valuesEnd=Object.create(e),void 0!==t&&(this._duration=t),this},d.prototype.duration=function(e){return this._duration=e,this},d.prototype.start=function(e){if(!this._isPlaying){if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var t in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(t),this._valuesStart[t]=this._valuesStartRepeat[t];this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=void 0!==e?"string"==typeof e?i()+parseFloat(e):e:i(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat)}return this},d.prototype._setupProperties=function(e,t,n,i){for(var r in n){var a=e[r],o=Array.isArray(a),s=o?"array":typeof a,l=!o&&Array.isArray(n[r]);if("undefined"!=s&&"function"!=s){if(l){var c=n[r];if(0===c.length)continue;c=c.map(this._handleRelativeValue.bind(this,a)),n[r]=[a].concat(c)}if("object"!=s&&!o||!a||l)void 0===t[r]&&(t[r]=a),o||(t[r]*=1),i[r]=l?n[r].slice().reverse():t[r]||0;else{for(var u in t[r]=o?[]:{},a)t[r][u]=a[u];i[r]=o?[]:{},this._setupProperties(a,t[r],n[r],i[r])}}}},d.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying&&(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback)&&this._onStopCallback(this._object),this},d.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},d.prototype.pause=function(e){return void 0===e&&(e=i()),!this._isPaused&&this._isPlaying&&(this._isPaused=!0,this._pauseStart=e,this._group)&&this._group.remove(this),this},d.prototype.resume=function(e){return void 0===e&&(e=i()),this._isPaused&&this._isPlaying&&(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group)&&this._group.add(this),this},d.prototype.stopChainedTweens=function(){for(var e=0,t=this._chainedTweens.length;e<t;e++)this._chainedTweens[e].stop();return this},d.prototype.group=function(e){return this._group=e,this},d.prototype.delay=function(e){return this._delayTime=e,this},d.prototype.repeat=function(e){return this._initialRepeat=e,this._repeat=e,this},d.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},d.prototype.yoyo=function(e){return this._yoyo=e,this},d.prototype.easing=function(e){return this._easingFunction=e,this},d.prototype.interpolation=function(e){return this._interpolationFunction=e,this},d.prototype.chain=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._chainedTweens=e,this},d.prototype.onStart=function(e){return this._onStartCallback=e,this},d.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},d.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},d.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},d.prototype.onStop=function(e){return this._onStopCallback=e,this},d.prototype.update=function(e,t){if(void 0===e&&(e=i()),void 0===t&&(t=!0),this._isPaused)return!0;var n,r=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(r<e)return!1;t&&this.start(e)}if(this._goToEnd=!1,e<this._startTime)return!0;if(!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),r=(e-this._startTime)/this._duration,r=0===this._duration||1<r?1:r,t=this._easingFunction(r),this._updateProperties(this._object,this._valuesStart,this._valuesEnd,t),this._onUpdateCallback&&this._onUpdateCallback(this._object,r),1!=r)return!0;if(0<this._repeat){for(n in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)this._yoyo||"string"!=typeof this._valuesEnd[n]||(this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(this._valuesEnd[n])),this._yoyo&&this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n];return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var a=0,o=this._chainedTweens.length;a<o;a++)this._chainedTweens[a].start(this._startTime+this._duration);return this._isPlaying=!1},d.prototype._updateProperties=function(e,t,n,i){for(var r in n){var a,o,s,l;void 0!==t[r]&&(a=t[r]||0,o=n[r],s=Array.isArray(e[r]),l=Array.isArray(o),!s&&l?e[r]=this._interpolationFunction(o,i):"object"==typeof o&&o?this._updateProperties(e[r],a,o,i):"number"==typeof(o=this._handleRelativeValue(a,o))&&(e[r]=a+(o-a)*i))}},d.prototype._handleRelativeValue=function(e,t){return"string"!=typeof t?t:"+"===t.charAt(0)||"-"===t.charAt(0)?e+parseFloat(t):parseFloat(t)},d.prototype._swapEndStartRepeatValues=function(e){var t=this._valuesStartRepeat[e],n=this._valuesEnd[e];this._valuesStartRepeat[e]="string"==typeof n?this._valuesStartRepeat[e]+parseFloat(n):this._valuesEnd[e],this._valuesEnd[e]=t},d);function d(e,t){void 0===t&&(t=u),this._object=e,this._group=t,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=n.Linear.None,this._interpolationFunction=s.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=l.nextId(),this._isChainStopped=!1,this._goToEnd=!1}var f=l.nextId,p=(y=u).getAll.bind(y),m=y.removeAll.bind(y),v=y.add.bind(y),g=y.remove.bind(y),y=y.update.bind(y);t.a={Easing:n,Group:r,Interpolation:s,now:i,Sequence:l,nextId:f,Tween:h,VERSION:"18.6.4",getAll:p,removeAll:m,add:v,remove:g,update:y}}).call(this,n(143))},function(e,t,n){e.exports=n(531)},function(e,t){var n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){n=n(108);var i=Function.prototype,r=i.apply,a=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?a.bind(r):function(){return a.apply(r,arguments)})},function(e,t,n){var i=n(77);e.exports=Array.isArray||function(e){return"Array"==i(e)}},function(e,t,n){"use strict";var i=n(201).charAt,r=n(56),a=n(66),o=n(163),s=n(164),l="String Iterator",c=a.set,u=a.getterFor(l);o(String,"String",(function(e){c(this,{type:l,string:r(e),index:0})}),(function(){var e=u(this),t=e.string,n=e.index;return n>=t.length?s(void 0,!0):(t=i(t,n),e.index+=t.length,s(t,!1))}))},function(e,t,n){var i=n(140),r=n(375);function a(t){return e.exports=a="function"==typeof i&&"symbol"==typeof r?function(e){return typeof e}:function(e){return e&&"function"==typeof i&&e.constructor===i&&e!==i.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,a(t)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var i=n(42),r=n(43),a=n(153),o=n(78),s=n(64),l=n(128),c=n(39),u=n(183),h=Object.getOwnPropertyDescriptor;t.f=i?h:function(e,t){if(e=s(e),t=l(t),u)try{return h(e,t)}catch(e){}if(c(e,t))return o(!r(a.f,e,t),e[t])}},function(e,t,n){var i=n(95),r=TypeError;e.exports=function(e){if(i(e))throw r("Can't call method on "+e);return e}},function(e,t){e.exports=function(e){return null==e}},function(e,t,n){var i=n(97);n=n(22);e.exports=!!Object.getOwnPropertySymbols&&!n((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},function(e,t,n){var i,r,a=n(29),o=(n=n(79),a.process);a=a.Deno;!(r=(a=(o=o&&o.versions||a&&a.version)&&o.v8)?0<(i=a.split("."))[0]&&i[0]<4?1:+(i[0]+i[1]):r)&&n&&(!(i=n.match(/Edge\/(\d+)/))||74<=i[1])&&(i=n.match(/Chrome\/(\d+)/))&&(r=+i[1]),e.exports=r},function(e,t){var n=String;e.exports=function(e){try{return n(e)}catch(e){return"Object"}}},function(e,t,n){var i=n(261);e.exports=function(e){return(e=+e)!=e||0==e?0:i(e)}},function(e,t){e.exports={}},function(e,t,n){"use strict";var i=n(22);e.exports=function(e,t){var n=[][e];return!!n&&i((function(){n.call(null,t||function(){return 1},1)}))}},function(e,t,n){var i=n(33),r=TypeError;e.exports=function(e,t){if(i(t,e))return e;throw r("Incorrect invocation")}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t,n){n=n(29),e.exports=n.Promise},function(e,t,n){e.exports=n(560)},function(e,t,n){e.exports=n(594)},function(e,t,n){var i=n(92).default,r=n(75);e.exports=function(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){n=n(22),e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},function(e,t,n){var i=n(62),r=n(155);(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.27.1",mode:i?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.27.1/LICENSE",source:"https://github.com/zloirock/core-js"})},function(e,t,n){"use strict";var i=n(128),r=n(54),a=n(78);e.exports=function(e,t,n){(t=i(t))in e?r.f(e,t,a(0,n)):e[t]=n}},function(e,t,n){var i=n(22),r=n(35),a=n(97),o=r("species");e.exports=function(e){return 51<=a||!i((function(){var t=[];return(t.constructor={})[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},function(e,t,n){var i=n(99),r=Math.max,a=Math.min;e.exports=function(e,t){return(e=i(e))<0?r(e+t,0):a(e,t)}},function(e,t){e.exports={}},function(e,t,n){n=n(26),e.exports=n([].slice)},function(e,t){e.exports=function(){}},function(e,t,n){var i=n(39),r=n(38),a=n(55),o=n(133),s=(n=n(200),o("IE_PROTO")),l=Object,c=l.prototype;e.exports=n?l.getPrototypeOf:function(e){var t;e=a(e);return i(e,s)?e[s]:(t=e.constructor,r(t)&&e instanceof t?t.prototype:e instanceof l?c:null)}},function(e,t,n){var i=n(71),r=n(154),a=n(95),o=n(100),s=n(35)("iterator");e.exports=function(e){if(!a(e))return r(e,s)||r(e,"@@iterator")||o[i(e)]}},function(e,t,n){var i=n(77);n=n(29);e.exports="process"==i(n.process)},function(e,t,n){var i=n(29),r=n(104),a=n(38),o=n(184),s=n(187),l=n(35),c=n(348),u=n(222),h=n(62),d=n(97),f=r&&r.prototype,p=l("species"),m=!1,v=a(i.PromiseRejectionEvent);n=o("Promise",(function(){var e=s(r),t=e!==String(r);if(!t&&66===d)return!0;if(h&&(!f.catch||!f.finally))return!0;if(!d||d<51||!/native code/.test(e)){function n(e){e((function(){}),(function(){}))}if(((e=new r((function(e){e(1)}))).constructor={})[p]=n,!(m=e.then((function(){}))instanceof n))return!0}return!t&&(c||u)&&!v}));e.exports={CONSTRUCTOR:n,REJECTION_EVENT:v,SUBCLASSING:m}},function(e,t,n){function i(e){c(e,v,{value:{objectID:"O"+g++,weakData:{}}})}var r=n(17),a=n(26),o=n(113),s=n(34),l=n(39),c=n(54).f,u=n(134),h=n(190),d=n(492),f=n(130),p=n(169),m=!1,v=f("meta"),g=0,y=e.exports={enable:function(){y.enable=function(){},m=!0;var e=u.f,t=a([].splice),n={};n[v]=1,e(n).length&&(u.f=function(n){for(var i=e(n),r=0,a=i.length;r<a;r++)if(i[r]===v){t(i,r,1);break}return i},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:h.f}))},fastKey:function(e,t){if(!s(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!l(e,v)){if(!d(e))return"F";if(!t)return"E";i(e)}return e[v].objectID},getWeakData:function(e,t){if(!l(e,v)){if(!d(e))return!0;if(!t)return!1;i(e)}return e[v].weakData},onFreeze:function(e){return p&&m&&d(e)&&!l(e,v)&&i(e),e}};o[v]=!0},function(e,t,n){e.exports=n.p+"image/26bd867dd65e26dbc77d1e151ffd36e0.png"},function(e,t,n){e.exports=n(564)},function(e,t,n){e.exports=n(605)},function(e,t,n){e.exports=n(327)},function(e,t,n){e.exports=n(238)},,function(e,t,n){var i=n(26),r=n(22),a=n(77),o=Object,s=i("".split);e.exports=r((function(){return!o("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?s(e,""):o(e)}:o},function(e,t,n){var i=n(257),r=n(129);e.exports=function(e){return e=i(e,"string"),r(e)?e:e+""}},function(e,t,n){var i=n(52),r=n(38),a=n(33),o=(n=n(182),Object);e.exports=n?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return r(t)&&a(t.prototype,o(e))}},function(e,t,n){n=n(26);var i=0,r=Math.random(),a=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++i+r,36)}},function(e,t,n){function i(){}function r(e){if(!l(e))return!1;try{return f(i,d,e),!0}catch(e){return!1}}function a(e){if(!l(e))return!1;switch(c(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return v||!!m(p,h(e))}catch(e){return!0}}var o=n(26),s=n(22),l=n(38),c=n(71),u=n(52),h=n(187),d=[],f=u("Reflect","construct"),p=/^\s*(?:class|function)\b/,m=o(p.exec),v=!p.exec(i);a.sham=!0,e.exports=!f||s((function(){var e;return r(r.call)||!r(Object)||!r((function(){e=!0}))||e}))?a:r},function(e,t,n){var i=n(188),r=n(161);e.exports=Object.keys||function(e){return i(e,r)}},function(e,t,n){var i=n(109),r=n(130),a=i("keys");e.exports=function(e){return a[e]||(a[e]=r(e))}},function(e,t,n){var i=n(188),r=n(161).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){n=n(35),t.f=n},function(e,t,n){var i=n(26),r=n(50),a=n(284);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=i(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(n){}return function(n,i){return r(n),a(i),t?e(n,i):n.__proto__=i,n}}():void 0)},function(e,t){var n=TypeError;e.exports=function(e,t){if(e<t)throw n("Not enough arguments");return e}},function(e,t,n){e.exports=n(359)},function(e,t,n){e.exports=n(364)},function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(e,t,n){var i=n(65);e.exports=function(e,t,n){for(var r in t)n&&n.unsafe&&e[r]?e[r]=t[r]:i(e,r,t[r],n);return e}},function(e,t){var n,i;e=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}try{n="function"==typeof setTimeout?setTimeout:r}catch(e){n=r}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}function o(e){if(n===setTimeout)return setTimeout(e,0);if((n===r||!n)&&setTimeout)return(n=setTimeout)(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}var s,l=[],c=!1,u=-1;function h(){c&&s&&(c=!1,s.length?l=s.concat(l):u=-1,l.length)&&d()}function d(){if(!c){for(var e=o(h),t=(c=!0,l.length);t;){for(s=l,l=[];++u<t;)s&&s[u].run();u=-1,t=l.length}s=null,c=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return(i=clearTimeout)(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}e.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new f(e,t)),1!==l.length||c||o(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=p,e.addListener=p,e.once=p,e.off=p,e.removeListener=p,e.removeAllListeners=p,e.emit=p,e.prependListener=p,e.prependOnceListener=p,e.listeners=function(e){return[]},e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},function(e,t,n){e.exports=n(516)},function(e,t,n){(function(t,n,i,r){e.exports=function e(t,n,i){function r(o,s){if(!n[o]){if(!t[o]){if(a)return a(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}l=n[o]={exports:{}},t[o][0].call(l.exports,(function(e){return r(t[o][1][e]||e)}),l,l.exports,e,t,n,i)}return n[o].exports}for(var a=!1,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(e,t,n){"use strict";var i=e("./utils"),r=e("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e){for(var t,n,r,o,s,l,c=[],u=0,h=e.length,d="string"!==i.getTypeOf(e);u<e.length;)l=h-u,r=d?(t=e[u++],n=u<h?e[u++]:0,u<h?e[u++]:0):(t=e.charCodeAt(u++),n=u<h?e.charCodeAt(u++):0,u<h?e.charCodeAt(u++):0),o=(3&t)<<4|n>>4,s=1<l?(15&n)<<2|r>>6:64,l=2<l?63&r:64,c.push(a.charAt(t>>2)+a.charAt(o)+a.charAt(s)+a.charAt(l));return c.join("")},n.decode=function(e){var t,n,i,o,s,l=0,c=0;if("data:"===e.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var u,h=3*(e=e.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(e.charAt(e.length-1)===a.charAt(64)&&h--,e.charAt(e.length-2)===a.charAt(64)&&h--,h%1!=0)throw new Error("Invalid base64 input, bad content length.");for(u=new(r.uint8array?Uint8Array:Array)(0|h);l<e.length;)t=a.indexOf(e.charAt(l++))<<2|(o=a.indexOf(e.charAt(l++)))>>4,n=(15&o)<<4|(o=a.indexOf(e.charAt(l++)))>>2,i=(3&o)<<6|(s=a.indexOf(e.charAt(l++))),u[c++]=t,64!==o&&(u[c++]=n),64!==s&&(u[c++]=i);return u}},{"./support":30,"./utils":32}],2:[function(e,t,n){"use strict";var i=e("./external"),r=e("./stream/DataWorker"),a=e("./stream/Crc32Probe"),o=e("./stream/DataLengthProbe");function s(e,t,n,i,r){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=i,this.compressedContent=r}s.prototype={getContentWorker:function(){var e=new r(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new r(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(e,t,n){return e.pipe(new a).pipe(new o("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new o("compressedSize")).withStreamInfo("compression",t)},t.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){"use strict";var i=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){"use strict";var i=e("./utils"),r=function(){for(var e=[],t=0;t<256;t++){for(var n=t,i=0;i<8;i++)n=1&n?3988292384^n>>>1:n>>>1;e[t]=n}return e}();t.exports=function(e,t){return void 0!==e&&e.length?("string"!==i.getTypeOf(e)?function(e,t,n){var i=r,a=0+n;e^=-1;for(var o=0;o<a;o++)e=e>>>8^i[255&(e^t[o])];return-1^e}:function(e,t,n){var i=r,a=0+n;e^=-1;for(var o=0;o<a;o++)e=e>>>8^i[255&(e^t.charCodeAt(o))];return-1^e})(0|t,e,e.length):0}},{"./utils":32}],5:[function(e,t,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){"use strict";e="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:e}},{lie:37}],7:[function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,r=e("pako"),a=e("./utils"),o=e("./stream/GenericWorker"),s=i?"uint8array":"array";function l(e,t){o.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}n.magic="\b\0",a.inherits(l,o),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(a.transformTo(s,e.data),!1)},l.prototype.flush=function(){o.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new r[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(e){return new l("Deflate",e)},n.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,n){"use strict";function i(e,t){for(var n="",i=0;i<t;i++)n+=String.fromCharCode(255&e),e>>>=8;return n}function r(e,t,n,r,o,u){var h=e.file,d=e.compression,f=u!==s.utf8encode,p=a.transformTo("string",u(h.name)),m=a.transformTo("string",s.utf8encode(h.name)),v=h.comment,g=(u=a.transformTo("string",u(v)),a.transformTo("string",s.utf8encode(v))),y=m.length!==h.name.length,x=(v=g.length!==v.length,""),b=h.dir,w=h.date,_={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(_.crc32=e.crc32,_.compressedSize=e.compressedSize,_.uncompressedSize=e.uncompressedSize),n=0,t&&(n|=8),f||!y&&!v||(n|=2048),e=0,t=0,b&&(e|=16),"UNIX"===o?(t=798,e|=(65535&((f=h.unixPermissions)?f:b?16893:33204))<<16):(t=20,e|=63&(h.dosPermissions||0)),o=w.getUTCHours(),o=(o=((o<<=6)|w.getUTCMinutes())<<5)|w.getUTCSeconds()/2,f=w.getUTCFullYear()-1980,f=(f=((f<<=4)|w.getUTCMonth()+1)<<5)|w.getUTCDate(),y&&(b=i(1,1)+i(l(p),4)+m,x+="up"+i(b.length,2)+b),v&&(h=i(1,1)+i(l(u),4)+g,x+="uc"+i(h.length,2)+h),w="",w=(w=(w=(w=(w=(w=(w=(w=(w=(w+="\n\0")+i(n,2))+d.magic)+i(o,2))+i(f,2))+i(_.crc32,4))+i(_.compressedSize,4))+i(_.uncompressedSize,4))+i(p.length,2))+i(x.length,2);return{fileRecord:c.LOCAL_FILE_HEADER+w+p+x,dirRecord:c.CENTRAL_FILE_HEADER+i(t,2)+w+i(u.length,2)+"\0\0\0\0"+i(e,4)+i(r,4)+p+x+u}}var a=e("../utils"),o=e("../stream/GenericWorker"),s=e("../utf8"),l=e("../crc32"),c=e("../signature");function u(e,t,n,i){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=i,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(u,o),u.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,o.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-i-1))/n:100}}))},u.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;t?(e=r(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName),this.push({data:e.fileRecord,meta:{percent:0}})):this.accumulate=!0},u.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=r(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:(t=e,c.DATA_DESCRIPTOR+i(t.crc32,4)+i(t.compressedSize,4)+i(t.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},u.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e;n=function(e,t,n,r,o){return o=a.transformTo("string",o(r)),c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(e,2)+i(e,2)+i(t,4)+i(n,4)+i(o.length,2)+o}(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:n,meta:{percent:100}})},u.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},u.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},u.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},u.prototype.error=function(e){var t=this._sources;if(!o.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},u.prototype.lock=function(){o.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=u},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){"use strict";var i=e("../compressions"),r=e("./ZipFileWorker");n.generateWorker=function(e,t,n){var a=new r(t.streamFiles,n,t.platform,t.encodeFileName),o=0;try{e.forEach((function(e,n){o++;var r=function(e,t){if(t=i[e=e||t])return t;throw new Error(e+" is not a valid compression method !")}(n.options.compression,t.compression),s=n.options.compressionOptions||t.compressionOptions||{},l=n.dir,c=n.date;n._compressWorker(r,s).withStreamInfo("file",{name:e,dir:l,date:c,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(a)})),a.entriesCount=o}catch(e){a.error(e)}return a}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){"use strict";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e,t=new i;for(e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}(i.prototype=e("./object")).loadAsync=e("./load"),i.support=e("./support"),i.defaults=e("./defaults"),i.version="3.10.1",i.loadAsync=function(e,t){return(new i).loadAsync(e,t)},i.external=e("./external"),t.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){"use strict";var i=e("./utils"),r=e("./external"),a=e("./utf8"),o=e("./zipEntries"),s=e("./stream/Crc32Probe"),l=e("./nodejsUtils");t.exports=function(e,t){var n=this;return t=i.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),l.isNode&&l.isStream(e)?r.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var n=new o(t);return n.load(e),n})).then((function(e){var n=[r.Promise.resolve(e)],i=e.files;if(t.checkCRC32)for(var a=0;a<i.length;a++)n.push(function(e){return new r.Promise((function(t,n){var i=e.decompressed.getContentWorker().pipe(new s);i.on("error",(function(e){n(e)})).on("end",(function(){i.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}(i[a]));return r.Promise.all(n)})).then((function(e){for(var r=(e=e.shift()).files,a=0;a<r.length;a++){var o=r[a],s=o.fileNameStr,l=i.resolve(o.fileNameStr);n.file(l,o.decompressed,{binary:!0,optimizedBinaryString:!0,date:o.date,dir:o.dir,comment:o.fileCommentStr.length?o.fileCommentStr:null,unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions,createFolders:t.createFolders}),o.dir||(n.file(l).unsafeOriginalName=s)}return e.zipComment.length&&(n.comment=e.zipComment),n}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){"use strict";var i=e("../utils"),r=e("../stream/GenericWorker");function a(e,t){r.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}i.inherits(a,r),a.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},a.prototype.pause=function(){return!!r.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){"use strict";var i=e("readable-stream").Readable;function r(e,t,n){i.call(this,t),this._helper=e;var r=this;e.on("data",(function(e,t){r.push(e)||r._helper.pause(),n&&n(t)})).on("error",(function(e){r.emit("error",e)})).on("end",(function(){r.push(null)}))}e("../utils").inherits(r,i),r.prototype._read=function(){this._helper.resume()},t.exports=r},{"../utils":32,"readable-stream":16}],14:[function(e,n,i){"use strict";n.exports={isNode:void 0!==t,newBufferFrom:function(e,n){if(t.from&&t.from!==Uint8Array.from)return t.from(e,n);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new t(e,n)},allocBuffer:function(e){return t.alloc?t.alloc(e):((e=new t(e)).fill(0),e)},isBuffer:function(e){return t.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,n){"use strict";function i(e,t,n){var i=o.getTypeOf(t),a=o.extend(n||{},c),l=(a.date=a.date||new Date,null!==a.compression&&(a.compression=a.compression.toUpperCase()),"string"==typeof a.unixPermissions&&(a.unixPermissions=parseInt(a.unixPermissions,8)),a.unixPermissions&&16384&a.unixPermissions&&(a.dir=!0),a.dosPermissions&&16&a.dosPermissions&&(a.dir=!0),a.dir&&(e=m(e)),a.createFolders&&(l=function(e){var t=(e="/"===e.slice(-1)?e.substring(0,e.length-1):e).lastIndexOf("/");return 0<t?e.substring(0,t):""}(e))&&r.call(this,l,!0),"string"===i&&!1===a.binary&&!1===a.base64);n&&void 0!==n.binary||(a.binary=!l),(t instanceof u&&0===t.uncompressedSize||a.dir||!t||0===t.length)&&(a.base64=!1,a.binary=!0,t="",a.compression="STORE"),i=t instanceof u||t instanceof s?t:f.isNode&&f.isStream(t)?new p(e,t):o.prepareContent(e,t,a.binary,a.optimizedBinaryString,a.base64),n=new h(e,i,a);this.files[e]=n}function r(e,t){return t=void 0!==t?t:c.createFolders,e=m(e),this.files[e]||i.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]}var a=e("./utf8"),o=e("./utils"),s=e("./stream/GenericWorker"),l=e("./stream/StreamHelper"),c=e("./defaults"),u=e("./compressedObject"),h=e("./zipObject"),d=e("./generate"),f=e("./nodejsUtils"),p=e("./nodejs/NodejsStreamInputAdapter"),m=function(e){return"/"!==e.slice(-1)&&(e+="/"),e};function v(e){return"[object RegExp]"===Object.prototype.toString.call(e)}t.exports={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,i;for(t in this.files)i=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,i)},filter:function(e){var t=[];return this.forEach((function(n,i){e(n,i)&&t.push(i)})),t},file:function(e,t,n){var r;return 1!==arguments.length?(e=this.root+e,i.call(this,e,t,n),this):v(e)?(r=e,this.filter((function(e,t){return!t.dir&&r.test(e)}))):(t=this.files[this.root+e])&&!t.dir?t:null},folder:function(e){var t,n;return e?v(e)?this.filter((function(t,n){return n.dir&&e.test(t)})):(t=this.root+e,t=r.call(this,t),(n=this.clone()).root=t.name,n):this},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter((function(t,n){return n.name.slice(0,e.length)===e})),i=0;i<n.length;i++)delete this.files[n[i].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t={};try{if((t=o.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=t.type.toLowerCase(),t.compression=t.compression.toUpperCase(),"binarystring"===t.type&&(t.type="string"),!t.type)throw new Error("No output type specified.");o.checkSupport(t.type),"darwin"!==t.platform&&"freebsd"!==t.platform&&"linux"!==t.platform&&"sunos"!==t.platform||(t.platform="UNIX"),"win32"===t.platform&&(t.platform="DOS");var n=t.comment||this.comment||"",i=d.generateWorker(this,t,n)}catch(e){(i=new s("error")).error(e)}return new l(i,t.type||"string",t.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}}},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){"use strict";t.exports=e("stream")},{stream:void 0}],17:[function(e,t,n){"use strict";var i=e("./DataReader");function r(e){i.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(r,i),r.prototype.byteAt=function(e){return this.data[this.zero+e]},r.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),r=e.charCodeAt(3),a=this.length-4;0<=a;--a)if(this.data[a]===t&&this.data[a+1]===n&&this.data[a+2]===i&&this.data[a+3]===r)return a-this.zero;return-1},r.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),r=(e=e.charCodeAt(3),this.readData(4));return t===r[0]&&n===r[1]&&i===r[2]&&e===r[3]},r.prototype.readData=function(e){var t;return this.checkOffset(e),0===e?[]:(t=this.data.slice(this.zero+this.index,this.zero+this.index+e),this.index+=e,t)},t.exports=r},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){"use strict";var i=e("../utils");function r(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}r.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return i.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=r},{"../utils":32}],19:[function(e,t,n){"use strict";var i=e("./Uint8ArrayReader");function r(e){i.call(this,e)}e("../utils").inherits(r,i),r.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){"use strict";var i=e("./DataReader");function r(e){i.call(this,e)}e("../utils").inherits(r,i),r.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},r.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},r.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},r.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){"use strict";var i=e("./ArrayReader");function r(e){i.call(this,e)}e("../utils").inherits(r,i),r.prototype.readData=function(e){var t;return this.checkOffset(e),0===e?new Uint8Array(0):(t=this.data.subarray(this.zero+this.index,this.zero+this.index+e),this.index+=e,t)},t.exports=r},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){"use strict";var i=e("../utils"),r=e("../support"),a=e("./ArrayReader"),o=e("./StringReader"),s=e("./NodeBufferReader"),l=e("./Uint8ArrayReader");t.exports=function(e){var t=i.getTypeOf(e);return i.checkSupport(t),"string"!==t||r.uint8array?"nodebuffer"===t?new s(e):r.uint8array?new l(i.transformTo("uint8array",e)):new a(i.transformTo("array",e)):new o(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){"use strict";n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\b"},{}],24:[function(e,t,n){"use strict";var i=e("./GenericWorker"),r=e("../utils");function a(e){i.call(this,"ConvertWorker to "+e),this.destType=e}r.inherits(a,i),a.prototype.processChunk=function(e){this.push({data:r.transformTo(this.destType,e.data),meta:e.meta})},t.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){"use strict";var i=e("./GenericWorker"),r=e("../crc32");function a(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(a,i),a.prototype.processChunk=function(e){this.streamInfo.crc32=r(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){"use strict";var i=e("../utils"),r=e("./GenericWorker");function a(e){r.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}i.inherits(a,r),a.prototype.processChunk=function(e){var t;e&&(t=this.streamInfo[this.propName]||0,this.streamInfo[this.propName]=t+e.data.length),r.prototype.processChunk.call(this,e)},t.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){"use strict";var i=e("../utils"),r=e("./GenericWorker");function a(e){r.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=i.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}i.inherits(a,r),a.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished)||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0)},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){"use strict";function i(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){var e;return!(!this.isPaused||this.isFinished||(e=this.isPaused=!1,this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),e))},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=i},{}],29:[function(e,n,i){"use strict";var r=e("../utils"),a=e("./ConvertWorker"),o=e("./GenericWorker"),s=e("../base64"),l=e("../support"),c=e("../external"),u=null;if(l.nodestream)try{u=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function h(e,t,n){var i=t;switch(t){case"blob":case"arraybuffer":i="uint8array";break;case"base64":i="string"}try{this._internalType=i,this._outputType=t,this._mimeType=n,r.checkSupport(i),this._worker=e.pipe(new a(i)),e.lock()}catch(e){this._worker=new o("error"),this._worker.error(e)}}h.prototype={accumulate:function(e){return n=this,i=e,new c.Promise((function(e,a){var o=[],l=n._internalType,c=n._outputType,u=n._mimeType;n.on("data",(function(e,t){o.push(e),i&&i(t)})).on("error",(function(e){o=[],a(e)})).on("end",(function(){try{var n=function(e,t,n){switch(e){case"blob":return r.newBlob(r.transformTo("arraybuffer",t),n);case"base64":return s.encode(t);default:return r.transformTo(e,t)}}(c,function(e,n){for(var i=0,r=null,a=0,o=0;o<n.length;o++)a+=n[o].length;switch(e){case"string":return n.join("");case"array":return Array.prototype.concat.apply([],n);case"uint8array":for(r=new Uint8Array(a),o=0;o<n.length;o++)r.set(n[o],i),i+=n[o].length;return r;case"nodebuffer":return t.concat(n);default:throw new Error("concat : unsupported type '"+e+"'")}}(l,o),u);e(n)}catch(n){a(n)}o=[]})).resume()}));var n,i},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,(function(e){t.call(n,e.data,e.meta)})):this._worker.on(e,(function(){r.delay(t,arguments,n)})),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(r.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:"nodebuffer"!==this._outputType},e)}},n.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,n,i){"use strict";if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,i.nodebuffer=void 0!==t,i.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)i.blob=!1;else{var r=new ArrayBuffer(0);try{i.blob=0===new Blob([r],{type:"application/zip"}).size}catch(e){try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(r),i.blob=0===a.getBlob("application/zip").size}catch(e){i.blob=!1}}}try{i.nodestream=!!e("readable-stream").Readable}catch(e){i.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){"use strict";for(var i=e("./utils"),r=e("./support"),a=e("./nodejsUtils"),o=e("./stream/GenericWorker"),s=new Array(256),l=0;l<256;l++)s[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function c(){o.call(this,"utf-8 decode"),this.leftOver=null}function u(){o.call(this,"utf-8 encode")}s[254]=s[254]=1,n.utf8encode=function(e){if(r.nodebuffer)return a.newBufferFrom(e,"utf-8");for(var t,n,i,o,s=e,l=s.length,c=0,u=0;u<l;u++)55296==(64512&(n=s.charCodeAt(u)))&&u+1<l&&56320==(64512&(i=s.charCodeAt(u+1)))&&(n=65536+(n-55296<<10)+(i-56320),u++),c+=n<128?1:n<2048?2:n<65536?3:4;for(t=new(r.uint8array?Uint8Array:Array)(c),u=o=0;o<c;u++)55296==(64512&(n=s.charCodeAt(u)))&&u+1<l&&56320==(64512&(i=s.charCodeAt(u+1)))&&(n=65536+(n-55296<<10)+(i-56320),u++),n<128?t[o++]=n:(n<2048?t[o++]=192|n>>>6:(n<65536?t[o++]=224|n>>>12:(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63),t[o++]=128|n>>>6&63),t[o++]=128|63&n);return t},n.utf8decode=function(e){if(r.nodebuffer)return i.transformTo("nodebuffer",e).toString("utf-8");for(var t,n,a,o=e=i.transformTo(r.uint8array?"uint8array":"array",e),l=o.length,c=new Array(2*l),u=t=0;u<l;)if((n=o[u++])<128)c[t++]=n;else if(4<(a=s[n]))c[t++]=65533,u+=a-1;else{for(n&=2===a?31:3===a?15:7;1<a&&u<l;)n=n<<6|63&o[u++],a--;1<a?c[t++]=65533:n<65536?c[t++]=n:(n-=65536,c[t++]=55296|n>>10&1023,c[t++]=56320|1023&n)}return c.length!==t&&(c.subarray?c=c.subarray(0,t):c.length=t),i.applyFromCharCode(c)},i.inherits(c,o),c.prototype.processChunk=function(e){var t=i.transformTo(r.uint8array?"uint8array":"array",e.data),a=(this.leftOver&&this.leftOver.length&&(r.uint8array?(a=t,(t=new Uint8Array(a.length+this.leftOver.length)).set(this.leftOver,0),t.set(a,this.leftOver.length)):t=this.leftOver.concat(t),this.leftOver=null),function(e,t){for(var n=(t=(t=t||e.length)>e.length?e.length:t)-1;0<=n&&128==(192&e[n]);)n--;return!(n<0)&&0!==n&&n+s[e[n]]>t?n:t}(t)),o=t;a!==t.length&&(r.uint8array?(o=t.subarray(0,a),this.leftOver=t.subarray(a,t.length)):(o=t.slice(0,a),this.leftOver=t.slice(a,t.length))),this.push({data:n.utf8decode(o),meta:e.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=c,i.inherits(u,o),u.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=u},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,i){"use strict";var r=e("./support"),a=e("./base64"),o=e("./nodejsUtils"),s=e("./external");function l(e){return e}function c(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}e("setimmediate"),i.newBlob=function(e,t){i.checkSupport("blob");try{return new Blob([e],{type:t})}catch(i){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return n.append(e),n.getBlob(t)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(e,t,n){var i=[],r=0,a=e.length;if(a<=n)return String.fromCharCode.apply(null,e);for(;r<a;)i.push("array"===t||"nodebuffer"===t?String.fromCharCode.apply(null,e.slice(r,Math.min(r+n,a))):String.fromCharCode.apply(null,e.subarray(r,Math.min(r+n,a)))),r+=n;return i.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(e){return!1}}()}};function h(e){var t=65536,n=i.getTypeOf(e),r=!0;if("uint8array"===n?r=u.applyCanBeUsed.uint8array:"nodebuffer"===n&&(r=u.applyCanBeUsed.nodebuffer),r)for(;1<t;)try{return u.stringifyByChunk(e,n,t)}catch(e){t=Math.floor(t/2)}return u.stringifyByChar(e)}function d(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}i.applyFromCharCode=h;var f={};f.string={string:l,array:function(e){return c(e,new Array(e.length))},arraybuffer:function(e){return f.string.uint8array(e).buffer},uint8array:function(e){return c(e,new Uint8Array(e.length))},nodebuffer:function(e){return c(e,o.allocBuffer(e.length))}},f.array={string:h,array:l,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(e)}},f.arraybuffer={string:function(e){return h(new Uint8Array(e))},array:function(e){return d(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:l,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(new Uint8Array(e))}},f.uint8array={string:h,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:l,nodebuffer:function(e){return o.newBufferFrom(e)}},f.nodebuffer={string:h,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return f.nodebuffer.uint8array(e).buffer},uint8array:function(e){return d(e,new Uint8Array(e.length))},nodebuffer:l},i.transformTo=function(e,t){if(t=t||"",!e)return t;i.checkSupport(e);var n=i.getTypeOf(t);return f[n][e](t)},i.resolve=function(e){for(var t=e.split("/"),n=[],i=0;i<t.length;i++){var r=t[i];"."===r||""===r&&0!==i&&i!==t.length-1||(".."===r?n.pop():n.push(r))}return n.join("/")},i.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":r.nodebuffer&&o.isBuffer(e)?"nodebuffer":r.uint8array&&e instanceof Uint8Array?"uint8array":r.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(e){if(!r[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(e){for(var t,n="",i=0;i<(e||"").length;i++)n+="\\x"+((t=e.charCodeAt(i))<16?"0":"")+t.toString(16).toUpperCase();return n},i.delay=function(e,t,i){n((function(){e.apply(i||null,t||[])}))},i.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n},i.extend=function(){for(var e,t={},n=0;n<arguments.length;n++)for(e in arguments[n])Object.prototype.hasOwnProperty.call(arguments[n],e)&&void 0===t[e]&&(t[e]=arguments[n][e]);return t},i.prepareContent=function(e,t,n,o,l){return s.Promise.resolve(t).then((function(e){return r.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new s.Promise((function(t,n){var i=new FileReader;i.onload=function(e){t(e.target.result)},i.onerror=function(e){n(e.target.error)},i.readAsArrayBuffer(e)})):e})).then((function(t){var u=i.getTypeOf(t);return u?("arraybuffer"===u?t=i.transformTo("uint8array",t):"string"===u&&(l?t=a.decode(t):n&&!0!==o&&(t=c(u=t,new(r.uint8array?Uint8Array:Array)(u.length)))),t):s.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,n){"use strict";var i=e("./reader/readerFor"),r=e("./utils"),a=e("./signature"),o=e("./zipEntry"),s=e("./support");function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){var t;if(!this.reader.readAndCheckSignature(e))throw this.reader.index-=4,t=this.reader.readString(4),new Error("Corrupted zip or bug: unexpected signature ("+r.pretty(t)+", expected "+r.pretty(e)+")")},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e),e=this.reader.readString(4)===t;return this.reader.setIndex(n),e},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=s.uint8array?"uint8array":"array";t=r.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(t)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,i=this.zip64EndOfCentralSize-44;0<i;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){for(var e,t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(e=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===r.MAX_VALUE_16BITS||this.diskWithCentralDirStart===r.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===r.MAX_VALUE_16BITS||this.centralDirRecords===r.MAX_VALUE_16BITS||this.centralDirSize===r.MAX_VALUE_32BITS||this.centralDirOffset===r.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}if(e=this.centralDirOffset+this.centralDirSize,0<(e=t-(e=this.zip64?e+20+(12+this.zip64EndOfCentralSize):e)))this.isSignature(t,a.CENTRAL_FILE_HEADER)||(this.reader.zero=e);else if(e<0)throw new Error("Corrupted zip: missing "+Math.abs(e)+" bytes.")},prepareReader:function(e){this.reader=i(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){"use strict";var i=e("./reader/readerFor"),r=e("./utils"),a=e("./compressedObject"),o=e("./crc32"),s=e("./utf8"),l=e("./compressions"),c=e("./support");function u(e,t){this.options=e,this.loadOptions=t}u.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t;if(e.skip(22),this.fileNameLength=e.readInt(2),t=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(t),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in l)if(Object.prototype.hasOwnProperty.call(l,t)&&l[t].magic===e)return l[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+r.pretty(this.compressionMethod)+" unknown (inner file : "+r.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){var e;this.extraFields[1]&&(e=i(this.extraFields[1].value),this.uncompressedSize===r.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===r.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===r.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===r.MAX_VALUE_32BITS)&&(this.diskNumberStart=e.readInt(4))},readExtraFields:function(e){var t,n,i,r=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<r;)t=e.readInt(2),n=e.readInt(2),i=e.readData(n),this.extraFields[t]={id:t,length:n,value:i};e.setIndex(r)},handleUTF8:function(){var e,t=c.uint8array?"uint8array":"array";this.useUTF8()?(this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment)):(null!==(e=this.findExtraFieldUnicodePath())?this.fileNameStr=e:(e=r.transformTo(t,this.fileName),this.fileNameStr=this.loadOptions.decodeFileName(e)),null!==(e=this.findExtraFieldUnicodeComment())?this.fileCommentStr=e:(e=r.transformTo(t,this.fileComment),this.fileCommentStr=this.loadOptions.decodeFileName(e)))},findExtraFieldUnicodePath:function(){var e,t=this.extraFields[28789];return t&&1===(e=i(t.value)).readInt(1)&&o(this.fileName)===e.readInt(4)?s.utf8decode(e.readData(t.length-5)):null},findExtraFieldUnicodeComment:function(){var e,t=this.extraFields[25461];return t&&1===(e=i(t.value)).readInt(1)&&o(this.fileComment)===e.readInt(4)?s.utf8decode(e.readData(t.length-5)):null}},t.exports=u},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){"use strict";function i(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var r=e("./stream/StreamHelper"),a=e("./stream/DataWorker"),o=e("./utf8"),s=e("./compressedObject"),l=e("./stream/GenericWorker");i.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var i="string"===(n=e.toLowerCase())||"text"===n,a=("binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker(),!this._dataBinary);a&&!i&&(t=t.pipe(new o.Utf8EncodeWorker)),!a&&i&&(t=t.pipe(new o.Utf8DecodeWorker))}catch(e){(t=new l("error")).error(e)}return new r(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){var n;return this._data instanceof s&&this._data.compression.magic===e.magic?this._data.getCompressedWorker():(n=this._decompressWorker(),this._dataBinary||(n=n.pipe(new o.Utf8EncodeWorker)),s.createWorkerFrom(n,e,t))},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof l?this._data:new a(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],u=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<c.length;h++)i.prototype[c[h]]=u;t.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,n){(function(e){"use strict";var n,i,r,a,o=e.MutationObserver||e.WebKitMutationObserver,s=o?(i=0,o=new o(c),r=e.document.createTextNode(""),o.observe(r,{characterData:!0}),function(){r.data=i=++i%2}):e.setImmediate||void 0===e.MessageChannel?"document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){c(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(c,0)}:((a=new e.MessageChannel).port1.onmessage=c,function(){a.port2.postMessage(0)}),l=[];function c(){var e,t;n=!0;for(var i=l.length;i;){for(t=l,l=[],e=-1;++e<i;)t[e]();i=l.length}n=!1}t.exports=function(e){1!==l.push(e)||n||s()}}).call(this,void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,n){"use strict";var i=e("immediate");function r(){}var a={},o=["REJECTED"],s=["FULFILLED"],l=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==r&&f(this,e)}function u(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function h(e,t,n){i((function(){var i;try{i=t(n)}catch(i){return a.reject(e,i)}i===e?a.reject(e,new TypeError("Cannot resolve promise with itself")):a.resolve(e,i)}))}function d(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function f(e,t){var n=!1;function i(t){n||(n=!0,a.reject(e,t))}function r(t){n||(n=!0,a.resolve(e,t))}var o=p((function(){t(r,i)}));"error"===o.status&&i(o.value)}function p(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}(t.exports=c).prototype.finally=function(e){var t;return"function"!=typeof e?this:(t=this.constructor,this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))})))},c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){var n;return"function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===o?this:(n=new this.constructor(r),this.state!==l?h(n,this.state===s?e:t,this.outcome):this.queue.push(new u(n,e,t)),n)},u.prototype.callFulfilled=function(e){a.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){h(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){a.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){h(this.promise,this.onRejected,e)},a.resolve=function(e,t){var n=p(d,t);if("error"===n.status)return a.reject(e,n.value);if(n=n.value)f(e,n);else{e.state=s,e.outcome=t;for(var i=-1,r=e.queue.length;++i<r;)e.queue[i].callFulfilled(t)}return e},a.reject=function(e,t){e.state=o,e.outcome=t;for(var n=-1,i=e.queue.length;++n<i;)e.queue[n].callRejected(t);return e},c.resolve=function(e){return e instanceof this?e:a.resolve(new this(r),e)},c.reject=function(e){var t=new this(r);return a.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);for(var o=new Array(n),s=0,l=-1,c=new this(r);++l<n;)!function(e,r){t.resolve(e).then((function(e){o[r]=e,++s!==n||i||(i=!0,a.resolve(c,o))}),(function(e){i||(i=!0,a.reject(c,e))}))}(e[l],l);return c},c.race=function(e){if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t=e.length,n=!1;if(!t)return this.resolve([]);for(var i,o=-1,s=new this(r);++o<t;)i=e[o],this.resolve(i).then((function(e){n||(n=!0,a.resolve(s,e))}),(function(e){n||(n=!0,a.reject(s,e))}));return s}},{immediate:36}],38:[function(e,t,n){"use strict";var i={};(0,e("./lib/utils/common").assign)(i,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,n){"use strict";var i=e("./zlib/deflate"),r=e("./utils/common"),a=e("./utils/strings"),o=e("./zlib/messages"),s=e("./zlib/zstream"),l=Object.prototype.toString;function c(e){if(!(this instanceof c))return new c(e);this.options=r.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=((e=this.options).raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0,i.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy));if(0!==t)throw new Error(o[t]);if(e.header&&i.deflateSetHeader(this.strm,e.header),e.dictionary){if(e="string"==typeof e.dictionary?a.string2buf(e.dictionary):"[object ArrayBuffer]"===l.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,0!==(t=i.deflateSetDictionary(this.strm,e)))throw new Error(o[t]);this._dict_set=!0}}function u(e,t){if((t=new c(t)).push(e,!0),t.err)throw t.msg||o[t.err];return t.result}c.prototype.push=function(e,t){var n,o,s=this.strm,c=this.options.chunkSize;if(this.ended)return!1;o=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=a.string2buf(e):"[object ArrayBuffer]"===l.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new r.Buf8(c),s.next_out=0,s.avail_out=c),1!==(n=i.deflate(s,o))&&0!==n)return this.onEnd(n),!(this.ended=!0)}while(0!==s.avail_out&&(0!==s.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(a.buf2binstring(r.shrinkBuf(s.output,s.next_out))):this.onData(r.shrinkBuf(s.output,s.next_out))),(0<s.avail_in||0===s.avail_out)&&1!==n);return 4===o?(n=i.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==o||(this.onEnd(0),!(s.avail_out=0))},c.prototype.onData=function(e){this.chunks.push(e)},c.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=c,n.deflate=u,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,u(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,u(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,n){"use strict";var i=e("./zlib/inflate"),r=e("./utils/common"),a=e("./utils/strings"),o=e("./zlib/constants"),s=e("./zlib/messages"),l=e("./zlib/zstream"),c=e("./zlib/gzheader"),u=Object.prototype.toString;function h(e){if(!(this instanceof h))return new h(e);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;if((e=(t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits)&&(t.windowBits=-15),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0,i.inflateInit2(this.strm,t.windowBits)))!==o.Z_OK)throw new Error(s[e]);this.header=new c,i.inflateGetHeader(this.strm,this.header)}function d(e,t){if((t=new h(t)).push(e,!0),t.err)throw t.msg||s[t.err];return t.result}h.prototype.push=function(e,t){var n,s,l,c,h,d=this.strm,f=this.options.chunkSize,p=this.options.dictionary,m=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?o.Z_FINISH:o.Z_NO_FLUSH,"string"==typeof e?d.input=a.binstring2buf(e):"[object ArrayBuffer]"===u.call(e)?d.input=new Uint8Array(e):d.input=e,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new r.Buf8(f),d.next_out=0,d.avail_out=f),(n=i.inflate(d,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&p&&(h="string"==typeof p?a.string2buf(p):"[object ArrayBuffer]"===u.call(p)?new Uint8Array(p):p,n=i.inflateSetDictionary(this.strm,h)),n===o.Z_BUF_ERROR&&!0===m&&(n=o.Z_OK,m=!1),n!==o.Z_STREAM_END&&n!==o.Z_OK)return this.onEnd(n),!(this.ended=!0)}while(!d.next_out||0!==d.avail_out&&n!==o.Z_STREAM_END&&(0!==d.avail_in||s!==o.Z_FINISH&&s!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(h=a.utf8border(d.output,d.next_out),l=d.next_out-h,c=a.buf2string(d.output,h),d.next_out=l,d.avail_out=f-l,l&&r.arraySet(d.output,d.output,h,l,0),this.onData(c)):this.onData(r.shrinkBuf(d.output,d.next_out))),0===d.avail_in&&0===d.avail_out&&(m=!0),(0<d.avail_in||0===d.avail_out)&&n!==o.Z_STREAM_END);return(s=n===o.Z_STREAM_END?o.Z_FINISH:s)===o.Z_FINISH?(n=i.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===o.Z_OK):s!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),!(d.avail_out=0))},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=h,n.inflate=d,n.inflateRaw=function(e,t){return(t=t||{}).raw=!0,d(e,t)},n.ungzip=d},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array,r=(n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)},{arraySet:function(e,t,n,i,r){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+i),r);else for(var a=0;a<i;a++)e[r+a]=t[n+a]},flattenChunks:function(e){for(var t,n,i,r,a=t=0,o=e.length;a<o;a++)t+=e[a].length;for(r=new Uint8Array(t),a=n=0,o=e.length;a<o;a++)i=e[a],r.set(i,n),n+=i.length;return r}}),a={arraySet:function(e,t,n,i,r){for(var a=0;a<i;a++)e[r+a]=t[n+a]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,r)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,a))},n.setTyped(i)},{}],42:[function(e,t,n){"use strict";var i=e("./common"),r=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(e){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){a=!1}for(var o=new i.Buf8(256),s=0;s<256;s++)o[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function l(e,t){if(t<65537&&(e.subarray&&a||!e.subarray&&r))return String.fromCharCode.apply(null,i.shrinkBuf(e,t));for(var n="",o=0;o<t;o++)n+=String.fromCharCode(e[o]);return n}o[254]=o[254]=1,n.string2buf=function(e){for(var t,n,r,a,o=e.length,s=0,l=0;l<o;l++)55296==(64512&(n=e.charCodeAt(l)))&&l+1<o&&56320==(64512&(r=e.charCodeAt(l+1)))&&(n=65536+(n-55296<<10)+(r-56320),l++),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new i.Buf8(s),l=a=0;a<s;l++)55296==(64512&(n=e.charCodeAt(l)))&&l+1<o&&56320==(64512&(r=e.charCodeAt(l+1)))&&(n=65536+(n-55296<<10)+(r-56320),l++),n<128?t[a++]=n:(n<2048?t[a++]=192|n>>>6:(n<65536?t[a++]=224|n>>>12:(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63),t[a++]=128|n>>>6&63),t[a++]=128|63&n);return t},n.buf2binstring=function(e){return l(e,e.length)},n.binstring2buf=function(e){for(var t=new i.Buf8(e.length),n=0,r=t.length;n<r;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){for(var n,i,r,a=t||e.length,s=new Array(2*a),c=n=0;c<a;)if((i=e[c++])<128)s[n++]=i;else if(4<(r=o[i]))s[n++]=65533,c+=r-1;else{for(i&=2===r?31:3===r?15:7;1<r&&c<a;)i=i<<6|63&e[c++],r--;1<r?s[n++]=65533:i<65536?s[n++]=i:(i-=65536,s[n++]=55296|i>>10&1023,s[n++]=56320|1023&i)}return l(s,n)},n.utf8border=function(e,t){for(var n=(t=(t=t||e.length)>e.length?e.length:t)-1;0<=n&&128==(192&e[n]);)n--;return!(n<0)&&0!==n&&n+o[e[n]]>t?n:t}},{"./common":41}],43:[function(e,t,n){"use strict";t.exports=function(e,t,n,i){for(var r=65535&e|0,a=e>>>16&65535|0,o=0;0!==n;){for(n-=o=2e3<n?2e3:n;a=a+(r=r+t[i++]|0)|0,--o;);r%=65521,a%=65521}return r|a<<16|0}},{}],44:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,n){"use strict";var i=function(){for(var e=[],t=0;t<256;t++){for(var n=t,i=0;i<8;i++)n=1&n?3988292384^n>>>1:n>>>1;e[t]=n}return e}();t.exports=function(e,t,n,r){var a=i,o=r+n;e^=-1;for(var s=r;s<o;s++)e=e>>>8^a[255&(e^t[s])];return-1^e}},{}],46:[function(e,t,n){"use strict";var i,r=e("../utils/common"),a=e("./trees"),o=e("./adler32"),s=e("./crc32"),l=e("./messages"),c=-2,u=258,h=262,d=113;function f(e,t){return e.msg=l[t],t}function p(e){return(e<<1)-(4<e?9:0)}function m(e){for(var t=e.length;0<=--t;)e[t]=0}function v(e){var t=e.state,n=t.pending;0!==(n=n>e.avail_out?e.avail_out:n)&&(r.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending)&&(t.pending_out=0)}function g(e,t){a._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,v(e.strm)}function y(e,t){e.pending_buf[e.pending++]=t}function x(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function b(e,t){var n,i,r=e.max_chain_length,a=e.strstart,o=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-h?e.strstart-(e.w_size-h):0,c=e.window,d=e.w_mask,f=e.prev,p=e.strstart+u,m=c[a+o-1],v=c[a+o];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(n=t)+o]===v&&c[n+o-1]===m&&c[n]===c[a]&&c[++n]===c[a+1]){for(a+=2,n++;c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&a<p;);if(i=u-(p-a),a=p-u,o<i){if(e.match_start=t,s<=(o=i))break;m=c[a+o-1],v=c[a+o]}}}while((t=f[t&d])>l&&0!=--r);return o<=e.lookahead?o:e.lookahead}function w(e){var t,n,i,a,l,c,u,d,f,p=e.w_size;do{if(d=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-h)){for(r.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=n=e.hash_size;i=e.head[--t],e.head[t]=p<=i?i-p:0,--n;);for(t=n=p;i=e.prev[--t],e.prev[t]=p<=i?i-p:0,--n;);d+=p}if(0===e.strm.avail_in)break;if(l=e.strm,c=e.window,u=e.strstart+e.lookahead,f=void 0,n=0===(f=(d=d)<(f=l.avail_in)?d:f)?0:(l.avail_in-=f,r.arraySet(c,l.input,l.next_in,f,u),1===l.state.wrap?l.adler=o(l.adler,c,f,u):2===l.state.wrap&&(l.adler=s(l.adler,c,f,u)),l.next_in+=f,l.total_in+=f,f),e.lookahead+=n,e.lookahead+e.insert>=3)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+3-1])&e.hash_mask,e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<h&&0!==e.strm.avail_in)}function _(e,t){for(var n,i;;){if(e.lookahead<h){if(w(e),e.lookahead<h&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-h&&(e.match_length=b(e,n)),e.match_length>=3)if(i=a._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(g(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(g(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(g(e,!1),0===e.strm.avail_out)?1:2}function M(e,t){for(var n,i,r;;){if(e.lookahead<h){if(w(e),e.lookahead<h&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-h&&(e.match_length=b(e,n),e.match_length<=5)&&(1===e.strategy||3===e.match_length&&4096<e.strstart-e.match_start)&&(e.match_length=2),e.prev_length>=3&&e.match_length<=e.prev_length){for(r=e.strstart+e.lookahead-3,i=a._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=2,e.strstart++,i&&(g(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((i=a._tr_tally(e,0,e.window[e.strstart-1]))&&g(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=a._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(g(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(g(e,!1),0===e.strm.avail_out)?1:2}function S(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}function E(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(1146),this.dyn_dtree=new r.Buf16(122),this.bl_tree=new r.Buf16(78),m(this.dyn_ltree),m(this.dyn_dtree),m(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(16),this.heap=new r.Buf16(573),m(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(573),m(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function T(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:d,e.adler=2===t.wrap?0:1,t.last_flush=0,a._tr_init(t),0):f(e,c)}function C(e){var t=T(e);return 0===t&&((e=e.state).window_size=2*e.w_size,m(e.head),e.max_lazy_match=i[e.level].max_lazy,e.good_match=i[e.level].good_length,e.nice_match=i[e.level].nice_length,e.max_chain_length=i[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),t}function A(e,t,n,i,a,o){if(!e)return c;var s=1;if(-1===t&&(t=6),i<0?(s=0,i=-i):15<i&&(s=2,i-=16),a<1||9<a||8!==n||i<8||15<i||t<0||9<t||o<0||4<o)return f(e,c);8===i&&(i=9);var l=new E;return(e.state=l).strm=e,l.wrap=s,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=a+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new r.Buf8(2*l.w_size),l.head=new r.Buf16(l.hash_size),l.prev=new r.Buf16(l.w_size),l.lit_bufsize=1<<a+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new r.Buf8(l.pending_buf_size),l.d_buf=+l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=o,l.method=n,C(e)}i=[new S(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(w(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,g(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-h&&(g(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(g(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(g(e,!1),e.strm.avail_out),1)})),new S(4,4,8,4,_),new S(4,5,16,8,_),new S(4,6,32,32,_),new S(4,4,16,16,M),new S(8,16,32,32,M),new S(8,16,128,128,M),new S(8,32,128,256,M),new S(32,128,258,1024,M),new S(32,258,258,4096,M)],n.deflateInit=function(e,t){return A(e,t,8,15,8,0)},n.deflateInit2=A,n.deflateReset=C,n.deflateResetKeep=T,n.deflateSetHeader=function(e,t){return e&&e.state&&2===e.state.wrap?(e.state.gzhead=t,0):c},n.deflate=function(e,t){var n,r,o,l;if(!e||!e.state||5<t||t<0)return e?f(e,c):c;if(r=e.state,!e.output||!e.input&&0!==e.avail_in||666===r.status&&4!==t)return f(e,0===e.avail_out?-5:c);if(r.strm=e,n=r.last_flush,r.last_flush=t,42===r.status&&(2===r.wrap?(e.adler=0,y(r,31),y(r,139),y(r,8),r.gzhead?(y(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),y(r,255&r.gzhead.time),y(r,r.gzhead.time>>8&255),y(r,r.gzhead.time>>16&255),y(r,r.gzhead.time>>24&255),y(r,9===r.level?2:2<=r.strategy||r.level<2?4:0),y(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(y(r,255&r.gzhead.extra.length),y(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=s(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(y(r,0),y(r,0),y(r,0),y(r,0),y(r,0),y(r,9===r.level?2:2<=r.strategy||r.level<2?4:0),y(r,3),r.status=d)):(h=8+(r.w_bits-8<<4)<<8,h|=(2<=r.strategy||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(h|=32),h+=31-h%31,r.status=d,x(r,h),0!==r.strstart&&(x(r,e.adler>>>16),x(r,65535&e.adler)),e.adler=1)),69===r.status)if(r.gzhead.extra){for(o=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>o&&(e.adler=s(e.adler,r.pending_buf,r.pending-o,o)),v(e),o=r.pending,r.pending!==r.pending_buf_size));)y(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>o&&(e.adler=s(e.adler,r.pending_buf,r.pending-o,o)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){o=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>o&&(e.adler=s(e.adler,r.pending_buf,r.pending-o,o)),v(e),o=r.pending,r.pending===r.pending_buf_size)){l=1;break}}while(l=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,y(r,l),0!==l);r.gzhead.hcrc&&r.pending>o&&(e.adler=s(e.adler,r.pending_buf,r.pending-o,o)),0===l&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){o=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>o&&(e.adler=s(e.adler,r.pending_buf,r.pending-o,o)),v(e),o=r.pending,r.pending===r.pending_buf_size)){l=1;break}}while(l=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,y(r,l),0!==l);r.gzhead.hcrc&&r.pending>o&&(e.adler=s(e.adler,r.pending_buf,r.pending-o,o)),0===l&&(r.status=103)}else r.status=103;if(103===r.status&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&v(e),r.pending+2<=r.pending_buf_size&&(y(r,255&e.adler),y(r,e.adler>>8&255),e.adler=0,r.status=d)):r.status=d),0!==r.pending){if(v(e),0===e.avail_out)return r.last_flush=-1,0}else if(0===e.avail_in&&p(t)<=p(n)&&4!==t)return f(e,-5);if(666===r.status&&0!==e.avail_in)return f(e,-5);if(0!==e.avail_in||0!==r.lookahead||0!==t&&666!==r.status){var h=2===r.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(w(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(g(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(g(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(g(e,!1),0===e.strm.avail_out)?1:2}(r,t):3===r.strategy?function(e,t){for(var n,i,r,o,s=e.window;;){if(e.lookahead<=u){if(w(e),e.lookahead<=u&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&0<e.strstart&&(i=s[r=e.strstart-1])===s[++r]&&i===s[++r]&&i===s[++r]){for(o=e.strstart+u;i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&r<o;);e.match_length=u-(o-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=a._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(g(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(g(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(g(e,!1),0===e.strm.avail_out)?1:2}(r,t):i[r.level].func(r,t);if(3!==h&&4!==h||(r.status=666),1===h||3===h)return 0===e.avail_out&&(r.last_flush=-1),0;if(2===h&&(1===t?a._tr_align(r):5!==t&&(a._tr_stored_block(r,0,0,!1),3===t)&&(m(r.head),0===r.lookahead)&&(r.strstart=0,r.block_start=0,r.insert=0),v(e),0===e.avail_out))return r.last_flush=-1,0}return 4===t&&(r.wrap<=0||(2===r.wrap?(y(r,255&e.adler),y(r,e.adler>>8&255),y(r,e.adler>>16&255),y(r,e.adler>>24&255),y(r,255&e.total_in),y(r,e.total_in>>8&255),y(r,e.total_in>>16&255),y(r,e.total_in>>24&255)):(x(r,e.adler>>>16),x(r,65535&e.adler)),v(e),0<r.wrap&&(r.wrap=-r.wrap),0===r.pending))?1:0},n.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&t!==d&&666!==t?f(e,c):(e.state=null,t===d?f(e,-3):0):c},n.deflateSetDictionary=function(e,t){var n,i,a,s,l,u,h,d=t.length;if(!e||!e.state)return c;if(2===(s=(n=e.state).wrap)||1===s&&42!==n.status||n.lookahead)return c;for(1===s&&(e.adler=o(e.adler,t,d,0)),n.wrap=0,d>=n.w_size&&(0===s&&(m(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new r.Buf8(n.w_size),r.arraySet(h,t,d-n.w_size,n.w_size,0),t=h,d=n.w_size),h=e.avail_in,l=e.next_in,u=e.input,e.avail_in=d,e.next_in=0,e.input=t,w(n);n.lookahead>=3;){for(i=n.strstart,a=n.lookahead-2;n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+3-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++,--a;);n.strstart=i,n.lookahead=2,w(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=l,e.input=u,e.avail_in=h,n.wrap=s,0},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,n){"use strict";t.exports=function(e,t){var n,i,r,a,o,s,l=e.state,c=e.next_in,u=e.input,h=c+(e.avail_in-5),d=e.next_out,f=e.output,p=d-(t-e.avail_out),m=d+(e.avail_out-257),v=l.dmax,g=l.wsize,y=l.whave,x=l.wnext,b=l.window,w=l.hold,_=l.bits,M=l.lencode,S=l.distcode,E=(1<<l.lenbits)-1,T=(1<<l.distbits)-1;e:do{for(_<15&&(w+=u[c++]<<_,_+=8,w+=u[c++]<<_,_+=8),n=M[w&E];;){if(w>>>=i=n>>>24,_-=i,0==(i=n>>>16&255))f[d++]=65535&n;else{if(!(16&i)){if(0==(64&i)){n=M[(65535&n)+(w&(1<<i)-1)];continue}if(32&i){l.mode=12;break e}e.msg="invalid literal/length code",l.mode=30;break e}for(r=65535&n,(i&=15)&&(_<i&&(w+=u[c++]<<_,_+=8),r+=w&(1<<i)-1,w>>>=i,_-=i),_<15&&(w+=u[c++]<<_,_+=8,w+=u[c++]<<_,_+=8),n=S[w&T];;){if(w>>>=i=n>>>24,_-=i,!(16&(i=n>>>16&255))){if(0==(64&i)){n=S[(65535&n)+(w&(1<<i)-1)];continue}e.msg="invalid distance code",l.mode=30;break e}if(a=65535&n,_<(i&=15)&&(w+=u[c++]<<_,(_+=8)<i)&&(w+=u[c++]<<_,_+=8),v<(a+=w&(1<<i)-1)){e.msg="invalid distance too far back",l.mode=30;break e}if(w>>>=i,_-=i,(i=d-p)<a){if(y<(i=a-i)&&l.sane){e.msg="invalid distance too far back",l.mode=30;break e}if(s=b,(o=0)===x){if(o+=g-i,i<r){for(r-=i;f[d++]=b[o++],--i;);o=d-a,s=f}}else if(x<i){if(o+=g+x-i,(i-=x)<r){for(r-=i;f[d++]=b[o++],--i;);if(o=0,x<r){for(r-=i=x;f[d++]=b[o++],--i;);o=d-a,s=f}}}else if(o+=x-i,i<r){for(r-=i;f[d++]=b[o++],--i;);o=d-a,s=f}for(;2<r;)f[d++]=s[o++],f[d++]=s[o++],f[d++]=s[o++],r-=3;r&&(f[d++]=s[o++],1<r)&&(f[d++]=s[o++])}else{for(o=d-a;f[d++]=f[o++],f[d++]=f[o++],f[d++]=f[o++],2<(r-=3););r&&(f[d++]=f[o++],1<r)&&(f[d++]=f[o++])}break}}break}}while(c<h&&d<m);c-=r=_>>3,w&=(1<<(_-=r<<3))-1,e.next_in=c,e.next_out=d,e.avail_in=c<h?h-c+5:5-(c-h),e.avail_out=d<m?m-d+257:257-(d-m),l.hold=w,l.bits=_}},{}],49:[function(e,t,n){"use strict";var i=e("../utils/common"),r=e("./adler32"),a=e("./crc32"),o=e("./inffast"),s=e("./inftrees"),l=-2;function c(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function u(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function h(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new i.Buf32(852),t.distcode=t.distdyn=new i.Buf32(592),t.sane=1,t.back=-1,0):l}function d(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,h(e)):l}function f(e,t){var n,i;return!e||!e.state||(i=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t))?l:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,d(e))}function p(e,t){var n;return e?(n=new u,(e.state=n).window=null,0!==(n=f(e,t))&&(e.state=null),n):l}var m,v,g=!0;function y(e,t,n,r){var a;return null===(e=e.state).window&&(e.wsize=1<<e.wbits,e.wnext=0,e.whave=0,e.window=new i.Buf8(e.wsize)),r>=e.wsize?(i.arraySet(e.window,t,n-e.wsize,e.wsize,0),e.wnext=0,e.whave=e.wsize):(r<(a=e.wsize-e.wnext)&&(a=r),i.arraySet(e.window,t,n-r,a,e.wnext),(r-=a)?(i.arraySet(e.window,t,n-r,r,0),e.wnext=r,e.whave=e.wsize):(e.wnext+=a,e.wnext===e.wsize&&(e.wnext=0),e.whave<e.wsize&&(e.whave+=a))),0}n.inflateReset=d,n.inflateReset2=f,n.inflateResetKeep=h,n.inflateInit=function(e){return p(e,15)},n.inflateInit2=p,n.inflate=function(e,t){var n,u,h,d,f,p,x,b,w,_,M,S,E,T,C,A,L,P,k,D,I,R,N,O,F=0,z=new i.Buf8(4),B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return l;12===(n=e.state).mode&&(n.mode=13),f=e.next_out,h=e.output,x=e.avail_out,d=e.next_in,u=e.input,p=e.avail_in,b=n.hold,w=n.bits,_=p,M=x,R=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap)n.mode=13;else{for(;w<16;){if(0===p)break e;p--,b+=u[d++]<<w,w+=8}if(2&n.wrap&&35615===b)z[n.check=0]=255&b,z[1]=b>>>8&255,n.check=a(n.check,z,2,0),w=b=0,n.mode=2;else if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&b)<<8)+(b>>8))%31)e.msg="incorrect header check",n.mode=30;else if(8!=(15&b))e.msg="unknown compression method",n.mode=30;else{if(w-=4,I=8+(15&(b>>>=4)),0===n.wbits)n.wbits=I;else if(I>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<I,e.adler=n.check=1,n.mode=512&b?10:12,w=b=0}}break;case 2:for(;w<16;){if(0===p)break e;p--,b+=u[d++]<<w,w+=8}if(n.flags=b,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=b>>8&1),512&n.flags&&(z[0]=255&b,z[1]=b>>>8&255,n.check=a(n.check,z,2,0)),w=b=0,n.mode=3;case 3:for(;w<32;){if(0===p)break e;p--,b+=u[d++]<<w,w+=8}n.head&&(n.head.time=b),512&n.flags&&(z[0]=255&b,z[1]=b>>>8&255,z[2]=b>>>16&255,z[3]=b>>>24&255,n.check=a(n.check,z,4,0)),w=b=0,n.mode=4;case 4:for(;w<16;){if(0===p)break e;p--,b+=u[d++]<<w,w+=8}n.head&&(n.head.xflags=255&b,n.head.os=b>>8),512&n.flags&&(z[0]=255&b,z[1]=b>>>8&255,n.check=a(n.check,z,2,0)),w=b=0,n.mode=5;case 5:if(1024&n.flags){for(;w<16;){if(0===p)break e;p--,b+=u[d++]<<w,w+=8}n.length=b,n.head&&(n.head.extra_len=b),512&n.flags&&(z[0]=255&b,z[1]=b>>>8&255,n.check=a(n.check,z,2,0)),w=b=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((S=p<(S=n.length)?p:S)&&(n.head&&(I=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),i.arraySet(n.head.extra,u,d,S,I)),512&n.flags&&(n.check=a(n.check,u,S,d)),p-=S,d+=S,n.length-=S),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===p)break e;for(S=0;I=u[d+S++],n.head&&I&&n.length<65536&&(n.head.name+=String.fromCharCode(I)),I&&S<p;);if(512&n.flags&&(n.check=a(n.check,u,S,d)),p-=S,d+=S,I)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===p)break e;for(S=0;I=u[d+S++],n.head&&I&&n.length<65536&&(n.head.comment+=String.fromCharCode(I)),I&&S<p;);if(512&n.flags&&(n.check=a(n.check,u,S,d)),p-=S,d+=S,I)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;w<16;){if(0===p)break e;p--,b+=u[d++]<<w,w+=8}if(b!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}w=b=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;w<32;){if(0===p)break e;p--,b+=u[d++]<<w,w+=8}e.adler=n.check=c(b),w=b=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=f,e.avail_out=x,e.next_in=d,e.avail_in=p,n.hold=b,n.bits=w,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last)b>>>=7&w,w-=7&w,n.mode=27;else{for(;w<3;){if(0===p)break e;p--,b+=u[d++]<<w,w+=8}switch(n.last=1&b,--w,3&(b>>>=1)){case 0:n.mode=14;break;case 1:H=U=void 0;var H,U=n;if(g){for(m=new i.Buf32(512),v=new i.Buf32(32),H=0;H<144;)U.lens[H++]=8;for(;H<256;)U.lens[H++]=9;for(;H<280;)U.lens[H++]=7;for(;H<288;)U.lens[H++]=8;for(s(1,U.lens,0,288,m,0,U.work,{bits:9}),H=0;H<32;)U.lens[H++]=5;s(2,U.lens,0,32,v,0,U.work,{bits:5}),g=!1}if(U.lencode=m,U.lenbits=9,U.distcode=v,U.distbits=5,n.mode=20,6!==t)break;b>>>=2,w-=2;break e;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}b>>>=2,w-=2}break;case 14:for(b>>>=7&w,w-=7&w;w<32;){if(0===p)break e;p--,b+=u[d++]<<w,w+=8}if((65535&b)!=(b>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&b,w=b=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(S=n.length){if(0===(S=x<(S=p<S?p:S)?x:S))break e;i.arraySet(h,u,d,S,f),p-=S,d+=S,x-=S,f+=S,n.length-=S}else n.mode=12;break;case 17:for(;w<14;){if(0===p)break e;p--,b+=u[d++]<<w,w+=8}if(n.nlen=257+(31&b),b>>>=5,w-=5,n.ndist=1+(31&b),b>>>=5,w-=5,n.ncode=4+(15&b),b>>>=4,w-=4,286<n.nlen||30<n.ndist){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;w<3;){if(0===p)break e;p--,b+=u[d++]<<w,w+=8}n.lens[B[n.have++]]=7&b,b>>>=3,w-=3}for(;n.have<19;)n.lens[B[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,N={bits:n.lenbits},R=s(0,n.lens,0,19,n.lencode,0,n.work,N),n.lenbits=N.bits,R){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;A=(F=n.lencode[b&(1<<n.lenbits)-1])>>>16&255,L=65535&F,!((C=F>>>24)<=w);){if(0===p)break e;p--,b+=u[d++]<<w,w+=8}if(L<16)b>>>=C,w-=C,n.lens[n.have++]=L;else{if(16===L){for(O=C+2;w<O;){if(0===p)break e;p--,b+=u[d++]<<w,w+=8}if(b>>>=C,w-=C,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}I=n.lens[n.have-1],S=3+(3&b),b>>>=2,w-=2}else if(17===L){for(O=C+3;w<O;){if(0===p)break e;p--,b+=u[d++]<<w,w+=8}I=0,S=3+(7&(b>>>=C)),b>>>=3,w=w-C-3}else{for(O=C+7;w<O;){if(0===p)break e;p--,b+=u[d++]<<w,w+=8}I=0,S=11+(127&(b>>>=C)),b>>>=7,w=w-C-7}if(n.have+S>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;S--;)n.lens[n.have++]=I}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,N={bits:n.lenbits},R=s(1,n.lens,0,n.nlen,n.lencode,0,n.work,N),n.lenbits=N.bits,R){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,N={bits:n.distbits},R=s(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,N),n.distbits=N.bits,R){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(6<=p&&258<=x){e.next_out=f,e.avail_out=x,e.next_in=d,e.avail_in=p,n.hold=b,n.bits=w,o(e,M),f=e.next_out,h=e.output,x=e.avail_out,d=e.next_in,u=e.input,p=e.avail_in,b=n.hold,w=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;A=(F=n.lencode[b&(1<<n.lenbits)-1])>>>16&255,L=65535&F,!((C=F>>>24)<=w);){if(0===p)break e;p--,b+=u[d++]<<w,w+=8}if(A&&0==(240&A)){for(P=C,k=A,D=L;A=(F=n.lencode[D+((b&(1<<P+k)-1)>>P)])>>>16&255,L=65535&F,!(P+(C=F>>>24)<=w);){if(0===p)break e;p--,b+=u[d++]<<w,w+=8}b>>>=P,w-=P,n.back+=P}if(b>>>=C,w-=C,n.back+=C,n.length=L,0===A){n.mode=26;break}if(32&A){n.back=-1,n.mode=12;break}if(64&A){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&A,n.mode=22;case 22:if(n.extra){for(O=n.extra;w<O;){if(0===p)break e;p--,b+=u[d++]<<w,w+=8}n.length+=b&(1<<n.extra)-1,b>>>=n.extra,w-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;A=(F=n.distcode[b&(1<<n.distbits)-1])>>>16&255,L=65535&F,!((C=F>>>24)<=w);){if(0===p)break e;p--,b+=u[d++]<<w,w+=8}if(0==(240&A)){for(P=C,k=A,D=L;A=(F=n.distcode[D+((b&(1<<P+k)-1)>>P)])>>>16&255,L=65535&F,!(P+(C=F>>>24)<=w);){if(0===p)break e;p--,b+=u[d++]<<w,w+=8}b>>>=P,w-=P,n.back+=P}if(b>>>=C,w-=C,n.back+=C,64&A){e.msg="invalid distance code",n.mode=30;break}n.offset=L,n.extra=15&A,n.mode=24;case 24:if(n.extra){for(O=n.extra;w<O;){if(0===p)break e;p--,b+=u[d++]<<w,w+=8}n.offset+=b&(1<<n.extra)-1,b>>>=n.extra,w-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===x)break e;if(n.offset>(S=M-x)){if((S=n.offset-S)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}E=S>n.wnext?(S-=n.wnext,n.wsize-S):n.wnext-S,S>n.length&&(S=n.length),T=n.window}else T=h,E=f-n.offset,S=n.length;for(x-=S=x<S?x:S,n.length-=S;h[f++]=T[E++],--S;);0===n.length&&(n.mode=21);break;case 26:if(0===x)break e;h[f++]=n.length,x--,n.mode=21;break;case 27:if(n.wrap){for(;w<32;){if(0===p)break e;p--,b|=u[d++]<<w,w+=8}if(M-=x,e.total_out+=M,n.total+=M,M&&(e.adler=n.check=(n.flags?a:r)(n.check,h,M,f-M)),M=x,(n.flags?b:c(b))!==n.check){e.msg="incorrect data check",n.mode=30;break}w=b=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;w<32;){if(0===p)break e;p--,b+=u[d++]<<w,w+=8}if(b!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}w=b=0}n.mode=29;case 29:R=1;break e;case 30:R=-3;break e;case 31:return-4;default:return l}return e.next_out=f,e.avail_out=x,e.next_in=d,e.avail_in=p,n.hold=b,n.bits=w,(n.wsize||M!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&y(e,e.output,e.next_out,M-e.avail_out)?(n.mode=31,-4):(_-=e.avail_in,M-=e.avail_out,e.total_in+=_,e.total_out+=M,n.total+=M,n.wrap&&M&&(e.adler=n.check=(n.flags?a:r)(n.check,h,M,e.next_out-M)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),R=(0==_&&0===M||4===t)&&0===R?-5:R)},n.inflateEnd=function(e){var t;return e&&e.state?((t=e.state).window&&(t.window=null),e.state=null,0):l},n.inflateGetHeader=function(e,t){return e&&e.state&&0!=(2&(e=e.state).wrap)?((e.head=t).done=!1,0):l},n.inflateSetDictionary=function(e,t){var n,i=t.length;return!e||!e.state||0!==(n=e.state).wrap&&11!==n.mode?l:11===n.mode&&r(1,t,i,0)!==n.check?-3:y(e,t,i,i)?(n.mode=31,-4):(n.havedict=1,0)},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,n){"use strict";var i=e("../utils/common"),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,l,c,u,h,d){var f,p,m,v,g,y,x,b,w,_=d.bits,M=0,S=0,E=0,T=0,C=0,A=0,L=0,P=0,k=0,D=0,I=null,R=0,N=new i.Buf16(16),O=new i.Buf16(16),F=null,z=0;for(M=0;M<=15;M++)N[M]=0;for(S=0;S<l;S++)N[t[n+S]]++;for(C=_,T=15;1<=T&&0===N[T];T--);if(T<C&&(C=T),0===T)c[u++]=20971520,c[u++]=20971520,d.bits=1;else{for(E=1;E<T&&0===N[E];E++);for(C<E&&(C=E),M=P=1;M<=15;M++)if((P=(P<<1)-N[M])<0)return-1;if(0<P&&(0===e||1!==T))return-1;for(O[1]=0,M=1;M<15;M++)O[M+1]=O[M]+N[M];for(S=0;S<l;S++)0!==t[n+S]&&(h[O[t[n+S]]++]=S);if(y=0===e?(I=F=h,19):1===e?(I=r,R-=257,F=a,z-=257,256):(I=o,F=s,-1),M=E,g=u,L=S=D=0,m=-1,v=(k=1<<(A=C))-1,1===e&&852<k||2===e&&592<k)return 1;for(;;){for(w=h[S]<y?(b=0,h[S]):h[S]>y?(b=F[z+h[S]],I[R+h[S]]):(b=96,0),f=1<<(x=M-L),E=p=1<<A;c[g+(D>>L)+(p-=f)]=x<<24|b<<16|w|0,0!==p;);for(f=1<<M-1;D&f;)f>>=1;if(D=0!==f?(D&f-1)+f:0,S++,0==--N[M]){if(M===T)break;M=t[n+h[S]]}if(C<M&&(D&v)!==m){for(g+=E,P=1<<(A=M-(L=0===L?C:L));A+L<T&&!((P-=N[A+L])<=0);)A++,P<<=1;if(k+=1<<A,1===e&&852<k||2===e&&592<k)return 1;c[m=D&v]=C<<24|A<<16|g-u|0}}0!==D&&(c[g+D]=M-L<<24|64<<16|0),d.bits=C}return 0}},{"../utils/common":41}],51:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,n){"use strict";var i=e("../utils/common");function r(e){for(var t=e.length;0<=--t;)e[t]=0}var a=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],o=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],l=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],c=new Array(576),u=(r(c),new Array(60)),h=(r(u),new Array(512)),d=(r(h),new Array(256)),f=(r(d),new Array(29));r(f);var p,m,v,g=new Array(30);function y(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}function x(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function b(e){return e<256?h[e]:h[256+(e>>>7)]}function w(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function _(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,w(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function M(e,t,n){_(e,n[2*t],n[2*t+1])}function S(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function E(e,t,n){for(var i,r=new Array(16),a=0,o=1;o<=15;o++)r[o]=a=a+n[o-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=S(r[s]++,s))}}function T(e){for(var t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function C(e){8<e.bi_valid?w(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function A(e,t,n,i){var r=2*t,a=2*n;return e[r]<e[a]||e[r]===e[a]&&i[t]<=i[n]}function L(e,t,n){for(var i=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&A(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!A(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i}function P(e,t,n){var i,r,s,l,c=0;if(0!==e.last_lit)for(;i=e.pending_buf[e.d_buf+2*c]<<8|e.pending_buf[e.d_buf+2*c+1],r=e.pending_buf[e.l_buf+c],c++,0==i?M(e,r,t):(M(e,(s=d[r])+256+1,t),0!==(l=a[s])&&_(e,r-=f[s],l),M(e,s=b(--i),n),0!==(l=o[s])&&_(e,i-=g[s],l)),c<e.last_lit;);M(e,256,t)}function k(e,t){var n,i,r,a=t.dyn_tree,o=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<l;n++)0!==a[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):a[2*n+1]=0;for(;e.heap_len<2;)a[2*(r=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[r]=0,e.opt_len--,s&&(e.static_len-=o[2*r+1]);for(t.max_code=c,n=e.heap_len>>1;1<=n;n--)L(e,a,n);for(r=l;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],L(e,a,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,a[2*r]=a[2*n]+a[2*i],e.depth[r]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,a[2*n+1]=a[2*i+1]=r,e.heap[1]=r++,L(e,a,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1];for(var u,h,d,f,p,m=e,v=t.dyn_tree,g=t.max_code,y=t.stat_desc.static_tree,x=t.stat_desc.has_stree,b=t.stat_desc.extra_bits,w=t.stat_desc.extra_base,_=t.stat_desc.max_length,M=0,S=0;S<=15;S++)m.bl_count[S]=0;for(v[2*m.heap[m.heap_max]+1]=0,u=m.heap_max+1;u<573;u++)_<(S=v[2*v[2*(h=m.heap[u])+1]+1]+1)&&(S=_,M++),v[2*h+1]=S,g<h||(m.bl_count[S]++,f=0,w<=h&&(f=b[h-w]),p=v[2*h],m.opt_len+=p*(S+f),x&&(m.static_len+=p*(y[2*h+1]+f)));if(0!==M){do{for(S=_-1;0===m.bl_count[S];)S--}while(m.bl_count[S]--,m.bl_count[S+1]+=2,m.bl_count[_]--,0<(M-=2));for(S=_;0!==S;S--)for(h=m.bl_count[S];0!==h;)g<(d=m.heap[--u])||(v[2*d+1]!==S&&(m.opt_len+=(S-v[2*d+1])*v[2*d],v[2*d+1]=S),h--)}E(a,c,e.bl_count)}function D(e,t,n){var i,r,a=-1,o=t[1],s=0,l=7,c=4;for(0===o&&(l=138,c=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)r=o,o=t[2*(i+1)+1],++s<l&&r===o||(s<c?e.bl_tree[2*r]+=s:0!==r?(r!==a&&e.bl_tree[2*r]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,a=r,c=(s=0)===o?(l=138,3):r===o?(l=6,3):(l=7,4))}function I(e,t,n){var i,r,a=-1,o=t[1],s=0,l=7,c=4;for(0===o&&(l=138,c=3),i=0;i<=n;i++)if(r=o,o=t[2*(i+1)+1],!(++s<l&&r===o)){if(s<c)for(;M(e,r,e.bl_tree),0!=--s;);else 0!==r?(r!==a&&(M(e,r,e.bl_tree),s--),M(e,16,e.bl_tree),_(e,s-3,2)):s<=10?(M(e,17,e.bl_tree),_(e,s-3,3)):(M(e,18,e.bl_tree),_(e,s-11,7));a=r,c=(s=0)===o?(l=138,3):r===o?(l=6,3):(l=7,4)}}r(g);var R=!1;function N(e,t,n,r){_(e,0+(r?1:0),3),r=t,t=n,C(n=e),w(n,t),w(n,~t),i.arraySet(n.pending_buf,n.window,r,t,n.pending),n.pending+=t}n._tr_init=function(e){if(!R){for(var t,n,i,r,l=new Array(16),b=i=0;b<28;b++)for(f[b]=i,t=0;t<1<<a[b];t++)d[i++]=b;for(d[i-1]=b,b=r=0;b<16;b++)for(g[b]=r,t=0;t<1<<o[b];t++)h[r++]=b;for(r>>=7;b<30;b++)for(g[b]=r<<7,t=0;t<1<<o[b]-7;t++)h[256+r++]=b;for(n=0;n<=15;n++)l[n]=0;for(t=0;t<=143;)c[2*t+1]=8,t++,l[8]++;for(;t<=255;)c[2*t+1]=9,t++,l[9]++;for(;t<=279;)c[2*t+1]=7,t++,l[7]++;for(;t<=287;)c[2*t+1]=8,t++,l[8]++;for(E(c,287,l),t=0;t<30;t++)u[2*t+1]=5,u[2*t]=S(t,5);p=new y(c,a,257,286,15),m=new y(u,o,0,30,15),v=new y(new Array(0),s,0,19,7),R=!0}e.l_desc=new x(e.dyn_ltree,p),e.d_desc=new x(e.dyn_dtree,m),e.bl_desc=new x(e.bl_tree,v),e.bi_buf=0,e.bi_valid=0,T(e)},n._tr_stored_block=N,n._tr_flush_block=function(e,t,n,i){var r,a,o,s=0;if(0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){for(var t=4093624447,n=0;n<=31;n++,t>>>=1)if(1&t&&0!==e.dyn_ltree[2*n])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(n=32;n<256;n++)if(0!==e.dyn_ltree[2*n])return 1;return 0}(e)),k(e,e.l_desc),k(e,e.d_desc),s=function(e){var t;for(D(e,e.dyn_ltree,e.l_desc.max_code),D(e,e.dyn_dtree,e.d_desc.max_code),k(e,e.bl_desc),t=18;3<=t&&0===e.bl_tree[2*l[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),r=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=r&&(r=a)):r=a=n+5,n+4<=r&&-1!==t)N(e,t,n,i);else if(4===e.strategy||a===r)_(e,2+(i?1:0),3),P(e,c,u);else{_(e,4+(i?1:0),3);var h=e,d=(t=e.l_desc.max_code+1,n=e.d_desc.max_code+1,s+1);for(_(h,t-257,5),_(h,n-1,5),_(h,d-4,4),o=0;o<d;o++)_(h,h.bl_tree[2*l[o]+1],3);I(h,h.dyn_ltree,t-1),I(h,h.dyn_dtree,n-1),P(e,e.dyn_ltree,e.dyn_dtree)}T(e),i&&C(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(d[n]+256+1)]++,e.dyn_dtree[2*b(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){_(e,2,3),M(e,256,c),16===(e=e).bi_valid?(w(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}},{"../utils/common":41}],53:[function(e,t,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,n){(function(e){!function(e,t){"use strict";var n,i,a,o,s,l,c,u,h;function d(e){delete s[e]}function f(e){if(l)setTimeout(f,0,e);else{var t=s[e];if(t){l=!0;try{var n=t.callback,i=t.args;switch(i.length){case 0:n();break;case 1:n(i[0]);break;case 2:n(i[0],i[1]);break;case 3:n(i[0],i[1],i[2]);break;default:n.apply(void 0,i)}}finally{d(e),l=!1}}}}function p(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&f(+t.data.slice(a.length))}e.setImmediate||(o=1,l=!(s={}),c=e.document,u=(u=Object.getPrototypeOf&&Object.getPrototypeOf(e))&&u.setTimeout?u:e,h="[object process]"==={}.toString.call(e.process)?function(e){r.nextTick((function(){f(e)}))}:function(){var t,n;if(e.postMessage&&!e.importScripts)return t=!0,n=e.onmessage,e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}()?(a="setImmediate$"+Math.random()+"$",e.addEventListener?e.addEventListener("message",p,!1):e.attachEvent("onmessage",p),function(t){e.postMessage(a+t,"*")}):e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){f(e.data)},function(e){i.port2.postMessage(e)}):c&&"onreadystatechange"in c.createElement("script")?(n=c.documentElement,function(e){var t=c.createElement("script");t.onreadystatechange=function(){f(e),t.onreadystatechange=null,n.removeChild(t),t=null},n.appendChild(t)}):function(e){setTimeout(f,0,e)},u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];return s[o]={callback:e,args:t},h(o),o++},u.clearImmediate=d)}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)}).call(this,n(242).Buffer,n(243).setImmediate,n(88),n(143))},function(e,t,n){"use strict";function i(e,t){return function(){return e.apply(t,arguments)}}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";t.a=null},function(e,t,n){function i(e){var t;return(a[e]||(t=a[e]={i:e,l:!1,exports:{}},r[e].call(t.exports,t,t.exports,i),t.l=!0,t)).exports}var r,a;e.exports=(r={0:function(e,t,n){"use strict";function i(e,t,n,i,r,a,o,s){var l,c,u="function"==typeof e?e.options:e;return t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),i&&(u.functional=!0),a&&(u._scopeId="data-v-"+a),o?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},u._ssrRegister=l):r&&(l=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l&&(u.functional?(u._injectStyles=l,c=u.render,u.render=function(e,t){return l.call(t),c(e,t)}):(t=u.beforeCreate,u.beforeCreate=t?[].concat(t,l):[l])),{exports:e,options:u}}n.d(t,"a",(function(){return i}))},13:function(e,t){e.exports=n(553)},17:function(e,t){e.exports=n(245)},23:function(e,t){e.exports=n(557)},7:function(e,t){e.exports=n(57)},81:function(e,t,n){"use strict";function i(){var e=this,t=e.$createElement;return(t=e._self._c||t)("transition",{attrs:{name:"el-message-fade"},on:{"after-leave":e.handleAfterLeave}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],class:["el-message",e.type&&!e.iconClass?"el-message--"+e.type:"",e.center?"is-center":"",e.showClose?"is-closable":"",e.customClass],style:e.positionStyle,attrs:{role:"alert"},on:{mouseenter:e.clearTimer,mouseleave:e.startTimer}},[e.iconClass?t("i",{class:e.iconClass}):t("i",{class:e.typeClass}),e._t("default",[e.dangerouslyUseHTMLString?t("p",{staticClass:"el-message__content",domProps:{innerHTML:e._s(e.message)}}):t("p",{staticClass:"el-message__content"},[e._v(e._s(e.message))])]),e.showClose?t("i",{staticClass:"el-message__closeBtn el-icon-close",on:{click:e.close}}):e._e()],2)])}function r(e){var t,n,i;if(!o.a.prototype.$isServer)return t=(e="string"==typeof(e=e||{})?{message:e}:e).onClose,n="message_"+v++,e.onClose=function(){r.close(n,t)},(p=new f({data:e})).id=n,Object(u.isVNode)(p.message)&&(p.$slots.default=[p.message],p.message=null),p.$mount(),document.body.appendChild(p.$el),i=e.offset||20,m.forEach((function(e){i+=e.$el.offsetHeight+16})),p.verticalOffset=i,p.visible=!0,p.$el.style.zIndex=c.PopupManager.nextZIndex(),m.push(p),p}n.r(t);var a=n(7),o=n.n(a),s=(i._withStripped=!0,{success:"success",info:"info",warning:"warning",error:"error"}),l=(a={data:function(){return{visible:!1,message:"",duration:3e3,type:"info",iconClass:"",customClass:"",onClose:null,showClose:!1,closed:!1,verticalOffset:20,timer:null,dangerouslyUseHTMLString:!1,center:!1}},computed:{typeClass:function(){return this.type&&!this.iconClass?"el-message__icon el-icon-"+s[this.type]:""},positionStyle:function(){return{top:this.verticalOffset+"px"}}},watch:{closed:function(e){e&&(this.visible=!1)}},methods:{handleAfterLeave:function(){this.$destroy(!0),this.$el.parentNode.removeChild(this.$el)},close:function(){this.closed=!0,"function"==typeof this.onClose&&this.onClose(this)},clearTimer:function(){clearTimeout(this.timer)},startTimer:function(){var e=this;0<this.duration&&(this.timer=setTimeout((function(){e.closed||e.close()}),this.duration))},keydown:function(e){27!==e.keyCode||this.closed||this.close()}},mounted:function(){this.startTimer(),document.addEventListener("keydown",this.keydown)},beforeDestroy:function(){document.removeEventListener("keydown",this.keydown)}},n(0)),c=(a=((l=Object(l.a)(a,i,[],!1,null,null,null)).options.__file="packages/message/src/main.vue",l.exports),n(13)),u=n(23),h=n(17),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},f=o.a.extend(a),p=void 0,m=[],v=1;["success","warning","info","error"].forEach((function(e){r[e]=function(t){return Object(h.isObject)(t)&&!Object(u.isVNode)(t)?r(d({},t,{type:e})):r({type:e,message:t})}})),r.close=function(e,t){for(var n=m.length,i=-1,r=void 0,a=0;a<n;a++)if(e===m[a].id){r=m[a].$el.offsetHeight,i=a,"function"==typeof t&&t(m[a]),m.splice(a,1);break}if(!(n<=1||-1===i||m.length-1<i))for(var o=i;o<n-1;o++){var s=m[o].$el;s.style.top=parseInt(s.style.top,10)-r-16+"px"}},r.closeAll=function(){for(var e=m.length-1;0<=e;e--)m[e].close()},t.default=r}},a={},i.m=r,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/dist/",i(i.s=81))},function(e,t,n){e.exports=n(568)},function(e,t,n){e.exports=n(520)},function(e,t,n){e.exports=n(524)},function(e,t,n){var i=n(77),r=n(26);e.exports=function(e){if("Function"===i(e))return r(e)}},function(e,t,n){"use strict";var i={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,a=r&&!i.call({1:2},1);t.f=a?function(e){return!!(e=r(this,e))&&e.enumerable}:i},function(e,t,n){var i=n(60),r=n(95);e.exports=function(e,t){return e=e[t],r(e)?void 0:i(e)}},function(e,t,n){var i=n(29),r=(n=n(259),"__core-js_shared__");i=i[r]||n(r,{});e.exports=i},function(e,t,n){var i=n(29),r=(n=n(34),i.document),a=n(r)&&n(r.createElement);e.exports=function(e){return a?r.createElement(e):{}}},function(e,t,n){var i=n(262);e.exports=function(e,t){return new(i(e))(0===t?0:t)}},function(e,t,n){var i={};i[n(35)("toStringTag")]="z",e.exports="[object z]"===String(i)},function(e,t,n){var i=n(42),r=n(185),a=n(54),o=n(50),s=n(64),l=n(132);t.f=i&&!r?Object.defineProperties:function(e,t){o(e);for(var n,i=s(t),r=l(t),c=r.length,u=0;u<c;)a.f(e,n=r[u++],i[n]);return e}},function(e,t,n){function i(e){return function(t,n,i){var s,l=r(t),c=o(l),u=a(i,c);if(e&&n!=n){for(;u<c;)if((s=l[u++])!=s)return!0}else for(;u<c;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}}var r=n(64),a=n(112),o=n(61);e.exports={includes:i(!0),indexOf:i(!1)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,n){var i=n(112),r=n(61),a=n(110),o=Array,s=Math.max;e.exports=function(e,t,n){for(var l=r(e),c=i(t,l),u=i(void 0===n?l:n,l),h=o(s(u-c,0)),d=0;c<u;c++,d++)a(h,d,e[c]);return h.length=d,h}},function(e,t,n){"use strict";function i(){return this}var r=n(17),a=n(43),o=n(62),s=n(197),l=n(38),c=n(198),u=n(116),h=n(137),d=n(72),f=n(70),p=n(65),m=n(35),v=n(100),g=(n=n(199),s.PROPER),y=s.CONFIGURABLE,x=n.IteratorPrototype,b=n.BUGGY_SAFARI_ITERATORS,w=m("iterator"),_="values";e.exports=function(e,t,n,s,m,M,S){function E(e){if(e===m&&k)return k;if(!b&&e in L)return L[e];switch(e){case"keys":case _:case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}}c(n,t,s);s=t+" Iterator";var T,C,A=!1,L=e.prototype,P=L[w]||L["@@iterator"]||m&&L[m],k=!b&&P||E(m),D="Array"==t&&L.entries||P;if(D&&(D=u(D.call(new e)))!==Object.prototype&&D.next&&(o||u(D)===x||(h?h(D,x):l(D[w])||p(D,w,i)),d(D,s,!0,!0),o)&&(v[s]=i),g&&m==_&&P&&P.name!==_&&(!o&&y?f(L,"name",_):(A=!0,k=function(){return a(P,this)})),m)if(T={values:E(_),keys:M?k:E("keys"),entries:E("entries")},S)for(C in T)!b&&!A&&C in L||p(L,C,T[C]);else r({target:t,proto:!0,forced:b||A},T);return o&&!S||L[w]===k||p(L,w,k,{name:m}),v[t]=k,T}},function(e,t){e.exports=function(e,t){return{value:e,done:t}}},function(e,t,n){var i=n(43),r=n(60),a=n(50),o=n(98),s=n(117),l=TypeError;e.exports=function(e,t){var n=arguments.length<2?s(e):t;if(r(n))return a(i(n,e));throw l(o(e)+" is not iterable")}},function(e,t,n){e.exports=n(409)},function(e,t,n){e.exports=n(423)},function(e,t,n){function i(e){return function(t){return t=o(a(t)),1&e&&(t=s(t,l,"")),2&e?s(t,c,""):t}}var r=n(26),a=n(94),o=n(56),s=(n=n(141),r("".replace)),l=(r="["+n+"]",RegExp("^"+r+r+"*")),c=RegExp(r+r+"*$");e.exports={start:i(1),end:i(2),trim:i(3)}},function(e,t,n){n=n(22),e.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(e,t,n){"use strict";var i=n(17),r=n(29),a=n(120),o=n(22),s=n(70),l=n(82),c=n(102),u=n(38),h=n(34),d=n(72),f=n(54).f,p=n(73).forEach,m=n(42),v=(n=n(66)).set,g=n.getterFor;e.exports=function(e,t,n){var y,x,b,w=-1!==e.indexOf("Map"),_=-1!==e.indexOf("Weak"),M=w?"set":"add",S=r[e],E=S&&S.prototype,T={};return m&&u(S)&&(_||E.forEach&&!o((function(){(new S).entries().next()})))?(x=(y=t((function(t,n){v(c(t,x),{type:e,collection:new S}),null!=n&&l(n,t[M],{that:t,AS_ENTRIES:w})}))).prototype,b=g(e),p(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(e){var t="add"==e||"set"==e;e in E&&(!_||"clear"!=e)&&s(x,e,(function(n,i){var r=b(this).collection;return t||!_||h(n)?(r=r[e](0===n?0:n,i),t?this:r):"get"==e&&void 0}))})),_||f(x,"size",{configurable:!0,get:function(){return b(this).collection.size}})):(y=n.getConstructor(t,e,w,M),a.enable()),d(y,e,!1,!0),T[e]=y,i({global:!0,forced:!0},T),_||n.setStrong(y,e,w),y}},function(e,t,n){e.exports=n.p+"image/9f6ab8eab943b2104f26ba63b09774ca.png"},function(e,t,n){var i={"./MobileStyle/measuresStyle.scss":644,"./PCStyle/measuresStyle.scss":646};function r(e){return e=a(e),n(e)}function a(e){if(n.o(i,e))return i[e];throw(e=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",e}r.keys=function(){return Object.keys(i)},r.resolve=a,(e.exports=r).id=172},function(e,t,n){var i={"./MobileStyle/d3measure.scss":658,"./PCStyle/d3measure.scss":660};function r(e){return e=a(e),n(e)}function a(e){if(n.o(i,e))return i[e];throw(e=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",e}r.keys=function(){return Object.keys(i)},r.resolve=a,(e.exports=r).id=173},function(e,t,n){e.exports=n(484)},function(e,t,n){e.exports=n(502)},function(e,t,n){e.exports=n(510)},function(e,t,n){"use strict";function i(){return window.localStorage.getItem("hhlottoken")}function r(){return window.localStorage.getItem("jnpf_token")}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n(251)},,function(e,t,n){var i=n(256);n(67),e.exports=i},function(e,t,n){"use strict";var i=n(17),r=n(22),a=n(90),o=n(34),s=n(55),l=n(61),c=n(186),u=n(110),h=n(157),d=n(111),f=n(35),p=(n=n(97),f("isConcatSpreadable"));f=51<=n||!r((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),n=d("concat");i({target:"Array",proto:!0,arity:1,forced:!f||!n},{concat:function(e){for(var t,n,i,r,d,f=s(this),m=h(f,0),v=0,g=-1,y=arguments.length;g<y;g++)if(d=void 0,o(r=i=-1===g?f:arguments[g])&&(void 0!==(d=r[p])?d:a(r)))for(n=l(i),c(v+n),t=0;t<n;t++,v++)t in i&&u(m,v,i[t]);else c(v+1),u(m,v++,i);return m.length=v,m}})},function(e,t){var n="object"==typeof document&&document.all;e.exports={all:n,IS_HTMLDDA:void 0===n&&void 0!==n}},function(e,t,n){n=n(96),e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){var i=n(42),r=n(22),a=n(156);e.exports=!i&&!r((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){function i(e,t){return(e=l[s(e)])==u||e!=c&&(a(t)?r(t):!!t)}var r=n(22),a=n(38),o=/#|\.prototype\./,s=i.normalize=function(e){return String(e).replace(o,".").toLowerCase()},l=i.data={},c=i.NATIVE="N",u=i.POLYFILL="P";e.exports=i},function(e,t,n){var i=n(42);n=n(22);e.exports=i&&n((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},function(e,t){var n=TypeError;e.exports=function(e){if(9007199254740991<e)throw n("Maximum allowed index exceeded");return e}},function(e,t,n){var i=n(26),r=n(38),a=(n=n(155),i(Function.toString));r(n.inspectSource)||(n.inspectSource=function(e){return a(e)}),e.exports=n.inspectSource},function(e,t,n){var i=n(26),r=n(39),a=n(64),o=n(160).indexOf,s=n(113),l=i([].push);e.exports=function(e,t){var n,i=a(e),c=0,u=[];for(n in i)!r(s,n)&&r(i,n)&&l(u,n);for(;t.length>c;)!r(i,n=t[c++])||~o(u,n)||l(u,n);return u}},function(e,t,n){n=n(52),e.exports=n("document","documentElement")},function(e,t,n){var i=n(77),r=n(64),a=n(134).f,o=n(162),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){if(!s||"Window"!=i(e))return a(r(e));try{return a(e)}catch(e){return o(s)}}},function(e,t,n){var i=n(43),r=n(52),a=n(35),o=n(65);e.exports=function(){var e,t=(e=(e=r("Symbol"))&&e.prototype)&&e.valueOf,n=a("toPrimitive");e&&!e[n]&&o(e,n,(function(e){return i(t,this)}),{arity:1})}},function(e,t,n){var i=n(29);n=n(38),i=i.WeakMap;e.exports=n(i)&&/native code/.test(String(i))},function(e,t,n){n=n(96),e.exports=n&&!!Symbol.for&&!!Symbol.keyFor},function(e,t,n){function i(e,t){var n=m(arguments),i=t;if((f(t)||void 0!==e)&&!p(e))return h(t)||(t=function(e,t){if(d(i)&&(t=l(i,this,e,t)),!p(t))return t}),n[1]=t,s(v,null,n)}function r(e,t,n){var i=y(n,t-1);n=y(n,t+1);return g(M,e)&&!g(S,n)||g(S,e)&&!g(M,i)?"\\u"+w(x(e,0),16):e}var a=n(17),o=n(52),s=n(89),l=n(43),c=n(26),u=n(22),h=n(90),d=n(38),f=n(34),p=n(129),m=n(114),v=(n=n(96),o("JSON","stringify")),g=c(/./.exec),y=c("".charAt),x=c("".charCodeAt),b=c("".replace),w=c(1..toString),_=/[\uD800-\uDFFF]/g,M=/^[\uD800-\uDBFF]$/,S=/^[\uDC00-\uDFFF]$/,E=!n||u((function(){var e=o("Symbol")();return"[null]"!=v([e])||"{}"!=v({a:e})||"{}"!=v(Object(e))})),T=u((function(){return'"\\udf06\\ud834"'!==v("\udf06\ud834")||'"\\udead"'!==v("\udead")}));v&&a({target:"JSON",stat:!0,arity:3,forced:E||T},{stringify:function(e,t,n){var a=m(arguments);a=s(E?i:v,null,a);return T&&"string"==typeof a?b(a,_,r):a}})},function(e,t,n){n(40)("iterator")},function(e,t,n){var i=n(40);n=n(191);i("toPrimitive"),n()},function(e,t,n){var i=n(42),r=(n=n(39),Function.prototype),a=i&&Object.getOwnPropertyDescriptor,o=(n=n(r,"name"))&&"something"===function(){}.name;i=n&&(!i||a(r,"name").configurable);e.exports={EXISTS:n,PROPER:o,CONFIGURABLE:i}},function(e,t,n){"use strict";function i(){return this}var r=n(199).IteratorPrototype,a=n(81),o=n(78),s=n(72),l=n(100);e.exports=function(e,t,n,c){return t+=" Iterator",e.prototype=a(r,{next:o(+!c,n)}),s(e,t,!1,!0),l[t]=i,e}},function(e,t,n){"use strict";var i,r,a=n(22),o=n(38),s=n(34),l=n(81),c=n(116),u=n(65),h=n(35),d=(n=n(62),h("iterator"));h=!1;[].keys&&("next"in(r=[].keys())?(c=c(c(r)))!==Object.prototype&&(i=c):h=!0),!s(i)||a((function(){var e={};return i[d].call(e)!==e}))?i={}:n&&(i=l(i)),o(i[d])||u(i,d,(function(){return this})),e.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:h}},function(e,t,n){n=n(22),e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,n){function i(e){return function(t,n){t=o(s(t)),n=a(n);var i,r=t.length;return n<0||r<=n?e?"":void 0:(i=c(t,n))<55296||56319<i||n+1===r||(r=c(t,n+1))<56320||57343<r?e?l(t,n):i:e?u(t,n,n+2):r-56320+(i-55296<<10)+65536}}var r=n(26),a=n(99),o=n(56),s=n(94),l=r("".charAt),c=r("".charCodeAt),u=r("".slice);e.exports={codeAt:i(!1),charAt:i(!0)}},function(e,t,n){n=n(291),e.exports=n},function(e,t,n){n=n(293),e.exports=n},function(e,t,n){n=n(296),e.exports=n},function(e,t,n){"use strict";var i=n(69),r=n(43),a=n(55),o=n(298),s=n(207),l=n(131),c=n(61),u=n(110),h=n(165),d=n(117),f=Array;e.exports=function(e){var t,n,p,m,v,g,y,x=a(e),b=(e=l(this),1<(y=arguments.length)?arguments[1]:void 0),w=void 0!==b,_=0;if(!(y=(w&&(b=i(b,2<y?arguments[2]:void 0)),d(x)))||this===f&&s(y))for(t=c(x),n=e?new this(t):f(t);_<t;_++)g=w?b(x[_],_):x[_],u(n,_,g);else for(v=(m=h(x,y)).next,n=e?new this:[];!(p=r(v,m)).done;_++)g=w?o(m,b,[p.value,_],!0):p.value,u(n,_,g);return n.length=_,n}},function(e,t,n){var i=n(43),r=n(50),a=n(154);e.exports=function(e,t,n){var o,s;r(e);try{if(!(o=a(e,"return"))){if("throw"===t)throw n;return n}o=i(o,e)}catch(e){s=!0,o=e}if("throw"===t)throw n;if(s)throw o;return r(o),n}},function(e,t,n){var i=n(35),r=n(100),a=i("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[a]===e)}},function(e,t,n){var i=n(35)("iterator"),r=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){r=!0}};o[i]=function(){return this},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var a={};a[i]=function(){return{next:function(){return{done:n=!0}}}},e(a)}catch(e){}return n}},function(e,t,n){n(300),n(302)},function(e,t,n){"use strict";var i=n(29),r=n(89),a=n(38),o=n(301),s=n(79),l=n(114),c=n(138),u=i.Function,h=/MSIE .\./.test(s)||o&&((n=i.Bun.version.split(".")).length<3||0==n[0]&&(n[1]<3||3==n[1]&&0==n[2]));e.exports=function(e,t){var n=t?2:1;return h?function(i,o){var s=c(arguments.length,1)>n,h=a(i)?i:u(i),d=s?l(arguments,n):[];i=s?function(){r(h,this,d)}:h;return t?e(i,o):e(i)}:e}},function(e,t,n){"use strict";var i=n(98),r=TypeError;e.exports=function(e,t){if(!delete e[t])throw r("Cannot delete property "+i(t)+" of "+i(e))}},function(e,t,n){n(67);var i=n(71),r=n(39),a=n(33),o=n(323),s=Array.prototype,l={DOMTokenList:!0,NodeList:!0};e.exports=function(e){var t=e.forEach;return e===s||a(s,e)&&t===s.forEach||r(l,i(e))?o:t}},function(e,t,n){"use strict";var i=n(26),r=n(60),a=n(34),o=n(39),s=n(114),l=(n=n(108),Function),c=i([].concat),u=i([].join),h={};e.exports=n?l.bind:function(e){var t=r(this),n=t.prototype,i=s(arguments,1),d=function(){var n=c(i,s(arguments));if(this instanceof d){var r=t,a=n.length,f=n;if(!o(h,a)){for(var p=[],m=0;m<a;m++)p[m]="a["+m+"]";h[a]=l("C,a","return new C("+u(p,",")+")")}return h[a](r,f)}return t.apply(e,n)};return a(n)&&(d.prototype=n),d}},function(e,t,n){var i=n(131),r=n(98),a=TypeError;e.exports=function(e){if(i(e))return e;throw a(r(e)+" is not a constructor")}},function(e,t,n){e.exports=n(330)},function(e,t,n){var i=n(333);n(67),e.exports=i},function(e,t,n){n(334)},function(e,t,n){"use strict";var i=n(52),r=n(54),a=n(35),o=n(42),s=a("species");e.exports=function(e){e=i(e);var t=r.f;o&&e&&!e[s]&&t(e,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){var i=n(50),r=n(214),a=n(95),o=n(35)("species");e.exports=function(e,t){return void 0===(e=i(e).constructor)||a(e=i(e)[o])?t:r(e)}},function(e,t,n){var i,r,a=n(29),o=n(89),s=n(69),l=n(38),c=n(39),u=n(22),h=n(189),d=n(114),f=n(156),p=n(138),m=n(221),v=(n=n(118),a.setImmediate),g=a.clearImmediate,y=a.process,x=a.Dispatch,b=a.Function,w=a.MessageChannel,_=a.String,M=0,S={},E="onreadystatechange";try{i=a.location}catch(e){}function T(e){return function(){L(e)}}function C(e){L(e.data)}function A(e){a.postMessage(_(e),i.protocol+"//"+i.host)}var L=function(e){var t;c(S,e)&&(t=S[e],delete S[e],t())};v&&g||(v=function(e){p(arguments.length,1);var t=l(e)?e:b(e),n=d(arguments,1);return S[++M]=function(){o(t,void 0,n)},r(M),M},g=function(e){delete S[e]},n?r=function(e){y.nextTick(T(e))}:x&&x.now?r=function(e){x.now(T(e))}:w&&!m?(m=(n=new w).port2,n.port1.onmessage=C,r=s(m.postMessage,m)):a.addEventListener&&l(a.postMessage)&&!a.importScripts&&i&&"file:"!==i.protocol&&!u(A)?(r=A,a.addEventListener("message",C,!1)):r=E in f("script")?function(e){h.appendChild(f("script"))[E]=function(){h.removeChild(this),L(e)}}:function(e){setTimeout(T(e),0)}),e.exports={set:v,clear:g}},function(e,t,n){n=n(79),e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},function(e,t){e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},function(e,t,n){var i=n(104),r=n(208);n=n(119).CONSTRUCTOR;e.exports=n||!r((function(e){i.all(e).then(void 0,(function(){}))}))},function(e,t,n){var i=n(50),r=n(34),a=n(83);e.exports=function(e,t){return i(e),r(t)&&t.constructor===e?t:((0,(e=a.f(e)).resolve)(t),e.promise)}},function(e,t,n){"use strict";var i=n(17),r=n(43),a=n(60),o=n(83),s=n(103),l=n(82);i({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=o.f(t),i=n.resolve,c=n.reject,u=s((function(){var n=a(t.resolve),o=[],s=0,c=1;l(e,(function(e){var a=s++,l=!1;c++,r(n,t,e).then((function(e){l||(l=!0,o[a]={status:"fulfilled",value:e},--c)||i(o)}),(function(e){l||(l=!0,o[a]={status:"rejected",reason:e},--c)||i(o)}))})),--c||i(o)}));return u.error&&c(u.value),n.promise}})},function(e,t,n){"use strict";var i=n(17),r=n(43),a=n(60),o=n(52),s=n(83),l=n(103),c=n(82),u="No one promise resolved";i({target:"Promise",stat:!0},{any:function(e){var t=this,n=o("AggregateError"),i=s.f(t),h=i.resolve,d=i.reject,f=l((function(){var i=a(t.resolve),o=[],s=0,l=1,f=!1;c(e,(function(e){var a=s++,c=!1;l++,r(i,t,e).then((function(e){c||f||(f=!0,h(e))}),(function(e){c||f||(c=!0,o[a]=e,--l)||d(new n(o,u))}))})),--l||d(new n(o,u))}));return f.error&&d(f.value),i.promise}})},function(e,t,n){n=n(362),e.exports=n},function(e,t,n){var i=n(92).default,r=n(381);e.exports=function(e){return e=r(e,"string"),"symbol"===i(e)?e:String(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){e.exports=n(390)},function(e,t,n){var i=n(231),r=n(232),a=n(233);e.exports=function(e,t){var n;if(e)return"string"==typeof e?a(e,t):"Map"===(n="Object"===(n=i(n=Object.prototype.toString.call(e)).call(n,8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?r(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){e.exports=n(394)},function(e,t,n){e.exports=n(397)},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){n=n(412),e.exports=n},function(e,t,n){e.exports=n(429)},function(e,t,n){e.exports=n(435)},function(e,t,n){n=n(438),e.exports=n},function(e,t,n){n=n(450),e.exports=n},function(e,t,n){"use strict";var i=n(42),r=n(26),a=n(43),o=n(22),s=n(132),l=n(135),c=n(153),u=n(55),h=n(127),d=Object.assign,f=Object.defineProperty,p=r([].concat);e.exports=!d||o((function(){var e,t,n,r;return!(!i||1===d({b:1},d(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)||(t={},r="abcdefghijklmnopqrst",(e={})[n=Symbol()]=7,r.split("").forEach((function(e){t[e]=e})),7!=d({},e)[n])||s(d({},t)).join("")!=r}))?function(e,t){for(var n=u(e),r=arguments.length,o=1,d=l.f,f=c.f;o<r;)for(var m,v=h(arguments[o++]),g=d?p(s(v),d(v)):s(v),y=g.length,x=0;x<y;)m=g[x++],i&&!a(f,v,m)||(n[m]=v[m]);return n}:d},function(e,t,n){var i=n(162),r=Math.floor;e.exports=function e(t,n){var a=t.length,o=r(a/2);if(a<8){for(var s,l,c=t,u=n,h=c.length,d=1;d<h;){for(s=c[l=d];l&&0<u(c[l-1],s);)c[l]=c[--l];l!==d++&&(c[l]=s)}return c}for(var f=t,p=e(i(t,0,o),n),m=e(i(t,o),n),v=n,g=p.length,y=m.length,x=0,b=0;x<g||b<y;)f[x+b]=x<g&&b<y?v(p[x],m[b])<=0?p[x++]:m[b++]:x<g?p[x++]:m[b++];return f}},function(e,t,n){"use strict";var i=n(54).f,r=n(81),a=n(142),o=n(69),s=n(102),l=n(95),c=n(82),u=n(163),h=n(164),d=n(218),f=n(42),p=n(120).fastKey,m=(n=n(66)).set,v=n.getterFor;e.exports={getConstructor:function(e,t,n,u){function h(e,t,n){var i,r=y(e),a=d(e,t);return a?a.value=n:(r.last=a={index:i=p(t,!0),key:t,value:n,previous:t=r.last,next:void 0,removed:!1},r.first||(r.first=a),t&&(t.next=a),f?r.size++:e.size++,"F"!==i&&(r.index[i]=a)),e}function d(e,t){e=y(e);var n,i=p(t);if("F"!==i)return e.index[i];for(n=e.first;n;n=n.next)if(n.key==t)return n}var g=(e=e((function(e,i){s(e,g),m(e,{type:t,index:r(null),first:void 0,last:void 0,size:0}),f||(e.size=0),l(i)||c(i,e[u],{that:e,AS_ENTRIES:n})}))).prototype,y=v(t);return a(g,{clear:function(){for(var e=y(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,f?e.size=0:this.size=0},delete:function(e){var t,n,i=y(this);return(e=d(this,e))&&(t=e.next,n=e.previous,delete i.index[e.index],e.removed=!0,n&&(n.next=t),t&&(t.previous=n),i.first==e&&(i.first=t),i.last==e&&(i.last=n),f?i.size--:this.size--),!!e},forEach:function(e){for(var t,n=y(this),i=o(e,1<arguments.length?arguments[1]:void 0);t=t?t.next:n.first;)for(i(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!d(this,e)}}),a(g,n?{get:function(e){return(e=d(this,e))&&e.value},set:function(e,t){return h(this,0===e?0:e,t)}}:{add:function(e){return h(this,e=0===e?0:e,e)}}),f&&i(g,"size",{get:function(){return y(this).size}}),e},setStrong:function(e,t,n){var i=t+" Iterator",r=v(t),a=v(i);u(e,t,(function(e,t){m(this,{type:i,target:e,state:r(e),kind:t,last:void 0})}),(function(){for(var e=a(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?h("keys"==t?n.key:"values"==t?n.value:[n.key,n.value],!1):(e.target=void 0,h(void 0,!0))}),n?"entries":"values",!n,!0),d(t)}}},function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var i=n(548),r=n(549),a=n(550);function o(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(e=null===e?new l(t):e).length=t,e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"!=typeof e)return c(this,e,t,n);if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}function c(e,t,n,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer){var r=e,o=t,c=n;if(o.byteLength,c<0||o.byteLength<c)throw new RangeError("'offset' is out of bounds");if(o.byteLength<c+(i||0))throw new RangeError("'length' is out of bounds");return o=void 0===c&&void 0===i?new Uint8Array(o):void 0===i?new Uint8Array(o,c):new Uint8Array(o,c,i),l.TYPED_ARRAY_SUPPORT?(r=o).__proto__=l.prototype:r=d(r,o),r}if("string"!=typeof t){if(c=e,i=t,l.isBuffer(i))return 0!==(c=s(c,o=0|f(i.length))).length&&i.copy(c,0,0,o),c;if(i){if("undefined"!=typeof ArrayBuffer&&i.buffer instanceof ArrayBuffer||"length"in i)return"number"!=typeof i.length||function(e){return e!=e}(i.length)?s(c,0):d(c,i);if("Buffer"===i.type&&a(i.data))return d(c,i.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}if(r=e,i=t,e=n,l.isEncoding(e="string"==typeof e&&""!==e?e:"utf8"))return(i=(r=s(r,t=0|p(i,e))).write(i,e))!==t?r.slice(0,i):r;throw new TypeError('"encoding" must be a valid string encoding')}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(u(t),e=s(e,t<0?0:0|f(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|f(t.length);e=s(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function f(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function p(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;var n=(e="string"!=typeof e?""+e:e).length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return k(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return D(e).length;default:if(i)return k(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,n){var r,a=!1;if((t=void 0===t||t<0?0:t)>this.length)return"";if((n=void 0===n||n>this.length?this.length:n)<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e=e||"utf8";;)switch(e){case"hex":var o=t,s=n,l=this.length;(!s||s<0||l<s)&&(s=l);for(var c="",u=o=!o||o<0?0:o;u<s;++u)c+=function(e){return e<16?"0"+e.toString(16):e.toString(16)}(this[u]);return c;case"utf8":case"utf-8":return w(this,t,n);case"ascii":l=t;var h=n,d="";h=Math.min(this.length,h);for(var f=l;f<h;++f)d+=String.fromCharCode(127&this[f]);return d;case"latin1":case"binary":o=t;var p=n,m="";p=Math.min(this.length,p);for(var v=o;v<p;++v)m+=String.fromCharCode(this[v]);return m;case"base64":return g=this,r=n,0===(y=t)&&r===g.length?i.fromByteArray(g):i.fromByteArray(g.slice(y,r));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var g=t,y=n,x=this.slice(g,y),b="",_=0;_<x.length;_+=2)b+=String.fromCharCode(x[_]+256*x[_+1]);return b;default:if(a)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}function v(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function g(e,t,n,i,r){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,(n=(n=isNaN(n)?r?0:e.length-1:n)<0?e.length+n:n)>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=l.from(t,i)),l.isBuffer(t))return 0===t.length?-1:y(e,t,n,i,r);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?(r?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(e,t,n):y(e,[t],n,i,r);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,i,r){var a=1,o=e.length,s=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;o/=a=2,s/=2,n/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(r)for(var c=-1,u=n;u<o;u++)if(l(e,u)===l(t,-1===c?0:u-c)){if(u-(c=-1===c?u:c)+1===s)return c*a}else-1!==c&&(u-=u-c),c=-1;else for(u=n=o<n+s?o-s:n;0<=u;u--){for(var h=!0,d=0;d<s;d++)if(l(e,u+d)!==l(t,d)){h=!1;break}if(h)return u}return-1}function x(e,t,n,i){return I(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,i)}function b(e,t,n,i){return I(function(e,t){for(var n,i,r=[],a=0;a<e.length&&!((t-=2)<0);++a)i=(n=e.charCodeAt(a))>>8,r.push(n%256),r.push(i);return r}(t,e.length-n),e,n,i)}function w(e,t,n){n=Math.min(e.length,n);for(var i=[],r=t;r<n;){var a,o,s,l,c=e[r],u=null,h=239<c?4:223<c?3:191<c?2:1;if(r+h<=n)switch(h){case 1:c<128&&(u=c);break;case 2:128==(192&(a=e[r+1]))&&127<(l=(31&c)<<6|63&a)&&(u=l);break;case 3:a=e[r+1],o=e[r+2],128==(192&a)&&128==(192&o)&&2047<(l=(15&c)<<12|(63&a)<<6|63&o)&&(l<55296||57343<l)&&(u=l);break;case 4:a=e[r+1],o=e[r+2],s=e[r+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&65535<(l=(15&c)<<18|(63&a)<<12|(63&o)<<6|63&s)&&l<1114112&&(u=l)}null===u?(u=65533,h=1):65535<u&&(i.push((u-=65536)>>>10&1023|55296),u=56320|1023&u),i.push(u),r+=h}var d=i,f=d.length;if(f<=_)return String.fromCharCode.apply(String,d);for(var p="",m=0;m<f;)p+=String.fromCharCode.apply(String,d.slice(m,m+=_));return p}t.Buffer=l,t.SlowBuffer=function(e){return+e!=e&&(e=0),l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=o(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return c(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol)&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0}),l.alloc=function(e,t,n){return i=null,t=t,n=n,u(e=e),e<=0||void 0===t?s(i,e):"string"==typeof n?s(i,e).fill(t,n):s(i,e).fill(t);var i},l.allocUnsafe=function(e){return h(null,e)},l.allocUnsafeSlow=function(e){return h(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,r=0,a=Math.min(n,i);r<a;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);if(void 0===t)for(r=t=0;r<e.length;++r)t+=e[r].length;for(var n=l.allocUnsafe(t),i=0,r=0;r<e.length;++r){var o=e[r];if(!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0==e?"":0===arguments.length?w(this,0,e):m.apply(this,arguments)},l.prototype.equals=function(e){if(l.isBuffer(e))return this===e||0===l.compare(this,e);throw new TypeError("Argument must be a Buffer")},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return 0<this.length&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n)&&(e+=" ... "),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,i,r){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),(t=void 0===t?0:t)<0||n>e.length||i<0||r>this.length)throw new RangeError("out of range index");if(r<=i&&n<=t)return 0;if(r<=i)return-1;if(n<=t)return 1;if(this===e)return 0;for(var a=(r>>>=0)-(i>>>=0),o=(n>>>=0)-(t>>>=0),s=Math.min(a,o),c=this.slice(i,r),u=e.slice(t,n),h=0;h<s;++h)if(c[h]!==u[h]){a=c[h],o=u[h];break}return a<o?-1:o<a?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},l.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-t;if((void 0===n||r<n)&&(n=r),0<e.length&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i=i||"utf8";for(var a,o,s,l=!1;;)switch(i){case"hex":var c=e,u=t,h=n,d=(u=Number(u)||0,this.length-u);if((!h||d<(h=Number(h)))&&(h=d),(d=c.length)%2!=0)throw new TypeError("Invalid hex string");d/2<h&&(h=d/2);for(var f=0;f<h;++f){var p=parseInt(c.substr(2*f,2),16);if(isNaN(p))return f;this[u+f]=p}return f;case"utf8":case"utf-8":return d=t,s=n,I(k(e,(o=this).length-d),o,d,s);case"ascii":return x(this,e,t,n);case"latin1":case"binary":return x(this,e,t,n);case"base64":return o=this,s=t,a=n,I(D(e),o,s,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,e,t,n);default:if(l)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),l=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var _=4096;function M(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(n<e+t)throw new RangeError("Trying to access beyond buffer length")}function S(e,t,n,i,r,a){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(r<t||t<a)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function E(e,t,n,i){t<0&&(t=65535+t+1);for(var r=0,a=Math.min(e.length-n,2);r<a;++r)e[n+r]=(t&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function T(e,t,n,i){t<0&&(t=4294967295+t+1);for(var r=0,a=Math.min(e.length-n,4);r<a;++r)e[n+r]=t>>>8*(i?r:3-r)&255}function C(e,t,n,i){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function A(e,t,n,i,a){return a||C(e,0,n,4),r.write(e,t,n,i,23,4),n+4}function L(e,t,n,i,a){return a||C(e,0,n,8),r.write(e,t,n,i,52,8),n+8}l.prototype.slice=function(e,t){var n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):n<e&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):n<t&&(t=n),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=l.prototype;else for(var i=t-e,r=new l(i,void 0),a=0;a<i;++a)r[a]=this[a+e];return r},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var i=this[e],r=1,a=0;++a<t&&(r*=256);)i+=this[e+a]*r;return i},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var i=this[e+--t],r=1;0<t&&(r*=256);)i+=this[e+--t]*r;return i},l.prototype.readUInt8=function(e,t){return t||M(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||M(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||M(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||M(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||M(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var i=this[e],r=1,a=0;++a<t&&(r*=256);)i+=this[e+a]*r;return(r*=128)<=i&&(i-=Math.pow(2,8*t)),i},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var i=t,r=1,a=this[e+--i];0<i&&(r*=256);)a+=this[e+--i]*r;return(r*=128)<=a&&(a-=Math.pow(2,8*t)),a},l.prototype.readInt8=function(e,t){return t||M(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){return t||M(e,2,this.length),32768&(t=this[e]|this[e+1]<<8)?4294901760|t:t},l.prototype.readInt16BE=function(e,t){return t||M(e,2,this.length),32768&(t=this[e+1]|this[e]<<8)?4294901760|t:t},l.prototype.readInt32LE=function(e,t){return t||M(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||M(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||M(e,4,this.length),r.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||M(e,4,this.length),r.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||M(e,8,this.length),r.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||M(e,8,this.length),r.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,i){e=+e,t|=0,n|=0,i||S(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,a=0;for(this[t]=255&e;++a<n&&(r*=256);)this[t+a]=e/r&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,i){e=+e,t|=0,n|=0,i||S(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,a=1;for(this[t+r]=255&e;0<=--r&&(a*=256);)this[t+r]=e/a&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||S(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||S(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):E(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||S(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):E(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||S(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):T(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||S(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):T(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,i){e=+e,t|=0,i||S(this,e,t,n,(i=Math.pow(2,8*n-1))-1,-i);var r=0,a=1,o=0;for(this[t]=255&e;++r<n&&(a*=256);)e<0&&0===o&&0!==this[t+r-1]&&(o=1),this[t+r]=(e/a>>0)-o&255;return t+n},l.prototype.writeIntBE=function(e,t,n,i){e=+e,t|=0,i||S(this,e,t,n,(i=Math.pow(2,8*n-1))-1,-i);var r=n-1,a=1,o=0;for(this[t+r]=255&e;0<=--r&&(a*=256);)e<0&&0===o&&0!==this[t+r+1]&&(o=1),this[t+r]=(e/a>>0)-o&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||S(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&(e=e<0?255+e+1:e),t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||S(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):E(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||S(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):E(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||S(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):T(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||S(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):T(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return A(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return A(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return L(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return L(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,i){if(n=n||0,i||0===i||(i=this.length),t>=e.length&&(t=e.length),(i=0<i&&i<n?n:i)===n)return 0;if(0===e.length||0===this.length)return 0;if((t=t||0)<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length);var r,a=(i=e.length-t<i-n?e.length-t+n:i)-n;if(this===e&&n<t&&t<i)for(r=a-1;0<=r;--r)e[r+t]=this[r+n];else if(a<1e3||!l.TYPED_ARRAY_SUPPORT)for(r=0;r<a;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},l.prototype.fill=function(e,t,n,i){if("string"==typeof e){var r;if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===e.length&&(r=e.charCodeAt(0))<256&&(e=r),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!l.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(!(n<=t))if(t>>>=0,n=void 0===n?this.length:n>>>0,"number"==typeof(e=e||0))for(s=t;s<n;++s)this[s]=e;else for(var a=l.isBuffer(e)?e:k(new l(e,i).toString()),o=a.length,s=0;s<n-t;++s)this[s+t]=a[s%o];return this};var P=/[^+\/0-9A-Za-z-_]/g;function k(e,t){t=t||1/0;for(var n,i=e.length,r=null,a=[],o=0;o<i;++o){if(55295<(n=e.charCodeAt(o))&&n<57344){if(!r){if(56319<n){-1<(t-=3)&&a.push(239,191,189);continue}if(o+1===i){-1<(t-=3)&&a.push(239,191,189);continue}r=n;continue}if(n<56320){-1<(t-=3)&&a.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&-1<(t-=3)&&a.push(239,191,189);if(r=null,n<128){if(--t<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function D(e){return i.toByteArray(function(e){var t;if((e=((t=e).trim?t.trim():t.replace(/^\s+|\s+$/g,"")).replace(P,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function I(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}}).call(this,n(88))},function(e,t,n){(function(e){var i=void 0!==e&&e||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function a(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new a(r.call(setTimeout,i,arguments),clearTimeout)},t.setInterval=function(){return new a(r.call(setInterval,i,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(i,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(551),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(88))},function(e,t,n){"use strict";t.__esModule=!0,t.isInContainer=t.getScrollContainer=t.isScroll=t.getStyle=t.once=t.off=t.on=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=((n=n=(t.hasClass=d,t.addClass=function(e,t){if(e){for(var n=e.className,i=(t||"").split(" "),r=0,a=i.length;r<a;r++){var o=i[r];o&&(e.classList?e.classList.add(o):d(e,o)||(n+=" "+o))}e.classList||e.setAttribute("class",n)}},t.removeClass=function(e,t){if(e&&t){for(var n=t.split(" "),i=" "+e.className+" ",r=0,a=n.length;r<a;r++){var o=n[r];o&&(e.classList?e.classList.remove(o):d(e,o)&&(i=i.replace(" "+o+" "," ")))}e.classList||e.setAttribute("class",l(i))}},t.setStyle=function e(t,n,r){if(t&&n)if("object"===(void 0===n?"undefined":i(n)))for(var a in n)n.hasOwnProperty(a)&&e(t,a,n[a]);else"opacity"===(n=c(n))&&s<9?t.style.filter=isNaN(r)?"":"alpha(opacity="+100*r+")":t.style[n]=r},n(57)))&&n.__esModule?n:{default:n}).default.prototype.$isServer,a=/([\:\-\_]+(.))/g,o=/^moz([A-Z])/,s=r?0:Number(document.documentMode),l=function(e){return(e||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")},c=function(e){return e.replace(a,(function(e,t,n,i){return i?n.toUpperCase():n})).replace(o,"Moz$1")},u=t.on=!r&&document.addEventListener?function(e,t,n){e&&t&&n&&e.addEventListener(t,n,!1)}:function(e,t,n){e&&t&&n&&e.attachEvent("on"+t,n)},h=t.off=!r&&document.removeEventListener?function(e,t,n){e&&t&&e.removeEventListener(t,n,!1)}:function(e,t,n){e&&t&&e.detachEvent("on"+t,n)};function d(e,t){if(!e||!t)return!1;if(-1!==t.indexOf(" "))throw new Error("className should not contain space.");return e.classList?e.classList.contains(t):-1<(" "+e.className+" ").indexOf(" "+t+" ")}t.once=function(e,t,n){u(e,t,(function i(){n&&n.apply(this,arguments),h(e,t,i)}))};var f=t.getStyle=s<9?function(e,t){if(!r){if(!e||!t)return null;"float"===(t=c(t))&&(t="styleFloat");try{if("opacity"===t)try{return e.filters.item("alpha").opacity/100}catch(e){return 1}return e.style[t]||e.currentStyle?e.currentStyle[t]:null}catch(n){return e.style[t]}}}:function(e,t){if(!r){if(!e||!t)return null;"float"===(t=c(t))&&(t="cssFloat");try{var n=document.defaultView.getComputedStyle(e,"");return e.style[t]||n?n[t]:null}catch(n){return e.style[t]}}},p=t.isScroll=function(e,t){if(!r)return f(e,null!=t?t?"overflow-y":"overflow-x":"overflow").match(/(scroll|auto|overlay)/)};t.getScrollContainer=function(e,t){if(!r){for(var n=e;n;){if([window,document,document.documentElement].includes(n))return window;if(p(n,t))return n;n=n.parentNode}return n}},t.isInContainer=function(e,t){var n;return!(r||!e||!t)&&(e=e.getBoundingClientRect(),n=void 0,n=[window,document,document.documentElement,null,void 0].includes(t)?{top:0,right:window.innerWidth,bottom:window.innerHeight,left:0}:t.getBoundingClientRect(),e.top<n.bottom)&&e.bottom>n.top&&e.right>n.left&&e.left<n.right}},function(e,t,n){"use strict";t.__esModule=!0,t.isDefined=t.isUndefined=t.isFunction=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=(n=(n=n=(t.isString=function(e){return"[object String]"===Object.prototype.toString.call(e)},t.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},t.isHtmlElement=function(e){return e&&e.nodeType===Node.ELEMENT_NODE},n(57)))&&n.__esModule?n:{default:n},function(e){return e&&"[object Function]"==={}.toString.call(e)});"object"===("undefined"==typeof Int8Array?"undefined":i(Int8Array))||!n.default.prototype.$isServer&&"function"==typeof document.childNodes||(t.isFunction=r=function(e){return"function"==typeof e||!1}),t.isFunction=r,t.isUndefined=function(e){return void 0===e},t.isDefined=function(e){return null!=e}},function(e,t,n){var i=n(22),r=n(35),a=n(62),o=r("iterator");e.exports=!i((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,i){t.delete("b"),n+=i+e})),a&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},function(e,t,n){"use strict";function i(e){var t;return g?(t=j(p,e))&&t.value:p[e]}function r(e){try{return Q(e)}catch(t){return e}}function a(e){var t,n=ne(e,se," "),i=4;try{return Q(n)}catch(e){for(;i;)n=ne(n,(t=i--,le[t-1]||(le[t-1]=$("((?:%[\\da-f]{2}){"+t+"})","gi"))),r);return n}}function o(e){return ue[e]}function s(e){return ne(K(e),ce,o)}function l(e){this.entries=[],this.url=null,void 0!==e&&(P(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===J(e,0)?oe(e,1):e:k(e)))}function c(){S(this,de),U(this,new l(0<arguments.length?arguments[0]:void 0))}n(68);var u,h,d,f=n(17),p=n(29),m=n(43),v=n(26),g=n(42),y=n(246),x=n(65),b=n(142),w=n(72),_=n(198),M=n(66),S=n(102),E=n(38),T=n(39),C=n(69),A=n(71),L=n(50),P=n(34),k=n(56),D=n(81),I=n(78),R=n(165),N=n(117),O=n(138),F=n(35),z=n(240),B=(n=F("iterator"),"URLSearchParams"),H=B+"Iterator",U=M.set,V=M.getterFor(B),G=M.getterFor(H),j=Object.getOwnPropertyDescriptor,W=i("fetch"),X=i("Request"),q=i("Headers"),Y=X&&X.prototype,$=(F=q&&q.prototype,p.RegExp),Z=p.TypeError,Q=p.decodeURIComponent,K=p.encodeURIComponent,J=v("".charAt),ee=v([].join),te=v([].push),ne=v("".replace),ie=v([].shift),re=v([].splice),ae=v("".split),oe=v("".slice),se=/\+/g,le=Array(4),ce=/[!'()~]|%20/g,ue={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},he=_((function(e,t){U(this,{type:H,iterator:R(V(e).entries),kind:t})}),"Iterator",(function(){var e,t=(e=G(this)).kind,n=(e=e.iterator.next()).value;return e.done||(e.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]),e}),!0),de=(l.prototype={type:B,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,i,r,a,o,s=N(e);if(s)for(n=(t=R(e,s)).next;!(i=m(n,t)).done;){if(r=(i=R(L(i.value))).next,(a=m(r,i)).done||(o=m(r,i)).done||!m(r,i).done)throw Z("Expected sequence with length 2");te(this.entries,{key:k(a.value),value:k(o.value)})}else for(var l in e)T(e,l)&&te(this.entries,{key:l,value:k(e[l])})},parseQuery:function(e){if(e)for(var t,n=ae(e,"&"),i=0;i<n.length;)(t=n[i++]).length&&(t=ae(t,"="),te(this.entries,{key:a(ie(t)),value:a(ee(t,"="))}))},serialize:function(){for(var e,t=this.entries,n=[],i=0;i<t.length;)e=t[i++],te(n,s(e.key)+"="+s(e.value));return ee(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}},c.prototype);b(de,{append:function(e,t){O(arguments.length,2);var n=V(this);te(n.entries,{key:k(e),value:k(t)}),n.updateURL()},delete:function(e){O(arguments.length,1);for(var t=V(this),n=t.entries,i=k(e),r=0;r<n.length;)n[r].key===i?re(n,r,1):r++;t.updateURL()},get:function(e){O(arguments.length,1);for(var t=V(this).entries,n=k(e),i=0;i<t.length;i++)if(t[i].key===n)return t[i].value;return null},getAll:function(e){O(arguments.length,1);for(var t=V(this).entries,n=k(e),i=[],r=0;r<t.length;r++)t[r].key===n&&te(i,t[r].value);return i},has:function(e){O(arguments.length,1);for(var t=V(this).entries,n=k(e),i=0;i<t.length;)if(t[i++].key===n)return!0;return!1},set:function(e,t){O(arguments.length,1);for(var n,i=V(this),r=i.entries,a=!1,o=k(e),s=k(t),l=0;l<r.length;l++)(n=r[l]).key===o&&(a?re(r,l--,1):(a=!0,n.value=s));a||te(r,{key:o,value:s}),i.updateURL()},sort:function(){var e=V(this);z(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,n=V(this).entries,i=C(e,1<arguments.length?arguments[1]:void 0),r=0;r<n.length;)i((t=n[r++]).value,t.key,this)},keys:function(){return new he(this,"keys")},values:function(){return new he(this,"values")},entries:function(){return new he(this,"entries")}},{enumerable:!0}),x(de,n,de.entries,{name:"entries"}),x(de,"toString",(function(){return V(this).serialize()}),{enumerable:!0}),w(c,B),f({global:!0,constructor:!0,forced:!y},{URLSearchParams:c}),!y&&E(q)&&(u=v(F.has),h=v(F.set),d=function(e){if(P(e)){var t,n=e.body;if(A(n)===B)return t=e.headers?new q(e.headers):new q,u(t,"content-type")||h(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),D(e,{body:I(0,k(n)),headers:I(0,t)})}return e},E(W)&&f({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return W(e,1<arguments.length?d(arguments[1]):{})}}),E(X))&&((Y.constructor=M=function(e){return S(this,Y),new X(e,1<arguments.length?d(arguments[1]):{})}).prototype=Y,f({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:M})),e.exports={URLSearchParams:c,getState:V}},function(e,t,n){var i={"./MobileStyle/RightClickMenu.scss":678,"./PCStyle/RightClickMenu.scss":680};function r(e){return e=a(e),n(e)}function a(e){if(n.o(i,e))return i[e];throw(e=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",e}r.keys=function(){return Object.keys(i)},r.resolve=a,(e.exports=r).id=248},function(e,t,n){var i=n(389),r=n(393),a=n(230),o=n(400);e.exports=function(e,t){return i(e)||r(e,t)||a(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){e.exports=n(527)},function(e,t,n){e.exports=function(){"use strict";function e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}return function t(n,i){function r(t,r,a){if("undefined"!=typeof document){"number"==typeof(a=e({},i,a)).expires&&(a.expires=new Date(Date.now()+864e5*a.expires)),a.expires&&(a.expires=a.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var s in a)a[s]&&(o+="; "+s,!0!==a[s]&&(o+="="+a[s].split(";")[0]));return document.cookie=t+"="+n.write(r,t)+o}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var t=document.cookie?document.cookie.split("; "):[],i={},r=0;r<t.length;r++){var a=t[r].split("="),o=a.slice(1).join("=");try{var s=decodeURIComponent(a[0]);if(i[s]=n.read(o,s),e===s)break}catch(e){}}return e?i[e]:i}},remove:function(t,n){r(t,"",e({},n,{expires:-1}))},withAttributes:function(n){return t(this.converter,e({},this.attributes,n))},withConverter:function(n){return t(e({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(i)},converter:{value:Object.freeze(n)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}()},function(e,t,n){e.exports=n(573)},function(e,t,n){e.exports=n(580)},function(e,t,n){var i;e.exports=(i=n(57),function(e){var t={};function n(i){var r;return(t[i]||(r=t[i]={i:i,l:!1,exports:{}},e[i].call(r.exports,r,r.exports,n),r.l=!0,r)).exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=51)}([function(e,t){e.exports=i},function(e,t,n){var i=n(4);e.exports=function(e,t,n){return void 0===n?i(e,t,!1):i(e,n,!1!==t)}},function(e,t,n){var i;!function(){"use strict";function r(){}var a={},o=/d{1,4}|M{1,4}|yy(?:yy)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,s="[^\\s]+",l=/\[([^]*?)\]/gm;function c(e,t){for(var n=[],i=0,r=e.length;i<r;i++)n.push(e[i].substr(0,t));return n}function u(e){return function(t,n,i){~(i=i[e].indexOf(n.charAt(0).toUpperCase()+n.substr(1).toLowerCase()))&&(t.month=i)}}function h(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}var d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],f=["January","February","March","April","May","June","July","August","September","October","November","December"],p=c(f,3),m=c(d,3),v=(a.i18n={dayNamesShort:m,dayNames:d,monthNamesShort:p,monthNames:f,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][3<e%10?0:(e-e%10!=10)*e%10]}},{D:function(e){return e.getDay()},DD:function(e){return h(e.getDay())},Do:function(e,t){return t.DoFn(e.getDate())},d:function(e){return e.getDate()},dd:function(e){return h(e.getDate())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return e.getMonth()+1},MM:function(e){return h(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},yy:function(e){return h(String(e.getFullYear()),4).substr(2)},yyyy:function(e){return h(e.getFullYear(),4)},h:function(e){return e.getHours()%12||12},hh:function(e){return h(e.getHours()%12||12)},H:function(e){return e.getHours()},HH:function(e){return h(e.getHours())},m:function(e){return e.getMinutes()},mm:function(e){return h(e.getMinutes())},s:function(e){return e.getSeconds()},ss:function(e){return h(e.getSeconds())},S:function(e){return Math.round(e.getMilliseconds()/100)},SS:function(e){return h(Math.round(e.getMilliseconds()/10),2)},SSS:function(e){return h(e.getMilliseconds(),3)},a:function(e,t){return e.getHours()<12?t.amPm[0]:t.amPm[1]},A:function(e,t){return(e.getHours()<12?t.amPm[0]:t.amPm[1]).toUpperCase()},ZZ:function(e){return(0<(e=e.getTimezoneOffset())?"-":"+")+h(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)}}),g={d:["\\d\\d?",function(e,t){e.day=t}],Do:["\\d\\d?"+s,function(e,t){e.day=parseInt(t,10)}],M:["\\d\\d?",function(e,t){e.month=t-1}],yy:["\\d\\d?",function(e,t){var n=+(""+(new Date).getFullYear()).substr(0,2);e.year=""+(68<t?n-1:n)+t}],h:["\\d\\d?",function(e,t){e.hour=t}],m:["\\d\\d?",function(e,t){e.minute=t}],s:["\\d\\d?",function(e,t){e.second=t}],yyyy:["\\d{4}",function(e,t){e.year=t}],S:["\\d",function(e,t){e.millisecond=100*t}],SS:["\\d{2}",function(e,t){e.millisecond=10*t}],SSS:["\\d{3}",function(e,t){e.millisecond=t}],D:["\\d\\d?",r],ddd:[s,r],MMM:[s,u("monthNamesShort")],MMMM:[s,u("monthNames")],a:[s,function(e,t,n){(t=t.toLowerCase())===n.amPm[0]?e.isPm=!1:t===n.amPm[1]&&(e.isPm=!0)}],ZZ:["[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z",function(e,t){var n;(t=(t+"").match(/([+-]|\d\d)/gi))&&(n=60*t[1]+parseInt(t[2],10),e.timezoneOffset="+"===t[0]?n:-n)}]};g.dd=g.d,g.dddd=g.ddd,g.DD=g.D,g.mm=g.m,g.hh=g.H=g.HH=g.h,g.MM=g.M,g.ss=g.s,g.A=g.a,a.masks={default:"ddd MMM dd yyyy HH:mm:ss",shortDate:"M/D/yy",mediumDate:"MMM d, yyyy",longDate:"MMMM d, yyyy",fullDate:"dddd, MMMM d, yyyy",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},a.format=function(e,t,n){var i=n||a.i18n;if("number"==typeof e&&(e=new Date(e)),"[object Date]"!==Object.prototype.toString.call(e)||isNaN(e.getTime()))throw new Error("Invalid Date in fecha.format");t=a.masks[t]||t||a.masks.default;var r=[];return(t=(t=t.replace(l,(function(e,t){return r.push(t),"@@@"}))).replace(o,(function(t){return t in v?v[t](e,i):t.slice(1,t.length-1)}))).replace(/@@@/g,(function(){return r.shift()}))},a.parse=function(e,t,n){var i=n||a.i18n;if("string"!=typeof t)throw new Error("Invalid format in fecha.parse");if(t=a.masks[t]||t,1e3<e.length)return null;var r={},s=[],c=[],u=(n=(n=(t=t.replace(l,(function(e,t){return c.push(t),"@@@"}))).replace(/[|\\{()[^$+*?.-]/g,"\\$&").replace(o,(function(e){var t;return g[e]?(s.push((t=g[e])[1]),"("+t[0]+")"):e}))).replace(/@@@/g,(function(){return c.shift()})),e.match(new RegExp(n,"i")));if(!u)return null;for(var h=1;h<u.length;h++)s[h-1](r,u[h],i);return t=new Date,!0===r.isPm&&null!=r.hour&&12!=+r.hour?r.hour=+r.hour+12:!1===r.isPm&&12==+r.hour&&(r.hour=0),null!=r.timezoneOffset?(r.minute=+(r.minute||0)-+r.timezoneOffset,new Date(Date.UTC(r.year||t.getFullYear(),r.month||0,r.day||1,r.hour||0,r.minute||0,r.second||0,r.millisecond||0))):new Date(r.year||t.getFullYear(),r.month||0,r.day||1,r.hour||0,r.minute||0,r.second||0,r.millisecond||0)},e.exports?e.exports=a:void 0!==(i=function(){return a}.call(t,n,t,e))&&(e.exports=i)}()},function(e,t,n){"use strict";t.__esModule=!0;var i=o(n(66)),r=o(n(78)),a="function"==typeof r.default&&"symbol"==typeof i.default?function(e){return typeof e}:function(e){return e&&"function"==typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":typeof e};function o(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof r.default&&"symbol"===a(i.default)?function(e){return void 0===e?"undefined":a(e)}:function(e){return e&&"function"==typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":void 0===e?"undefined":a(e)}},function(e,t){e.exports=function(e,t,n,i){var r,a=0;return"boolean"!=typeof t&&(i=n,n=t,t=void 0),function(){var o=this,s=Number(new Date)-a,l=arguments;function c(){a=Number(new Date),n.apply(o,l)}i&&!r&&c(),r&&clearTimeout(r),void 0===i&&e<s?c():!0!==t&&(r=setTimeout(i?function(){r=void 0}:c,void 0===i?e-s:e))}}},function(e,t,n){(function(e,i){var r;(function(){var a,o,s,l="Expected a function",c="__lodash_hash_undefined__",u="__lodash_placeholder__",h=9007199254740991,d=4294967295,f=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],p="[object Arguments]",m="[object Array]",v="[object Boolean]",g="[object Date]",y="[object Error]",x="[object Function]",b="[object GeneratorFunction]",w="[object Map]",_="[object Number]",M="[object Object]",S="[object RegExp]",E="[object Set]",T="[object String]",C="[object Symbol]",A="[object WeakMap]",L="[object ArrayBuffer]",P="[object DataView]",k="[object Float32Array]",D="[object Float64Array]",I="[object Int8Array]",R="[object Int16Array]",N="[object Int32Array]",O="[object Uint8Array]",F="[object Uint8ClampedArray]",z="[object Uint16Array]",B="[object Uint32Array]",H=/\b__p \+= '';/g,U=/\b(__p \+=) '' \+/g,V=/(__e\(.*?\)|\b__t\)) \+\n'';/g,G=/&(?:amp|lt|gt|quot|#39);/g,j=/[&<>"']/g,W=RegExp(G.source),X=RegExp(j.source),q=/<%-([\s\S]+?)%>/g,Y=/<%([\s\S]+?)%>/g,$=/<%=([\s\S]+?)%>/g,Z=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Q=/^\w*$/,K=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,J=/[\\^$.*+?()[\]{}|]/g,ee=RegExp(J.source),te=/^\s+|\s+$/g,ne=/^\s+/,ie=/\s+$/,re=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ae=/\{\n\/\* \[wrapped with (.+)\] \*/,oe=/,? & /,se=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,le=/\\(\\)?/g,ce=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ue=/\w*$/,he=/^[-+]0x[0-9a-f]+$/i,de=/^0b[01]+$/i,fe=/^\[object .+?Constructor\]$/,pe=/^0o[0-7]+$/i,me=/^(?:0|[1-9]\d*)$/,ve=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ge=/($^)/,ye=/['\n\r\u2028\u2029\\]/g,xe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",be="["+(Me="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000")+"]",we="[a-z\\xdf-\\xf6\\xf8-\\xff]",_e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Me="(?:"+we+"|"+(Me="[^\\ud800-\\udfff"+Me+"\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]")+")",Se="[\\ufe0e\\ufe0f]?"+(Se="(?:"+(o="["+xe+"]")+"|"+(s="\\ud83c[\\udffb-\\udfff]")+")?")+"(?:\\u200d(?:"+[Te="[^\\ud800-\\udfff]",He="(?:\\ud83c[\\udde6-\\uddff]){2}",Ue="[\\ud800-\\udbff][\\udc00-\\udfff]"].join("|")+")[\\ufe0e\\ufe0f]?"+Se+")*",Ee="(?:"+["[\\u2700-\\u27bf]",He,Ue].join("|")+")"+Se,Te="(?:"+[Te+o+"?",o,He,Ue,"[\\ud800-\\udfff]"].join("|")+")",Ce=RegExp("['’]","g"),Ae=RegExp(o,"g"),Le=RegExp(s+"(?="+s+")|"+Te+Se,"g"),Pe=RegExp([_e+"?"+we+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[be,_e,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[be,_e+Me,"$"].join("|")+")",_e+"?"+Me+"+(?:['’](?:d|ll|m|re|s|t|ve))?",_e+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",Ee].join("|"),"g"),ke=RegExp("[\\u200d\\ud800-\\udfff"+xe+"\\ufe0e\\ufe0f]"),De=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ie=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Re=-1,Ne={},Oe=(Ne[k]=Ne[D]=Ne[I]=Ne[R]=Ne[N]=Ne[O]=Ne[F]=Ne[z]=Ne[B]=!0,Ne[p]=Ne[m]=Ne[L]=Ne[v]=Ne[P]=Ne[g]=Ne[y]=Ne[x]=Ne[w]=Ne[_]=Ne[M]=Ne[S]=Ne[E]=Ne[T]=Ne[A]=!1,{}),Fe=(Oe[p]=Oe[m]=Oe[L]=Oe[P]=Oe[v]=Oe[g]=Oe[k]=Oe[D]=Oe[I]=Oe[R]=Oe[N]=Oe[w]=Oe[_]=Oe[M]=Oe[S]=Oe[E]=Oe[T]=Oe[C]=Oe[O]=Oe[F]=Oe[z]=Oe[B]=!0,Oe[y]=Oe[x]=Oe[A]=!1,{"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"}),ze=parseFloat,Be=parseInt,He="object"==typeof e&&e&&e.Object===Object&&e,Ue="object"==typeof self&&self&&self.Object===Object&&self,Ve=He||Ue||Function("return this")(),Ge=(o=t&&!t.nodeType&&t)&&"object"==typeof i&&i&&!i.nodeType&&i,je=Ge&&Ge.exports===o,We=je&&He.process,Xe=(s=function(){try{return Ge&&Ge.require&&Ge.require("util").types||We&&We.binding&&We.binding("util")}catch(e){}}())&&s.isArrayBuffer,qe=s&&s.isDate,Ye=s&&s.isMap,$e=s&&s.isRegExp,Ze=s&&s.isSet,Qe=s&&s.isTypedArray;function Ke(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Je(e,t,n,i){for(var r=-1,a=null==e?0:e.length;++r<a;){var o=e[r];t(i,o,n(o),e)}return i}function et(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}function tt(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function nt(e,t){for(var n=-1,i=null==e?0:e.length,r=0,a=[];++n<i;){var o=e[n];t(o,n,e)&&(a[r++]=o)}return a}function it(e,t){return!(null==e||!e.length)&&-1<ft(e,t,0)}function rt(e,t,n){for(var i=-1,r=null==e?0:e.length;++i<r;)if(n(t,e[i]))return!0;return!1}function at(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}function ot(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}function st(e,t,n,i){var r=-1,a=null==e?0:e.length;for(i&&a&&(n=e[++r]);++r<a;)n=t(n,e[r],r,e);return n}function lt(e,t,n,i){var r=null==e?0:e.length;for(i&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function ct(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}var ut=gt("length");function ht(e,t,n){var i;return n(e,(function(e,n,r){if(t(e,n,r))return i=n,!1})),i}function dt(e,t,n,i){for(var r=e.length,a=n+(i?1:-1);i?a--:++a<r;)if(t(e[a],a,e))return a;return-1}function ft(e,t,n){if(t!=t)return dt(e,mt,n);for(var i=e,r=t,a=n-1,o=i.length;++a<o;)if(i[a]===r)return a;return-1}function pt(e,t,n,i){for(var r=n-1,a=e.length;++r<a;)if(i(e[r],t))return r;return-1}function mt(e){return e!=e}function vt(e,t){var n=null==e?0:e.length;return n?bt(e,t)/n:NaN}function gt(e){return function(t){return null==t?a:t[e]}}function yt(e){return function(t){return null==e?a:e[t]}}function xt(e,t,n,i,r){return r(e,(function(e,r,a){n=i?(i=!1,e):t(n,e,r,a)})),n}function bt(e,t){for(var n,i=-1,r=e.length;++i<r;){var o=t(e[i]);o!==a&&(n=n===a?o:n+o)}return n}function wt(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function _t(e){return function(t){return e(t)}}function Mt(e,t){return at(t,(function(t){return e[t]}))}function St(e,t){return e.has(t)}function Et(e,t){for(var n=-1,i=e.length;++n<i&&-1<ft(t,e[n],0););return n}function Tt(e,t){for(var n=e.length;n--&&-1<ft(t,e[n],0););return n}var Ct=yt({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),At=yt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Lt(e){return"\\"+Fe[e]}function Pt(e){return ke.test(e)}function kt(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function Dt(e,t){return function(n){return e(t(n))}}function It(e,t){for(var n=-1,i=e.length,r=0,a=[];++n<i;){var o=e[n];o!==t&&o!==u||(e[n]=u,a[r++]=n)}return a}function Rt(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function Nt(e){return(Pt(e)?function(e){for(var t=Le.lastIndex=0;Le.test(e);)++t;return t}:ut)(e)}function Ot(e){return Pt(e)?e.match(Le)||[]:e.split("")}var Ft=yt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),zt=function e(t){var n=(t=null==t?Ve:zt.defaults(Ve.Object(),t,zt.pick(Ve,Ie))).Array,i=t.Date,r=t.Error,o=t.Function,s=t.Math,xe=t.Object,be=t.RegExp,we=t.String,_e=t.TypeError,Me=n.prototype,Se=o.prototype,Ee=xe.prototype,Te=t["__core-js_shared__"],Le=Se.toString,ke=Ee.hasOwnProperty,Fe=0,He=(Se=/[^.]+$/.exec(Te&&Te.keys&&Te.keys.IE_PROTO||""))?"Symbol(src)_1."+Se:"",Ue=Ee.toString,Ge=Le.call(xe),We=Ve._,ut=be("^"+Le.call(ke).replace(J,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),yt=(Se=je?t.Buffer:a,t.Symbol),Bt=t.Uint8Array,Ht=Se?Se.allocUnsafe:a,Ut=Dt(xe.getPrototypeOf,xe),Vt=xe.create,Gt=Ee.propertyIsEnumerable,jt=Me.splice,Wt=yt?yt.isConcatSpreadable:a,Xt=yt?yt.iterator:a,qt=yt?yt.toStringTag:a,Yt=function(){try{var e=Gr(xe,"defineProperty");return e({},"",{}),e}catch(e){}}(),$t=t.clearTimeout!==Ve.clearTimeout&&t.clearTimeout,Zt=i&&i.now!==Ve.Date.now&&i.now,Qt=t.setTimeout!==Ve.setTimeout&&t.setTimeout,Kt=s.ceil,Jt=s.floor,en=xe.getOwnPropertySymbols,tn=(Se=Se?Se.isBuffer:a,t.isFinite),nn=Me.join,rn=Dt(xe.keys,xe),an=s.max,on=s.min,sn=i.now,ln=t.parseInt,cn=s.random,un=Me.reverse,hn=(i=Gr(t,"DataView"),Gr(t,"Map")),dn=Gr(t,"Promise"),fn=Gr(t,"Set"),pn=(t=Gr(t,"WeakMap"),Gr(xe,"create")),mn=t&&new t,vn={},gn=va(i),yn=va(hn),xn=va(dn),bn=va(fn),wn=va(t),_n=(yt=yt?yt.prototype:a)?yt.valueOf:a,Mn=yt?yt.toString:a;function Sn(e){if(So(e)&&!po(e)&&!(e instanceof Ln)){if(e instanceof An)return e;if(ke.call(e,"__wrapped__"))return ga(e)}return new An(e)}var En=function(e){return Mo(e)?Vt?Vt(e):(Tn.prototype=e,e=new Tn,Tn.prototype=a,e):{}};function Tn(){}function Cn(){}function An(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=a}function Ln(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=d,this.__views__=[]}function Pn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Dn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function In(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Dn;++t<n;)this.add(e[t])}function Rn(e){e=this.__data__=new kn(e),this.size=e.size}function Nn(e,t){var n,i=po(e),r=!i&&fo(e),a=!i&&!r&&yo(e),o=!i&&!r&&!a&&Do(e),s=i||r||a||o,l=s?wt(e.length,we):[],c=l.length;for(n in e)!t&&!ke.call(e,n)||s&&("length"==n||a&&("offset"==n||"parent"==n)||o&&("buffer"==n||"byteLength"==n||"byteOffset"==n)||Zr(n,c))||l.push(n);return l}function On(e){var t=e.length;return t?e[Pi(0,t-1)]:a}function Fn(e,t,n){(n===a||co(e[t],n))&&(n!==a||t in e)||Vn(e,t,n)}function zn(e,t,n){var i=e[t];ke.call(e,t)&&co(i,n)&&(n!==a||t in e)||Vn(e,t,n)}function Bn(e,t){for(var n=e.length;n--;)if(co(e[n][0],t))return n;return-1}function Hn(e,t,n,i){return $n(e,(function(e,r,a){t(i,e,n(e),a)})),i}function Un(e,t){return e&&lr(t,es(t),e)}function Vn(e,t,n){"__proto__"==t&&Yt?Yt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Gn(e,t){for(var i=-1,r=t.length,o=n(r),s=null==e;++i<r;)o[i]=s?a:$o(e,t[i]);return o}function jn(e,t,n){return e==e&&(n!==a&&(e=e<=n?e:n),t!==a)?t<=e?e:t:e}function Wn(e,t,n,i,r,o){var s,l=1&t,c=2&t,u=4&t;if((s=n?r?n(e,i,r,o):n(e):s)===a){if(!Mo(e))return e;var h,d,f;if(i=po(e)){if(y=(d=e).length,f=new d.constructor(y),y&&"string"==typeof d[0]&&ke.call(d,"index")&&(f.index=d.index,f.input=d.input),s=f,!l)return sr(e,s)}else{var m=Xr(e),y=m==x||m==b;if(yo(e))return tr(e,l);if(m==M||m==p||y&&!r){if(s=c||y?{}:Yr(e),!l)return c?(d=e,h=(f=s)&&lr(e,ts(e),f),lr(d,Wr(d),h)):(A=Un(s,h=e),lr(h,jr(h),A))}else{if(!Oe[m])return r?e:{};s=function(e,t){var n,i,r=e.constructor;switch(m){case L:return nr(e);case v:case g:return new r(+e);case P:return n=e,i=t?nr(n.buffer):n.buffer,new n.constructor(i,n.byteOffset,n.byteLength);case k:case D:case I:case R:case N:case O:case F:case z:case B:return ir(e,t);case w:return new r;case _:case T:return new r(e);case S:return(n=new(i=e).constructor(i.source,ue.exec(i))).lastIndex=i.lastIndex,n;case E:return new r;case C:return _n?xe(_n.call(e)):{}}}(e,l)}}var A=(o=o||new Rn).get(e);if(A)return A;o.set(e,s),Lo(e)?e.forEach((function(i){s.add(Wn(i,t,n,i,e,o))})):Eo(e)&&e.forEach((function(i,r){s.set(r,Wn(i,t,n,r,e,o))}));var H=i?a:(u?c?Or:Nr:c?ts:es)(e);et(H||e,(function(i,r){H&&(i=e[r=i]),zn(s,r,Wn(i,t,n,r,e,o))}))}return s}function Xn(e,t,n){var i=n.length;if(null==e)return!i;for(e=xe(e);i--;){var r=n[i],o=t[r],s=e[r];if(s===a&&!(r in e)||!o(s))return!1}return!0}function qn(e,t,n){if("function"!=typeof e)throw new _e(l);return la((function(){e.apply(a,n)}),t)}function Yn(e,t,n,i){var r=-1,a=it,o=!0,s=e.length,l=[],c=t.length;if(s){n&&(t=at(t,_t(n))),i?(a=rt,o=!1):200<=t.length&&(a=St,o=!1,t=new In(t));e:for(;++r<s;){var u=e[r],h=null==n?u:n(u);u=i||0!==u?u:0;if(o&&h==h){for(var d=c;d--;)if(t[d]===h)continue e;l.push(u)}else a(t,h,i)||l.push(u)}}return l}Sn.templateSettings={escape:q,evaluate:Y,interpolate:$,variable:"",imports:{_:Sn}},(Sn.prototype=Cn.prototype).constructor=Sn,(An.prototype=En(Cn.prototype)).constructor=An,(Ln.prototype=En(Cn.prototype)).constructor=Ln,Pn.prototype.clear=function(){this.__data__=pn?pn(null):{},this.size=0},Pn.prototype.delete=function(e){return e=this.has(e)&&delete this.__data__[e],this.size-=e?1:0,e},Pn.prototype.get=function(e){var t,n=this.__data__;return pn?(t=n[e])===c?a:t:ke.call(n,e)?n[e]:a},Pn.prototype.has=function(e){var t=this.__data__;return pn?t[e]!==a:ke.call(t,e)},Pn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=pn&&t===a?c:t,this},kn.prototype.clear=function(){this.__data__=[],this.size=0},kn.prototype.delete=function(e){var t=this.__data__;return!((e=Bn(t,e))<0||(e==t.length-1?t.pop():jt.call(t,e,1),--this.size,0))},kn.prototype.get=function(e){var t=this.__data__;return(e=Bn(t,e))<0?a:t[e][1]},kn.prototype.has=function(e){return-1<Bn(this.__data__,e)},kn.prototype.set=function(e,t){var n=this.__data__,i=Bn(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},Dn.prototype.clear=function(){this.size=0,this.__data__={hash:new Pn,map:new(hn||kn),string:new Pn}},Dn.prototype.delete=function(e){return e=Ur(this,e).delete(e),this.size-=e?1:0,e},Dn.prototype.get=function(e){return Ur(this,e).get(e)},Dn.prototype.has=function(e){return Ur(this,e).has(e)},Dn.prototype.set=function(e,t){var n=Ur(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},In.prototype.add=In.prototype.push=function(e){return this.__data__.set(e,c),this},In.prototype.has=function(e){return this.__data__.has(e)},Rn.prototype.clear=function(){this.__data__=new kn,this.size=0},Rn.prototype.delete=function(e){var t=this.__data__;e=t.delete(e);return this.size=t.size,e},Rn.prototype.get=function(e){return this.__data__.get(e)},Rn.prototype.has=function(e){return this.__data__.has(e)},Rn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof kn){var i=n.__data__;if(!hn||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new Dn(i)}return n.set(e,t),this.size=n.size,this};var $n=hr(ii),Zn=hr(ri,!0);function Qn(e,t){var n=!0;return $n(e,(function(e,i,r){return n=!!t(e,i,r)})),n}function Kn(e,t,n){for(var i=-1,r=e.length;++i<r;){var o,s,l=e[i],c=t(l);null!=c&&(o===a?c==c&&!ko(c):n(c,o))&&(o=c,s=l)}return s}function Jn(e,t){var n=[];return $n(e,(function(e,i,r){t(e,i,r)&&n.push(e)})),n}function ei(e,t,n,i,r){var a=-1,o=e.length;for(n=n||$r,r=r||[];++a<o;){var s=e[a];0<t&&n(s)?1<t?ei(s,t-1,n,i,r):ot(r,s):i||(r[r.length]=s)}return r}var ti=dr(),ni=dr(!0);function ii(e,t){return e&&ti(e,t,es)}function ri(e,t){return e&&ni(e,t,es)}function ai(e,t){return nt(t,(function(t){return bo(e[t])}))}function oi(e,t){for(var n=0,i=(t=Qi(t,e)).length;null!=e&&n<i;)e=e[ma(t[n++])];return n&&n==i?e:a}function si(e,t,n){return t=t(e),po(e)?t:ot(t,n(e))}function li(e){if(null==e)return e===a?"[object Undefined]":"[object Null]";if(qt&&qt in xe(e)){var t=e,n=ke.call(t,qt),i=t[qt];try{t[qt]=a;var r=!0}catch(t){}var o=Ue.call(t);return r&&(n?t[qt]=i:delete t[qt]),o}return Ue.call(e)}function ci(e,t){return t<e}function ui(e,t){return null!=e&&ke.call(e,t)}function hi(e,t){return null!=e&&t in xe(e)}function di(e,t,i){for(var r=i?rt:it,o=e[0].length,s=e.length,l=s,c=n(s),u=1/0,h=[];l--;){var d=e[l];l&&t&&(d=at(d,_t(t))),u=on(d.length,u),c[l]=!i&&(t||120<=o&&120<=d.length)?new In(l&&d):a}d=e[0];var f=-1,p=c[0];e:for(;++f<o&&h.length<u;){var m=d[f],v=t?t(m):m;m=i||0!==m?m:0;if(!(p?St(p,v):r(h,v,i))){for(l=s;--l;){var g=c[l];if(!(g?St(g,v):r(e[l],v,i)))continue e}p&&p.push(v),h.push(m)}}return h}function fi(e,t,n){return null==(t=null==(e=aa(e,t=Qi(t,e)))?e:e[ma(_a(t))])?a:Ke(t,e,n)}function pi(e){return So(e)&&li(e)==p}function mi(e,t,n,i,r){return e===t||(null==e||null==t||!So(e)&&!So(t)?e!=e&&t!=t:function(e,t,n,i,r,o){var s=po(e),l=po(t),c=s?m:Xr(e),u=(l=l?m:Xr(t),(c=c==p?M:c)==M),h=(l=l==p?M:l)==M;if((l=c==l)&&yo(e)){if(!yo(t))return!1;u=!(s=!0)}return l&&!u?(o=o||new Rn,(s||Do(e)?Ir:function(e,t,n,i,r,a){switch(c){case P:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case L:return!(e.byteLength!=t.byteLength||!r(new Bt(e),new Bt(t)));case v:case g:case _:return co(+e,+t);case y:return e.name==t.name&&e.message==t.message;case S:case T:return e==t+"";case w:var o=kt;case E:if(o=o||Rt,e.size!=t.size&&!(1&n))return!1;var s=a.get(e);return s?s==t:(n|=2,a.set(e,t),s=Ir(o(e),o(t),n,i,r,a),a.delete(e),s);case C:if(_n)return _n.call(e)==_n.call(t)}return!1})(e,t,n,i,r,o)):1&n||(s=u&&ke.call(e,"__wrapped__"),u=h&&ke.call(t,"__wrapped__"),!s&&!u)?!!l&&function(e,t,n,i,r,o){var s=1&n,l=Nr(e),c=l.length;if(c!=Nr(t).length&&!s)return!1;for(var u=c;u--;){var h=l[u];if(!(s?h in t:ke.call(t,h)))return!1}var d=o.get(e);if(d&&o.get(t))return d==t;var f=!0;o.set(e,t),o.set(t,e);for(var p,m=s;++u<c;){var v,g=e[h=l[u]],y=t[h];if(!((v=i?s?i(y,g,h,t,e,o):i(g,y,h,e,t,o):v)===a?g===y||r(g,y,n,i,o):v)){f=!1;break}m=m||"constructor"==h}return f&&!m&&(d=e.constructor)!=(p=t.constructor)&&"constructor"in e&&"constructor"in t&&!("function"==typeof d&&d instanceof d&&"function"==typeof p&&p instanceof p)&&(f=!1),o.delete(e),o.delete(t),f}(e,t,n,i,r,o=o||new Rn):r(s?e.value():e,u?t.value():t,n,i,o=o||new Rn)}(e,t,n,i,mi,r))}function vi(e,t,n,i){var r=n.length,o=r,s=!i;if(null==e)return!o;for(e=xe(e);r--;){var l=n[r];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++r<o;){var c=(l=n[r])[0],u=e[c],h=l[1];if(s&&l[2]){if(u===a&&!(c in e))return!1}else{var d,f=new Rn;if(!((d=i?i(u,h,c,e,t,f):d)===a?mi(h,u,3,i,f):d))return!1}}return!0}function gi(e){return!(!Mo(e)||He&&He in e)&&(bo(e)?ut:fe).test(va(e))}function yi(e){return"function"==typeof e?e:null==e?Ts:"object"==typeof e?po(e)?Mi(e[0],e[1]):_i(e):Ns(e)}function xi(e){if(!ta(e))return rn(e);var t,n=[];for(t in xe(e))ke.call(e,t)&&"constructor"!=t&&n.push(t);return n}function bi(e,t){return e<t}function wi(e,t){var i=-1,r=vo(e)?n(e.length):[];return $n(e,(function(e,n,a){r[++i]=t(e,n,a)})),r}function _i(e){var t=Vr(e);return 1==t.length&&t[0][2]?ia(t[0][0],t[0][1]):function(n){return n===e||vi(n,e,t)}}function Mi(e,t){return Kr(e)&&na(t)?ia(ma(e),t):function(n){var i=$o(n,e);return i===a&&i===t?Zo(n,e):mi(t,i,3)}}function Si(e,t,n,i,r){e!==t&&ti(t,(function(o,s){var l,c,u,h,d,f,p,m,v,g,y,x,b;r=r||new Rn,Mo(o)?(c=t,h=n,d=Si,f=i,p=r,y=oa(l=e,u=s),x=oa(c,u),(b=p.get(x))||((c=(b=f?f(y,x,u+"",l,c,p):a)===a)&&(v=!(m=po(x))&&yo(x),g=!m&&!v&&Do(x),b=x,m||v||g?b=po(y)?y:go(y)?sr(y):v?tr(x,!(c=!1)):g?ir(x,!(c=!1)):[]:Co(x)||fo(x)?fo(b=y)?b=Ho(y):Mo(y)&&!bo(y)||(b=Yr(x)):c=!1),c&&(p.set(x,b),d(b,x,h,f,p),p.delete(x))),Fn(l,u,b)):(m=i?i(oa(e,s),o,s+"",e,t,r):a,Fn(e,s,m=m===a?o:m))}),ts)}function Ei(e,t){var n=e.length;if(n)return Zr(t+=t<0?n:0,n)?e[t]:a}function Ti(e,t,n){var i=-1,r=(t=at(t.length?t:[Ts],_t(Hr())),wi(e,(function(e,n,r){return{criteria:at(t,(function(t){return t(e)})),index:++i,value:e}}))),a=r.length;for(r.sort((function(e,t){for(var i=e,r=t,a=n,o=-1,s=i.criteria,l=r.criteria,c=s.length,u=a.length;++o<c;){var h=rr(s[o],l[o]);if(h)return o>=u?h:h*("desc"==a[o]?-1:1)}return i.index-r.index}));a--;)r[a]=r[a].value;return r}function Ci(e,t,n){for(var i=-1,r=t.length,a={};++i<r;){var o=t[i],s=oi(e,o);n(s,o)&&Ii(a,Qi(o,e),s)}return a}function Ai(e,t,n,i){var r=i?pt:ft,a=-1,o=t.length,s=e;for(e===t&&(t=sr(t)),n&&(s=at(e,_t(n)));++a<o;)for(var l=0,c=t[a],u=n?n(c):c;-1<(l=r(s,u,l,i));)s!==e&&jt.call(s,l,1),jt.call(e,l,1);return e}function Li(e,t){for(var n=e?t.length:0,i=n-1;n--;){var r,a=t[n];n!=i&&a===r||(Zr(r=a)?jt.call(e,a,1):Gi(e,a))}}function Pi(e,t){return e+Jt(cn()*(t-e+1))}function ki(e,t){var n="";if(!(!e||t<1||h<t))for(;t%2&&(n+=e),(t=Jt(t/2))&&(e+=e),t;);return n}function Di(e,t){return ca(ra(e,t,Ts),e+"")}function Ii(e,t,n,i){if(Mo(e))for(var r=-1,o=(t=Qi(t,e)).length,s=o-1,l=e;null!=l&&++r<o;){var c,u=ma(t[r]),h=n;zn(l,u,h=r!=s&&(c=l[u],(h=i?i(c,u,l):a)===a)?Mo(c)?c:Zr(t[r+1])?[]:{}:h),l=l[u]}return e}var Ri=mn?function(e,t){return mn.set(e,t),e}:Ts;yt=Yt?function(e,t){return Yt(e,"toString",{configurable:!0,enumerable:!1,value:Ms(t),writable:!0})}:Ts;function Ni(e,t,i){var r=-1,a=e.length;(i=a<i?a:i)<0&&(i+=a),a=i<(t=t<0?a<-t?0:a+t:t)?0:i-t>>>0,t>>>=0;for(var o=n(a);++r<a;)o[r]=e[r+t];return o}function Oi(e,t){var n;return $n(e,(function(e,i,r){return!(n=t(e,i,r))})),!!n}function Fi(e,t,n){var i=0,r=null==e?i:e.length;if("number"==typeof t&&t==t&&r<=2147483647){for(;i<r;){var a=i+r>>>1,o=e[a];null!==o&&!ko(o)&&(n?o<=t:o<t)?i=1+a:r=a}return r}return zi(e,t,Ts,n)}function zi(e,t,n,i){t=n(t);for(var r=0,o=null==e?0:e.length,s=t!=t,l=null===t,c=ko(t),u=t===a;r<o;){var h=Jt((r+o)/2),d=n(e[h]),f=d!==a,p=null===d,m=d==d,v=ko(d);(m=s?i||m:u?m&&(i||f):l?m&&f&&(i||!p):c?m&&f&&!p&&(i||!v):!p&&!v&&(i?d<=t:d<t))?r=h+1:o=h}return on(o,4294967294)}function Bi(e,t){for(var n=-1,i=e.length,r=0,a=[];++n<i;){var o,s=e[n],l=t?t(s):s;n&&co(l,o)||(o=l,a[r++]=0===s?0:s)}return a}function Hi(e){return"number"==typeof e?e:ko(e)?NaN:+e}function Ui(e){var t;return"string"==typeof e?e:po(e)?at(e,Ui)+"":ko(e)?Mn?Mn.call(e):"":"0"==(t=e+"")&&1/e==-1/0?"-0":t}function Vi(e,t,n){var i=-1,r=it,a=e.length,o=!0,s=[],l=s;if(n)o=!1,r=rt;else if(200<=a){var c=t?null:Cr(e);if(c)return Rt(c);o=!1,r=St,l=new In}else l=t?[]:s;e:for(;++i<a;){var u=e[i],h=t?t(u):u;u=n||0!==u?u:0;if(o&&h==h){for(var d=l.length;d--;)if(l[d]===h)continue e;t&&l.push(h),s.push(u)}else r(l,h,n)||(l!==s&&l.push(h),s.push(u))}return s}function Gi(e,t){return null==(e=aa(e,t=Qi(t,e)))||delete e[ma(_a(t))]}function ji(e,t,n,i){return Ii(e,t,n(oi(e,t)),i)}function Wi(e,t,n,i){for(var r=e.length,a=i?r:-1;(i?a--:++a<r)&&t(e[a],a,e););return n?Ni(e,i?0:a,i?a+1:r):Ni(e,i?a+1:0,i?r:a)}function Xi(e,t){var n=e;return st(t,(function(e,t){return t.func.apply(t.thisArg,ot([e],t.args))}),n=e instanceof Ln?e.value():n)}function qi(e,t,i){var r=e.length;if(r<2)return r?Vi(e[0]):[];for(var a=-1,o=n(r);++a<r;)for(var s=e[a],l=-1;++l<r;)l!=a&&(o[a]=Yn(o[a]||s,e[l],t,i));return Vi(ei(o,1),t,i)}function Yi(e,t,n){for(var i=-1,r=e.length,o=t.length,s={};++i<r;){var l=i<o?t[i]:a;n(s,e[i],l)}return s}function $i(e){return go(e)?e:[]}function Zi(e){return"function"==typeof e?e:Ts}function Qi(e,t){return po(e)?e:Kr(e,t)?[e]:pa(Uo(e))}var Ki=Di;function Ji(e,t,n){var i=e.length;return n=n===a?i:n,!t&&i<=n?e:Ni(e,t,n)}var er=$t||function(e){return Ve.clearTimeout(e)};function tr(e,t){return t?e.slice():(t=e.length,t=Ht?Ht(t):new e.constructor(t),e.copy(t),t)}function nr(e){var t=new e.constructor(e.byteLength);return new Bt(t).set(new Bt(e)),t}function ir(e,t){return t=t?nr(e.buffer):e.buffer,new e.constructor(t,e.byteOffset,e.length)}function rr(e,t){if(e!==t){var n=e!==a,i=null===e,r=e==e,o=ko(e),s=t!==a,l=null===t,c=t==t,u=ko(t);if(!l&&!u&&!o&&t<e||o&&s&&c&&!l&&!u||i&&s&&c||!n&&c||!r)return 1;if(!i&&!o&&!u&&e<t||u&&n&&r&&!i&&!o||l&&n&&r||!s&&r||!c)return-1}return 0}function ar(e,t,i,r){for(var a=-1,o=e.length,s=i.length,l=-1,c=t.length,u=an(o-s,0),h=n(c+u),d=!r;++l<c;)h[l]=t[l];for(;++a<s;)(d||a<o)&&(h[i[a]]=e[a]);for(;u--;)h[l++]=e[a++];return h}function or(e,t,i,r){for(var a=-1,o=e.length,s=-1,l=i.length,c=-1,u=t.length,h=an(o-l,0),d=n(h+u),f=!r;++a<h;)d[a]=e[a];for(var p=a;++c<u;)d[p+c]=t[c];for(;++s<l;)(f||a<o)&&(d[p+i[s]]=e[a++]);return d}function sr(e,t){var i=-1,r=e.length;for(t=t||n(r);++i<r;)t[i]=e[i];return t}function lr(e,t,n,i){var r=!n;n=n||{};for(var o=-1,s=t.length;++o<s;){var l=t[o],c=i?i(n[l],e[l],l,n,e):a;(r?Vn:zn)(n,l,c=c===a?e[l]:c)}return n}function cr(e,t){return function(n,i){var r=po(n)?Je:Hn,a=t?t():{};return r(n,e,Hr(i,2),a)}}function ur(e){return Di((function(t,n){var i=-1,r=n.length,o=1<r?n[r-1]:a,s=2<r?n[2]:a;o=3<e.length&&"function"==typeof o?(r--,o):a;for(s&&Qr(n[0],n[1],s)&&(o=r<3?a:o,r=1),t=xe(t);++i<r;){var l=n[i];l&&e(t,l,i,o)}return t}))}function hr(e,t){return function(n,i){if(null!=n){if(!vo(n))return e(n,i);for(var r=n.length,a=t?r:-1,o=xe(n);(t?a--:++a<r)&&!1!==i(o[a],a,o););}return n}}function dr(e){return function(t,n,i){for(var r=-1,a=xe(t),o=i(t),s=o.length;s--;){var l=o[e?s:++r];if(!1===n(a[l],l,a))break}return t}}function fr(e){return function(t){var n=(i=Pt(t=Uo(t))?Ot(t):a)?i[0]:t.charAt(0),i=i?Ji(i,1).join(""):t.slice(1);return n[e]()+i}}function pr(e){return function(t){return st(bs(ds(t).replace(Ce,"")),e,"")}}function mr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=En(e.prototype),i=e.apply(n,t);return Mo(i)?i:n}}function vr(e){return function(t,n,i){var r,o=xe(t);return-1<(n=(vo(t)||(r=Hr(n,3),t=es(t),n=function(e){return r(o[e],e,o)}),e(t,n,i)))?o[r?t[n]:n]:a}}function gr(e){return Rr((function(t){var n=t.length,i=n,r=An.prototype.thru;for(e&&t.reverse();i--;){var o=t[i];if("function"!=typeof o)throw new _e(l);r&&!u&&"wrapper"==zr(o)&&(u=new An([],!0))}for(i=u?i:n;++i<n;)var s=zr(o=t[i]),c="wrapper"==s?Fr(o):a,u=c&&Jr(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?u[zr(c[0])].apply(u,c[3]):1==o.length&&Jr(o)?u[s]():u.thru(o);return function(){var e=arguments,i=e[0];if(u&&1==e.length&&po(i))return u.plant(i).value();for(var r=0,a=n?t[r].apply(this,e):i;++r<n;)a=t[r].call(this,a);return a}}))}function yr(e,t,i,r,o,s,l,c,u,h){var d=128&t,f=1&t,p=2&t,m=24&t,v=512&t,g=p?a:mr(e);return function y(){for(var x,b,w=arguments.length,_=n(w),M=w;M--;)_[M]=arguments[M];return m&&(b=function(e,t){for(var n=e.length,i=0;n--;)e[n]===t&&++i;return i}(_,x=Br(y))),r&&(_=ar(_,r,o,m)),s&&(_=or(_,s,l,m)),w-=b,m&&w<h?(b=It(_,x),Er(e,t,yr,y.placeholder,i,_,b,c,u,h-w)):(x=f?i:this,b=p?x[e]:e,w=_.length,c?_=function(e,t){for(var n=e.length,i=on(t.length,n),r=sr(e);i--;){var o=t[i];e[i]=Zr(o,n)?r[o]:a}return e}(_,c):v&&1<w&&_.reverse(),d&&u<w&&(_.length=u),(b=this&&this!==Ve&&this instanceof y?g||mr(b):b).apply(x,_))}}function xr(e,t){return function(n,i){return n=n,r=e,a=t(i),o={},ii(n,(function(e,t,n){r(o,a(e),t,n)})),o;var r,a,o}}function br(e,t){return function(n,i){var r;if(n===a&&i===a)return t;if(n!==a&&(r=n),i!==a){if(r===a)return i;i=("string"==typeof n||"string"==typeof i?(n=Ui(n),Ui):(n=Hi(n),Hi))(i),r=e(n,i)}return r}}function wr(e){return Rr((function(t){return t=at(t,_t(Hr())),Di((function(n){var i=this;return e(t,(function(e){return Ke(e,i,n)}))}))}))}function _r(e,t){var n=(t=t===a?" ":Ui(t)).length;return n<2?n?ki(t,e):t:(n=ki(t,Kt(e/Nt(t))),Pt(t)?Ji(Ot(n),0,e).join(""):n.slice(0,e))}function Mr(e){return function(t,i,r){r&&"number"!=typeof r&&Qr(t,i,r)&&(i=r=a),t=Oo(t),i===a?(i=t,t=0):i=Oo(i);for(var o=t,s=i,l=r=r===a?t<i?1:-1:Oo(r),c=e,u=-1,h=an(Kt((s-o)/(l||1)),0),d=n(h);h--;)d[c?h:++u]=o,o+=l;return d}}function Sr(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=Bo(t),n=Bo(n)),e(t,n)}}function Er(e,t,n,i,r,o,s,l,c,u){var h=8&t;4&(t=(t|(h?32:64))&~(h?64:32))||(t&=-4),r=[e,t,r,h?o:a,h?s:a,h?a:o,h?a:s,l,c,u],o=n.apply(a,r);return Jr(e)&&sa(o,r),o.placeholder=i,ua(o,e,t)}function Tr(e){var t=s[e];return function(e,n){var i;return e=Bo(e),(n=null==n?0:on(Fo(n),292))&&tn(e)?(i=(Uo(e)+"e").split("e"),+((i=(Uo(t(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))):t(e)}}var Cr=fn&&1/Rt(new fn([,-0]))[1]==1/0?function(e){return new fn(e)}:ks;function Ar(e){return function(t){var n,i,r,a=Xr(t);return a==w?kt(t):a==E?(a=t,i=-1,r=Array(a.size),a.forEach((function(e){r[++i]=[e,e]})),r):at(e(n=t),(function(e){return[e,n[e]]}))}}function Lr(e,t,i,r,o,s,c,h){var d,f,p,m,v,g,y,x,b,w,_,M,S,E,T,C,A,L,P,k,D,I=2&t;if(I||"function"==typeof e)return(d=r?r.length:0)||(t&=-97,r=o=a),c=c===a?c:an(Fo(c),0),h=h===a?h:Fo(h),d-=o?o.length:0,64&t&&(p=r,A=o,r=o=a),p=[e,t,i,r,o,p,A,s,c,h],(f=I?a:Fr(e))&&(A=f,k=(c=(s=p)[1])|(P=A[1]),D=128==P&&8==c||128==P&&256==c&&s[7].length<=A[8]||384==P&&A[7].length<=A[8]&&8==c,k<131||D)&&(1&P&&(s[2]=A[2],k|=1&c?0:4),(D=A[3])&&(L=s[3],s[3]=L?ar(L,D,A[4]):D,s[4]=L?It(s[3],u):A[4]),(D=A[5])&&(L=s[5],s[5]=L?or(L,D,A[6]):D,s[6]=L?It(s[5],u):A[6]),(D=A[7])&&(s[7]=D),128&P&&(s[8]=null==s[8]?A[8]:on(s[8],A[8])),null==s[9]&&(s[9]=A[9]),s[0]=A[0],s[1]=k),e=p[0],t=p[1],i=p[2],r=p[3],o=p[4],!(h=p[9]=p[9]===a?I?0:e.length:an(p[9]-d,0))&&24&t&&(t&=-25),c=t&&1!=t?8==t||16==t?(E=t,T=h,C=mr(S=e),function e(){for(var t=arguments.length,i=n(t),r=t,o=Br(e);r--;)i[r]=arguments[r];return(t-=(o=t<3&&i[0]!==o&&i[t-1]!==o?[]:It(i,o)).length)<T?Er(S,E,yr,e.placeholder,a,i,o,a,a,T-t):Ke(this&&this!==Ve&&this instanceof e?C:S,this,i)}):32!=t&&33!=t||o.length?yr.apply(a,p):(b=i,w=r,_=1&t,M=mr(x=e),function e(){for(var t=-1,i=arguments.length,r=-1,a=w.length,o=n(a+i),s=this&&this!==Ve&&this instanceof e?M:x;++r<a;)o[r]=w[r];for(;i--;)o[r++]=arguments[++t];return Ke(s,_?b:this,o)}):(v=i,g=1&t,y=mr(m=e),function e(){return(this&&this!==Ve&&this instanceof e?y:m).apply(g?v:this,arguments)}),ua((f?Ri:sa)(c,p),e,t);throw new _e(l)}function Pr(e,t,n,i){return e===a||co(e,Ee[n])&&!ke.call(i,n)?t:e}function kr(e,t,n,i,r,o){return Mo(e)&&Mo(t)&&(o.set(t,e),Si(e,t,a,kr,o),o.delete(t)),e}function Dr(e){return Co(e)?a:e}function Ir(e,t,n,i,r,o){var s=1&n,l=e.length,c=t.length;if(l!=c&&!(s&&l<c))return!1;if((c=o.get(e))&&o.get(t))return c==t;var u=-1,h=!0,d=2&n?new In:a;for(o.set(e,t),o.set(t,e);++u<l;){var f,p=e[u],m=t[u];if((f=i?s?i(m,p,u,t,e,o):i(p,m,u,e,t,o):f)!==a){if(f)continue;h=!1;break}if(d){if(!ct(t,(function(e,t){return!St(d,t)&&(p===e||r(p,e,n,i,o))&&d.push(t)}))){h=!1;break}}else if(p!==m&&!r(p,m,n,i,o)){h=!1;break}}return o.delete(e),o.delete(t),h}function Rr(e){return ca(ra(e,a,ba),e+"")}function Nr(e){return si(e,es,jr)}function Or(e){return si(e,ts,Wr)}var Fr=mn?function(e){return mn.get(e)}:ks;function zr(e){for(var t=e.name+"",n=vn[t],i=ke.call(vn,t)?n.length:0;i--;){var r=n[i],a=r.func;if(null==a||a==e)return r.name}return t}function Br(e){return(ke.call(Sn,"placeholder")?Sn:e).placeholder}function Hr(){var e=(e=Sn.iteratee||Cs)===Cs?yi:e;return arguments.length?e(arguments[0],arguments[1]):e}function Ur(e,t){var n;e=e.__data__;return("string"==(n=typeof t)||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t)?e["string"==typeof t?"string":"hash"]:e.map}function Vr(e){for(var t=es(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,na(r)]}return t}function Gr(e,t){return gi(e=null==e?a:e[t])?e:a}var jr=en?function(e){return null==e?[]:(e=xe(e),nt(en(e),(function(t){return Gt.call(e,t)})))}:zs,Wr=en?function(e){for(var t=[];e;)ot(t,jr(e)),e=Ut(e);return t}:zs,Xr=li;function qr(e,t,n){for(var i=-1,r=(t=Qi(t,e)).length,a=!1;++i<r;){var o=ma(t[i]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++i!=r?a:!!(r=null==e?0:e.length)&&_o(r)&&Zr(o,r)&&(po(e)||fo(e))}function Yr(e){return"function"!=typeof e.constructor||ta(e)?{}:En(Ut(e))}function $r(e){return po(e)||fo(e)||!!(Wt&&e&&e[Wt])}function Zr(e,t){var n=typeof e;return!!(t=null==t?h:t)&&("number"==n||"symbol"!=n&&me.test(e))&&-1<e&&e%1==0&&e<t}function Qr(e,t,n){var i;return!!Mo(n)&&!!("number"==(i=typeof t)?vo(n)&&Zr(t,n.length):"string"==i&&t in n)&&co(n[t],e)}function Kr(e,t){var n;if(!po(e))return"number"==(n=typeof e)||"symbol"==n||"boolean"==n||null==e||ko(e)||Q.test(e)||!Z.test(e)||null!=t&&e in xe(t)}function Jr(e){var t=zr(e),n=Sn[t];return"function"==typeof n&&t in Ln.prototype&&(e===n||(t=Fr(n))&&e===t[0])}(i&&Xr(new i(new ArrayBuffer(1)))!=P||hn&&Xr(new hn)!=w||dn&&"[object Promise]"!=Xr(dn.resolve())||fn&&Xr(new fn)!=E||t&&Xr(new t)!=A)&&(Xr=function(e){var t=li(e);if(e=(e=t==M?e.constructor:a)?va(e):"")switch(e){case gn:return P;case yn:return w;case xn:return"[object Promise]";case bn:return E;case wn:return A}return t});var ea=Te?bo:Bs;function ta(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ee)}function na(e){return e==e&&!Mo(e)}function ia(e,t){return function(n){return null!=n&&n[e]===t&&(t!==a||e in xe(n))}}function ra(e,t,i){return t=an(t===a?e.length-1:t,0),function(){for(var r=arguments,a=-1,o=an(r.length-t,0),s=n(o);++a<o;)s[a]=r[t+a];a=-1;for(var l=n(t+1);++a<t;)l[a]=r[a];return l[t]=i(s),Ke(e,this,l)}}function aa(e,t){return t.length<2?e:oi(e,Ni(t,0,-1))}function oa(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var sa=ha(Ri),la=Qt||function(e,t){return Ve.setTimeout(e,t)},ca=ha(yt);function ua(e,t,n){var i,r,a;return ca(e,(t=(e=t=t+"").match(ae),r=t?t[1].split(oe):[],a=n,et(f,(function(e){var t="_."+e[0];a&e[1]&&!it(r,t)&&r.push(t)})),(n=(t=r.sort()).length)?(t[i=n-1]=(1<n?"& ":"")+t[i],t=t.join(2<n?", ":" "),e.replace(re,"{\n/* [wrapped with "+t+"] */\n")):e))}function ha(e){var t=0,n=0;return function(){var i=sn(),r=16-(i-n);if(n=i,0<r){if(800<=++t)return arguments[0]}else t=0;return e.apply(a,arguments)}}function da(e,t){var n=-1,i=e.length,r=i-1;for(t=t===a?i:t;++n<t;){var o=Pi(n,r),s=e[o];e[o]=e[n],e[n]=s}return e.length=t,e}fa=($t=ro((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(K,(function(e,n,i,r){t.push(i?r.replace(le,"$1"):n||e)})),t}),(function(e){return 500===fa.size&&fa.clear(),e}))).cache;var fa,pa=$t;function ma(e){var t;return"string"==typeof e||ko(e)?e:"0"==(t=e+"")&&1/e==-1/0?"-0":t}function va(e){if(null!=e){try{return Le.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ga(e){var t;return e instanceof Ln?e.clone():((t=new An(e.__wrapped__,e.__chain__)).__actions__=sr(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t)}function ya(e,t,n){var i=null==e?0:e.length;return i?((n=null==n?0:Fo(n))<0&&(n=an(i+n,0)),dt(e,Hr(t,3),n)):-1}function xa(e,t,n){var i,r=null==e?0:e.length;return r?(i=r-1,n!==a&&(i=Fo(n),i=n<0?an(r+i,0):on(i,r-1)),dt(e,Hr(t,3),i,!0)):-1}function ba(e){return null!=e&&e.length?ei(e,1):[]}function wa(e){return e&&e.length?e[0]:a}function _a(e){var t=null==e?0:e.length;return t?e[t-1]:a}function Ma(e,t){return e&&e.length&&t&&t.length?Ai(e,t):e}i=Di((function(e,t){return go(e)?Yn(e,ei(t,1,go,!0)):[]})),dn=Di((function(e,t){var n=_a(t);return go(n)&&(n=a),go(e)?Yn(e,ei(t,1,go,!0),Hr(n,2)):[]})),t=Di((function(e,t){var n=_a(t);return go(n)&&(n=a),go(e)?Yn(e,ei(t,1,go,!0),a,n):[]})),Te=Di((function(e){var t=at(e,$i);return t.length&&t[0]===e[0]?di(t):[]})),Qt=Di((function(e){var t=_a(e),n=at(e,$i);return t===_a(n)?t=a:n.pop(),n.length&&n[0]===e[0]?di(n,Hr(t,2)):[]})),yt=Di((function(e){var t=_a(e),n=at(e,$i);return(t="function"==typeof t?t:a)&&n.pop(),n.length&&n[0]===e[0]?di(n,a,t):[]})),$t=Di(Ma);var Sa=Rr((function(e,t){var n=null==e?0:e.length,i=Gn(e,t);return Li(e,at(t,(function(e){return Zr(e,n)?+e:e})).sort(rr)),i}));function Ea(e){return null==e?e:un.call(e)}var Ta=Di((function(e){return Vi(ei(e,1,go,!0))})),Ca=Di((function(e){var t=_a(e);return go(t)&&(t=a),Vi(ei(e,1,go,!0),Hr(t,2))})),Aa=Di((function(e){var t="function"==typeof(t=_a(e))?t:a;return Vi(ei(e,1,go,!0),a,t)}));function La(e){var t;return e&&e.length?(t=0,e=nt(e,(function(e){if(go(e))return t=an(e.length,t),!0})),wt(t,(function(t){return at(e,gt(t))}))):[]}function Pa(e,t){return e&&e.length?(e=La(e),null==t?e:at(e,(function(e){return Ke(t,a,e)}))):[]}var ka=Di((function(e,t){return go(e)?Yn(e,t):[]})),Da=Di((function(e){return qi(nt(e,go))})),Ia=Di((function(e){var t=_a(e);return go(t)&&(t=a),qi(nt(e,go),Hr(t,2))})),Ra=Di((function(e){var t="function"==typeof(t=_a(e))?t:a;return qi(nt(e,go),a,t)})),Na=Di(La),Oa=Di((function(e){var t="function"==typeof(t=1<(t=e.length)?e[t-1]:a)?(e.pop(),t):a;return Pa(e,t)}));function Fa(e){return(e=Sn(e)).__chain__=!0,e}function za(e,t){return t(e)}var Ba=Rr((function(e){function t(t){return Gn(t,e)}var n=e.length,i=n?e[0]:0,r=this.__wrapped__;return!(1<n||this.__actions__.length)&&r instanceof Ln&&Zr(i)?((r=r.slice(i,+i+(n?1:0))).__actions__.push({func:za,args:[t],thisArg:a}),new An(r,this.__chain__).thru((function(e){return n&&!e.length&&e.push(a),e}))):this.thru(t)})),Ha=cr((function(e,t,n){ke.call(e,n)?++e[n]:Vn(e,n,1)})),Ua=vr(ya),Va=vr(xa);function Ga(e,t){return(po(e)?et:$n)(e,Hr(t,3))}function ja(e,t){return(po(e)?function(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}:Zn)(e,Hr(t,3))}var Wa=cr((function(e,t,n){ke.call(e,n)?e[n].push(t):Vn(e,n,[t])})),Xa=Di((function(e,t,i){var r=-1,a="function"==typeof t,o=vo(e)?n(e.length):[];return $n(e,(function(e){o[++r]=a?Ke(t,e,i):fi(e,t,i)})),o})),qa=cr((function(e,t,n){Vn(e,n,t)}));function Ya(e,t){return(po(e)?at:wi)(e,Hr(t,3))}var $a=cr((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),Za=Di((function(e,t){var n;return null==e?[]:(1<(n=t.length)&&Qr(e,t[0],t[1])?t=[]:2<n&&Qr(t[0],t[1],t[2])&&(t=[t[0]]),Ti(e,ei(t,1),[]))})),Qa=Zt||function(){return Ve.Date.now()};function Ka(e,t,n){return t=n?a:t,t=e&&null==t?e.length:t,Lr(e,128,a,a,a,a,t)}function Ja(e,t){var n;if("function"!=typeof t)throw new _e(l);return e=Fo(e),function(){return 0<--e&&(n=t.apply(this,arguments)),e<=1&&(t=a),n}}var eo=Di((function(e,t,n){var i,r=1;return n.length&&(i=It(n,Br(eo)),r|=32),Lr(e,r,t,n,i)})),to=Di((function(e,t,n){var i,r=3;return n.length&&(i=It(n,Br(to)),r|=32),Lr(t,r,e,n,i)}));function no(e,t,n){var i,r,o,s,c,u,h=0,d=!1,f=!1,p=!0;if("function"!=typeof e)throw new _e(l);function m(t){var n=i,o=r;return i=r=a,h=t,s=e.apply(o,n)}function v(e){var n=e-u;return u===a||t<=n||n<0||f&&o<=e-h}function g(){var e,n=Qa();if(v(n))return y(n);c=la(g,(e=t-(n-u),f?on(e,o-(n-h)):e))}function y(e){return c=a,p&&i?m(e):(i=r=a,s)}function x(){var e=Qa(),n=v(e);if(i=arguments,r=this,u=e,n){if(c===a)return h=e=u,c=la(g,t),d?m(e):s;if(f)return er(c),c=la(g,t),m(u)}return c===a&&(c=la(g,t)),s}return t=Bo(t)||0,Mo(n)&&(d=!!n.leading,o=(f="maxWait"in n)?an(Bo(n.maxWait)||0,t):o,p="trailing"in n?!!n.trailing:p),x.cancel=function(){c!==a&&er(c),h=0,i=u=r=c=a},x.flush=function(){return c===a?s:y(Qa())},x}Zt=Di((function(e,t){return qn(e,1,t)}));var io=Di((function(e,t,n){return qn(e,Bo(t)||0,n)}));function ro(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new _e(l);function n(){var i=arguments,r=t?t.apply(this,i):i[0],a=n.cache;return a.has(r)?a.get(r):(i=e.apply(this,i),n.cache=a.set(r,i)||a,i)}return n.cache=new(ro.Cache||Dn),n}function ao(e){if("function"!=typeof e)throw new _e(l);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}ro.Cache=Dn;Ki=Ki((function(e,t){var n=(t=1==t.length&&po(t[0])?at(t[0],_t(Hr())):at(ei(t,1),_t(Hr()))).length;return Di((function(i){for(var r=-1,a=on(i.length,n);++r<a;)i[r]=t[r].call(this,i[r]);return Ke(e,this,i)}))}));var oo=Di((function(e,t){var n=It(t,Br(oo));return Lr(e,32,a,t,n)})),so=Di((function(e,t){var n=It(t,Br(so));return Lr(e,64,a,t,n)})),lo=Rr((function(e,t){return Lr(e,256,a,a,a,t)}));function co(e,t){return e===t||e!=e&&t!=t}var uo=Sr(ci),ho=Sr((function(e,t){return t<=e})),fo=pi(function(){return arguments}())?pi:function(e){return So(e)&&ke.call(e,"callee")&&!Gt.call(e,"callee")},po=n.isArray,mo=Xe?_t(Xe):function(e){return So(e)&&li(e)==L};function vo(e){return null!=e&&_o(e.length)&&!bo(e)}function go(e){return So(e)&&vo(e)}var yo=Se||Bs;Se=qe?_t(qe):function(e){return So(e)&&li(e)==g};function xo(e){var t;return!!So(e)&&((t=li(e))==y||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Co(e))}function bo(e){return!!Mo(e)&&((e=li(e))==x||e==b||"[object AsyncFunction]"==e||"[object Proxy]"==e)}function wo(e){return"number"==typeof e&&e==Fo(e)}function _o(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=h}function Mo(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function So(e){return null!=e&&"object"==typeof e}var Eo=Ye?_t(Ye):function(e){return So(e)&&Xr(e)==w};function To(e){return"number"==typeof e||So(e)&&li(e)==_}function Co(e){return!(!So(e)||li(e)!=M)&&(null===(e=Ut(e))||"function"==typeof(e=ke.call(e,"constructor")&&e.constructor)&&e instanceof e&&Le.call(e)==Ge)}var Ao=$e?_t($e):function(e){return So(e)&&li(e)==S},Lo=Ze?_t(Ze):function(e){return So(e)&&Xr(e)==E};function Po(e){return"string"==typeof e||!po(e)&&So(e)&&li(e)==T}function ko(e){return"symbol"==typeof e||So(e)&&li(e)==C}var Do=Qe?_t(Qe):function(e){return So(e)&&_o(e.length)&&!!Ne[li(e)]},Io=Sr(bi),Ro=Sr((function(e,t){return e<=t}));function No(e){if(!e)return[];if(vo(e))return(Po(e)?Ot:sr)(e);var t;if(Xt&&e[Xt]){for(var n,i=e[Xt](),r=[];!(n=i.next()).done;)r.push(n.value);return r}return((t=Xr(e))==w?kt:t==E?Rt:cs)(e)}function Oo(e){return e?(e=Bo(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function Fo(e){var t=(e=Oo(e))%1;return e==e?t?e-t:e:0}function zo(e){return e?jn(Fo(e),0,d):0}function Bo(e){if("number"==typeof e)return e;if(ko(e))return NaN;if("string"!=typeof(e=Mo(e)?Mo(t="function"==typeof e.valueOf?e.valueOf():e)?t+"":t:e))return 0===e?e:+e;e=e.replace(te,"");var t=de.test(e);return t||pe.test(e)?Be(e.slice(2),t?2:8):he.test(e)?NaN:+e}function Ho(e){return lr(e,ts(e))}function Uo(e){return null==e?"":Ui(e)}var Vo=ur((function(e,t){if(ta(t)||vo(t))lr(t,es(t),e);else for(var n in t)ke.call(t,n)&&zn(e,n,t[n])})),Go=ur((function(e,t){lr(t,ts(t),e)})),jo=ur((function(e,t,n,i){lr(t,ts(t),e,i)})),Wo=ur((function(e,t,n,i){lr(t,es(t),e,i)})),Xo=Rr(Gn),qo=Di((function(e,t){e=xe(e);var n=-1,i=t.length,r=2<i?t[2]:a;for(r&&Qr(t[0],t[1],r)&&(i=1);++n<i;)for(var o=t[n],s=ts(o),l=-1,c=s.length;++l<c;){var u=s[l],h=e[u];(h===a||co(h,Ee[u])&&!ke.call(e,u))&&(e[u]=o[u])}return e})),Yo=Di((function(e){return e.push(a,kr),Ke(is,a,e)}));function $o(e,t,n){return(e=null==e?a:oi(e,t))===a?n:e}function Zo(e,t){return null!=e&&qr(e,t,hi)}var Qo=xr((function(e,t,n){e[t=null!=t&&"function"!=typeof t.toString?Ue.call(t):t]=n}),Ms(Ts)),Ko=xr((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ue.call(t)),ke.call(e,t)?e[t].push(n):e[t]=[n]}),Hr),Jo=Di(fi);function es(e){return(vo(e)?Nn:xi)(e)}function ts(e){if(vo(e))return Nn(e,!0);var t=e;if(Mo(t)){var n,i=ta(t),r=[];for(n in t)("constructor"!=n||!i&&ke.call(t,n))&&r.push(n);return r}var a=[];if(null!=t)for(var o in xe(t))a.push(o);return a}var ns=ur((function(e,t,n){Si(e,t,n)})),is=ur((function(e,t,n,i){Si(e,t,n,i)})),rs=Rr((function(e,t){var n={};if(null!=e){var i=!1;t=at(t,(function(t){return t=Qi(t,e),i=i||1<t.length,t})),lr(e,Or(e),n),i&&(n=Wn(n,7,Dr));for(var r=t.length;r--;)Gi(n,t[r])}return n})),as=Rr((function(e,t){return null==e?{}:Ci(n=e,t,(function(e,t){return Zo(n,t)}));var n}));function os(e,t){var n;return null==e?{}:(n=at(Or(e),(function(e){return[e]})),t=Hr(t),Ci(e,n,(function(e,n){return t(e,n[0])})))}var ss=Ar(es),ls=Ar(ts);function cs(e){return null==e?[]:Mt(e,es(e))}var us=pr((function(e,t,n){return t=t.toLowerCase(),e+(n?hs(t):t)}));function hs(e){return xs(Uo(e).toLowerCase())}function ds(e){return(e=Uo(e))&&e.replace(ve,Ct).replace(Ae,"")}var fs=pr((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),ps=pr((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),ms=fr("toLowerCase"),vs=pr((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),gs=pr((function(e,t,n){return e+(n?" ":"")+xs(t)})),ys=pr((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),xs=fr("toUpperCase");function bs(e,t,n){return e=Uo(e),(t=n?a:t)===a?(n=e,De.test(n)?e.match(Pe)||[]:e.match(se)||[]):e.match(t)||[]}var ws=Di((function(e,t){try{return Ke(e,a,t)}catch(e){return xo(e)?e:new r(e)}})),_s=Rr((function(e,t){return et(t,(function(t){t=ma(t),Vn(e,t,eo(e[t],e))})),e}));function Ms(e){return function(){return e}}var Ss=gr(),Es=gr(!0);function Ts(e){return e}function Cs(e){return yi("function"==typeof e?e:Wn(e,1))}var As=Di((function(e,t){return function(n){return fi(n,e,t)}})),Ls=Di((function(e,t){return function(n){return fi(e,n,t)}}));function Ps(e,t,n){var i=es(t),r=ai(t,i),a=(null!=n||Mo(t)&&(r.length||!i.length)||(n=t,t=e,e=this,r=ai(t,es(t))),!(Mo(n)&&"chain"in n&&!n.chain)),o=bo(e);return et(r,(function(n){var i=t[n];e[n]=i,o&&(e.prototype[n]=function(){var t,n=this.__chain__;return a||n?(((t=e(this.__wrapped__)).__actions__=sr(this.__actions__)).push({func:i,args:arguments,thisArg:e}),t.__chain__=n,t):i.apply(e,ot([this.value()],arguments))})})),e}function ks(){}var Ds=wr(at),Is=wr(tt),Rs=wr(ct);function Ns(e){return Kr(e)?gt(ma(e)):(t=e,function(e){return oi(e,t)});var t}var Os=Mr(),Fs=Mr(!0);function zs(){return[]}function Bs(){return!1}var Hs,Us=br((function(e,t){return e+t}),0),Vs=Tr("ceil"),Gs=br((function(e,t){return e/t}),1),js=Tr("floor"),Ws=br((function(e,t){return e*t}),1),Xs=Tr("round"),qs=br((function(e,t){return e-t}),0);return Sn.after=function(e,t){if("function"!=typeof t)throw new _e(l);return e=Fo(e),function(){if(--e<1)return t.apply(this,arguments)}},Sn.ary=Ka,Sn.assign=Vo,Sn.assignIn=Go,Sn.assignInWith=jo,Sn.assignWith=Wo,Sn.at=Xo,Sn.before=Ja,Sn.bind=eo,Sn.bindAll=_s,Sn.bindKey=to,Sn.castArray=function(){var e;return arguments.length?po(e=arguments[0])?e:[e]:[]},Sn.chain=Fa,Sn.chunk=function(e,t,i){t=(i?Qr(e,t,i):t===a)?1:an(Fo(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var o=0,s=0,l=n(Kt(r/t));o<r;)l[s++]=Ni(e,o,o+=t);return l},Sn.compact=function(e){for(var t=-1,n=null==e?0:e.length,i=0,r=[];++t<n;){var a=e[t];a&&(r[i++]=a)}return r},Sn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),i=arguments[0],r=e;r--;)t[r-1]=arguments[r];return ot(po(i)?sr(i):[i],ei(t,1))},Sn.cond=function(e){var t=null==e?0:e.length,n=Hr();return e=t?at(e,(function(e){if("function"!=typeof e[1])throw new _e(l);return[n(e[0]),e[1]]})):[],Di((function(n){for(var i=-1;++i<t;){var r=e[i];if(Ke(r[0],this,n))return Ke(r[1],this,n)}}))},Sn.conforms=function(e){return t=Wn(e,1),n=es(t),function(e){return Xn(e,t,n)};var t,n},Sn.constant=Ms,Sn.countBy=Ha,Sn.create=function(e,t){return e=En(e),null==t?e:Un(e,t)},Sn.curry=function e(t,n,i){return(t=Lr(t,8,a,a,a,a,a,n=i?a:n)).placeholder=e.placeholder,t},Sn.curryRight=function e(t,n,i){return(t=Lr(t,16,a,a,a,a,a,n=i?a:n)).placeholder=e.placeholder,t},Sn.debounce=no,Sn.defaults=qo,Sn.defaultsDeep=Yo,Sn.defer=Zt,Sn.delay=io,Sn.difference=i,Sn.differenceBy=dn,Sn.differenceWith=t,Sn.drop=function(e,t,n){var i=null==e?0:e.length;return i?Ni(e,(t=n||t===a?1:Fo(t))<0?0:t,i):[]},Sn.dropRight=function(e,t,n){var i=null==e?0:e.length;return i?Ni(e,0,(t=i-(n||t===a?1:Fo(t)))<0?0:t):[]},Sn.dropRightWhile=function(e,t){return e&&e.length?Wi(e,Hr(t,3),!0,!0):[]},Sn.dropWhile=function(e,t){return e&&e.length?Wi(e,Hr(t,3),!0):[]},Sn.fill=function(e,t,n,i){if(c=null==e?0:e.length){n&&"number"!=typeof n&&Qr(e,t,n)&&(n=0,i=c);var r=e,o=t,s=n,l=i,c=r.length;for((s=Fo(s))<0&&(s=c<-s?0:c+s),(l=l===a||c<l?c:Fo(l))<0&&(l+=c),l=l<s?0:zo(l);s<l;)r[s++]=o;return r}return[]},Sn.filter=function(e,t){return(po(e)?nt:Jn)(e,Hr(t,3))},Sn.flatMap=function(e,t){return ei(Ya(e,t),1)},Sn.flatMapDeep=function(e,t){return ei(Ya(e,t),1/0)},Sn.flatMapDepth=function(e,t,n){return n=n===a?1:Fo(n),ei(Ya(e,t),n)},Sn.flatten=ba,Sn.flattenDeep=function(e){return null!=e&&e.length?ei(e,1/0):[]},Sn.flattenDepth=function(e,t){return null!=e&&e.length?ei(e,t=t===a?1:Fo(t)):[]},Sn.flip=function(e){return Lr(e,512)},Sn.flow=Ss,Sn.flowRight=Es,Sn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,i={};++t<n;){var r=e[t];i[r[0]]=r[1]}return i},Sn.functions=function(e){return null==e?[]:ai(e,es(e))},Sn.functionsIn=function(e){return null==e?[]:ai(e,ts(e))},Sn.groupBy=Wa,Sn.initial=function(e){return null!=e&&e.length?Ni(e,0,-1):[]},Sn.intersection=Te,Sn.intersectionBy=Qt,Sn.intersectionWith=yt,Sn.invert=Qo,Sn.invertBy=Ko,Sn.invokeMap=Xa,Sn.iteratee=Cs,Sn.keyBy=qa,Sn.keys=es,Sn.keysIn=ts,Sn.map=Ya,Sn.mapKeys=function(e,t){var n={};return t=Hr(t,3),ii(e,(function(e,i,r){Vn(n,t(e,i,r),e)})),n},Sn.mapValues=function(e,t){var n={};return t=Hr(t,3),ii(e,(function(e,i,r){Vn(n,i,t(e,i,r))})),n},Sn.matches=function(e){return _i(Wn(e,1))},Sn.matchesProperty=function(e,t){return Mi(e,Wn(t,1))},Sn.memoize=ro,Sn.merge=ns,Sn.mergeWith=is,Sn.method=As,Sn.methodOf=Ls,Sn.mixin=Ps,Sn.negate=ao,Sn.nthArg=function(e){return e=Fo(e),Di((function(t){return Ei(t,e)}))},Sn.omit=rs,Sn.omitBy=function(e,t){return os(e,ao(Hr(t)))},Sn.once=function(e){return Ja(2,e)},Sn.orderBy=function(e,t,n,i){return null==e?[]:Ti(e,t=po(t)?t:null==t?[]:[t],n=po(n=i?a:n)?n:null==n?[]:[n])},Sn.over=Ds,Sn.overArgs=Ki,Sn.overEvery=Is,Sn.overSome=Rs,Sn.partial=oo,Sn.partialRight=so,Sn.partition=$a,Sn.pick=as,Sn.pickBy=os,Sn.property=Ns,Sn.propertyOf=function(e){return function(t){return null==e?a:oi(e,t)}},Sn.pull=$t,Sn.pullAll=Ma,Sn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Ai(e,t,Hr(n,2)):e},Sn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Ai(e,t,a,n):e},Sn.pullAt=Sa,Sn.range=Os,Sn.rangeRight=Fs,Sn.rearg=lo,Sn.reject=function(e,t){return(po(e)?nt:Jn)(e,ao(Hr(t,3)))},Sn.remove=function(e,t){var n=[];if(e&&e.length){var i=-1,r=[],a=e.length;for(t=Hr(t,3);++i<a;){var o=e[i];t(o,i,e)&&(n.push(o),r.push(i))}Li(e,r)}return n},Sn.rest=function(e,t){if("function"!=typeof e)throw new _e(l);return Di(e,t=t===a?t:Fo(t))},Sn.reverse=Ea,Sn.sampleSize=function(e,t,n){return t=(n?Qr(e,t,n):t===a)?1:Fo(t),(po(e)?function(e,t){return da(sr(e),jn(t,0,e.length))}:function(e,t){return da(e=cs(e),jn(t,0,e.length))})(e,t)},Sn.set=function(e,t,n){return null==e?e:Ii(e,t,n)},Sn.setWith=function(e,t,n,i){return i="function"==typeof i?i:a,null==e?e:Ii(e,t,n,i)},Sn.shuffle=function(e){return(po(e)?function(e){return da(sr(e))}:function(e){return da(cs(e))})(e)},Sn.slice=function(e,t,n){var i=null==e?0:e.length;return i?(n=n&&"number"!=typeof n&&Qr(e,t,n)?(t=0,i):(t=null==t?0:Fo(t),n===a?i:Fo(n)),Ni(e,t,n)):[]},Sn.sortBy=Za,Sn.sortedUniq=function(e){return e&&e.length?Bi(e):[]},Sn.sortedUniqBy=function(e,t){return e&&e.length?Bi(e,Hr(t,2)):[]},Sn.split=function(e,t,n){return n&&"number"!=typeof n&&Qr(e,t,n)&&(t=n=a),(n=n===a?d:n>>>0)?(e=Uo(e))&&("string"==typeof t||null!=t&&!Ao(t))&&!(t=Ui(t))&&Pt(e)?Ji(Ot(e),0,n):e.split(t,n):[]},Sn.spread=function(e,t){if("function"!=typeof e)throw new _e(l);return t=null==t?0:an(Fo(t),0),Di((function(n){var i=n[t];n=Ji(n,0,t);return i&&ot(n,i),Ke(e,this,n)}))},Sn.tail=function(e){var t=null==e?0:e.length;return t?Ni(e,1,t):[]},Sn.take=function(e,t,n){return e&&e.length?Ni(e,0,(t=n||t===a?1:Fo(t))<0?0:t):[]},Sn.takeRight=function(e,t,n){var i=null==e?0:e.length;return i?Ni(e,(t=i-(n||t===a?1:Fo(t)))<0?0:t,i):[]},Sn.takeRightWhile=function(e,t){return e&&e.length?Wi(e,Hr(t,3),!1,!0):[]},Sn.takeWhile=function(e,t){return e&&e.length?Wi(e,Hr(t,3)):[]},Sn.tap=function(e,t){return t(e),e},Sn.throttle=function(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new _e(l);return Mo(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),no(e,t,{leading:i,maxWait:t,trailing:r})},Sn.thru=za,Sn.toArray=No,Sn.toPairs=ss,Sn.toPairsIn=ls,Sn.toPath=function(e){return po(e)?at(e,ma):ko(e)?[e]:sr(pa(Uo(e)))},Sn.toPlainObject=Ho,Sn.transform=function(e,t,n){var i,r=po(e),a=r||yo(e)||Do(e);return t=Hr(t,4),null==n&&(i=e&&e.constructor,n=a?r?new i:[]:Mo(e)&&bo(i)?En(Ut(e)):{}),(a?et:ii)(e,(function(e,i,r){return t(n,e,i,r)})),n},Sn.unary=function(e){return Ka(e,1)},Sn.union=Ta,Sn.unionBy=Ca,Sn.unionWith=Aa,Sn.uniq=function(e){return e&&e.length?Vi(e):[]},Sn.uniqBy=function(e,t){return e&&e.length?Vi(e,Hr(t,2)):[]},Sn.uniqWith=function(e,t){return t="function"==typeof t?t:a,e&&e.length?Vi(e,a,t):[]},Sn.unset=function(e,t){return null==e||Gi(e,t)},Sn.unzip=La,Sn.unzipWith=Pa,Sn.update=function(e,t,n){return null==e?e:ji(e,t,Zi(n))},Sn.updateWith=function(e,t,n,i){return i="function"==typeof i?i:a,null==e?e:ji(e,t,Zi(n),i)},Sn.values=cs,Sn.valuesIn=function(e){return null==e?[]:Mt(e,ts(e))},Sn.without=ka,Sn.words=bs,Sn.wrap=function(e,t){return oo(Zi(t),e)},Sn.xor=Da,Sn.xorBy=Ia,Sn.xorWith=Ra,Sn.zip=Na,Sn.zipObject=function(e,t){return Yi(e||[],t||[],zn)},Sn.zipObjectDeep=function(e,t){return Yi(e||[],t||[],Ii)},Sn.zipWith=Oa,Sn.entries=ss,Sn.entriesIn=ls,Sn.extend=Go,Sn.extendWith=jo,Ps(Sn,Sn),Sn.add=Us,Sn.attempt=ws,Sn.camelCase=us,Sn.capitalize=hs,Sn.ceil=Vs,Sn.clamp=function(e,t,n){return n===a&&(n=t,t=a),n!==a&&(n=(n=Bo(n))==n?n:0),t!==a&&(t=(t=Bo(t))==t?t:0),jn(Bo(e),t,n)},Sn.clone=function(e){return Wn(e,4)},Sn.cloneDeep=function(e){return Wn(e,5)},Sn.cloneDeepWith=function(e,t){return Wn(e,5,t="function"==typeof t?t:a)},Sn.cloneWith=function(e,t){return Wn(e,4,t="function"==typeof t?t:a)},Sn.conformsTo=function(e,t){return null==t||Xn(e,t,es(t))},Sn.deburr=ds,Sn.defaultTo=function(e,t){return null==e||e!=e?t:e},Sn.divide=Gs,Sn.endsWith=function(e,t,n){e=Uo(e),t=Ui(t);var i=e.length;i=n=n===a?i:jn(Fo(n),0,i);return 0<=(n-=t.length)&&e.slice(n,i)==t},Sn.eq=co,Sn.escape=function(e){return(e=Uo(e))&&X.test(e)?e.replace(j,At):e},Sn.escapeRegExp=function(e){return(e=Uo(e))&&ee.test(e)?e.replace(J,"\\$&"):e},Sn.every=function(e,t,n){return(po(e)?tt:Qn)(e,Hr(t=n&&Qr(e,t,n)?a:t,3))},Sn.find=Ua,Sn.findIndex=ya,Sn.findKey=function(e,t){return ht(e,Hr(t,3),ii)},Sn.findLast=Va,Sn.findLastIndex=xa,Sn.findLastKey=function(e,t){return ht(e,Hr(t,3),ri)},Sn.floor=js,Sn.forEach=Ga,Sn.forEachRight=ja,Sn.forIn=function(e,t){return null==e?e:ti(e,Hr(t,3),ts)},Sn.forInRight=function(e,t){return null==e?e:ni(e,Hr(t,3),ts)},Sn.forOwn=function(e,t){return e&&ii(e,Hr(t,3))},Sn.forOwnRight=function(e,t){return e&&ri(e,Hr(t,3))},Sn.get=$o,Sn.gt=uo,Sn.gte=ho,Sn.has=function(e,t){return null!=e&&qr(e,t,ui)},Sn.hasIn=Zo,Sn.head=wa,Sn.identity=Ts,Sn.includes=function(e,t,n,i){return e=vo(e)?e:cs(e),n=n&&!i?Fo(n):0,i=e.length,n<0&&(n=an(i+n,0)),Po(e)?n<=i&&-1<e.indexOf(t,n):!!i&&-1<ft(e,t,n)},Sn.indexOf=function(e,t,n){var i=null==e?0:e.length;return i?ft(e,t,e=(e=null==n?0:Fo(n))<0?an(i+e,0):e):-1},Sn.inRange=function(e,t,n){return t=Oo(t),n===a?(n=t,t=0):n=Oo(n),(e=e=Bo(e))>=on(t=t,n=n)&&e<an(t,n)},Sn.invoke=Jo,Sn.isArguments=fo,Sn.isArray=po,Sn.isArrayBuffer=mo,Sn.isArrayLike=vo,Sn.isArrayLikeObject=go,Sn.isBoolean=function(e){return!0===e||!1===e||So(e)&&li(e)==v},Sn.isBuffer=yo,Sn.isDate=Se,Sn.isElement=function(e){return So(e)&&1===e.nodeType&&!Co(e)},Sn.isEmpty=function(e){if(null!=e){if(vo(e)&&(po(e)||"string"==typeof e||"function"==typeof e.splice||yo(e)||Do(e)||fo(e)))return!e.length;var t,n=Xr(e);if(n==w||n==E)return!e.size;if(ta(e))return!xi(e).length;for(t in e)if(ke.call(e,t))return!1}return!0},Sn.isEqual=function(e,t){return mi(e,t)},Sn.isEqualWith=function(e,t,n){var i=(n="function"==typeof n?n:a)?n(e,t):a;return i===a?mi(e,t,a,n):!!i},Sn.isError=xo,Sn.isFinite=function(e){return"number"==typeof e&&tn(e)},Sn.isFunction=bo,Sn.isInteger=wo,Sn.isLength=_o,Sn.isMap=Eo,Sn.isMatch=function(e,t){return e===t||vi(e,t,Vr(t))},Sn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:a,vi(e,t,Vr(t),n)},Sn.isNaN=function(e){return To(e)&&e!=+e},Sn.isNative=function(e){if(ea(e))throw new r("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return gi(e)},Sn.isNil=function(e){return null==e},Sn.isNull=function(e){return null===e},Sn.isNumber=To,Sn.isObject=Mo,Sn.isObjectLike=So,Sn.isPlainObject=Co,Sn.isRegExp=Ao,Sn.isSafeInteger=function(e){return wo(e)&&-h<=e&&e<=h},Sn.isSet=Lo,Sn.isString=Po,Sn.isSymbol=ko,Sn.isTypedArray=Do,Sn.isUndefined=function(e){return e===a},Sn.isWeakMap=function(e){return So(e)&&Xr(e)==A},Sn.isWeakSet=function(e){return So(e)&&"[object WeakSet]"==li(e)},Sn.join=function(e,t){return null==e?"":nn.call(e,t)},Sn.kebabCase=fs,Sn.last=_a,Sn.lastIndexOf=function(e,t,n){var i=null==e?0:e.length;if(i){var r=i;if(n!==a&&(r=(r=Fo(n))<0?an(i+r,0):on(r,i-1)),t==t){for(var o=e,s=t,l=r+1;l--;)if(o[l]===s)return l;return l}return dt(e,mt,r,!0)}return-1},Sn.lowerCase=ps,Sn.lowerFirst=ms,Sn.lt=Io,Sn.lte=Ro,Sn.max=function(e){return e&&e.length?Kn(e,Ts,ci):a},Sn.maxBy=function(e,t){return e&&e.length?Kn(e,Hr(t,2),ci):a},Sn.mean=function(e){return vt(e,Ts)},Sn.meanBy=function(e,t){return vt(e,Hr(t,2))},Sn.min=function(e){return e&&e.length?Kn(e,Ts,bi):a},Sn.minBy=function(e,t){return e&&e.length?Kn(e,Hr(t,2),bi):a},Sn.stubArray=zs,Sn.stubFalse=Bs,Sn.stubObject=function(){return{}},Sn.stubString=function(){return""},Sn.stubTrue=function(){return!0},Sn.multiply=Ws,Sn.nth=function(e,t){return e&&e.length?Ei(e,Fo(t)):a},Sn.noConflict=function(){return Ve._===this&&(Ve._=We),this},Sn.noop=ks,Sn.now=Qa,Sn.pad=function(e,t,n){e=Uo(e);var i=(t=Fo(t))?Nt(e):0;return!t||t<=i?e:_r(Jt(t=(t-i)/2),n)+e+_r(Kt(t),n)},Sn.padEnd=function(e,t,n){e=Uo(e);var i=(t=Fo(t))?Nt(e):0;return t&&i<t?e+_r(t-i,n):e},Sn.padStart=function(e,t,n){e=Uo(e);var i=(t=Fo(t))?Nt(e):0;return t&&i<t?_r(t-i,n)+e:e},Sn.parseInt=function(e,t,n){return t=n||null==t?0:t&&+t,ln(Uo(e).replace(ne,""),t||0)},Sn.random=function(e,t,n){var i;return n&&"boolean"!=typeof n&&Qr(e,t,n)&&(t=n=a),n===a&&("boolean"==typeof t?(n=t,t=a):"boolean"==typeof e&&(n=e,e=a)),e===a&&t===a?(e=0,t=1):(e=Oo(e),t===a?(t=e,e=0):t=Oo(t)),t<e&&(i=e,e=t,t=i),n||e%1||t%1?(i=cn(),on(e+i*(t-e+ze("1e-"+((i+"").length-1))),t)):Pi(e,t)},Sn.reduce=function(e,t,n){var i=po(e)?st:xt,r=arguments.length<3;return i(e,Hr(t,4),n,r,$n)},Sn.reduceRight=function(e,t,n){var i=po(e)?lt:xt,r=arguments.length<3;return i(e,Hr(t,4),n,r,Zn)},Sn.repeat=function(e,t,n){return t=(n?Qr(e,t,n):t===a)?1:Fo(t),ki(Uo(e),t)},Sn.replace=function(){var e=arguments,t=Uo(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Sn.result=function(e,t,n){var i=-1,r=(t=Qi(t,e)).length;for(r||(r=1,e=a);++i<r;){var o=null==e?a:e[ma(t[i])];o===a&&(i=r,o=n),e=bo(o)?o.call(e):o}return e},Sn.round=Xs,Sn.runInContext=e,Sn.sample=function(e){return(po(e)?On:function(e){return On(cs(e))})(e)},Sn.size=function(e){var t;return null==e?0:vo(e)?Po(e)?Nt(e):e.length:(t=Xr(e))==w||t==E?e.size:xi(e).length},Sn.snakeCase=vs,Sn.some=function(e,t,n){return(po(e)?ct:Oi)(e,Hr(t=n&&Qr(e,t,n)?a:t,3))},Sn.sortedIndex=function(e,t){return Fi(e,t)},Sn.sortedIndexBy=function(e,t,n){return zi(e,t,Hr(n,2))},Sn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var i=Fi(e,t);if(i<n&&co(e[i],t))return i}return-1},Sn.sortedLastIndex=function(e,t){return Fi(e,t,!0)},Sn.sortedLastIndexBy=function(e,t,n){return zi(e,t,Hr(n,2),!0)},Sn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=Fi(e,t,!0)-1;if(co(e[n],t))return n}return-1},Sn.startCase=gs,Sn.startsWith=function(e,t,n){return e=Uo(e),n=null==n?0:jn(Fo(n),0,e.length),t=Ui(t),e.slice(n,n+t.length)==t},Sn.subtract=qs,Sn.sum=function(e){return e&&e.length?bt(e,Ts):0},Sn.sumBy=function(e,t){return e&&e.length?bt(e,Hr(t,2)):0},Sn.template=function(e,t,n){var i=Sn.templateSettings;n&&Qr(e,t,n)&&(t=a),e=Uo(e),t=jo({},t,i,Pr);var r,s,l=es(n=jo({},t.imports,i.imports,Pr)),c=Mt(n,l),u=0,h=(i=t.interpolate||ge,"__p += '"),d=(n=be((t.escape||ge).source+"|"+i.source+"|"+(i===$?ce:ge).source+"|"+(t.evaluate||ge).source+"|$","g"),"//# sourceURL="+(ke.call(t,"sourceURL")?(t.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Re+"]")+"\n");if((n=((i=(e.replace(n,(function(t,n,i,a,o,l){return i=i||a,h+=e.slice(u,l).replace(ye,Lt),n&&(r=!0,h+="' +\n__e("+n+") +\n'"),o&&(s=!0,h+="';\n"+o+";\n__p += '"),i&&(h+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),u=l+t.length,t})),h+="';\n",ke.call(t,"variable")&&t.variable))||(h="with (obj) {\n"+h+"\n}\n"),h=(s?h.replace(H,""):h).replace(U,"$1").replace(V,"$1;"),h="function("+(i||"obj")+") {\n"+(i?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}",ws((function(){return o(l,d+"return "+h).apply(a,c)})))).source=h,xo(n))throw n;return n},Sn.times=function(e,t){if((e=Fo(e))<1||h<e)return[];var n=d,i=on(e,d);for(t=Hr(t),e-=d,i=wt(i,t);++n<e;)t(n);return i},Sn.toFinite=Oo,Sn.toInteger=Fo,Sn.toLength=zo,Sn.toLower=function(e){return Uo(e).toLowerCase()},Sn.toNumber=Bo,Sn.toSafeInteger=function(e){return e?jn(Fo(e),-h,h):0===e?e:0},Sn.toString=Uo,Sn.toUpper=function(e){return Uo(e).toUpperCase()},Sn.trim=function(e,t,n){return(e=Uo(e))&&(n||t===a)?e.replace(te,""):e&&(t=Ui(t))?Ji(n=Ot(e),Et(n,t=Ot(t)),Tt(n,t)+1).join(""):e},Sn.trimEnd=function(e,t,n){return(e=Uo(e))&&(n||t===a)?e.replace(ie,""):e&&(t=Ui(t))?Ji(n=Ot(e),0,Tt(n,Ot(t))+1).join(""):e},Sn.trimStart=function(e,t,n){return(e=Uo(e))&&(n||t===a)?e.replace(ne,""):e&&(t=Ui(t))?Ji(n=Ot(e),Et(n,Ot(t))).join(""):e},Sn.truncate=function(e,t){var n,i=30,r="...";Mo(t)&&(n="separator"in t?t.separator:n,i="length"in t?Fo(t.length):i,r="omission"in t?Ui(t.omission):r),t=(e=Uo(e)).length;if((t=Pt(e)?(o=Ot(e)).length:t)<=i)return e;if((t=i-Nt(r))<1)return r;var o;i=o?Ji(o,0,t).join(""):e.slice(0,t);if(n!==a)if(o&&(t+=i.length-t),Ao(n)){if(e.slice(t).search(n)){var s,l=i;for((n=n.global?n:be(n.source,Uo(ue.exec(n))+"g")).lastIndex=0;s=n.exec(l);)var c=s.index;i=i.slice(0,c===a?t:c)}}else e.indexOf(Ui(n),t)!=t&&-1<(o=i.lastIndexOf(n))&&(i=i.slice(0,o));return i+r},Sn.unescape=function(e){return(e=Uo(e))&&W.test(e)?e.replace(G,Ft):e},Sn.uniqueId=function(e){var t=++Fe;return Uo(e)+t},Sn.upperCase=ys,Sn.upperFirst=xs,Sn.each=Ga,Sn.eachRight=ja,Sn.first=wa,Ps(Sn,(Hs={},ii(Sn,(function(e,t){ke.call(Sn.prototype,t)||(Hs[t]=e)})),Hs),{chain:!1}),Sn.VERSION="4.17.14",et(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Sn[e].placeholder=Sn})),et(["drop","take"],(function(e,t){Ln.prototype[e]=function(n){n=n===a?1:an(Fo(n),0);var i=this.__filtered__&&!t?new Ln(this):this.clone();return i.__filtered__?i.__takeCount__=on(n,i.__takeCount__):i.__views__.push({size:on(n,d),type:e+(i.__dir__<0?"Right":"")}),i},Ln.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),et(["filter","map","takeWhile"],(function(e,t){var n=t+1,i=1==n||3==n;Ln.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Hr(e,3),type:n}),t.__filtered__=t.__filtered__||i,t}})),et(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Ln.prototype[e]=function(){return this[n](1).value()[0]}})),et(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Ln.prototype[e]=function(){return this.__filtered__?new Ln(this):this[n](1)}})),Ln.prototype.compact=function(){return this.filter(Ts)},Ln.prototype.find=function(e){return this.filter(e).head()},Ln.prototype.findLast=function(e){return this.reverse().find(e)},Ln.prototype.invokeMap=Di((function(e,t){return"function"==typeof e?new Ln(this):this.map((function(n){return fi(n,e,t)}))})),Ln.prototype.reject=function(e){return this.filter(ao(Hr(e)))},Ln.prototype.slice=function(e,t){e=Fo(e);var n=this;return n.__filtered__&&(0<e||t<0)?new Ln(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),n=t!==a?(t=Fo(t))<0?n.dropRight(-t):n.take(t-e):n)},Ln.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Ln.prototype.toArray=function(){return this.take(d)},ii(Ln.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),r=Sn[i?"take"+("last"==t?"Right":""):t],o=i||/^find/.test(t);r&&(Sn.prototype[t]=function(){function t(e){return e=r.apply(Sn,ot([e],c)),i&&f?e[0]:e}var s,l=this.__wrapped__,c=i?[1]:arguments,u=l instanceof Ln,h=c[0],d=u||po(l),f=(d&&n&&"function"==typeof h&&1!=h.length&&(u=d=!1),this.__chain__),p=(h=!!this.__actions__.length,o&&!f);u=u&&!h;return!o&&d?(l=u?l:new Ln(this),(s=e.apply(l,c)).__actions__.push({func:za,args:[t],thisArg:a}),new An(s,f)):p&&u?e.apply(this,c):(s=this.thru(t),p?i?s.value()[0]:s.value():s)})})),et(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Me[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);Sn.prototype[e]=function(){var e,r=arguments;return i&&!this.__chain__?(e=this.value(),t.apply(po(e)?e:[],r)):this[n]((function(e){return t.apply(po(e)?e:[],r)}))}})),ii(Ln.prototype,(function(e,t){var n,i=Sn[t];i&&(n=i.name+"",ke.call(vn,n)||(vn[n]=[]),vn[n].push({name:t,func:i}))})),vn[yr(a,2).name]=[{name:"wrapper",func:a}],Ln.prototype.clone=function(){var e=new Ln(this.__wrapped__);return e.__actions__=sr(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=sr(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=sr(this.__views__),e},Ln.prototype.reverse=function(){var e;return this.__filtered__?((e=new Ln(this)).__dir__=-1,e.__filtered__=!0):(e=this.clone()).__dir__*=-1,e},Ln.prototype.value=function(){var e,t=this.__wrapped__.value(),n=this.__dir__,i=po(t),r=n<0,a=i?t.length:0,o=(e=function(e,t,n){for(var i=-1,r=n.length;++i<r;){var a=n[i],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=on(t,e+o);break;case"takeRight":e=an(e,t-o)}}return{start:e,end:t}}(0,a,this.__views__)).start,s=(e=e.end)-o,l=r?e:o-1,c=this.__iteratees__,u=c.length,h=0,d=on(s,this.__takeCount__);if(!i||!r&&a==s&&d==s)return Xi(t,this.__actions__);var f=[];e:for(;s--&&h<d;){for(var p=-1,m=t[l+=n];++p<u;){var v=(g=c[p]).iteratee,g=g.type;v=v(m);if(2==g)m=v;else if(!v){if(1==g)continue e;break e}}f[h++]=m}return f},Sn.prototype.at=Ba,Sn.prototype.chain=function(){return Fa(this)},Sn.prototype.commit=function(){return new An(this.value(),this.__chain__)},Sn.prototype.next=function(){this.__values__===a&&(this.__values__=No(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?a:this.__values__[this.__index__++]}},Sn.prototype.plant=function(e){for(var t,n=this;n instanceof Cn;){var i=ga(n),r=(i.__index__=0,i.__values__=a,t?r.__wrapped__=i:t=i,i);n=n.__wrapped__}return r.__wrapped__=e,t},Sn.prototype.reverse=function(){var e=this.__wrapped__;return e instanceof Ln?(e=e,(e=(e=this.__actions__.length?new Ln(this):e).reverse()).__actions__.push({func:za,args:[Ea],thisArg:a}),new An(e,this.__chain__)):this.thru(Ea)},Sn.prototype.toJSON=Sn.prototype.valueOf=Sn.prototype.value=function(){return Xi(this.__wrapped__,this.__actions__)},Sn.prototype.first=Sn.prototype.head,Xt&&(Sn.prototype[Xt]=function(){return this}),Sn}();Ve._=zt,(r=function(){return zt}.call(t,n,t,i))!==a&&(i.exports=r)}).call(this)}).call(this,n(37),n(89)(e))},function(e,t){e=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),"number"==typeof __g&&(__g=e)},function(e,t){var n=/^(attrs|props|on|nativeOn|class|style|hook)$/;e.exports=function(e){return e.reduce((function(e,t){var i,r,a,o,s;for(a in t)if(i=e[a],r=t[a],i&&n.test(a))if("class"===a&&("string"==typeof i&&(s=i,e[a]=i={},i[s]=!0),"string"==typeof r)&&(s=r,t[a]=r={},r[s]=!0),"on"===a||"nativeOn"===a||"hook"===a)for(o in r)i[o]=function(e,t){return function(){e&&e.apply(this,arguments),t&&t.apply(this,arguments)}}(i[o],r[o]);else if(Array.isArray(i))e[a]=i.concat(r);else if(Array.isArray(r))e[a]=[i].concat(r);else for(o in r)i[o]=r[o];else e[a]=t[a];return e}),{})}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){"use strict";t.__esModule=!0,n=(n=n(57))&&n.__esModule?n:{default:n},t.default=n.default||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}},function(e,t,n){var i=n(11),r=n(20);e.exports=n(12)?function(e,t,n){return i.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var i=n(19),r=n(38),a=n(26),o=Object.defineProperty;t.f=n(12)?Object.defineProperty:function(e,t,n){if(i(e),t=a(t,!0),i(n),r)try{return o(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){e.exports=!n(17)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){var i=n(41),r=n(27);e.exports=function(e){return i(r(e))}},function(e,t,n){var i=n(30)("wks"),r=n(23),a=n(6).Symbol,o="function"==typeof a;(e.exports=function(e){return i[e]||(i[e]=o&&a[e]||(o?a:r)("Symbol."+e))}).store=i},function(e,t){e=e.exports={version:"2.6.2"},"number"==typeof __e&&(__e=e)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var i=n(4);n=n(1);e.exports={throttle:i,debounce:n}},function(e,t,n){var i=n(16);e.exports=function(e){if(i(e))return e;throw TypeError(e+" is not an object!")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var i=n(40),r=n(31);e.exports=Object.keys||function(e){return i(e,r)}},function(e,t){e.exports=!0},function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){function i(e,t,n){var c,u,h,d=e&i.F,f=e&i.G,p=e&i.S,m=e&i.P,v=e&i.B,g=e&i.W,y=f?a:a[t]||(a[t]={}),x=y.prototype,b=f?r:p?r[t]:(r[t]||{}).prototype;for(c in n=f?t:n)(u=!d&&b&&void 0!==b[c])&&l(y,c)||(h=(u?b:n)[c],y[c]=f&&"function"!=typeof b[c]?n[c]:v&&u?o(h,r):g&&b[c]==h?function(e){function t(t,n,i){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,i)}return e.apply(this,arguments)}return t.prototype=e.prototype,t}(h):m&&"function"==typeof h?o(Function.call,h):h,m&&((y.virtual||(y.virtual={}))[c]=h,e&i.R)&&x&&!x[c]&&s(x,c,h))}var r=n(6),a=n(15),o=n(60),s=n(10),l=n(8);i.F=1,i.G=2,i.S=4,i.P=8,i.B=16,i.W=32,i.U=64,i.R=128,e.exports=i},function(e,t,n){var i=n(16);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e))||"function"==typeof(n=e.valueOf)&&!i(r=n.call(e))||!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?i:n)(e)}},function(e,t,n){var i=n(30)("keys"),r=n(23);e.exports=function(e){return i[e]||(i[e]=r(e))}},function(e,t,n){var i=n(15),r=n(6),a=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:i.version,mode:n(22)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){e.exports={}},function(e,t,n){var i=n(11).f,r=n(8),a=n(14)("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,a)&&i(e,a,{configurable:!0,value:t})}},function(e,t,n){t.f=n(14)},function(e,t,n){var i=n(6),r=n(15),a=n(22),o=n(35),s=n(11).f;e.exports=function(e){var t=r.Symbol||(r.Symbol=!a&&i.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:o.f(e)})}},function(e,t){var n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){e.exports=!n(12)&&!n(17)((function(){return 7!=Object.defineProperty(n(39)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var i=n(16),r=n(6).document,a=i(r)&&i(r.createElement);e.exports=function(e){return a?r.createElement(e):{}}},function(e,t,n){var i=n(8),r=n(13),a=n(63)(!1),o=n(29)("IE_PROTO");e.exports=function(e,t){var n,s=r(e),l=0,c=[];for(n in s)n!=o&&i(s,n)&&c.push(n);for(;t.length>l;)!i(s,n=t[l++])||~a(c,n)||c.push(n);return c}},function(e,t,n){var i=n(42);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var i=n(27);e.exports=function(e){return Object(i(e))}},function(e,t,n){"use strict";function i(){return this}var r=n(22),a=n(25),o=n(45),s=n(10),l=n(33),c=n(70),u=n(34),h=n(73),d=n(14)("iterator"),f=!([].keys&&"next"in[].keys());e.exports=function(e,t,n,p,m,v,g){function y(e){if(!f&&e in M)return M[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}}c(n,t,p);p=t+" Iterator";var x,b,w="values"==m,_=!1,M=e.prototype,S=M[d]||M["@@iterator"]||m&&M[m],E=S||y(m),T=m?w?y("entries"):E:void 0,C="Array"==t&&M.entries||S;if(C&&(C=h(C.call(new e)))!==Object.prototype&&C.next&&(u(C,p,!0),r||"function"==typeof C[d]||s(C,d,i)),w&&S&&"values"!==S.name&&(_=!0,E=function(){return S.call(this)}),r&&!g||!f&&!_&&M[d]||s(M,d,E),l[t]=E,l[p]=i,m)if(x={values:w?E:y("values"),keys:v?E:y("keys"),entries:T},g)for(b in x)b in M||o(M,b,x[b]);else a(a.P+a.F*(f||_),t,x);return x}},function(e,t,n){e.exports=n(10)},function(e,t,n){function i(){}var r=n(19),a=n(71),o=n(31),s=n(29)("IE_PROTO"),l=function(){var e=n(39)("iframe"),t=o.length;for(e.style.display="none",n(72).appendChild(e),e.src="javascript:",(e=e.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;t--;)delete l.prototype[o[t]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(i.prototype=r(e),n=new i,i.prototype=null,n[s]=e):n=l(),void 0===t?n:a(n,t)}},function(e,t,n){var i=n(40),r=n(31).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},function(e,t,n){"use strict";var i=function(e){return!(!e||"object"!=typeof e||(e=e,"[object RegExp]"===(t=Object.prototype.toString.call(e)))||"[object Date]"===t||e.$$typeof===r);var t},r="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function a(e,t){return t&&!0===t.clone&&i(e)?s(Array.isArray(e)?[]:{},e,t):e}function o(e,t,n){var r=e.slice();return t.forEach((function(t,o){void 0===r[o]?r[o]=a(t,n):i(t)?r[o]=s(e[o],t,n):-1===e.indexOf(t)&&r.push(a(t,n))})),r}function s(e,t,n){var r,l,c,u,h=Array.isArray(t);return h===Array.isArray(e)?h?((n||{arrayMerge:o}).arrayMerge||o)(e,t,n):(l=t,c=n,u={},i(r=e)&&Object.keys(r).forEach((function(e){u[e]=a(r[e],c)})),Object.keys(l).forEach((function(e){i(l[e])&&r[e]?u[e]=s(r[e],l[e],c):u[e]=a(l[e],c)})),u):a(t,n)}s.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce((function(e,n){return s(e,n,t)}))},e.exports=s},function(e,t,n){"use strict";(function(e){var n="undefined"!=typeof Map?Map:(Object.defineProperty(o.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),o.prototype.get=function(e){return e=s(this.__entries__,e),(e=this.__entries__[e])&&e[1]},o.prototype.set=function(e,t){var n=s(this.__entries__,e);~n?this.__entries__[n][1]=t:this.__entries__.push([e,t])},o.prototype.delete=function(e){var t=this.__entries__;~(e=s(t,e))&&t.splice(e,1)},o.prototype.has=function(e){return!!~s(this.__entries__,e)},o.prototype.clear=function(){this.__entries__.splice(0)},o.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,i=this.__entries__;n<i.length;n++){var r=i[n];e.call(t,r[1],r[0])}},o),i="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,r=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),a="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(r):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};function o(){this.__entries__=[]}function s(e,t){var n=-1;return e.some((function(e,i){return e[0]===t&&(n=i,!0)})),n}function l(e,t){for(var n=0,i=Object.keys(t);n<i.length;n++){var r=i[n];Object.defineProperty(e,r,{value:t[r],enumerable:!1,writable:!1,configurable:!0})}}var c=["top","right","bottom","left","width","height","size","weight"],u="undefined"!=typeof MutationObserver,h=(p.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},p.prototype.removeObserver=function(e){var t=this.observers_;~(e=t.indexOf(e))&&t.splice(e,1),!t.length&&this.connected_&&this.disconnect_()},p.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},p.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),0<e.length},p.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),u?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},p.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},p.prototype.onTransitionEnd_=function(e){var t=void 0===(e=e.propertyName)?"":e;c.some((function(e){return!!~t.indexOf(e)}))&&this.refresh()},p.getInstance=function(){return this.instance_||(this.instance_=new p),this.instance_},p.instance_=null,p),d=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||r},f=y(0,0,0,0);function p(){function e(){o&&(o=!1,i()),s&&n()}function t(){a(e)}function n(){var e=Date.now();if(o){if(e-l<2)return;s=!0}else s=!(o=!0),setTimeout(t,r);l=e}var i,r,o,s,l;this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=(i=this.refresh.bind(this),s=o=!(r=20),l=0,n)}function m(e){return parseFloat(e)||0}function v(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+m(e["border-"+n+"-width"])}),0)}var g="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof d(e).SVGGraphicsElement}:function(e){return e instanceof d(e).SVGElement&&"function"==typeof e.getBBox};function y(e,t,n,i){return{x:e,y:t,width:n,height:i}}E.prototype.isActive=function(){var e=function(e){return i?g(e)?y(0,0,(c=e.getBBox()).width,c.height):(e=(c=e).clientWidth,l=c.clientHeight,e||l?(n=(t=function(e){for(var t={},n=0,i=["top","right","bottom","left"];n<i.length;n++){var r=i[n],a=e["padding-"+r];t[r]=m(a)}return t}(s=d(c).getComputedStyle(c))).left+t.right,r=t.top+t.bottom,a=m(s.width),o=m(s.height),"border-box"===s.boxSizing&&(Math.round(a+n)!==e&&(a-=v(s,"left","right")+n),Math.round(o+r)!==l)&&(o-=v(s,"top","bottom")+r),c!==d(c).document.documentElement&&(s=Math.round(a+n)-e,c=Math.round(o+r)-l,1!==Math.abs(s)&&(a-=s),1!==Math.abs(c))&&(o-=c),y(t.left,t.top,a,o)):f):f;var t,n,r,a,o,s,l,c}(this.target);return(this.contentRect_=e).width!==this.broadcastWidth||e.height!==this.broadcastHeight},E.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e};var x=E,b=function(e,t){var n=t.x,i=t.y,r=t.width,a=(t=t.height,"undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object);l(a=Object.create(a.prototype),{x:n,y:i,width:r,height:t,top:i,right:n+r,bottom:t+i,left:n}),l(this,{target:e,contentRect:a})},w=(S.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new x(e)),this.controller_.addObserver(this),this.controller_.refresh())}},S.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},S.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},S.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},S.prototype.broadcastActive=function(){var e,t;this.hasActive()&&(e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new b(e.target,e.broadcastRect())})),this.callback_.call(e,t,e),this.clearActive())},S.prototype.clearActive=function(){this.activeObservations_.splice(0)},S.prototype.hasActive=function(){return 0<this.activeObservations_.length},S),_=new("undefined"!=typeof WeakMap?WeakMap:n),M=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=h.getInstance();t=new w(t,n,this);_.set(this,t)};function S(e,t,i){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=i}function E(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=e}["observe","unobserve","disconnect"].forEach((function(e){M.prototype[e]=function(){var t;return(t=_.get(this))[e].apply(t,arguments)}})),e=void 0!==r.ResizeObserver?r.ResizeObserver:M,t.a=e}).call(this,n(37))},function(e,t,n){e.exports=n(53)},function(e,t,n){e.exports=n(90)},function(e,t,n){var i;void 0!==(n="function"==typeof(i=function(){"use strict";var e=window,t={placement:"bottom",gpuAcceleration:!0,offset:0,boundariesElement:"viewport",boundariesPadding:5,preventOverflowOrder:["left","right","top","bottom"],flipBehavior:"flip",arrowElement:"[x-arrow]",arrowOffset:0,modifiers:["shift","offset","preventOverflow","keepTogether","arrow","flip","applyStyle"],modifiersIgnored:[],forceAbsolute:!1};function n(e,n,i){this._reference=e.jquery?e[0]:e,this.state={};e=null==n;var r=n&&"[object Object]"===Object.prototype.toString.call(n);return this._popper=e||r?this.parse(r?n:{}):n.jquery?n[0]:n,this._options=Object.assign({},t,i),this._options.modifiers=this._options.modifiers.map(function(e){if(-1===this._options.modifiersIgnored.indexOf(e))return"applyStyle"===e&&this._popper.setAttribute("x-placement",this._options.placement),this.modifiers[e]||e}.bind(this)),this.state.position=this._getPosition(this._popper,this._reference),u(this._popper,{position:this.state.position,top:0}),this.update(),this._setupEventListeners(),this}function i(t){var n=t.style.display,i=t.style.visibility,r=(t.style.display="block",t.style.visibility="hidden",t.offsetWidth,e.getComputedStyle(t)),a=parseFloat(r.marginTop)+parseFloat(r.marginBottom);r=parseFloat(r.marginLeft)+parseFloat(r.marginRight),r={width:t.offsetWidth+r,height:t.offsetHeight+a};return t.style.display=n,t.style.visibility=i,r}function r(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function a(e){return(e=Object.assign({},e)).right=e.left+e.width,e.bottom=e.top+e.height,e}function o(e,t){var n,i=0;for(n in e){if(e[n]===t)return i;i++}return null}function s(t,n){return e.getComputedStyle(t,null)[n]}function l(t){return(t=t.offsetParent)!==e.document.body&&t?t:e.document.documentElement}function c(t){var n=t.parentNode;return n?n===e.document?e.document.body.scrollTop||e.document.body.scrollLeft?e.document.body:e.document.documentElement:-1!==["scroll","auto"].indexOf(s(n,"overflow"))||-1!==["scroll","auto"].indexOf(s(n,"overflow-x"))||-1!==["scroll","auto"].indexOf(s(n,"overflow-y"))?n:c(t.parentNode):t}function u(e,t){Object.keys(t).forEach((function(n){var i,r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&""!==(i=t[n])&&!isNaN(parseFloat(i))&&isFinite(i)&&(r="px"),e.style[n]=t[n]+r}))}function h(e){return(e={width:e.offsetWidth,height:e.offsetHeight,left:e.offsetLeft,top:e.offsetTop}).right=e.left+e.width,e.bottom=e.top+e.height,e}function d(e){var t=e.getBoundingClientRect();e=-1!=navigator.userAgent.indexOf("MSIE")&&"HTML"===e.tagName?-e.scrollTop:t.top;return{left:t.left,top:e,right:t.right,bottom:t.bottom,width:t.right-t.left,height:t.bottom-e}}function f(t){for(var n=["","ms","webkit","moz","o"],i=0;i<n.length;i++){var r=n[i]?n[i]+t.charAt(0).toUpperCase()+t.slice(1):t;if(void 0!==e.document.body.style[r])return r}return null}return n.prototype.destroy=function(){return this._popper.removeAttribute("x-placement"),this._popper.style.left="",this._popper.style.position="",this._popper.style.top="",this._popper.style[f("transform")]="",this._removeEventListeners(),this._options.removeOnDestroy&&this._popper.remove(),this},n.prototype.update=function(){var e={instance:this,styles:{}};e.placement=this._options.placement,e._originalPlacement=this._options.placement,e.offsets=this._getOffsets(this._popper,this._reference,e.placement),e.boundaries=this._getBoundaries(e,this._options.boundariesPadding,this._options.boundariesElement),e=this.runModifiers(e,this._options.modifiers),"function"==typeof this.state.updateCallback&&this.state.updateCallback(e)},n.prototype.onCreate=function(e){return e(this),this},n.prototype.onUpdate=function(e){return this.state.updateCallback=e,this},n.prototype.parse=function(t){var n={tagName:"div",classNames:["popper"],attributes:[],parent:e.document.body,content:"",contentType:"text",arrowTagName:"div",arrowClassNames:["popper__arrow"],arrowAttributes:["x-arrow"]},i=(n=(t=Object.assign({},n,t),e.document)).createElement(t.tagName),r=(a(i,t.classNames),o(i,t.attributes),"node"===t.contentType?i.appendChild(t.content.jquery?t.content[0]:t.content):"html"===t.contentType?i.innerHTML=t.content:i.textContent=t.content,t.arrowTagName&&(a(r=n.createElement(t.arrowTagName),t.arrowClassNames),o(r,t.arrowAttributes),i.appendChild(r)),t.parent.jquery?t.parent[0]:t.parent);if("string"==typeof r){if(1<(r=n.querySelectorAll(t.parent)).length&&console.warn("WARNING: the given `parent` query("+t.parent+") matched more than one element, the first one will be used"),0===r.length)throw"ERROR: the given `parent` doesn't exists!";r=r[0]}return 1<r.length&&r instanceof Element==0&&(console.warn("WARNING: you have passed as parent a list of elements, the first one will be used"),r=r[0]),r.appendChild(i),i;function a(e,t){t.forEach((function(t){e.classList.add(t)}))}function o(e,t){t.forEach((function(t){e.setAttribute(t.split(":")[0],t.split(":")[1]||"")}))}},n.prototype._getPosition=function(t,n){return l(n),!this._options.forceAbsolute&&function t(n){return n!==e.document.body&&("fixed"===s(n,"position")||(n.parentNode?t(n.parentNode):n))}(n)?"fixed":"absolute"},n.prototype._getOffsets=function(e,t,n){n=n.split("-")[0];var r,a={},o=(a.position=this.state.position,"fixed"===a.position),s=(s=l(e),o=o,t=d(t),r=d(s),o&&(o=c(s),r.top+=o.scrollTop,r.bottom+=o.scrollTop,r.left+=o.scrollLeft,r.right+=o.scrollLeft),{top:t.top-r.top,left:t.left-r.left,bottom:t.top-r.top+t.height,right:t.left-r.left+t.width,width:t.width,height:t.height});o=i(e);return-1!==["right","left"].indexOf(n)?(a.top=s.top+s.height/2-o.height/2,a.left="left"===n?s.left-o.width:s.right):(a.left=s.left+s.width/2-o.width/2,a.top="top"===n?s.top-o.height:s.bottom),a.width=o.width,a.height=o.height,{popper:a,reference:s}},n.prototype._setupEventListeners=function(){var t;this.state.updateBound=this.update.bind(this),e.addEventListener("resize",this.state.updateBound),"window"!==this._options.boundariesElement&&((t=(t=c(this._reference))!==e.document.body&&t!==e.document.documentElement?t:e).addEventListener("scroll",this.state.updateBound),this.state.scrollTarget=t)},n.prototype._removeEventListeners=function(){e.removeEventListener("resize",this.state.updateBound),"window"!==this._options.boundariesElement&&this.state.scrollTarget&&(this.state.scrollTarget.removeEventListener("scroll",this.state.updateBound),this.state.scrollTarget=null),this.state.updateBound=null},n.prototype._getBoundaries=function(t,n,i){var r,a,o,s={};return(s="window"===i?(a=e.document.body,o=e.document.documentElement,r=Math.max(a.scrollHeight,a.offsetHeight,o.clientHeight,o.scrollHeight,o.offsetHeight),{top:0,right:Math.max(a.scrollWidth,a.offsetWidth,o.clientWidth,o.scrollWidth,o.offsetWidth),bottom:r,left:0}):"viewport"===i?(a=l(this._popper),o=c(this._popper),r=h(a),a="fixed"===t.offsets.popper.position?0:(a=o)==document.body?Math.max(document.documentElement.scrollTop,document.body.scrollTop):a.scrollTop,o="fixed"===t.offsets.popper.position?0:(t=o)==document.body?Math.max(document.documentElement.scrollLeft,document.body.scrollLeft):t.scrollLeft,{top:0-(r.top-a),right:e.document.documentElement.clientWidth-(r.left-o),bottom:e.document.documentElement.clientHeight-(r.top-a),left:0-(r.left-o)}):l(this._popper)===i?{top:0,left:0,right:i.clientWidth,bottom:i.clientHeight}:h(i)).left+=n,s.right-=n,s.top=s.top+n,s.bottom=s.bottom-n,s},n.prototype.runModifiers=function(e,t,n){return t=t.slice(),(t=void 0!==n?this._options.modifiers.slice(0,o(this._options.modifiers,n)):t).forEach(function(t){t&&"[object Function]"==={}.toString.call(t)&&(e=t.call(this,e))}.bind(this)),e},n.prototype.isModifierRequired=function(e,t){return e=o(this._options.modifiers,e),!!this._options.modifiers.slice(0,e).filter((function(e){return e===t})).length},(n.prototype.modifiers={}).applyStyle=function(e){var t,n={position:e.offsets.popper.position},i=Math.round(e.offsets.popper.left),r=Math.round(e.offsets.popper.top);return this._options.gpuAcceleration&&(t=f("transform"))?(n[t]="translate3d("+i+"px, "+r+"px, 0)",n.top=0,n.left=0):(n.left=i,n.top=r),Object.assign(n,e.styles),u(this._popper,n),this._popper.setAttribute("x-placement",e.placement),this.isModifierRequired(this.modifiers.applyStyle,this.modifiers.arrow)&&e.offsets.arrow&&u(e.arrowElement,e.offsets.arrow),e},n.prototype.modifiers.shift=function(e){var t,n,i,r=(i=e.placement).split("-")[0];return(i=i.split("-")[1])&&(n=e.offsets.reference,t=a(e.offsets.popper),n={y:{start:{top:n.top},end:{top:n.top+n.height-t.height}},x:{start:{left:n.left},end:{left:n.left+n.width-t.width}}},r=-1!==["bottom","top"].indexOf(r)?"x":"y",e.offsets.popper=Object.assign(t,n[r][i])),e},n.prototype.modifiers.preventOverflow=function(e){var t=this._options.preventOverflowOrder,n=a(e.offsets.popper),i={left:function(){var t=n.left;return{left:t=n.left<e.boundaries.left?Math.max(n.left,e.boundaries.left):t}},right:function(){var t=n.left;return{left:t=n.right>e.boundaries.right?Math.min(n.left,e.boundaries.right-n.width):t}},top:function(){var t=n.top;return{top:t=n.top<e.boundaries.top?Math.max(n.top,e.boundaries.top):t}},bottom:function(){var t=n.top;return{top:t=n.bottom>e.boundaries.bottom?Math.min(n.top,e.boundaries.bottom-n.height):t}}};return t.forEach((function(t){e.offsets.popper=Object.assign(n,i[t]())})),e},n.prototype.modifiers.keepTogether=function(e){var t=a(e.offsets.popper),n=e.offsets.reference,i=Math.floor;return t.right<i(n.left)&&(e.offsets.popper.left=i(n.left)-t.width),t.left>i(n.right)&&(e.offsets.popper.left=i(n.right)),t.bottom<i(n.top)&&(e.offsets.popper.top=i(n.top)-t.height),t.top>i(n.bottom)&&(e.offsets.popper.top=i(n.bottom)),e},n.prototype.modifiers.flip=function(e){var t,n,i,o;return this.isModifierRequired(this.modifiers.flip,this.modifiers.preventOverflow)?e.flipped&&e.placement===e._originalPlacement||(t=e.placement.split("-")[0],n=r(t),i=e.placement.split("-")[1]||"",o=[],(o="flip"===this._options.flipBehavior?[t,n]:this._options.flipBehavior).forEach(function(s,l){var c;t===s&&o.length!==l+1&&(t=e.placement.split("-")[0],n=r(t),s=a(e.offsets.popper),(c=-1!==["right","bottom"].indexOf(t))&&Math.floor(e.offsets.reference[t])>Math.floor(s[n])||!c&&Math.floor(e.offsets.reference[t])<Math.floor(s[n]))&&(e.flipped=!0,e.placement=o[l+1],i&&(e.placement+="-"+i),e.offsets.popper=this._getOffsets(this._popper,this._reference,e.placement).popper,e=this.runModifiers(e,this._options.modifiers,this._flip))}.bind(this))):console.warn("WARNING: preventOverflow modifier is required by flip modifier in order to work, be sure to include it before flip!"),e},n.prototype.modifiers.offset=function(e){var t=this._options.offset,n=e.offsets.popper;return-1!==e.placement.indexOf("left")?n.top-=t:-1!==e.placement.indexOf("right")?n.top+=t:-1!==e.placement.indexOf("top")?n.left-=t:-1!==e.placement.indexOf("bottom")&&(n.left+=t),e},n.prototype.modifiers.arrow=function(e){var t,n,r,o,s,l,c,u,h=this._options.arrowElement,d=this._options.arrowOffset;return(h="string"==typeof h?this._popper.querySelector(h):h)&&(this._popper.contains(h)?this.isModifierRequired(this.modifiers.arrow,this.modifiers.keepTogether)?(t={},u=e.placement.split("-")[0],n=a(e.offsets.popper),r=e.offsets.reference,o=(u=-1!==["left","right"].indexOf(u))?"height":"width",s=u?"top":"left",l=u?"left":"top",u=u?"bottom":"right",c=i(h)[o],r[u]-c<n[s]&&(e.offsets.popper[s]-=n[s]-(r[u]-c)),r[s]+c>n[u]&&(e.offsets.popper[s]+=r[s]+c-n[u]),u=r[s]+(d||r[o]/2-c/2)-n[s],u=Math.max(Math.min(n[o]-c-8,u),8),t[s]=u,t[l]="",e.offsets.arrow=t,e.arrowElement=h):console.warn("WARNING: keepTogether modifier is required by arrow modifier in order to work, be sure to include it before arrow!"):console.warn("WARNING: `arrowElement` must be child of its popper element!")),e},Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var t=Object(e),n=1;n<arguments.length;n++)if(null!=(i=arguments[n]))for(var i=Object(i),r=Object.keys(i),a=0,o=r.length;a<o;a++){var s=r[a],l=Object.getOwnPropertyDescriptor(i,s);void 0!==l&&l.enumerable&&(t[s]=i[s])}return t}}),n})?i.call(t,n,t,e):i)&&(e.exports=n)},function(e,t,n){"use strict";var i=n(54),r=n(55);function a(e){var t=0,n=0,i=0,r=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),i=10*t,r=10*n,"deltaY"in e&&(r=e.deltaY),((i="deltaX"in e?e.deltaX:i)||r)&&e.deltaMode&&(1==e.deltaMode?(i*=40,r*=40):(i*=800,r*=800)),{spinX:t=i&&!t?i<1?-1:1:t,spinY:n=r&&!n?r<1?-1:1:n,pixelX:i,pixelY:r}}a.getEventType=function(){return i.firefox()?"DOMMouseScroll":r("wheel")?"wheel":"mousewheel"},e.exports=a},function(e,t){var n,i,r,a,o,s,l,c,u,h,d,f,p,m,v,g=!1;function y(){var e,t,y,x;g||(g=!0,e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),y=/(Mac OS X)|(Windows)|(Linux)/.exec(e),f=/\b(iPhone|iP[ao]d)/.exec(e),p=/\b(iP[ao]d)/.exec(e),h=/Android/i.exec(e),m=/FBAN\/\w+;/i.exec(e),v=/Mobile/i.exec(e),d=!!/Win64/.exec(e),t?((n=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN)&&document&&document.documentMode&&(n=document.documentMode),x=/(?:Trident\/(\d+.\d+))/.exec(e),s=x?parseFloat(x[1])+4:n,i=t[2]?parseFloat(t[2]):NaN,r=t[3]?parseFloat(t[3]):NaN,o=(a=t[4]?parseFloat(t[4]):NaN)&&(t=/(?:Chrome\/(\d+\.\d+))/.exec(e))&&t[1]?parseFloat(t[1]):NaN):n=i=r=o=a=NaN,y?(l=!!y[1]&&(!(x=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e))||parseFloat(x[1].replace("_","."))),c=!!y[2],u=!!y[3]):l=c=u=!1)}var x={ie:function(){return y(),n},ieCompatibilityMode:function(){return y(),n<s},ie64:function(){return x.ie()&&d},firefox:function(){return y(),i},opera:function(){return y(),r},webkit:function(){return y(),a},safari:function(){return x.webkit()},chrome:function(){return y(),o},windows:function(){return y(),c},osx:function(){return y(),l},linux:function(){return y(),u},iphone:function(){return y(),f},mobile:function(){return y(),f||p||h||v},nativeApp:function(){return y(),m},android:function(){return y(),h},ipad:function(){return y(),p}};e.exports=x},function(e,t,n){"use strict";var i,r=n(56);r.canUseDOM&&(i=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("","")),e.exports=function(e,t){var n,a;return!(!r.canUseDOM||t&&!("addEventListener"in document))&&((n=(t="on"+e)in document)||((a=document.createElement("div")).setAttribute(t,"return;"),n="function"==typeof a[t]),!n&&i&&"wheel"===e?document.implementation.hasFeature("Events.wheel","3.0"):n)}},function(e,t,n){"use strict";var i={canUseDOM:i=!("undefined"==typeof window||!window.document||!window.document.createElement),canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen,isInWorker:!i};e.exports=i},function(e,t,n){e.exports={default:n(58),__esModule:!0}},function(e,t,n){n(59),e.exports=n(15).Object.assign},function(e,t,n){var i=n(25);i(i.S+i.F,"Object",{assign:n(62)})},function(e,t,n){var i=n(61);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){"use strict";var i=n(21),r=n(32),a=n(24),o=n(43),s=n(41),l=Object.assign;e.exports=!l||n(17)((function(){var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=i}))?function(e,t){for(var n=o(e),l=arguments.length,c=1,u=r.f,h=a.f;c<l;)for(var d,f=s(arguments[c++]),p=u?i(f).concat(u(f)):i(f),m=p.length,v=0;v<m;)h.call(f,d=p[v++])&&(n[d]=f[d]);return n}:l},function(e,t,n){var i=n(13),r=n(64),a=n(65);e.exports=function(e){return function(t,n,o){var s,l=i(t),c=r(l.length),u=a(o,c);if(e&&n!=n){for(;u<c;)if((s=l[u++])!=s)return!0}else for(;u<c;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}}},function(e,t,n){var i=n(28),r=Math.min;e.exports=function(e){return 0<e?r(i(e),9007199254740991):0}},function(e,t,n){var i=n(28),r=Math.max,a=Math.min;e.exports=function(e,t){return(e=i(e))<0?r(e+t,0):a(e,t)}},function(e,t,n){e.exports={default:n(67),__esModule:!0}},function(e,t,n){n(68),n(74),e.exports=n(35).f("iterator")},function(e,t,n){"use strict";var i=n(69)(!0);n(44)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e=this._t,t=this._i;return t>=e.length?{value:void 0,done:!0}:(e=i(e,t),this._i+=e.length,{value:e,done:!1})}))},function(e,t,n){var i=n(28),r=n(27);e.exports=function(e){return function(t,n){t=String(r(t)),n=i(n);var a,o=t.length;return n<0||o<=n?e?"":void 0:(a=t.charCodeAt(n))<55296||56319<a||n+1===o||(o=t.charCodeAt(n+1))<56320||57343<o?e?t.charAt(n):a:e?t.slice(n,n+2):o-56320+(a-55296<<10)+65536}}},function(e,t,n){"use strict";var i=n(46),r=n(20),a=n(34),o={};n(10)(o,n(14)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=i(o,{next:r(1,n)}),a(e,t+" Iterator")}},function(e,t,n){var i=n(11),r=n(19),a=n(21);e.exports=n(12)?Object.defineProperties:function(e,t){r(e);for(var n,o=a(t),s=o.length,l=0;l<s;)i.f(e,n=o[l++],t[n]);return e}},function(e,t,n){n=n(6).document,e.exports=n&&n.documentElement},function(e,t,n){var i=n(8),r=n(43),a=n(29)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),i(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,t,n){n(75);for(var i=n(6),r=n(10),a=n(33),o=n(14)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var c,u=s[l];(c=(c=i[u])&&c.prototype)&&!c[o]&&r(c,o,u),a[u]=a.Array}},function(e,t,n){"use strict";var i=n(76),r=n(77),a=n(33),o=n(13);e.exports=n(44)(Array,"Array",(function(e,t){this._t=o(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,r(1)):r(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),a.Arguments=a.Array,i("keys"),i("values"),i("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){e.exports={default:n(79),__esModule:!0}},function(e,t,n){n(80),n(86),n(87),n(88),e.exports=n(15).Symbol},function(e,t,n){"use strict";function i(e){var t=W[e]=P(z.prototype);return t._k=e,t}function r(e,t,n){return e===q&&r(X,t,n),E(e),t=A(t,!0),E(n),(h(W,t)?(n.enumerable?(h(e,U)&&e[U][t]&&(e[U][t]=!1),n=P(n,{enumerable:L(0,!1)})):(h(e,U)||O(e,U,L(1,{})),e[U][t]=!0),Z):O)(e,t,n)}function a(e,t){E(e);for(var n,i=M(t=C(t)),a=0,o=i.length;a<o;)r(e,n=i[a++],t[n]);return e}function o(e){var t=G.call(this,e=A(e,!0));return!(this===q&&h(W,e)&&!h(X,e))&&(!(t||!h(this,e)||!h(W,e)||h(this,U)&&this[U][e])||t)}function s(e,t){var n;if(e=C(e),t=A(t,!0),e!==q||!h(W,t)||h(X,t))return!(n=N(e,t))||!h(W,t)||h(e,U)&&e[U][t]||(n.enumerable=!0),n}function l(e){for(var t,n=F(C(e)),i=[],r=0;n.length>r;)h(W,t=n[r++])||t==U||t==m||i.push(t);return i}function c(e){for(var t,n=e===q,i=F(n?X:C(e)),r=[],a=0;i.length>a;)!h(W,t=i[a++])||n&&!h(q,t)||r.push(W[t]);return r}var u=n(6),h=n(8),d=n(12),f=n(25),p=n(45),m=n(81).KEY,v=n(17),g=n(30),y=n(34),x=n(23),b=n(14),w=n(35),_=n(36),M=n(82),S=n(83),E=n(19),T=n(16),C=n(13),A=n(26),L=n(20),P=n(46),k=n(84),D=n(85),I=n(11),R=n(21),N=D.f,O=I.f,F=k.f,z=u.Symbol,B=u.JSON,H=B&&B.stringify,U=b("_hidden"),V=b("toPrimitive"),G={}.propertyIsEnumerable,j=g("symbol-registry"),W=g("symbols"),X=g("op-symbols"),q=Object.prototype,Y=(g="function"==typeof z,u.QObject),$=!Y||!Y.prototype||!Y.prototype.findChild,Z=d&&v((function(){return 7!=P(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a}))?function(e,t,n){var i=N(q,t);i&&delete q[t],O(e,t,n),i&&e!==q&&O(q,t,i)}:O,Q=g&&"symbol"==typeof z.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof z};g||(p((z=function(){if(this instanceof z)throw TypeError("Symbol is not a constructor!");var e=x(0<arguments.length?arguments[0]:void 0),t=function(n){this===q&&t.call(X,n),h(this,U)&&h(this[U],e)&&(this[U][e]=!1),Z(this,e,L(1,n))};return d&&$&&Z(q,e,{configurable:!0,set:t}),i(e)}).prototype,"toString",(function(){return this._k})),D.f=s,I.f=r,n(47).f=k.f=l,n(24).f=o,n(32).f=c,d&&!n(22)&&p(q,"propertyIsEnumerable",o,!0),w.f=function(e){return i(b(e))}),f(f.G+f.W+f.F*!g,{Symbol:z});for(var K="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),J=0;K.length>J;)b(K[J++]);for(var ee=R(b.store),te=0;ee.length>te;)_(ee[te++]);f(f.S+f.F*!g,"Symbol",{for:function(e){return h(j,e+="")?j[e]:j[e]=z(e)},keyFor:function(e){if(!Q(e))throw TypeError(e+" is not a symbol!");for(var t in j)if(j[t]===e)return t},useSetter:function(){$=!0},useSimple:function(){$=!1}}),f(f.S+f.F*!g,"Object",{create:function(e,t){return void 0===t?P(e):a(P(e),t)},defineProperty:r,defineProperties:a,getOwnPropertyDescriptor:s,getOwnPropertyNames:l,getOwnPropertySymbols:c}),B&&f(f.S+f.F*(!g||v((function(){var e=z();return"[null]"!=H([e])||"{}"!=H({a:e})||"{}"!=H(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,i=[e],r=1;r<arguments.length;)i.push(arguments[r++]);if(n=t=i[1],(T(t)||void 0!==e)&&!Q(e))return S(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Q(t))return t}),i[1]=t,H.apply(B,i)}}),z.prototype[V]||n(10)(z.prototype,V,z.prototype.valueOf),y(z,"Symbol"),y(Math,"Math",!0),y(u.JSON,"JSON",!0)},function(e,t,n){function i(e){s(e,r,{value:{i:"O"+ ++l,w:{}}})}var r=n(23)("meta"),a=n(16),o=n(8),s=n(11).f,l=0,c=Object.isExtensible||function(){return!0},u=!n(17)((function(){return c(Object.preventExtensions({}))})),h=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!c(e))return"F";if(!t)return"E";i(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!c(e))return!0;if(!t)return!1;i(e)}return e[r].w},onFreeze:function(e){return u&&h.NEED&&c(e)&&!o(e,r)&&i(e),e}}},function(e,t,n){var i=n(21),r=n(32),a=n(24);e.exports=function(e){var t=i(e),n=r.f;if(n)for(var o,s=n(e),l=a.f,c=0;s.length>c;)l.call(e,o=s[c++])&&t.push(o);return t}},function(e,t,n){var i=n(42);e.exports=Array.isArray||function(e){return"Array"==i(e)}},function(e,t,n){var i=n(13),r=n(47).f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){if(!o||"[object Window]"!=a.call(e))return r(i(e));var t=e;try{return r(t)}catch(t){return o.slice()}}},function(e,t,n){var i=n(24),r=n(20),a=n(13),o=n(26),s=n(8),l=n(38),c=Object.getOwnPropertyDescriptor;t.f=n(12)?c:function(e,t){if(e=a(e),t=o(t,!0),l)try{return c(e,t)}catch(e){}if(s(e,t))return r(!i.f.call(e,t),e[t])}},function(e,t){},function(e,t,n){n(36)("asyncIterator")},function(e,t,n){n(36)("observable")},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";function i(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"el-pager",on:{click:e.onPagerClick}},[0<e.pageCount?n("li",{staticClass:"number",class:{active:1===e.currentPage,disabled:e.disabled}},[e._v("1")]):e._e(),e.showPrevMore?n("li",{staticClass:"el-icon more btn-quickprev",class:[e.quickprevIconClass,{disabled:e.disabled}],on:{mouseenter:function(t){e.onMouseenter("left")},mouseleave:function(t){e.quickprevIconClass="el-icon-more"}}}):e._e(),e._l(e.pagers,(function(t){return n("li",{key:t,staticClass:"number",class:{active:e.currentPage===t,disabled:e.disabled}},[e._v(e._s(t))])})),e.showNextMore?n("li",{staticClass:"el-icon more btn-quicknext",class:[e.quicknextIconClass,{disabled:e.disabled}],on:{mouseenter:function(t){e.onMouseenter("right")},mouseleave:function(t){e.quicknextIconClass="el-icon-more"}}}):e._e(),1<e.pageCount?n("li",{staticClass:"number",class:{active:e.currentPage===e.pageCount,disabled:e.disabled}},[e._v(e._s(e.pageCount))]):e._e()],2)}function r(e,t,n,i,r,a,o,s){var l,c,u="function"==typeof e?e.options:e;return t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),i&&(u.functional=!0),a&&(u._scopeId="data-v-"+a),o?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},u._ssrRegister=l):r&&(l=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l&&(u.functional?(u._injectStyles=l,c=u.render,u.render=function(e,t){return l.call(t),c(e,t)}):(t=u.beforeCreate,u.beforeCreate=t?[].concat(t,l):[l])),{exports:e,options:u}}function a(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.handleClose,expression:"handleClose"}],staticClass:"el-select",class:[e.selectSize?"el-select--"+e.selectSize:""],on:{click:function(t){return t.stopPropagation(),e.toggleMenu(t)}}},[e.multiple?n("div",{ref:"tags",staticClass:"el-select__tags",style:{"max-width":e.inputWidth-32+"px",width:"100%"}},[e.collapseTags&&e.selected.length?n("span",[n("el-tag",{attrs:{closable:!e.selectDisabled,size:e.collapseTagSize,hit:e.selected[0].hitState,type:"info","disable-transitions":""},on:{close:function(t){e.deleteTag(t,e.selected[0])}}},[n("span",{staticClass:"el-select__tags-text"},[e._v(e._s(e.selected[0].currentLabel))])]),1<e.selected.length?n("el-tag",{attrs:{closable:!1,size:e.collapseTagSize,type:"info","disable-transitions":""}},[n("span",{staticClass:"el-select__tags-text"},[e._v("+ "+e._s(e.selected.length-1))])]):e._e()],1):e._e(),e.collapseTags?e._e():n("transition-group",{on:{"after-leave":e.resetInputHeight}},e._l(e.selected,(function(t){return n("el-tag",{key:e.getValueKey(t),attrs:{closable:!e.selectDisabled,size:e.collapseTagSize,hit:t.hitState,type:"info","disable-transitions":""},on:{close:function(n){e.deleteTag(n,t)}}},[n("span",{staticClass:"el-select__tags-text"},[e._v(e._s(t.currentLabel))])])})),1),e.filterable?n("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],ref:"input",staticClass:"el-select__input",class:[e.selectSize?"is-"+e.selectSize:""],style:{"flex-grow":"1",width:e.inputLength/(e.inputWidth-32)+"%","max-width":e.inputWidth-42+"px"},attrs:{type:"text",disabled:e.selectDisabled,autocomplete:e.autoComplete||e.autocomplete},domProps:{value:e.query},on:{focus:e.handleFocus,blur:function(t){e.softFocus=!1},keyup:e.managePlaceholder,keydown:[e.resetInputState,function(t){if(!("button"in t)&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"]))return null;t.preventDefault(),e.handleNavigate("next")},function(t){if(!("button"in t)&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"]))return null;t.preventDefault(),e.handleNavigate("prev")},function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?(t.preventDefault(),e.selectOption(t)):null},function(t){if(!("button"in t)&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;t.stopPropagation(),t.preventDefault(),e.visible=!1},function(t){return"button"in t||!e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"])?e.deletePrevTag(t):null},function(t){if(!("button"in t)&&e._k(t.keyCode,"tab",9,t.key,"Tab"))return null;e.visible=!1}],compositionstart:e.handleComposition,compositionupdate:e.handleComposition,compositionend:e.handleComposition,input:[function(t){t.target.composing||(e.query=t.target.value)},e.debouncedQueryChange]}}):e._e()],1):e._e(),n("el-input",{ref:"reference",class:{"is-focus":e.visible},attrs:{type:"text",placeholder:e.currentPlaceholder,name:e.name,id:e.id,autocomplete:e.autoComplete||e.autocomplete,size:e.selectSize,disabled:e.selectDisabled,readonly:e.readonly,"validate-event":!1,tabindex:e.multiple&&e.filterable?"-1":null},on:{focus:e.handleFocus,blur:e.handleBlur,input:e.debouncedOnInputChange,compositionstart:e.handleComposition,compositionupdate:e.handleComposition,compositionend:e.handleComposition},nativeOn:{keydown:[function(t){if(!("button"in t)&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"]))return null;t.stopPropagation(),t.preventDefault(),e.handleNavigate("next")},function(t){if(!("button"in t)&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"]))return null;t.stopPropagation(),t.preventDefault(),e.handleNavigate("prev")},function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?(t.preventDefault(),e.selectOption(t)):null},function(t){if(!("button"in t)&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;t.stopPropagation(),t.preventDefault(),e.visible=!1},function(t){if(!("button"in t)&&e._k(t.keyCode,"tab",9,t.key,"Tab"))return null;e.visible=!1}],mouseenter:function(t){e.inputHovering=!0},mouseleave:function(t){e.inputHovering=!1}},model:{value:e.selectedLabel,callback:function(t){e.selectedLabel=t},expression:"selectedLabel"}},[e.$slots.prefix?n("template",{slot:"prefix"},[e._t("prefix")],2):e._e(),n("template",{slot:"suffix"},[n("i",{directives:[{name:"show",rawName:"v-show",value:!e.showClose,expression:"!showClose"}],class:["el-select__caret","el-input__icon","el-icon-"+e.iconClass]}),e.showClose?n("i",{staticClass:"el-select__caret el-input__icon el-icon-circle-close",on:{click:e.handleClearClick}}):e._e()])],2),n("transition",{attrs:{name:"el-zoom-in-top"},on:{"before-enter":e.handleMenuEnter,"after-leave":e.doDestroy}},[n("el-select-menu",{directives:[{name:"show",rawName:"v-show",value:e.visible&&!1!==e.emptyText,expression:"visible && emptyText !== false"}],ref:"popper",attrs:{"append-to-body":e.popperAppendToBody}},[n("el-scrollbar",{directives:[{name:"show",rawName:"v-show",value:0<e.options.length&&!e.loading,expression:"options.length > 0 && !loading"}],ref:"scrollbar",class:{"is-empty":!e.allowCreate&&e.query&&0===e.filteredOptionsCount},attrs:{tag:"ul","wrap-class":"el-select-dropdown__wrap","view-class":"el-select-dropdown__list"}},[e.showNewOption?n("el-option",{attrs:{value:e.query,created:""}}):e._e(),e._t("default")],2),e.emptyText&&(!e.allowCreate||e.loading||e.allowCreate&&0===e.options.length)?[e.$slots.empty?e._t("empty"):n("p",{staticClass:"el-select-dropdown__empty"},[e._v("\n          "+e._s(e.emptyText)+"\n        ")])]:e._e()],2)],1)],1)}function o(e){return{methods:{focus:function(){this.$refs[e].focus()}}}}n.r(t),i._withStripped=!0;var s=((s=r({name:"ElPager",props:{currentPage:Number,pageCount:Number,pagerCount:Number,disabled:Boolean},watch:{showPrevMore:function(e){e||(this.quickprevIconClass="el-icon-more")},showNextMore:function(e){e||(this.quicknextIconClass="el-icon-more")}},methods:{onPagerClick:function(e){var t,n,i,r=e.target;"UL"===r.tagName||this.disabled||(e=Number(e.target.textContent),t=this.pageCount,n=this.currentPage,i=this.pagerCount-2,-1!==r.className.indexOf("more")&&(-1!==r.className.indexOf("quickprev")?e=n-i:-1!==r.className.indexOf("quicknext")&&(e=n+i)),isNaN(e)||t<(e=e<1?1:e)&&(e=t),e!==n&&this.$emit("change",e))},onMouseenter:function(e){this.disabled||("left"===e?this.quickprevIconClass="el-icon-d-arrow-left":this.quicknextIconClass="el-icon-d-arrow-right")}},computed:{pagers:function(){var e=this.pagerCount,t=(e-1)/2,n=Number(this.currentPage),i=Number(this.pageCount),r=!1,a=!1,o=(e<i&&(e-t<n&&(r=!0),n<i-t)&&(a=!0),[]);if(r&&!a)for(var s=i-(e-2);s<i;s++)o.push(s);else if(!r&&a)for(var l=2;l<e;l++)o.push(l);else if(r&&a)for(var c=Math.floor(e/2)-1,u=n-c;u<=n+c;u++)o.push(u);else for(var h=2;h<i;h++)o.push(h);return this.showPrevMore=r,this.showNextMore=a,o}},data:function(){return{current:null,showPrevMore:!1,showNextMore:!1,quicknextIconClass:"el-icon-more",quickprevIconClass:"el-icon-more"}}},i,[],!1,null,null,null)).options.__file="packages/pagination/src/pager.vue",s.exports),l=(a._withStripped=!0,{methods:{dispatch:function(e,t,n){for(var i=this.$parent||this.$root,r=i.$options.componentName;i&&(!r||r!==e);)(i=i.$parent)&&(r=i.$options.componentName);i&&i.$emit.apply(i,[t].concat(n))},broadcast:function(e,t,n){(function e(t,n,i){this.$children.forEach((function(r){r.$options.componentName===t?r.$emit.apply(r,[n].concat(i)):e.apply(r,[t,n].concat([i]))}))}).call(this,e,t,n)}}}),c=n(0),u=n.n(c),h=(c=n(48),n.n(c));c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function d(e){return"[object String]"===Object.prototype.toString.call(e)}function f(e){return"[object Object]"===Object.prototype.toString.call(e)}function p(e){return e&&e.nodeType===Node.ELEMENT_NODE}function m(e){return void 0===e}var v=function(e){return e&&"[object Function]"==={}.toString.call(e)},g=("object"===("undefined"==typeof Int8Array?"undefined":c(Int8Array))||!u.a.prototype.$isServer&&"function"==typeof document.childNodes||(v=function(e){return"function"==typeof e||!1}),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}),y=Object.prototype.hasOwnProperty;function x(){}function b(e,t){return y.call(e,t)}function w(e,t){for(var n=(t=t||"").split("."),i=e,r=null,a=0,o=n.length;a<o;a++){var s=n[a];if(!i)break;if(a===o-1){r=i[s];break}i=i[s]}return r}function _(e,t,n){for(var i=e,r=(t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),a=0,o=r.length;a<o-1&&(i||n);++a){var s=r[a];if(!(s in i)){if(n)throw new Error("please transfer a valid prop path to form item!");break}i=i[s]}return{o:i,k:r[a],v:i?i[r[a]]:null}}function M(){return Math.floor(1e4*Math.random())}function S(e,t){if(e!==t){if(!(e instanceof Array))return!1;if(!(t instanceof Array))return!1;if(e.length!==t.length)return!1;for(var n=0;n!==e.length;++n)if(e[n]!==t[n])return!1}return!0}function E(e,t){for(var n=0;n!==e.length;++n)if(t(e[n]))return n;return-1}function T(e,t){return-1!==(t=E(e,t))?e[t]:void 0}function C(e){return Array.isArray(e)?e:e?[e]:[]}function A(e){return d(e)?e.charAt(0).toUpperCase()+e.slice(1):e}function L(e,t){var n=f(e),i=f(t);return n&&i?JSON.stringify(e)===JSON.stringify(t):!n&&!i&&String(e)===String(t)}function P(e,t){if(Array.isArray(e)&&Array.isArray(t)){var n,i;if((n=e||[]).length!==(i=t||[]).length)return!1;for(var r=0;r<n.length;r++)if(!L(n[r],i[r]))return!1;return!0}return L(e,t)}function k(e){if(null==e)return!0;if("boolean"!=typeof e){if("number"==typeof e)return!e;if(e instanceof Error)return""===e.message;switch(Object.prototype.toString.call(e)){case"[object String]":case"[object Array]":return!e.length;case"[object File]":case"[object Map]":case"[object Set]":return!e.size;case"[object Object]":return!Object.keys(e).length}}return!1}function D(e){var t=!1;return function(){for(var n=this,i=arguments.length,r=Array(i),a=0;a<i;a++)r[a]=arguments[a];t||(t=!0,window.requestAnimationFrame((function(i){e.apply(n,r),t=!1})))}}function I(){var e=this,t=e.$createElement;return(t=e._self._c||t)("div",{class:["textarea"===e.type?"el-textarea":"el-input",e.inputSize?"el-input--"+e.inputSize:"",{"is-disabled":e.inputDisabled,"is-exceed":e.inputExceed,"el-input-group":e.$slots.prepend||e.$slots.append,"el-input-group--append":e.$slots.append,"el-input-group--prepend":e.$slots.prepend,"el-input--prefix":e.$slots.prefix||e.prefixIcon,"el-input--suffix":e.$slots.suffix||e.suffixIcon||e.clearable||e.showPassword}],on:{mouseenter:function(t){e.hovering=!0},mouseleave:function(t){e.hovering=!1}}},["textarea"!==e.type?[e.$slots.prepend?t("div",{staticClass:"el-input-group__prepend"},[e._t("prepend")],2):e._e(),"textarea"!==e.type?t("input",e._b({ref:"input",staticClass:"el-input__inner",attrs:{tabindex:e.tabindex,type:e.showPassword?e.passwordVisible?"text":"password":e.type,disabled:e.inputDisabled,readonly:e.readonly,autocomplete:e.autoComplete||e.autocomplete,"aria-label":e.label},on:{compositionstart:e.handleCompositionStart,compositionupdate:e.handleCompositionUpdate,compositionend:e.handleCompositionEnd,input:e.handleInput,focus:e.handleFocus,blur:e.handleBlur,change:e.handleChange}},"input",e.$attrs,!1)):e._e(),e.$slots.prefix||e.prefixIcon?t("span",{staticClass:"el-input__prefix"},[e._t("prefix"),e.prefixIcon?t("i",{staticClass:"el-input__icon",class:e.prefixIcon}):e._e()],2):e._e(),e.getSuffixVisible()?t("span",{staticClass:"el-input__suffix"},[t("span",{staticClass:"el-input__suffix-inner"},[e.showClear&&e.showPwdVisible&&e.isWordLimitVisible?e._e():[e._t("suffix"),e.suffixIcon?t("i",{staticClass:"el-input__icon",class:e.suffixIcon}):e._e()],e.showClear?t("i",{staticClass:"el-input__icon el-icon-circle-close el-input__clear",on:{mousedown:function(e){e.preventDefault()},click:e.clear}}):e._e(),e.showPwdVisible?t("i",{staticClass:"el-input__icon el-icon-view el-input__clear",on:{click:e.handlePasswordVisible}}):e._e(),e.isWordLimitVisible?t("span",{staticClass:"el-input__count"},[t("span",{staticClass:"el-input__count-inner"},[e._v("\n            "+e._s(e.textLength)+"/"+e._s(e.upperLimit)+"\n          ")])]):e._e()],2),e.validateState?t("i",{staticClass:"el-input__icon",class:["el-input__validateIcon",e.validateIcon]}):e._e()]):e._e(),e.$slots.append?t("div",{staticClass:"el-input-group__append"},[e._t("append")],2):e._e()]:t("textarea",e._b({ref:"textarea",staticClass:"el-textarea__inner",style:e.textareaStyle,attrs:{tabindex:e.tabindex,disabled:e.inputDisabled,readonly:e.readonly,autocomplete:e.autoComplete||e.autocomplete,"aria-label":e.label},on:{compositionstart:e.handleCompositionStart,compositionupdate:e.handleCompositionUpdate,compositionend:e.handleCompositionEnd,input:e.handleInput,focus:e.handleFocus,blur:e.handleBlur,change:e.handleChange}},"textarea",e.$attrs,!1)),e.isWordLimitVisible&&"textarea"===e.type?t("span",{staticClass:"el-input__count"},[e._v(e._s(e.textLength)+"/"+e._s(e.upperLimit))]):e._e()],2)}var R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N=/(%|)\{([0-9a-zA-Z_]+)\}/g,O=(u.a,function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return(n=1===n.length&&"object"===R(n[0])?n[0]:n)&&n.hasOwnProperty||(n={}),e.replace(N,(function(t,i,r,a){return"{"===e[a-1]&&"}"===e[a+t.length]?r:null==(a=b(n,r)?n[r]:null)?"":a}))}),F={el:{colorpicker:{confirm:"确定",clear:"清空"},datepicker:{now:"此刻",today:"今天",cancel:"取消",clear:"清空",confirm:"确定",selectDate:"选择日期",selectTime:"选择时间",startDate:"开始日期",startTime:"开始时间",endDate:"结束日期",endTime:"结束时间",prevYear:"前一年",nextYear:"后一年",prevMonth:"上个月",nextMonth:"下个月",year:"年",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},months:{jan:"一月",feb:"二月",mar:"三月",apr:"四月",may:"五月",jun:"六月",jul:"七月",aug:"八月",sep:"九月",oct:"十月",nov:"十一月",dec:"十二月"}},select:{loading:"加载中",noMatch:"无匹配数据",noData:"无数据",placeholder:"请选择"},cascader:{noMatch:"无匹配数据",loading:"加载中",placeholder:"请选择",noData:"暂无数据"},pagination:{goto:"前往",pagesize:"条/页",total:"共 {total} 条",pageClassifier:"页"},messagebox:{title:"提示",confirm:"确定",cancel:"取消",error:"输入的数据不合法!"},upload:{deleteTip:"按 delete 键可删除",delete:"删除",preview:"查看图片",continue:"继续上传"},table:{emptyText:"暂无数据",confirmFilter:"筛选",resetFilter:"重置",clearFilter:"全部",sumText:"合计"},tree:{emptyText:"暂无数据"},transfer:{noMatch:"无匹配数据",noData:"无数据",titles:["列表 1","列表 2"],filterPlaceholder:"请输入搜索内容",noCheckedFormat:"共 {total} 项",hasCheckedFormat:"已选 {checked}/{total} 项"},image:{error:"加载失败"},pageHeader:{title:"返回"},popconfirm:{confirmButtonText:"确定",cancelButtonText:"取消"},empty:{description:"暂无数据"}}},z=!1,B=function(){var e=Object.getPrototypeOf(this||u.a).$t;if("function"==typeof e&&u.a.locale)return z||(z=!0,u.a.locale(u.a.config.lang,h()(F,u.a.locale(u.a.config.lang)||{},{clone:!0}))),e.apply(this,arguments)},H=function(e,t){var n=B.apply(this,arguments);if(null!=n)return n;for(var i=e.split("."),r=F,a=0,o=i.length;a<o;a++){if(n=r[i[a]],a===o-1)return O(n,t);if(!n)return"";r=n}return""},U={use:function(e){F=e||F},t:H,i18n:function(e){B=e||B}},V=(c={methods:{t:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return H.apply(this,t)}}},void 0),G=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function j(e,t,n){t=1<arguments.length&&void 0!==t?t:1,n=2<arguments.length&&void 0!==n?n:null;var i,r=(s=(V||(V=document.createElement("textarea"),document.body.appendChild(V)),a=(i=window.getComputedStyle(e)).getPropertyValue("box-sizing"),s=parseFloat(i.getPropertyValue("padding-bottom"))+parseFloat(i.getPropertyValue("padding-top")),r=parseFloat(i.getPropertyValue("border-bottom-width"))+parseFloat(i.getPropertyValue("border-top-width")),{contextStyle:G.map((function(e){return e+":"+i.getPropertyValue(e)})).join(";"),paddingSize:s,borderSize:r,boxSizing:a})).paddingSize,a=s.borderSize,o=s.boxSizing,s=(V.setAttribute("style",s.contextStyle+";\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n"),V.value=e.value||e.placeholder||"",V.scrollHeight),l=(e={},"border-box"===o?s+=a:"content-box"===o&&(s-=r),V.value="",V.scrollHeight-r);return null!==t&&(t*=l,"border-box"===o&&(t=t+r+a),s=Math.max(t,s),e.minHeight=t+"px"),null!==n&&(t=l*n,"border-box"===o&&(t=t+r+a),s=Math.min(t,s)),e.height=s+"px",V.parentNode&&V.parentNode.removeChild(V),V=null,e}function W(e){for(var t=1,n=arguments.length;t<n;t++){var i,r,a=arguments[t]||{};for(i in a)a.hasOwnProperty(i)&&void 0!==(r=a[i])&&(e[i]=r)}return e}function X(e){return null!=e}function q(e){return/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi.test(e)}function Y(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"el-select-dropdown el-popper",class:[{"is-multiple":this.$parent.multiple},this.popperClass],style:{minWidth:this.minWidth}},[this._t("default")],2)}function $(e){return e.replace(J,(function(e,t,n,i){return i?n.toUpperCase():n})).replace(ee,"Moz$1")}var Z=((Q=r({name:"ElInput",componentName:"ElInput",mixins:[l,Gl={mounted:function(){},methods:{getMigratingConfig:function(){return{props:{},events:{}}}}}],inheritAttrs:!(I._withStripped=!0),inject:{elForm:{default:""},elFormItem:{default:""}},data:function(){return{textareaCalcStyle:{},hovering:!1,focused:!1,isComposing:!1,passwordVisible:!1}},props:{value:[String,Number],size:String,resize:String,form:String,disabled:Boolean,readonly:Boolean,type:{type:String,default:"text"},autosize:{type:[Boolean,Object],default:!1},autocomplete:{type:String,default:"off"},autoComplete:{type:String,validator:function(e){return!0}},validateEvent:{type:Boolean,default:!0},suffixIcon:String,prefixIcon:String,label:String,clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},tabindex:String},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},validateState:function(){return this.elFormItem?this.elFormItem.validateState:""},needStatusIcon:function(){return!!this.elForm&&this.elForm.statusIcon},validateIcon:function(){return{validating:"el-icon-loading",success:"el-icon-circle-check",error:"el-icon-circle-close"}[this.validateState]},textareaStyle:function(){return W({},this.textareaCalcStyle,{resize:this.resize})},inputSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},inputDisabled:function(){return this.disabled||(this.elForm||{}).disabled},nativeInputValue:function(){return null===this.value||void 0===this.value?"":String(this.value)},showClear:function(){return this.clearable&&!this.inputDisabled&&!this.readonly&&this.nativeInputValue&&(this.focused||this.hovering)},showPwdVisible:function(){return this.showPassword&&!this.inputDisabled&&!this.readonly&&(!!this.nativeInputValue||this.focused)},isWordLimitVisible:function(){return this.showWordLimit&&this.$attrs.maxlength&&("text"===this.type||"textarea"===this.type)&&!this.inputDisabled&&!this.readonly&&!this.showPassword},upperLimit:function(){return this.$attrs.maxlength},textLength:function(){return("number"==typeof this.value?String(this.value):this.value||"").length},inputExceed:function(){return this.isWordLimitVisible&&this.textLength>this.upperLimit}},watch:{value:function(e){this.$nextTick(this.resizeTextarea),this.validateEvent&&this.dispatch("ElFormItem","el.form.change",[e])},nativeInputValue:function(){this.setNativeInputValue()},type:function(){var e=this;this.$nextTick((function(){e.setNativeInputValue(),e.resizeTextarea(),e.updateIconOffset()}))}},methods:{focus:function(){this.getInput().focus()},blur:function(){this.getInput().blur()},getMigratingConfig:function(){return{props:{icon:"icon is removed, use suffix-icon / prefix-icon instead.","on-icon-click":"on-icon-click is removed."},events:{click:"click is removed."}}},handleBlur:function(e){this.focused=!1,this.$emit("blur",e),this.validateEvent&&this.dispatch("ElFormItem","el.form.blur",[this.value])},select:function(){this.getInput().select()},resizeTextarea:function(){var e,t;this.$isServer||(t=this.autosize,"textarea"===this.type&&(t?(e=t.minRows,t=t.maxRows,this.textareaCalcStyle=j(this.$refs.textarea,e,t)):this.textareaCalcStyle={minHeight:j(this.$refs.textarea).minHeight}))},setNativeInputValue:function(){var e=this.getInput();e&&e.value!==this.nativeInputValue&&(e.value=this.nativeInputValue)},handleFocus:function(e){this.focused=!0,this.$emit("focus",e)},handleCompositionStart:function(e){this.$emit("compositionstart",e),this.isComposing=!0},handleCompositionUpdate:function(e){this.$emit("compositionupdate",e),e=(e=e.target.value)[e.length-1]||"",this.isComposing=!q(e)},handleCompositionEnd:function(e){this.$emit("compositionend",e),this.isComposing&&(this.isComposing=!1,this.handleInput(e))},handleInput:function(e){this.isComposing||e.target.value!==this.nativeInputValue&&(this.$emit("input",e.target.value),this.$nextTick(this.setNativeInputValue))},handleChange:function(e){this.$emit("change",e.target.value)},calcIconOffset:function(e){var t=[].slice.call(this.$el.querySelectorAll(".el-input__"+e)||[]);if(t.length){for(var n,i=null,r=0;r<t.length;r++)if(t[r].parentNode===this.$el){i=t[r];break}i&&(this.$slots[n={suffix:"append",prefix:"prepend"}[e]]?i.style.transform="translateX("+("suffix"===e?"-":"")+this.$el.querySelector(".el-input-group__"+n).offsetWidth+"px)":i.removeAttribute("style"))}},updateIconOffset:function(){this.calcIconOffset("prefix"),this.calcIconOffset("suffix")},clear:function(){this.$emit("input",""),this.$emit("change",""),this.$emit("clear")},handlePasswordVisible:function(){var e=this;this.passwordVisible=!this.passwordVisible,this.$nextTick((function(){e.focus()}))},getInput:function(){return this.$refs.input||this.$refs.textarea},getSuffixVisible:function(){return this.$slots.suffix||this.suffixIcon||this.showClear||this.showPassword||this.isWordLimitVisible||this.validateState&&this.needStatusIcon}},created:function(){this.$on("inputSelect",this.select)},mounted:function(){this.setNativeInputValue(),this.resizeTextarea(),this.updateIconOffset()},updated:function(){this.$nextTick(this.updateIconOffset)}},I,[],!1,null,null,null)).options.__file="packages/input/src/input.vue",Q.exports),Q=(Z.install=function(e){e.component(Z.name,Z)},Z),K=(Y._withStripped=!0,u.a.prototype.$isServer),J=/([\:\-\_]+(.))/g,ee=/^moz([A-Z])/,te=K?0:Number(document.documentMode),ne=!K&&document.addEventListener?function(e,t,n){e&&t&&n&&e.addEventListener(t,n,!1)}:function(e,t,n){e&&t&&n&&e.attachEvent("on"+t,n)},ie=!K&&document.removeEventListener?function(e,t,n){e&&t&&e.removeEventListener(t,n,!1)}:function(e,t,n){e&&t&&e.detachEvent("on"+t,n)};function re(e,t){if(e&&t){if(-1!==t.indexOf(" "))throw new Error("className should not contain space.");return e.classList?e.classList.contains(t):-1<(" "+e.className+" ").indexOf(" "+t+" ")}}function ae(e,t){if(e){for(var n=e.className,i=(t||"").split(" "),r=0,a=i.length;r<a;r++){var o=i[r];o&&(e.classList?e.classList.add(o):re(e,o)||(n+=" "+o))}e.classList||e.setAttribute("class",n)}}function oe(e,t){if(e&&t){for(var n=t.split(" "),i=" "+e.className+" ",r=0,a=n.length;r<a;r++){var o=n[r];o&&(e.classList?e.classList.remove(o):re(e,o)&&(i=i.replace(" "+o+" "," ")))}e.classList||e.setAttribute("class",(i||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,""))}}function se(e,t){if(!K){for(var n=e;n;){if([window,document,document.documentElement].includes(n))return window;if(function(e,t){if(!K)return ve(e,null!=t?t?"overflow-y":"overflow-x":"overflow").match(/(scroll|auto|overlay)/)}(n,t))return n;n=n.parentNode}return n}}function le(){var e;if(!u.a.prototype.$isServer)return(e=we.modalDom)?ge=!0:(ge=!1,e=document.createElement("div"),(we.modalDom=e).addEventListener("touchmove",(function(e){e.preventDefault(),e.stopPropagation()})),e.addEventListener("click",(function(){we.doOnModalClick&&we.doOnModalClick()}))),e}function ce(){var e,t,n;return u.a.prototype.$isServer?0:void 0!==Me?Me:((e=document.createElement("div")).className="el-scrollbar__wrap",e.style.visibility="hidden",e.style.width="100px",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e),t=e.offsetWidth,e.style.overflow="scroll",(n=document.createElement("div")).style.width="100%",e.appendChild(n),n=n.offsetWidth,e.parentNode.removeChild(e),Me=t-n)}function ue(e){return e.stopPropagation()}function he(){var e=this,t=e.$createElement;return(t=e._self._c||t)("li",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-select-dropdown__item",class:{selected:e.itemSelected,"is-disabled":e.disabled||e.groupDisabled||e.limitReached,hover:e.hover},on:{mouseenter:e.hoverItem,click:function(t){return t.stopPropagation(),e.selectOptionClick(t)}}},[e._t("default",[t("span",[e._v(e._s(e.currentLabel))])])],2)}function de(e){var t,n=e,i=Array.isArray(n),r=0;for(n=i?n:n[Symbol.iterator]();;){if(i){if(r>=n.length)break;t=n[r++]}else{if((r=n.next()).done)break;t=r.value}var a=t.target.__resizeListeners__||[];a.length&&a.forEach((function(e){e()}))}}function fe(e,t){Re||(e.__resizeListeners__||(e.__resizeListeners__=[],e.__ro__=new De.a(Object(Ie.debounce)(16,de)),e.__ro__.observe(e)),e.__resizeListeners__.push(t))}function pe(e,t){e&&e.__resizeListeners__&&(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),e.__resizeListeners__.length||e.__ro__.disconnect())}var me,ve=te<9?function(e,t){if(!K){if(!e||!t)return null;"float"===(t=$(t))&&(t="styleFloat");try{if("opacity"===t)try{return e.filters.item("alpha").opacity/100}catch(e){return 1}return e.style[t]||e.currentStyle?e.currentStyle[t]:null}catch(n){return e.style[t]}}}:function(e,t){if(!K){if(!e||!t)return null;"float"===(t=$(t))&&(t="cssFloat");try{var n=document.defaultView.getComputedStyle(e,"");return e.style[t]||n?n[t]:null}catch(n){return e.style[t]}}},ge=!1,ye=!1,xe=void 0,be={},we={modalFade:!0,getInstance:function(e){return be[e]},register:function(e,t){e&&t&&(be[e]=t)},deregister:function(e){e&&(be[e]=null,delete be[e])},nextZIndex:function(){return we.zIndex++},modalStack:[],doOnModalClick:function(){var e=we.modalStack[we.modalStack.length-1];e&&(e=we.getInstance(e.id))&&e.closeOnClickModal&&e.close()},openModal:function(e,t,n,i,r){if(!u.a.prototype.$isServer&&e&&void 0!==t){this.modalFade=r;for(var a=this.modalStack,o=0,s=a.length;o<s;o++)if(a[o].id===e)return;var l=le();ae(l,"v-modal"),this.modalFade&&!ge&&ae(l,"v-modal-enter"),i&&i.trim().split(/\s+/).forEach((function(e){return ae(l,e)})),setTimeout((function(){oe(l,"v-modal-enter")}),200),(n&&n.parentNode&&11!==n.parentNode.nodeType?n.parentNode:document.body).appendChild(l),t&&(l.style.zIndex=t),l.tabIndex=0,l.style.display="",this.modalStack.push({id:e,zIndex:t,modalClass:i})}},closeModal:function(e){var t=this.modalStack,n=le();if(0<t.length){var i=t[t.length-1];if(i.id===e)i.modalClass&&i.modalClass.trim().split(/\s+/).forEach((function(e){return oe(n,e)})),t.pop(),0<t.length&&(n.style.zIndex=t[t.length-1].zIndex);else for(var r=t.length-1;0<=r;r--)if(t[r].id===e){t.splice(r,1);break}}0===t.length&&(this.modalFade&&ae(n,"v-modal-leave"),setTimeout((function(){0===t.length&&(n.parentNode&&n.parentNode.removeChild(n),n.style.display="none",we.modalDom=void 0),oe(n,"v-modal-leave")}),200))}},_e=(Object.defineProperty(we,"zIndex",{configurable:!0,get:function(){return ye||(xe=xe||(u.a.prototype.$ELEMENT||{}).zIndex||2e3,ye=!0),xe},set:function(e){xe=e}}),u.a.prototype.$isServer||window.addEventListener("keydown",(function(e){27===e.keyCode&&(e=function(){if(!u.a.prototype.$isServer&&0<we.modalStack.length){var e=we.modalStack[we.modalStack.length-1];if(e)return we.getInstance(e.id)}}())&&e.closeOnPressEscape&&(e.handleClose?e.handleClose():e.handleAction?e.handleAction("cancel"):e.close())})),we),Me=void 0,Se=1,Ee=(te={props:{visible:{type:Boolean,default:!1},openDelay:{},closeDelay:{},zIndex:{},modal:{type:Boolean,default:!1},modalFade:{type:Boolean,default:!0},modalClass:{},modalAppendToBody:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!1}},beforeMount:function(){this._popupId="popup-"+Se++,_e.register(this._popupId,this)},beforeDestroy:function(){_e.deregister(this._popupId),_e.closeModal(this._popupId),this.restoreBodyStyle()},data:function(){return{opened:!1,bodyPaddingRight:null,computedBodyPaddingRight:0,withoutHiddenClass:!0,rendered:!1}},watch:{visible:function(e){var t=this;e?this._opening||(this.rendered?this.open():(this.rendered=!0,u.a.nextTick((function(){t.open()})))):this.close()}},methods:{open:function(e){var t=this,n=(this.rendered||(this.rendered=!0),W({},this.$props||this,e));0<(e=(this._closeTimer&&(clearTimeout(this._closeTimer),this._closeTimer=null),clearTimeout(this._openTimer),Number(n.openDelay)))?this._openTimer=setTimeout((function(){t._openTimer=null,t.doOpen(n)}),e):this.doOpen(n)},doOpen:function(e){var t,n,i;this.$isServer||this.willOpen&&!this.willOpen()||this.opened||(this._opening=!0,t=this.$el,i=e.modal,(n=e.zIndex)&&(_e.zIndex=n),i&&(this._closing&&(_e.closeModal(this._popupId),this._closing=!1),_e.openModal(this._popupId,_e.nextZIndex(),this.modalAppendToBody?void 0:t,e.modalClass,e.modalFade),e.lockScroll)&&(this.withoutHiddenClass=!re(document.body,"el-popup-parent--hidden"),this.withoutHiddenClass&&(this.bodyPaddingRight=document.body.style.paddingRight,this.computedBodyPaddingRight=parseInt(ve(document.body,"paddingRight"),10)),me=ce(),n=document.documentElement.clientHeight<document.body.scrollHeight,i=ve(document.body,"overflowY"),0<me&&(n||"scroll"===i)&&this.withoutHiddenClass&&(document.body.style.paddingRight=this.computedBodyPaddingRight+me+"px"),ae(document.body,"el-popup-parent--hidden")),"static"===getComputedStyle(t).position&&(t.style.position="absolute"),t.style.zIndex=_e.nextZIndex(),this.opened=!0,this.onOpen&&this.onOpen(),this.doAfterOpen())},doAfterOpen:function(){this._opening=!1},close:function(){var e,t=this;this.willClose&&!this.willClose()||(null!==this._openTimer&&(clearTimeout(this._openTimer),this._openTimer=null),clearTimeout(this._closeTimer),0<(e=Number(this.closeDelay))?this._closeTimer=setTimeout((function(){t._closeTimer=null,t.doClose()}),e):this.doClose())},doClose:function(){this._closing=!0,this.onClose&&this.onClose(),this.lockScroll&&setTimeout(this.restoreBodyStyle,200),this.opened=!1,this.doAfterClose()},doAfterClose:function(){_e.closeModal(this._popupId),this._closing=!1},restoreBodyStyle:function(){this.modal&&this.withoutHiddenClass&&(document.body.style.paddingRight=this.bodyPaddingRight,oe(document.body,"el-popup-parent--hidden")),this.withoutHiddenClass=!0}}},u.a.prototype.$isServer?function(){}:n(52)),Te={props:{transformOrigin:{type:[Boolean,String],default:!0},placement:{type:String,default:"bottom"},boundariesPadding:{type:Number,default:5},reference:{},popper:{},offset:{default:0},value:Boolean,visibleArrow:Boolean,arrowOffset:{type:Number,default:35},appendToBody:{type:Boolean,default:!0},popperOptions:{type:Object,default:function(){return{gpuAcceleration:!1}}}},data:function(){return{showPopper:!1,currentPlacement:""}},watch:{value:{immediate:!0,handler:function(e){this.showPopper=e,this.$emit("input",e)}},showPopper:function(e){this.disabled||(e?this.updatePopper():this.destroyPopper(),this.$emit("input",e))}},methods:{createPopper:function(){var e,t,n,i=this;!this.$isServer&&(this.currentPlacement=this.currentPlacement||this.placement,/^(top|bottom|left|right)(-start|-end)?$/g.test(this.currentPlacement))&&(e=this.popperOptions,t=this.popperElm=this.popperElm||this.popper||this.$refs.popper,!(n=this.referenceElm=this.referenceElm||this.reference||this.$refs.reference)&&this.$slots.reference&&this.$slots.reference[0]&&(n=this.referenceElm=this.$slots.reference[0].elm),t&&n&&(this.visibleArrow&&this.appendArrow(t),this.appendToBody&&document.body.appendChild(this.popperElm),this.popperJS&&this.popperJS.destroy&&this.popperJS.destroy(),e.placement=this.currentPlacement,e.offset=this.offset,e.arrowOffset=this.arrowOffset,this.popperJS=new Ee(n,t,e),this.popperJS.onCreate((function(e){i.$emit("created",i),i.resetTransformOrigin(),i.$nextTick(i.updatePopper)})),"function"==typeof e.onUpdate&&this.popperJS.onUpdate(e.onUpdate),this.popperJS._popper.style.zIndex=_e.nextZIndex(),this.popperElm.addEventListener("click",ue)))},updatePopper:function(){var e=this.popperJS;e?(e.update(),e._popper&&(e._popper.style.zIndex=_e.nextZIndex())):this.createPopper()},doDestroy:function(e){!this.popperJS||this.showPopper&&!e||(this.popperJS.destroy(),this.popperJS=null)},destroyPopper:function(){this.popperJS&&this.resetTransformOrigin()},resetTransformOrigin:function(){var e,t;this.transformOrigin&&(t={top:"bottom",bottom:"top",left:"right",right:"left"}[e=this.popperJS._popper.getAttribute("x-placement").split("-")[0]],this.popperJS._popper.style.transformOrigin="string"==typeof this.transformOrigin?this.transformOrigin:-1<["top","bottom"].indexOf(e)?"center "+t:t+" center")},appendArrow:function(e){var t=void 0;if(!this.appended){for(var n in this.appended=!0,e.attributes)if(/^_v-/.test(e.attributes[n].name)){t=e.attributes[n].name;break}var i=document.createElement("div");t&&i.setAttribute(t,""),i.setAttribute("x-arrow",""),i.className="popper__arrow",e.appendChild(i)}}},beforeDestroy:function(){this.doDestroy(!0),this.popperElm&&this.popperElm.parentNode===document.body&&(this.popperElm.removeEventListener("click",ue),document.body.removeChild(this.popperElm))},deactivated:function(){this.$options.beforeDestroy[0].call(this)}},Ce=((Ce=r({name:"ElSelectDropdown",componentName:"ElSelectDropdown",mixins:[Te],props:{placement:{default:"bottom-start"},boundariesPadding:{default:0},popperOptions:{default:function(){return{gpuAcceleration:!1}}},visibleArrow:{default:!0},appendToBody:{type:Boolean,default:!0}},data:function(){return{minWidth:""}},computed:{popperClass:function(){return this.$parent.popperClass}},watch:{"$parent.inputWidth":function(){this.minWidth=this.$parent.$el.getBoundingClientRect().width+"px"}},mounted:function(){var e=this;this.referenceElm=this.$parent.$refs.reference.$el,this.$parent.popperElm=this.popperElm=this.$el,this.$on("updatePopper",(function(){e.$parent.visible&&e.updatePopper()})),this.$on("destroyPopper",this.destroyPopper)}},Y,[],!1,null,null,null)).options.__file="packages/select/src/select-dropdown.vue",Ce.exports),Ae=(he._withStripped=!0,"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}),Le=((ke=r({mixins:[l],name:"ElOption",componentName:"ElOption",inject:["select"],props:{value:{required:!0},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},data:function(){return{index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}},computed:{isObject:function(){return"[object object]"===Object.prototype.toString.call(this.value).toLowerCase()},currentLabel:function(){return this.label||(this.isObject?"":this.value)},currentValue:function(){return this.value||this.label||""},itemSelected:function(){return this.select.multiple?this.contains(this.select.value,this.value):this.isEqual(this.value,this.select.value)},limitReached:function(){return!!this.select.multiple&&!this.itemSelected&&(this.select.value||[]).length>=this.select.multipleLimit&&0<this.select.multipleLimit}},watch:{currentLabel:function(){this.created||this.select.remote||this.dispatch("ElSelect","setSelected")},value:function(e,t){var n=(i=this.select).remote,i=i.valueKey;this.created||n||i&&"object"===(void 0===e?"undefined":Ae(e))&&"object"===(void 0===t?"undefined":Ae(t))&&e[i]===t[i]||this.dispatch("ElSelect","setSelected")}},methods:{isEqual:function(e,t){var n;return this.isObject?w(e,n=this.select.valueKey)===w(t,n):e===t},contains:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],n=arguments[1];return this.isObject?(e=this.select.valueKey,t&&t.some((function(t){return w(t,e)===w(n,e)}))):t&&-1<t.indexOf(n)},handleGroupDisabled:function(e){this.groupDisabled=e},hoverItem:function(){this.disabled||this.groupDisabled||(this.select.hoverIndex=this.select.options.indexOf(this))},selectOptionClick:function(){!0!==this.disabled&&!0!==this.groupDisabled&&this.dispatch("ElSelect","handleOptionClick",[this,!0])},queryChange:function(e){this.visible=new RegExp(function(e){return String(0<arguments.length&&void 0!==e?e:"").replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")}(e),"i").test(this.currentLabel)||this.created,this.visible||this.select.filteredOptionsCount--}},created:function(){this.select.options.push(this),this.select.cachedOptions.push(this),this.select.optionsCount++,this.select.filteredOptionsCount++,this.$on("queryChange",this.queryChange),this.$on("handleGroupDisabled",this.handleGroupDisabled)},beforeDestroy:function(){var e=(t=this.select).selected,t=t.multiple?e:[e];e=this.select.cachedOptions.indexOf(this),t=t.indexOf(this);-1<e&&t<0&&this.select.cachedOptions.splice(e,1),this.select.onOptionDestroy(this.select.options.indexOf(this))}},he,[],!1,null,null,null)).options.__file="packages/select/src/option.vue",ke.exports),Pe=((ke=r({name:"ElTag",props:{text:String,closable:Boolean,type:String,hit:Boolean,disableTransitions:Boolean,color:String,size:String,effect:{type:String,default:"light",validator:function(e){return-1!==["dark","light","plain"].indexOf(e)}}},methods:{handleClose:function(e){e.stopPropagation(),this.$emit("close",e)},handleClick:function(e){this.$emit("click",e)}},computed:{tagSize:function(){return this.size||(this.$ELEMENT||{}).size}},render:function(e){var t=this.type,n=this.tagSize,i=this.hit,r=this.effect;t=e("span",{class:["el-tag",t?"el-tag--"+t:"",n?"el-tag--"+n:"",r?"el-tag--"+r:"",i&&"is-hit"],style:{backgroundColor:this.color},on:{click:this.handleClick}},[this.$slots.default,this.closable&&e("i",{class:"el-tag__close el-icon-close",on:{click:this.handleClose}})]);return this.disableTransitions?t:e("transition",{attrs:{name:"el-zoom-in-center"}},[t])}},void 0,void 0,!1,null,null,null)).options.__file="packages/tag/src/tag.vue",ke.exports),ke=(Pe.install=function(e){e.component(Pe.name,Pe)},Pe),De=n(49),Ie=n(18),Re="undefined"==typeof window,Ne={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},Oe={name:"Bar",props:{vertical:Boolean,size:String,move:Number},computed:{bar:function(){return Ne[this.vertical?"vertical":"horizontal"]},wrap:function(){return this.$parent.wrap}},render:function(e){var t=this.size,n=this.move,i=this.bar;return e("div",{class:["el-scrollbar__bar","is-"+i.key],on:{mousedown:this.clickTrackHandler}},[e("div",{ref:"thumb",class:"el-scrollbar__thumb",on:{mousedown:this.clickThumbHandler},style:(t=(e={size:t,move:n,bar:i}).move,n=e.size,e=e.bar,i={},t="translate"+e.axis+"("+t+"%)",i[e.size]=n,i.transform=t,i.msTransform=t,i.webkitTransform=t,i)})])},methods:{clickThumbHandler:function(e){e.ctrlKey||2===e.button||(this.startDrag(e),this[this.bar.axis]=e.currentTarget[this.bar.offset]-(e[this.bar.client]-e.currentTarget.getBoundingClientRect()[this.bar.direction]))},clickTrackHandler:function(e){e=100*(Math.abs(e.target.getBoundingClientRect()[this.bar.direction]-e[this.bar.client])-this.$refs.thumb[this.bar.offset]/2)/this.$el[this.bar.offset],this.wrap[this.bar.scroll]=e*this.wrap[this.bar.scrollSize]/100},startDrag:function(e){e.stopImmediatePropagation(),this.cursorDown=!0,ne(document,"mousemove",this.mouseMoveDocumentHandler),ne(document,"mouseup",this.mouseUpDocumentHandler),document.onselectstart=function(){return!1}},mouseMoveDocumentHandler:function(e){var t;!1!==this.cursorDown&&(t=this[this.bar.axis])&&(e=100*(-1*(this.$el.getBoundingClientRect()[this.bar.direction]-e[this.bar.client])-(this.$refs.thumb[this.bar.offset]-t))/this.$el[this.bar.offset],this.wrap[this.bar.scroll]=e*this.wrap[this.bar.scrollSize]/100)},mouseUpDocumentHandler:function(e){this.cursorDown=!1,this[this.bar.axis]=0,ie(document,"mousemove",this.mouseMoveDocumentHandler),document.onselectstart=null}},destroyed:function(){ie(document,"mouseup",this.mouseUpDocumentHandler)}},Fe={name:"ElScrollbar",components:{Bar:Oe},props:{native:Boolean,wrapStyle:{},wrapClass:{},viewClass:{},viewStyle:{},noresize:Boolean,tag:{type:String,default:"div"}},data:function(){return{sizeWidth:"0",sizeHeight:"0",moveX:0,moveY:0}},computed:{wrap:function(){return this.$refs.wrap}},render:function(e){var t=ce(),n=this.wrapStyle,i=(t&&(r="margin-bottom: "+(i="-"+t+"px")+"; margin-right: "+i+";",Array.isArray(this.wrapStyle)?(n=function(e){for(var t={},n=0;n<e.length;n++)if(e[n]){i=void 0,void 0,a=void 0;var i=t,r=e[n];for(var a in r)i[a]=r[a]}return t}(this.wrapStyle)).marginRight=n.marginBottom=i:"string"==typeof this.wrapStyle?n+=r:n=r),e(this.tag,{class:["el-scrollbar__view",this.viewClass],style:this.viewStyle,ref:"resize"},this.$slots.default)),r=e("div",{ref:"wrap",style:n,on:{scroll:this.handleScroll},class:[this.wrapClass,"el-scrollbar__wrap",t?"":"el-scrollbar__wrap--hidden-default"]},[[i]]);t=this.native?[e("div",{ref:"wrap",class:[this.wrapClass,"el-scrollbar__wrap"],style:n},[[i]])]:[r,e(Oe,{attrs:{move:this.moveX,size:this.sizeWidth}}),e(Oe,{attrs:{vertical:!0,move:this.moveY,size:this.sizeHeight}})];return e("div",{class:"el-scrollbar"},t)},methods:{handleScroll:function(){var e=this.wrap;this.moveY=100*e.scrollTop/e.clientHeight,this.moveX=100*e.scrollLeft/e.clientWidth},update:function(){var e,t=this.wrap;t&&(e=100*t.clientHeight/t.scrollHeight,t=100*t.clientWidth/t.scrollWidth,this.sizeHeight=e<100?e+"%":"",this.sizeWidth=t<100?t+"%":"")}},mounted:function(){this.native||(this.$nextTick(this.update),this.noresize)||fe(this.$refs.resize,this.update)},beforeDestroy:function(){this.native||this.noresize||pe(this.$refs.resize,this.update)},install:function(e){e.component(Fe.name,Fe)}},ze=Fe,Be=n(1),He=n.n(Be),Ue=[],Ve="@@clickoutsideContext",Ge=void 0,je=0;function We(e,t,n){return function(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!(n&&n.context&&i.target&&r.target)||e.contains(i.target)||e.contains(r.target)||e===i.target||n.context.popperElm&&(n.context.popperElm.contains(i.target)||n.context.popperElm.contains(r.target))||(t.expression&&e[Ve].methodName&&n.context[e[Ve].methodName]?n.context[e[Ve].methodName]():e[Ve].bindingFn&&e[Ve].bindingFn())}}function Xe(e,t){if(!u.a.prototype.$isServer)if(t){for(var n=[],i=t.offsetParent;i&&e!==i&&e.contains(i);)n.push(i),i=i.offsetParent;var r=t.offsetTop+n.reduce((function(e,t){return e+t.offsetTop}),0),a=(t=r+t.offsetHeight,e.scrollTop),o=a+e.clientHeight;r<a?e.scrollTop=r:o<t&&(e.scrollTop=t-e.clientHeight)}else e.scrollTop=0}function qe(){var e=this,t=e.$createElement;return(t=e._self._c||t)("transition",{attrs:{name:"dialog-fade"},on:{"after-enter":e.afterEnter,"after-leave":e.afterLeave}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-dialog__wrapper",on:{click:function(t){return t.target!==t.currentTarget?null:e.handleWrapperClick(t)}}},[t("div",{key:e.key,ref:"dialog",class:["el-dialog",{"is-fullscreen":e.fullscreen,"el-dialog--center":e.center},e.customClass],style:e.style,attrs:{role:"dialog","aria-modal":"true","aria-label":e.title||"dialog"}},[t("div",{staticClass:"el-dialog__header"},[e._t("title",[t("span",{staticClass:"el-dialog__title"},[e._v(e._s(e.title))])]),e.showClose?t("button",{staticClass:"el-dialog__headerbtn",attrs:{type:"button","aria-label":"Close"},on:{click:e.handleClose}},[t("i",{staticClass:"el-dialog__close el-icon el-icon-close"})]):e._e()],2),e.rendered?t("div",{staticClass:"el-dialog__body"},[e._t("default")],2):e._e(),e.$slots.footer?t("div",{staticClass:"el-dialog__footer"},[e._t("footer")],2):e._e()])])])}function Ye(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.close,expression:"close"}],staticClass:"el-autocomplete",attrs:{"aria-haspopup":"listbox",role:"combobox","aria-expanded":e.suggestionVisible,"aria-owns":e.id}},[n("el-input",e._b({ref:"input",on:{input:e.handleInput,change:e.handleChange,focus:e.handleFocus,blur:e.handleBlur,clear:e.handleClear},nativeOn:{keydown:[function(t){if(!("button"in t)&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"]))return null;t.preventDefault(),e.highlight(e.highlightedIndex-1)},function(t){if(!("button"in t)&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"]))return null;t.preventDefault(),e.highlight(e.highlightedIndex+1)},function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleKeyEnter(t):null},function(t){return"button"in t||!e._k(t.keyCode,"tab",9,t.key,"Tab")?e.close(t):null}]}},"el-input",[e.$props,e.$attrs],!1),[e.$slots.prepend?n("template",{slot:"prepend"},[e._t("prepend")],2):e._e(),e.$slots.append?n("template",{slot:"append"},[e._t("append")],2):e._e(),e.$slots.prefix?n("template",{slot:"prefix"},[e._t("prefix")],2):e._e(),e.$slots.suffix?n("template",{slot:"suffix"},[e._t("suffix")],2):e._e()],2),n("el-autocomplete-suggestions",{ref:"suggestions",class:[e.popperClass||""],attrs:{"visible-arrow":"","popper-options":e.popperOptions,"append-to-body":e.popperAppendToBody,placement:e.placement,id:e.id}},e._l(e.suggestions,(function(t,i){return n("li",{key:i,class:{highlighted:e.highlightedIndex===i},attrs:{id:e.id+"-item-"+i,role:"option","aria-selected":e.highlightedIndex===i},on:{click:function(n){e.select(t)}}},[e._t("default",[e._v("\n        "+e._s(t[e.valueKey])+"\n      ")],{item:t})],2)})),0)],1)}function $e(){var e=this,t=e.$createElement;return(t=e._self._c||t)("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":e.doDestroy}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.showPopper,expression:"showPopper"}],staticClass:"el-autocomplete-suggestion el-popper",class:{"is-loading":!e.parent.hideLoading&&e.parent.loading},style:{width:e.dropdownWidth},attrs:{role:"region"}},[t("el-scrollbar",{attrs:{tag:"ul","wrap-class":"el-autocomplete-suggestion__wrap","view-class":"el-autocomplete-suggestion__list"}},[!e.parent.hideLoading&&e.parent.loading?t("li",[t("i",{staticClass:"el-icon-loading"})]):e._t("default")],2)],1)])}function Ze(){var e=this,t=e.$createElement;return(t=e._self._c||t)("button",{staticClass:"el-button",class:[e.type?"el-button--"+e.type:"",e.buttonSize?"el-button--"+e.buttonSize:"",{"is-disabled":e.buttonDisabled,"is-loading":e.loading,"is-plain":e.plain,"is-round":e.round,"is-circle":e.circle}],attrs:{disabled:e.buttonDisabled||e.loading,autofocus:e.autofocus,type:e.nativeType},on:{click:e.handleClick}},[e.loading?t("i",{staticClass:"el-icon-loading"}):e._e(),e.icon&&!e.loading?t("i",{class:e.icon}):e._e(),e.$slots.default?t("span",[e._t("default")],2):e._e()])}function Qe(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"el-button-group"},[this._t("default")],2)}function Ke(){var e=this.$createElement;return(e=this._self._c||e)("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":this.doDestroy}},[e("ul",{directives:[{name:"show",rawName:"v-show",value:this.showPopper,expression:"showPopper"}],staticClass:"el-dropdown-menu el-popper",class:[this.size&&"el-dropdown-menu--"+this.size]},[this._t("default")],2)])}function Je(){var e=this,t=e.$createElement;return(t=e._self._c||t)("li",{staticClass:"el-dropdown-menu__item",class:{"is-disabled":e.disabled,"el-dropdown-menu__item--divided":e.divided},attrs:{"aria-disabled":e.disabled,tabindex:e.disabled?null:-1},on:{click:e.handleClick}},[e.icon?t("i",{class:e.icon}):e._e(),e._t("default")],2)}function et(e,t){this.domNode=t,this.parent=e,this.subMenuItems=[],this.subIndex=0,this.init()}function tt(e){this.domNode=e,this.submenu=null,this.init()}function nt(e){this.domNode=e,this.init()}u.a.prototype.$isServer||ne(document,"mousedown",(function(e){return Ge=e})),u.a.prototype.$isServer||ne(document,"mouseup",(function(e){Ue.forEach((function(t){return t[Ve].documentHandler(e,Ge)}))})),Be={bind:function(e,t,n){Ue.push(e);var i=je++;e[Ve]={id:i,documentHandler:We(e,t,n),methodName:t.expression,bindingFn:t.value}},update:function(e,t,n){e[Ve].documentHandler=We(e,t,n),e[Ve].methodName=t.expression,e[Ve].bindingFn=t.value},unbind:function(e){for(var t=Ue.length,n=0;n<t;n++)if(Ue[n][Ve].id===e[Ve].id){Ue.splice(n,1);break}delete e[Ve]}};var it,rt=((Ce=r({mixins:[l,c,o("reference"),{data:function(){return{hoverOption:-1}},computed:{optionsAllDisabled:function(){return this.options.filter((function(e){return e.visible})).every((function(e){return e.disabled}))}},watch:{hoverIndex:function(e){var t=this;"number"==typeof e&&-1<e&&(this.hoverOption=this.options[e]||{}),this.options.forEach((function(e){e.hover=t.hoverOption===e}))}},methods:{navigateOptions:function(e){var t,n=this;this.visible?0===this.options.length||0===this.filteredOptionsCount||this.optionsAllDisabled||("next"===e?(this.hoverIndex++,this.hoverIndex===this.options.length&&(this.hoverIndex=0)):"prev"===e&&(this.hoverIndex--,this.hoverIndex<0)&&(this.hoverIndex=this.options.length-1),!0!==(t=this.options[this.hoverIndex]).disabled&&!0!==t.groupDisabled&&t.visible||this.navigateOptions(e),this.$nextTick((function(){return n.scrollToOption(n.hoverOption)}))):this.visible=!0}}}],name:"ElSelect",componentName:"ElSelect",inject:{elForm:{default:""},elFormItem:{default:""}},provide:function(){return{select:this}},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},readonly:function(){return!this.filterable||this.multiple||!(!u.a.prototype.$isServer&&!isNaN(Number(document.documentMode)))&&!(!u.a.prototype.$isServer&&-1<navigator.userAgent.indexOf("Edge"))&&!this.visible},showClose:function(){var e=this.multiple?Array.isArray(this.value)&&0<this.value.length:void 0!==this.value&&null!==this.value&&""!==this.value;return this.clearable&&!this.selectDisabled&&this.inputHovering&&e},iconClass:function(){return this.remote&&this.filterable?"":this.visible?"arrow-up is-reverse":"arrow-up"},debounce:function(){return this.remote?300:0},emptyText:function(){return this.loading?this.loadingText||this.t("el.select.loading"):(!this.remote||""!==this.query||0!==this.options.length)&&(this.filterable&&this.query&&0<this.options.length&&0===this.filteredOptionsCount?this.noMatchText||this.t("el.select.noMatch"):0===this.options.length?this.noDataText||this.t("el.select.noData"):null)},showNewOption:function(){var e=this,t=this.options.filter((function(e){return!e.created})).some((function(t){return t.currentLabel===e.query}));return this.filterable&&this.allowCreate&&""!==this.query&&!t},selectSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},selectDisabled:function(){return this.disabled||(this.elForm||{}).disabled},collapseTagSize:function(){return-1<["small","mini"].indexOf(this.selectSize)?"mini":"small"},propPlaceholder:function(){return void 0!==this.placeholder?this.placeholder:this.t("el.select.placeholder")}},components:{ElInput:Q,ElSelectMenu:Ce,ElOption:Le,ElTag:ke,ElScrollbar:ze},directives:{Clickoutside:Be},props:{name:String,id:String,value:{required:!0},autocomplete:{type:String,default:"off"},autoComplete:{type:String,validator:function(e){return!0}},automaticDropdown:Boolean,size:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:String,remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String,required:!1},defaultFirstOption:Boolean,reserveKeyword:Boolean,valueKey:{type:String,default:"value"},collapseTags:Boolean,popperAppendToBody:{type:Boolean,default:!0}},data:function(){return{options:[],cachedOptions:[],createdLabel:null,createdSelected:!1,selected:this.multiple?[]:{},inputLength:20,inputWidth:0,initialInputHeight:0,cachedPlaceHolder:"",optionsCount:0,filteredOptionsCount:0,visible:!1,softFocus:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,currentPlaceholder:"",menuVisibleOnFocus:!1,isOnComposition:!1,isSilentBlur:!1}},watch:{selectDisabled:function(){var e=this;this.$nextTick((function(){e.resetInputHeight()}))},propPlaceholder:function(e){this.cachedPlaceHolder=this.currentPlaceholder=e},value:function(e,t){this.multiple&&(this.resetInputHeight(),e&&0<e.length||this.$refs.input&&""!==this.query?this.currentPlaceholder="":this.currentPlaceholder=this.cachedPlaceHolder,this.filterable)&&!this.reserveKeyword&&(this.query="",this.handleQueryChange(this.query)),this.setSelected(),this.filterable&&!this.multiple&&(this.inputLength=20),S(e,t)||this.dispatch("ElFormItem","el.form.change",e)},visible:function(e){var t=this;e?(this.broadcast("ElSelectDropdown","updatePopper"),this.filterable&&(this.query=this.remote?"":this.selectedLabel,this.handleQueryChange(this.query),this.multiple?this.$refs.input.focus():(this.remote||(this.broadcast("ElOption","queryChange",""),this.broadcast("ElOptionGroup","queryChange")),this.selectedLabel&&(this.currentPlaceholder=this.selectedLabel,this.selectedLabel="")))):(this.broadcast("ElSelectDropdown","destroyPopper"),this.$refs.input&&this.$refs.input.blur(),this.query="",this.previousQuery=null,this.selectedLabel="",this.inputLength=20,this.menuVisibleOnFocus=!1,this.resetHoverIndex(),this.$nextTick((function(){t.$refs.input&&""===t.$refs.input.value&&0===t.selected.length&&(t.currentPlaceholder=t.cachedPlaceHolder)})),this.multiple||(this.selected&&(this.filterable&&this.allowCreate&&this.createdSelected&&this.createdLabel?this.selectedLabel=this.createdLabel:this.selectedLabel=this.selected.currentLabel,this.filterable)&&(this.query=this.selectedLabel),this.filterable&&(this.currentPlaceholder=this.cachedPlaceHolder))),this.$emit("visible-change",e)},options:function(){var e,t=this;this.$isServer||(this.$nextTick((function(){t.broadcast("ElSelectDropdown","updatePopper")})),this.multiple&&this.resetInputHeight(),e=this.$el.querySelectorAll("input"),-1===[].indexOf.call(e,document.activeElement)&&this.setSelected(),this.defaultFirstOption&&(this.filterable||this.remote)&&this.filteredOptionsCount&&this.checkDefaultFirstOption())}},methods:{handleNavigate:function(e){this.isOnComposition||this.navigateOptions(e)},handleComposition:function(e){var t=this,n=e.target.value;"compositionend"===e.type?(this.isOnComposition=!1,this.$nextTick((function(e){return t.handleQueryChange(n)}))):(e=n[n.length-1]||"",this.isOnComposition=!q(e))},handleQueryChange:function(e){var t=this;this.previousQuery===e||this.isOnComposition||(null!==this.previousQuery||"function"!=typeof this.filterMethod&&"function"!=typeof this.remoteMethod?(this.previousQuery=e,this.$nextTick((function(){t.visible&&t.broadcast("ElSelectDropdown","updatePopper")})),this.hoverIndex=-1,this.multiple&&this.filterable&&this.$nextTick((function(){var e=15*t.$refs.input.value.length+20;t.inputLength=t.collapseTags?Math.min(50,e):e,t.managePlaceholder(),t.resetInputHeight()})),this.remote&&"function"==typeof this.remoteMethod?(this.hoverIndex=-1,this.remoteMethod(e)):("function"==typeof this.filterMethod?this.filterMethod(e):(this.filteredOptionsCount=this.optionsCount,this.broadcast("ElOption","queryChange",e)),this.broadcast("ElOptionGroup","queryChange")),this.defaultFirstOption&&(this.filterable||this.remote)&&this.filteredOptionsCount&&this.checkDefaultFirstOption()):this.previousQuery=e)},scrollToOption:function(e){e=(Array.isArray(e)&&e[0]?e[0]:e).$el,this.$refs.popper&&e&&Xe(this.$refs.popper.$el.querySelector(".el-select-dropdown__wrap"),e),this.$refs.scrollbar&&this.$refs.scrollbar.handleScroll()},handleMenuEnter:function(){var e=this;this.$nextTick((function(){return e.scrollToOption(e.selected)}))},emitChange:function(e){S(this.value,e)||this.$emit("change",e)},getOption:function(e){for(var t=void 0,n="[object object]"===Object.prototype.toString.call(e).toLowerCase(),i="[object null]"===Object.prototype.toString.call(e).toLowerCase(),r="[object undefined]"===Object.prototype.toString.call(e).toLowerCase(),a=this.cachedOptions.length-1;0<=a;a--){var o=this.cachedOptions[a];if(n?w(o.value,this.valueKey)===w(e,this.valueKey):o.value===e){t=o;break}}return t||(i={value:e,currentLabel:n||i||r?"":String(e)},this.multiple&&(i.hitState=!1),i)},setSelected:function(){var e,t,n=this;this.multiple?(t=[],Array.isArray(this.value)&&this.value.forEach((function(e){t.push(n.getOption(e))})),this.selected=t,this.$nextTick((function(){n.resetInputHeight()}))):((e=this.getOption(this.value)).created?(this.createdLabel=e.currentLabel,this.createdSelected=!0):this.createdSelected=!1,this.selectedLabel=e.currentLabel,this.selected=e,this.filterable&&(this.query=this.selectedLabel))},handleFocus:function(e){this.softFocus?this.softFocus=!1:((this.automaticDropdown||this.filterable)&&(this.filterable&&!this.visible&&(this.menuVisibleOnFocus=!0),this.visible=!0),this.$emit("focus",e))},blur:function(){this.visible=!1,this.$refs.reference.blur()},handleBlur:function(e){var t=this;setTimeout((function(){t.isSilentBlur?t.isSilentBlur=!1:t.$emit("blur",e)}),50),this.softFocus=!1},handleClearClick:function(e){this.deleteSelected(e)},doDestroy:function(){this.$refs.popper&&this.$refs.popper.doDestroy()},handleClose:function(){this.visible=!1},toggleLastOptionHitState:function(e){if(Array.isArray(this.selected)){var t=this.selected[this.selected.length-1];if(t)return!0===e||!1===e?t.hitState=e:(t.hitState=!t.hitState,t.hitState)}},deletePrevTag:function(e){e.target.value.length<=0&&!this.toggleLastOptionHitState()&&((e=this.value.slice()).pop(),this.$emit("input",e),this.emitChange(e))},managePlaceholder:function(){""!==this.currentPlaceholder&&(this.currentPlaceholder=this.$refs.input.value?"":this.cachedPlaceHolder)},resetInputState:function(e){8!==e.keyCode&&this.toggleLastOptionHitState(!1),this.inputLength=15*this.$refs.input.value.length+20,this.resetInputHeight()},resetInputHeight:function(){var e=this;this.collapseTags&&!this.filterable||this.$nextTick((function(){var t,n,i,r;e.$refs.reference&&(t=e.$refs.reference.$el.childNodes,t=[].filter.call(t,(function(e){return"INPUT"===e.tagName}))[0],i=(n=e.$refs.tags)?Math.round(n.getBoundingClientRect().height):0,r=e.initialInputHeight||40,t.style.height=0===e.selected.length?r+"px":Math.max(n?i+(r<i?6:0):0,r)+"px",e.visible)&&!1!==e.emptyText&&e.broadcast("ElSelectDropdown","updatePopper")}))},resetHoverIndex:function(){var e=this;setTimeout((function(){e.multiple?0<e.selected.length?e.hoverIndex=Math.min.apply(null,e.selected.map((function(t){return e.options.indexOf(t)}))):e.hoverIndex=-1:e.hoverIndex=e.options.indexOf(e.selected)}),300)},handleOptionSelect:function(e,t){var n,i,r=this;this.multiple?(n=(this.value||[]).slice(),-1<(i=this.getValueIndex(n,e.value))?n.splice(i,1):(this.multipleLimit<=0||n.length<this.multipleLimit)&&n.push(e.value),this.$emit("input",n),this.emitChange(n),e.created&&(this.query="",this.handleQueryChange(""),this.inputLength=20),this.filterable&&this.$refs.input.focus()):(this.$emit("input",e.value),this.emitChange(e.value),this.visible=!1),this.isSilentBlur=t,this.setSoftFocus(),this.visible||this.$nextTick((function(){r.scrollToOption(e)}))},setSoftFocus:function(){this.softFocus=!0;var e=this.$refs.input||this.$refs.reference;e&&e.focus()},getValueIndex:function(){var e,t,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],i=arguments[1];return"[object object]"===Object.prototype.toString.call(i).toLowerCase()?(e=this.valueKey,t=-1,n.some((function(n,r){return w(n,e)===w(i,e)&&(t=r,!0)})),t):n.indexOf(i)},toggleMenu:function(){this.selectDisabled||(this.menuVisibleOnFocus?this.menuVisibleOnFocus=!1:this.visible=!this.visible,this.visible&&(this.$refs.input||this.$refs.reference).focus())},selectOption:function(){this.visible?this.options[this.hoverIndex]&&this.handleOptionSelect(this.options[this.hoverIndex]):this.toggleMenu()},deleteSelected:function(e){e.stopPropagation(),e=this.multiple?[]:"",this.$emit("input",e),this.emitChange(e),this.visible=!1,this.$emit("clear")},deleteTag:function(e,t){var n,i=this.selected.indexOf(t);-1<i&&!this.selectDisabled&&((n=this.value.slice()).splice(i,1),this.$emit("input",n),this.emitChange(n),this.$emit("remove-tag",t.value)),e.stopPropagation()},onInputChange:function(){this.filterable&&this.query!==this.selectedLabel&&(this.query=this.selectedLabel,this.handleQueryChange(this.query))},onOptionDestroy:function(e){-1<e&&(this.optionsCount--,this.filteredOptionsCount--,this.options.splice(e,1))},resetInputWidth:function(){this.inputWidth=this.$refs.reference.$el.getBoundingClientRect().width},handleResize:function(){this.resetInputWidth(),this.multiple&&this.resetInputHeight()},checkDefaultFirstOption:function(){for(var e=!(this.hoverIndex=-1),t=this.options.length-1;0<=t;t--)if(this.options[t].created){e=!0,this.hoverIndex=t;break}if(!e)for(var n=0;n!==this.options.length;++n){var i=this.options[n];if(this.query){if(!i.disabled&&!i.groupDisabled&&i.visible){this.hoverIndex=n;break}}else if(i.itemSelected){this.hoverIndex=n;break}}},getValueKey:function(e){return"[object object]"!==Object.prototype.toString.call(e.value).toLowerCase()?e.value:w(e.value,this.valueKey)}},created:function(){var e=this;this.cachedPlaceHolder=this.currentPlaceholder=this.propPlaceholder,this.multiple&&!Array.isArray(this.value)&&this.$emit("input",[]),!this.multiple&&Array.isArray(this.value)&&this.$emit("input",""),this.debouncedOnInputChange=He()(this.debounce,(function(){e.onInputChange()})),this.debouncedQueryChange=He()(this.debounce,(function(t){e.handleQueryChange(t.target.value)})),this.$on("handleOptionClick",this.handleOptionSelect),this.$on("setSelected",this.setSelected)},mounted:function(){var e,t=this,n=(this.multiple&&Array.isArray(this.value)&&0<this.value.length&&(this.currentPlaceholder=""),fe(this.$el,this.handleResize),this.$refs.reference);n&&n.$el&&(e=n.$el.querySelector("input"),this.initialInputHeight=e.getBoundingClientRect().height||{medium:36,small:32,mini:28}[this.selectSize]),this.remote&&this.multiple&&this.resetInputHeight(),this.$nextTick((function(){n&&n.$el&&(t.inputWidth=n.$el.getBoundingClientRect().width)})),this.setSelected()},beforeDestroy:function(){this.$el&&this.handleResize&&pe(this.$el,this.handleResize)}},a,[],!1,null,null,null)).options.__file="packages/select/src/select.vue",Ce.exports),at=(Ce=(rt.install=function(e){e.component(rt.name,rt)},rt),Le.install=function(e){e.component(Le.name,Le)},Le),ot={name:"ElPagination",props:{pageSize:{type:Number,default:10},small:Boolean,total:Number,pageCount:Number,pagerCount:{type:Number,validator:function(e){return(0|e)===e&&4<e&&e<22&&e%2==1},default:7},currentPage:{type:Number,default:1},layout:{default:"prev, pager, next, jumper, ->, total"},pageSizes:{type:Array,default:function(){return[10,20,30,40,50,100]}},popperClass:String,prevText:String,nextText:String,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean},data:function(){return{internalCurrentPage:1,internalPageSize:0,lastEmittedPage:-1,userChangePageSize:!1}},render:function(e){var t,n,i,r,a=this.layout;return a&&(!this.hideOnSinglePage||this.internalPageCount&&1!==this.internalPageCount)?(t=e("div",{class:["el-pagination",{"is-background":this.background,"el-pagination--small":this.small}]}),n={prev:e("prev"),jumper:e("jumper"),pager:e("pager",{attrs:{currentPage:this.internalCurrentPage,pageCount:this.internalPageCount,pagerCount:this.pagerCount,disabled:this.disabled},on:{change:this.handleCurrentChange}}),next:e("next"),sizes:e("sizes",{attrs:{pageSizes:this.pageSizes}}),slot:e("slot",[this.$slots.default||""]),total:e("total")},a=a.split(",").map((function(e){return e.trim()})),i=e("div",{class:"el-pagination__rightwrapper"}),r=!1,t.children=t.children||[],i.children=i.children||[],a.forEach((function(e){"->"!==e?(r?i:t).children.push(n[e]):r=!0})),r&&t.children.unshift(i),t):null},components:{Prev:{render:function(e){return e("button",{attrs:{type:"button",disabled:this.$parent.disabled||this.$parent.internalCurrentPage<=1},class:"btn-prev",on:{click:this.$parent.prev}},[this.$parent.prevText?e("span",[this.$parent.prevText]):e("i",{class:"el-icon el-icon-arrow-left"})])}},Next:{render:function(e){return e("button",{attrs:{type:"button",disabled:this.$parent.disabled||this.$parent.internalCurrentPage===this.$parent.internalPageCount||0===this.$parent.internalPageCount},class:"btn-next",on:{click:this.$parent.next}},[this.$parent.nextText?e("span",[this.$parent.nextText]):e("i",{class:"el-icon el-icon-arrow-right"})])}},Sizes:{mixins:[c],props:{pageSizes:Array},watch:{pageSizes:{immediate:!0,handler:function(e,t){S(e,t)||Array.isArray(e)&&(this.$parent.internalPageSize=-1<e.indexOf(this.$parent.pageSize)?this.$parent.pageSize:this.pageSizes[0])}}},render:function(e){var t=this;return e("span",{class:"el-pagination__sizes"},[e("el-select",{attrs:{value:this.$parent.internalPageSize,popperClass:this.$parent.popperClass||"",size:"mini",disabled:this.$parent.disabled},on:{input:this.handleChange}},[this.pageSizes.map((function(n){return e("el-option",{attrs:{value:n,label:n+t.t("el.pagination.pagesize")}})}))])])},components:{ElSelect:Ce,ElOption:at},methods:{handleChange:function(e){e!==this.$parent.internalPageSize&&(this.$parent.internalPageSize=e=parseInt(e,10),this.$parent.userChangePageSize=!0,this.$parent.$emit("update:pageSize",e),this.$parent.$emit("size-change",e))}}},Jumper:{mixins:[c],components:{ElInput:Q},data:function(){return{userInput:null}},watch:{"$parent.internalCurrentPage":function(){this.userInput=null}},methods:{handleKeyup:function(e){var t=e.keyCode;e=e.target;13===t&&this.handleChange(e.value)},handleInput:function(e){this.userInput=e},handleChange:function(e){this.$parent.internalCurrentPage=this.$parent.getValidCurrentPage(e),this.$parent.emitChange(),this.userInput=null}},render:function(e){return e("span",{class:"el-pagination__jump"},[this.t("el.pagination.goto"),e("el-input",{class:"el-pagination__editor is-in-pagination",attrs:{min:1,max:this.$parent.internalPageCount,value:null!==this.userInput?this.userInput:this.$parent.internalCurrentPage,type:"number",disabled:this.$parent.disabled},nativeOn:{keyup:this.handleKeyup},on:{input:this.handleInput,change:this.handleChange}}),this.t("el.pagination.pageClassifier")])}},Total:{mixins:[c],render:function(e){return"number"==typeof this.$parent.total?e("span",{class:"el-pagination__total"},[this.t("el.pagination.total",{total:this.$parent.total})]):""}},Pager:s},methods:{handleCurrentChange:function(e){this.internalCurrentPage=this.getValidCurrentPage(e),this.userChangePageSize=!0,this.emitChange()},prev:function(){var e;this.disabled||(e=this.internalCurrentPage-1,this.internalCurrentPage=this.getValidCurrentPage(e),this.$emit("prev-click",this.internalCurrentPage),this.emitChange())},next:function(){var e;this.disabled||(e=this.internalCurrentPage+1,this.internalCurrentPage=this.getValidCurrentPage(e),this.$emit("next-click",this.internalCurrentPage),this.emitChange())},getValidCurrentPage:function(e){e=parseInt(e,10);var t=void 0;return"number"==typeof this.internalPageCount?e<1?t=1:e>this.internalPageCount&&(t=this.internalPageCount):(isNaN(e)||e<1)&&(t=1),void 0===(t=void 0===t&&isNaN(e)||0===t?1:t)?e:t},emitChange:function(){var e=this;this.$nextTick((function(){e.internalCurrentPage===e.lastEmittedPage&&!e.userChangePageSize||(e.$emit("current-change",e.internalCurrentPage),e.lastEmittedPage=e.internalCurrentPage,e.userChangePageSize=!1)}))}},computed:{internalPageCount:function(){return"number"==typeof this.total?Math.max(1,Math.ceil(this.total/this.internalPageSize)):"number"==typeof this.pageCount?Math.max(1,this.pageCount):null}},watch:{currentPage:{immediate:!0,handler:function(e){this.internalCurrentPage=this.getValidCurrentPage(e)}},pageSize:{immediate:!0,handler:function(e){this.internalPageSize=isNaN(e)?10:e}},internalCurrentPage:{immediate:!0,handler:function(e){this.$emit("update:currentPage",e),this.lastEmittedPage=-1}},internalPageCount:function(e){var t=this.internalCurrentPage;0<e&&0===t?this.internalCurrentPage=1:e<t&&(this.internalCurrentPage=0===e?1:e,this.userChangePageSize)&&this.emitChange(),this.userChangePageSize=!1}},install:function(e){e.component(ot.name,ot)}},st=(s=ot,(lt=(qe._withStripped=!0,r({name:"ElDialog",mixins:[te,l,Gl],props:{title:{type:String,default:""},modal:{type:Boolean,default:!0},modalAppendToBody:{type:Boolean,default:!0},appendToBody:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},width:String,fullscreen:Boolean,customClass:{type:String,default:""},top:{type:String,default:"15vh"},beforeClose:Function,center:{type:Boolean,default:!1},destroyOnClose:Boolean},data:function(){return{closed:!1,key:0}},watch:{visible:function(e){var t=this;e?(this.closed=!1,this.$emit("open"),this.$el.addEventListener("scroll",this.updatePopper),this.$nextTick((function(){t.$refs.dialog.scrollTop=0})),this.appendToBody&&document.body.appendChild(this.$el)):(this.$el.removeEventListener("scroll",this.updatePopper),this.closed||this.$emit("close"),this.destroyOnClose&&this.$nextTick((function(){t.key++})))}},computed:{style:function(){var e={};return this.fullscreen||(e.marginTop=this.top,this.width&&(e.width=this.width)),e}},methods:{getMigratingConfig:function(){return{props:{size:"size is removed."}}},handleWrapperClick:function(){this.closeOnClickModal&&this.handleClose()},handleClose:function(){"function"==typeof this.beforeClose?this.beforeClose(this.hide):this.hide()},hide:function(e){!1!==e&&(this.$emit("update:visible",!1),this.$emit("close"),this.closed=!0)},updatePopper:function(){this.broadcast("ElSelectDropdown","updatePopper"),this.broadcast("ElDropdownMenu","updatePopper")},afterEnter:function(){this.$emit("opened")},afterLeave:function(){this.$emit("closed")}},mounted:function(){this.visible&&(this.rendered=!0,this.open(),this.appendToBody)&&document.body.appendChild(this.$el)},destroyed:function(){this.appendToBody&&this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)}},qe,[],!1,null,null,null))).options.__file="packages/dialog/src/component.vue",lt.exports),lt=(st.install=function(e){e.component(st.name,st)},st),ct=($e._withStripped=Ye._withStripped=!0,r({components:{ElScrollbar:ze},mixins:[Te,l],componentName:"ElAutocompleteSuggestions",data:function(){return{parent:this.$parent,dropdownWidth:""}},props:{options:{default:function(){return{gpuAcceleration:!1}}},id:String},methods:{select:function(e){this.dispatch("ElAutocomplete","item-click",e)}},updated:function(){var e=this;this.$nextTick((function(t){e.popperJS&&e.updatePopper()}))},mounted:function(){this.$parent.popperElm=this.popperElm=this.$el,this.referenceElm=this.$parent.$refs.input.$refs.input||this.$parent.$refs.input.$refs.textarea,this.referenceList=this.$el.querySelector(".el-autocomplete-suggestion__list"),this.referenceList.setAttribute("role","listbox"),this.referenceList.setAttribute("id",this.id)},created:function(){var e=this;this.$on("visible",(function(t,n){e.dropdownWidth=n+"px",e.showPopper=t}))}},$e,[],!1,null,null,null)),ut=((ct=r({name:"ElAutocomplete",mixins:[l,o("input"),Gl],inheritAttrs:!(ct.options.__file="packages/autocomplete/src/autocomplete-suggestions.vue"),componentName:"ElAutocomplete",components:{ElInput:Q,ElAutocompleteSuggestions:ct.exports},directives:{Clickoutside:Be},props:{valueKey:{type:String,default:"value"},popperClass:String,popperOptions:Object,placeholder:String,clearable:{type:Boolean,default:!1},disabled:Boolean,name:String,size:String,value:String,maxlength:Number,minlength:Number,autofocus:Boolean,fetchSuggestions:Function,triggerOnFocus:{type:Boolean,default:!0},customItem:String,selectWhenUnmatched:{type:Boolean,default:!1},prefixIcon:String,suffixIcon:String,label:String,debounce:{type:Number,default:300},placement:{type:String,default:"bottom-start"},hideLoading:Boolean,popperAppendToBody:{type:Boolean,default:!0},highlightFirstItem:{type:Boolean,default:!1}},data:function(){return{activated:!1,suggestions:[],loading:!1,highlightedIndex:-1,suggestionDisabled:!1}},computed:{suggestionVisible:function(){var e=this.suggestions;return(Array.isArray(e)&&0<e.length||this.loading)&&this.activated},id:function(){return"el-autocomplete-"+M()}},watch:{suggestionVisible:function(e){var t=this.getInput();t&&this.broadcast("ElAutocompleteSuggestions","visible",[e,t.offsetWidth])}},methods:{getMigratingConfig:function(){return{props:{"custom-item":"custom-item is removed, use scoped slot instead.",props:"props is removed, use value-key instead."}}},getData:function(e){var t=this;this.suggestionDisabled||(this.loading=!0,this.fetchSuggestions(e,(function(e){t.loading=!1,t.suggestionDisabled||(Array.isArray(e)?(t.suggestions=e,t.highlightedIndex=t.highlightFirstItem?0:-1):console.error("[Element Error][Autocomplete]autocomplete suggestions must be an array"))})))},handleInput:function(e){this.$emit("input",e),this.suggestionDisabled=!1,this.triggerOnFocus||e?this.debouncedGetData(e):(this.suggestionDisabled=!0,this.suggestions=[])},handleChange:function(e){this.$emit("change",e)},handleFocus:function(e){this.activated=!0,this.$emit("focus",e),this.triggerOnFocus&&this.debouncedGetData(this.value)},handleBlur:function(e){this.$emit("blur",e)},handleClear:function(){this.activated=!1,this.$emit("clear")},close:function(e){this.activated=!1},handleKeyEnter:function(e){var t=this;this.suggestionVisible&&0<=this.highlightedIndex&&this.highlightedIndex<this.suggestions.length?(e.preventDefault(),this.select(this.suggestions[this.highlightedIndex])):this.selectWhenUnmatched&&(this.$emit("select",{value:this.value}),this.$nextTick((function(e){t.suggestions=[],t.highlightedIndex=-1})))},select:function(e){var t=this;this.$emit("input",e[this.valueKey]),this.$emit("select",e),this.$nextTick((function(e){t.suggestions=[],t.highlightedIndex=-1}))},highlight:function(e){var t,n,i,r;this.suggestionVisible&&!this.loading&&(e<0?this.highlightedIndex=-1:(e>=this.suggestions.length&&(e=this.suggestions.length-1),n=(t=this.$refs.suggestions.$el.querySelector(".el-autocomplete-suggestion__wrap")).querySelectorAll(".el-autocomplete-suggestion__list li")[e],i=t.scrollTop,(r=n.offsetTop)+n.scrollHeight>i+t.clientHeight&&(t.scrollTop+=n.scrollHeight),r<i&&(t.scrollTop-=n.scrollHeight),this.highlightedIndex=e,this.getInput().setAttribute("aria-activedescendant",this.id+"-item-"+this.highlightedIndex)))},getInput:function(){return this.$refs.input.getInput()}},mounted:function(){var e=this,t=(this.debouncedGetData=He()(this.debounce,this.getData),this.$on("item-click",(function(t){e.select(t)})),this.getInput());t.setAttribute("role","textbox"),t.setAttribute("aria-autocomplete","list"),t.setAttribute("aria-controls","id"),t.setAttribute("aria-activedescendant",this.id+"-item-"+this.highlightedIndex)},beforeDestroy:function(){this.$refs.suggestions.$destroy()}},Ye,[],!1,null,null,null)).options.__file="packages/autocomplete/src/autocomplete.vue",ct.exports),ht=(ct=(ut.install=function(e){e.component(ut.name,ut)},ut),(dt=(Ze._withStripped=!0,r({name:"ElButton",inject:{elForm:{default:""},elFormItem:{default:""}},props:{type:{type:String,default:"default"},size:String,icon:{type:String,default:""},nativeType:{type:String,default:"button"},loading:Boolean,disabled:Boolean,plain:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},buttonSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},buttonDisabled:function(){return(this.$options.propsData.hasOwnProperty("disabled")?this:this.elForm||{}).disabled}},methods:{handleClick:function(e){this.$emit("click",e)}}},Ze,[],!1,null,null,null))).options.__file="packages/button/src/button.vue",dt.exports),dt=(ht.install=function(e){e.component(ht.name,ht)},ht),ft=((it=(Qe._withStripped=!0,r({name:"ElButtonGroup"},Qe,[],!1,null,null,null))).options.__file="packages/button/src/button-group.vue",it.exports),pt=((mt=r({name:"ElDropdown",componentName:"ElDropdown",mixins:[l,Gl],directives:{Clickoutside:Be},components:{ElButton:dt,ElButtonGroup:it=(ft.install=function(e){e.component(ft.name,ft)},ft)},provide:function(){return{dropdown:this}},props:{trigger:{type:String,default:"hover"},type:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},placement:{type:String,default:"bottom-end"},visibleArrow:{default:!0},showTimeout:{type:Number,default:250},hideTimeout:{type:Number,default:150},tabindex:{type:Number,default:0},disabled:{type:Boolean,default:!1}},data:function(){return{timeout:null,visible:!1,triggerElm:null,menuItems:null,menuItemsArray:null,dropdownElm:null,focusing:!1,listId:"dropdown-menu-"+M()}},computed:{dropdownSize:function(){return this.size||(this.$ELEMENT||{}).size}},mounted:function(){this.$on("menu-item-click",this.handleMenuItemClick)},watch:{visible:function(e){this.broadcast("ElDropdownMenu","visible",e),this.$emit("visible-change",e)},focusing:function(e){var t=this.$el.querySelector(".el-dropdown-selfdefine");t&&(e?t.className+=" focusing":t.className=t.className.replace("focusing",""))}},methods:{getMigratingConfig:function(){return{props:{"menu-align":"menu-align is renamed to placement."}}},show:function(){var e=this;this.disabled||(clearTimeout(this.timeout),this.timeout=setTimeout((function(){e.visible=!0}),"click"===this.trigger?0:this.showTimeout))},hide:function(){var e=this;this.disabled||(this.removeTabindex(),0<=this.tabindex&&this.resetTabindex(this.triggerElm),clearTimeout(this.timeout),this.timeout=setTimeout((function(){e.visible=!1}),"click"===this.trigger?0:this.hideTimeout))},handleClick:function(){this.disabled||(this.visible?this.hide():this.show())},handleTriggerKeyDown:function(e){var t=e.keyCode;-1<[38,40].indexOf(t)?(this.removeTabindex(),this.resetTabindex(this.menuItems[0]),this.menuItems[0].focus(),e.preventDefault(),e.stopPropagation()):13===t?this.handleClick():-1<[9,27].indexOf(t)&&this.hide()},handleItemKeyDown:function(e){var t=e.keyCode,n=e.target,i=this.menuItemsArray.indexOf(n),r=this.menuItemsArray.length-1;-1<[38,40].indexOf(t)?(i=38===t?0!==i?i-1:0:i<r?i+1:r,this.removeTabindex(),this.resetTabindex(this.menuItems[i]),this.menuItems[i].focus(),e.preventDefault(),e.stopPropagation()):13===t?(this.triggerElmFocus(),n.click(),this.hideOnClick&&(this.visible=!1)):-1<[9,27].indexOf(t)&&(this.hide(),this.triggerElmFocus())},resetTabindex:function(e){this.removeTabindex(),e.setAttribute("tabindex","0")},removeTabindex:function(){this.triggerElm.setAttribute("tabindex","-1"),this.menuItemsArray.forEach((function(e){e.setAttribute("tabindex","-1")}))},initAria:function(){this.dropdownElm.setAttribute("id",this.listId),this.triggerElm.setAttribute("aria-haspopup","list"),this.triggerElm.setAttribute("aria-controls",this.listId),this.splitButton||(this.triggerElm.setAttribute("role","button"),this.triggerElm.setAttribute("tabindex",this.tabindex),this.triggerElm.setAttribute("class",(this.triggerElm.getAttribute("class")||"")+" el-dropdown-selfdefine"))},initEvent:function(){var e=this,t=this.trigger,n=this.show,i=this.hide,r=this.handleClick,a=this.splitButton,o=this.handleTriggerKeyDown,s=this.handleItemKeyDown,l=(this.triggerElm=a?this.$refs.trigger.$el:this.$slots.default[0].elm,this.dropdownElm);this.triggerElm.addEventListener("keydown",o),l.addEventListener("keydown",s,!0),a||(this.triggerElm.addEventListener("focus",(function(){e.focusing=!0})),this.triggerElm.addEventListener("blur",(function(){e.focusing=!1})),this.triggerElm.addEventListener("click",(function(){e.focusing=!1}))),"hover"===t?(this.triggerElm.addEventListener("mouseenter",n),this.triggerElm.addEventListener("mouseleave",i),l.addEventListener("mouseenter",n),l.addEventListener("mouseleave",i)):"click"===t&&this.triggerElm.addEventListener("click",r)},handleMenuItemClick:function(e,t){this.hideOnClick&&(this.visible=!1),this.$emit("command",e,t)},triggerElmFocus:function(){this.triggerElm.focus&&this.triggerElm.focus()},initDomOperation:function(){this.dropdownElm=this.popperElm,this.menuItems=this.dropdownElm.querySelectorAll("[tabindex='-1']"),this.menuItemsArray=[].slice.call(this.menuItems),this.initEvent(),this.initAria()}},render:function(e){var t=this,n=this.hide,i=this.splitButton,r=this.type,a=this.dropdownSize,o=this.disabled,s=null;i?s=e("el-button-group",[e("el-button",{attrs:{type:r,size:a,disabled:o},nativeOn:{click:function(e){t.$emit("click",e),n()}}},[this.$slots.default]),e("el-button",{ref:"trigger",attrs:{type:r,size:a,disabled:o},class:"el-dropdown__caret-button"},[e("i",{class:"el-dropdown__icon el-icon-arrow-down"})])]):(a=void 0===(r=(i=(s=this.$slots.default)[0].data||{}).attrs)?{}:r,o&&!a.disabled&&(a.disabled=!0,i.attrs=a)),r=o?null:this.$slots.dropdown;return e("div",{class:"el-dropdown",directives:[{name:"clickoutside",value:n}],attrs:{"aria-disabled":o}},[s,r])}},void 0,void 0,!1,null,null,null)).options.__file="packages/dropdown/src/dropdown.vue",mt.exports),mt=(pt.install=function(e){e.component(pt.name,pt)},pt),vt=((gt=(Ke._withStripped=!0,r({name:"ElDropdownMenu",componentName:"ElDropdownMenu",mixins:[Te],props:{visibleArrow:{type:Boolean,default:!0},arrowOffset:{type:Number,default:0}},data:function(){return{size:this.dropdown.dropdownSize}},inject:["dropdown"],created:function(){var e=this;this.$on("updatePopper",(function(){e.showPopper&&e.updatePopper()})),this.$on("visible",(function(t){e.showPopper=t}))},mounted:function(){this.dropdown.popperElm=this.popperElm=this.$el,this.referenceElm=this.dropdown.$el,this.dropdown.initDomOperation()},watch:{"dropdown.placement":{immediate:!0,handler:function(e){this.currentPlacement=e}}}},Ke,[],!1,null,null,null))).options.__file="packages/dropdown/src/dropdown-menu.vue",gt.exports),gt=(vt.install=function(e){e.component(vt.name,vt)},vt),yt=((xt=(Je._withStripped=!0,r({name:"ElDropdownItem",mixins:[l],props:{command:{},disabled:Boolean,divided:Boolean,icon:String},methods:{handleClick:function(e){this.dispatch("ElDropdown","menu-item-click",[this.command,this])}}},Je,[],!1,null,null,null))).options.__file="packages/dropdown/src/dropdown-item.vue",xt.exports),xt=(yt.install=function(e){e.component(yt.name,yt)},yt),bt={},wt=(bt.Utils=bt.Utils||{},bt.Utils.focusFirstDescendant=function(e){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(bt.Utils.attemptFocus(n)||bt.Utils.focusFirstDescendant(n))return!0}return!1},bt.Utils.focusLastDescendant=function(e){for(var t=e.childNodes.length-1;0<=t;t--){var n=e.childNodes[t];if(bt.Utils.attemptFocus(n)||bt.Utils.focusLastDescendant(n))return!0}return!1},bt.Utils.attemptFocus=function(e){if(!bt.Utils.isFocusable(e))return!1;bt.Utils.IgnoreUtilFocusChanges=!0;try{e.focus()}catch(e){}return bt.Utils.IgnoreUtilFocusChanges=!1,document.activeElement===e},bt.Utils.isFocusable=function(e){if(0<e.tabIndex||0===e.tabIndex&&null!==e.getAttribute("tabIndex"))return!0;if(e.disabled)return!1;switch(e.nodeName){case"A":return!!e.href&&"ignore"!==e.rel;case"INPUT":return"hidden"!==e.type&&"file"!==e.type;case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},bt.Utils.triggerEvent=function(e,t){for(var n=/^mouse|click/.test(t)?"MouseEvents":/^key/.test(t)?"KeyboardEvent":"HTMLEvents",i=(n=document.createEvent(n),arguments.length),r=Array(2<i?i-2:0),a=2;a<i;a++)r[a-2]=arguments[a];return n.initEvent.apply(n,[t].concat(r)),e.dispatchEvent?e.dispatchEvent(n):e.fireEvent("on"+t,n),e},bt.Utils.keys={tab:9,enter:13,space:32,left:37,up:38,right:39,down:40,esc:27},bt.Utils),_t=(et.prototype.init=function(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()},et.prototype.gotoSubIndex=function(e){e===this.subMenuItems.length?e=0:e<0&&(e=this.subMenuItems.length-1),this.subMenuItems[e].focus(),this.subIndex=e},et.prototype.addListeners=function(){var e=this,t=wt.keys,n=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,(function(i){i.addEventListener("keydown",(function(i){var r=!1;switch(i.keyCode){case t.down:e.gotoSubIndex(e.subIndex+1),r=!0;break;case t.up:e.gotoSubIndex(e.subIndex-1),r=!0;break;case t.tab:wt.triggerEvent(n,"mouseleave");break;case t.enter:case t.space:r=!0,i.currentTarget.click()}return r&&(i.preventDefault(),i.stopPropagation()),!1}))}))},et),Mt=(tt.prototype.init=function(){this.domNode.setAttribute("tabindex","0");var e=this.domNode.querySelector(".el-menu");e&&(this.submenu=new _t(this,e)),this.addListeners()},tt.prototype.addListeners=function(){var e=this,t=wt.keys;this.domNode.addEventListener("keydown",(function(n){var i=!1;switch(n.keyCode){case t.down:wt.triggerEvent(n.currentTarget,"mouseenter"),e.submenu&&e.submenu.gotoSubIndex(0),i=!0;break;case t.up:wt.triggerEvent(n.currentTarget,"mouseenter"),e.submenu&&e.submenu.gotoSubIndex(e.submenu.subMenuItems.length-1),i=!0;break;case t.tab:wt.triggerEvent(n.currentTarget,"mouseleave");break;case t.enter:case t.space:i=!0,n.currentTarget.click()}i&&n.preventDefault()}))},tt),St=(nt.prototype.init=function(){var e=this.domNode.childNodes;[].filter.call(e,(function(e){return 1===e.nodeType})).forEach((function(e){new Mt(e)}))},nt),Et=((Tt=r({name:"ElMenu",render:function(e){var t=e("ul",{attrs:{role:"menubar"},key:+this.collapse,style:{backgroundColor:this.backgroundColor||""},class:{"el-menu--horizontal":"horizontal"===this.mode,"el-menu--collapse":this.collapse,"el-menu":!0}},[this.$slots.default]);return this.collapseTransition?e("el-menu-collapse-transition",[t]):t},componentName:"ElMenu",mixins:[l,Gl],provide:function(){return{rootMenu:this}},components:{"el-menu-collapse-transition":{functional:!0,render:function(e,t){return e("transition",{props:{mode:"out-in"},on:{beforeEnter:function(e){e.style.opacity=.2},enter:function(e){ae(e,"el-opacity-transition"),e.style.opacity=1},afterEnter:function(e){oe(e,"el-opacity-transition"),e.style.opacity=""},beforeLeave:function(e){e.dataset||(e.dataset={}),(re(e,"el-menu--collapse")?(oe(e,"el-menu--collapse"),e.dataset.oldOverflow=e.style.overflow,e.dataset.scrollWidth=e.clientWidth,ae):(ae(e,"el-menu--collapse"),e.dataset.oldOverflow=e.style.overflow,e.dataset.scrollWidth=e.clientWidth,oe))(e,"el-menu--collapse"),e.style.width=e.scrollWidth+"px",e.style.overflow="hidden"},leave:function(e){ae(e,"horizontal-collapse-transition"),e.style.width=e.dataset.scrollWidth+"px"}}},t.children)}}},props:{mode:{type:String,default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:Array,uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,collapseTransition:{type:Boolean,default:!0}},data:function(){return{activeIndex:this.defaultActive,openedMenus:this.defaultOpeneds&&!this.collapse?this.defaultOpeneds.slice(0):[],items:{},submenus:{}}},computed:{hoverBackground:function(){return this.backgroundColor?this.mixColor(this.backgroundColor,.2):""},isMenuPopup:function(){return"horizontal"===this.mode||"vertical"===this.mode&&this.collapse}},watch:{defaultActive:function(e){this.items[e]||(this.activeIndex=null),this.updateActiveIndex(e)},defaultOpeneds:function(e){this.collapse||(this.openedMenus=e)},collapse:function(e){e&&(this.openedMenus=[]),this.broadcast("ElSubmenu","toggle-collapse",e)}},methods:{updateActiveIndex:function(e){(e=this.items[e]||this.items[this.activeIndex]||this.items[this.defaultActive])?(this.activeIndex=e.index,this.initOpenedMenu()):this.activeIndex=null},getMigratingConfig:function(){return{props:{theme:"theme is removed."}}},getColorChannels:function(e){if(e=e.replace("#",""),/^[0-9a-fA-F]{3}$/.test(e)){e=e.split("");for(var t=2;0<=t;t--)e.splice(t,0,e[t]);e=e.join("")}return/^[0-9a-fA-F]{6}$/.test(e)?{red:parseInt(e.slice(0,2),16),green:parseInt(e.slice(2,4),16),blue:parseInt(e.slice(4,6),16)}:{red:255,green:255,blue:255}},mixColor:function(e,t){var n=(e=this.getColorChannels(e)).red,i=e.green;e=e.blue;return 0<t?(n*=1-t,i*=1-t,e*=1-t):(n+=(255-n)*t,i+=(255-i)*t,e+=(255-e)*t),"rgb("+Math.round(n)+", "+Math.round(i)+", "+Math.round(e)+")"},addItem:function(e){this.$set(this.items,e.index,e)},removeItem:function(e){delete this.items[e.index]},addSubmenu:function(e){this.$set(this.submenus,e.index,e)},removeSubmenu:function(e){delete this.submenus[e.index]},openMenu:function(e,t){var n=this.openedMenus;-1===n.indexOf(e)&&(this.uniqueOpened&&(this.openedMenus=n.filter((function(e){return-1!==t.indexOf(e)}))),this.openedMenus.push(e))},closeMenu:function(e){-1!==(e=this.openedMenus.indexOf(e))&&this.openedMenus.splice(e,1)},handleSubmenuClick:function(e){var t=e.index;e=e.indexPath;-1!==this.openedMenus.indexOf(t)?(this.closeMenu(t),this.$emit("close",t,e)):(this.openMenu(t,e),this.$emit("open",t,e))},handleItemClick:function(e){var t=this,n=e.index,i=e.indexPath,r=this.activeIndex,a=null!==e.index;a&&(this.activeIndex=e.index),this.$emit("select",n,i,e),"horizontal"!==this.mode&&!this.collapse||(this.openedMenus=[]),this.router&&a&&this.routeToItem(e,(function(e){t.activeIndex=r,!e||"NavigationDuplicated"!==e.name&&console.error(e)}))},initOpenedMenu:function(){var e=this,t=this.activeIndex;(t=this.items[t])&&"horizontal"!==this.mode&&!this.collapse&&t.indexPath.forEach((function(t){var n=e.submenus[t];n&&e.openMenu(t,n.indexPath)}))},routeToItem:function(e,t){var n=e.route||e.index;try{this.$router.push(n,(function(){}),t)}catch(e){console.error(e)}},open:function(e){var t=this,n=this.submenus[e.toString()].indexPath;n.forEach((function(e){return t.openMenu(e,n)}))},close:function(e){this.closeMenu(e)}},mounted:function(){this.initOpenedMenu(),this.$on("item-click",this.handleItemClick),this.$on("submenu-click",this.handleSubmenuClick),"horizontal"===this.mode&&new St(this.$el),this.$watch("items",this.updateActiveIndex)}},void 0,void 0,!1,null,null,null)).options.__file="packages/menu/src/menu.vue",Tt.exports),Tt=(Et.install=function(e){e.component(Et.name,Et)},Et),Ct=(Pt.prototype.beforeEnter=function(e){ae(e,"collapse-transition"),e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.height="0",e.style.paddingTop=0,e.style.paddingBottom=0},Pt.prototype.enter=function(e){e.dataset.oldOverflow=e.style.overflow,0!==e.scrollHeight?e.style.height=e.scrollHeight+"px":e.style.height="",e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom,e.style.overflow="hidden"},Pt.prototype.afterEnter=function(e){oe(e,"collapse-transition"),e.style.height="",e.style.overflow=e.dataset.oldOverflow},Pt.prototype.beforeLeave=function(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.height=e.scrollHeight+"px",e.style.overflow="hidden"},Pt.prototype.leave=function(e){0!==e.scrollHeight&&(ae(e,"collapse-transition"),e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0)},Pt.prototype.afterLeave=function(e){oe(e,"collapse-transition"),e.style.height="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom},Pt),At={name:"ElCollapseTransition",functional:!0,render:function(e,t){return t=t.children,e("transition",{on:new Ct},t)}},Lt={inject:["rootMenu"],computed:{indexPath:function(){for(var e=[this.index],t=this.$parent;"ElMenu"!==t.$options.componentName;)t.index&&e.unshift(t.index),t=t.$parent;return e},parentMenu:function(){for(var e=this.$parent;e&&-1===["ElMenu","ElSubmenu"].indexOf(e.$options.componentName);)e=e.$parent;return e},paddingStyle:function(){if("vertical"!==this.rootMenu.mode)return{};var e=20,t=this.$parent;if(this.rootMenu.collapse)e=20;else for(;t&&"ElMenu"!==t.$options.componentName;)"ElSubmenu"===t.$options.componentName&&(e+=20),t=t.$parent;return{paddingLeft:e+"px"}}}};function Pt(){if(!(this instanceof Pt))throw new TypeError("Cannot call a class as a function")}function kt(){var e=this,t=e.$createElement;return(t=e._self._c||t)("li",{staticClass:"el-menu-item",class:{"is-active":e.active,"is-disabled":e.disabled},style:[e.paddingStyle,e.itemStyle,{backgroundColor:e.backgroundColor}],attrs:{role:"menuitem",tabindex:"-1"},on:{click:e.handleClick,mouseenter:e.onMouseEnter,focus:e.onMouseEnter,blur:e.onMouseLeave,mouseleave:e.onMouseLeave}},["ElMenu"===e.parentMenu.$options.componentName&&e.rootMenu.collapse&&e.$slots.title?t("el-tooltip",{attrs:{effect:"dark",placement:"right"}},[t("div",{attrs:{slot:"content"},slot:"content"},[e._t("title")],2),t("div",{staticStyle:{position:"absolute",left:"0",top:"0",height:"100%",width:"100%",display:"inline-block","box-sizing":"border-box",padding:"0 20px"}},[e._t("default")],2)]):[e._t("default"),e._t("title")]],2)}function Dt(){var e=this.$createElement;return(e=this._self._c||e)("li",{staticClass:"el-menu-item-group"},[e("div",{staticClass:"el-menu-item-group__title",style:{paddingLeft:this.levelPadding+"px"}},[this.$slots.title?this._t("title"):[this._v(this._s(this.title))]],2),e("ul",[this._t("default")],2)])}function It(){var e=this,t=e.$createElement;return(t=e._self._c||t)("div",{class:["el-input-number",e.inputNumberSize?"el-input-number--"+e.inputNumberSize:"",{"is-disabled":e.inputNumberDisabled},{"is-without-controls":!e.controls},{"is-controls-right":e.controlsAtRight}],on:{dragstart:function(e){e.preventDefault()}}},[e.controls?t("span",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:e.decrease,expression:"decrease"}],staticClass:"el-input-number__decrease",class:{"is-disabled":e.minDisabled},attrs:{role:"button"},on:{keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.decrease(t):null}}},[t("i",{class:"el-icon-"+(e.controlsAtRight?"arrow-down":"minus")})]):e._e(),e.controls?t("span",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:e.increase,expression:"increase"}],staticClass:"el-input-number__increase",class:{"is-disabled":e.maxDisabled},attrs:{role:"button"},on:{keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.increase(t):null}}},[t("i",{class:"el-icon-"+(e.controlsAtRight?"arrow-up":"plus")})]):e._e(),t("el-input",{ref:"input",attrs:{value:e.displayValue,placeholder:e.placeholder,disabled:e.inputNumberDisabled,size:e.inputNumberSize,max:e.max,min:e.min,name:e.name,label:e.label},on:{blur:e.handleBlur,focus:e.handleFocus,input:e.handleInput,change:e.handleInputChange},nativeOn:{keydown:[function(t){return"button"in t||!e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?(t.preventDefault(),e.increase(t)):null},function(t){return"button"in t||!e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?(t.preventDefault(),e.decrease(t)):null}]}})],1)}function Rt(){var e=this,t=e.$createElement;return(t=e._self._c||t)("label",{staticClass:"el-radio",class:[e.border&&e.radioSize?"el-radio--"+e.radioSize:"",{"is-disabled":e.isDisabled},{"is-focus":e.focus},{"is-bordered":e.border},{"is-checked":e.model===e.label}],attrs:{role:"radio","aria-checked":e.model===e.label,"aria-disabled":e.isDisabled,tabindex:e.tabIndex},on:{keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"]))return null;t.stopPropagation(),t.preventDefault(),e.model=e.isDisabled?e.model:e.label}}},[t("span",{staticClass:"el-radio__input",class:{"is-disabled":e.isDisabled,"is-checked":e.model===e.label}},[t("span",{staticClass:"el-radio__inner"}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],ref:"radio",staticClass:"el-radio__original",attrs:{type:"radio","aria-hidden":"true",name:e.name,disabled:e.isDisabled,tabindex:"-1",autocomplete:"off"},domProps:{value:e.label,checked:e._q(e.model,e.label)},on:{focus:function(t){e.focus=!0},blur:function(t){e.focus=!1},change:[function(t){e.model=e.label},e.handleChange]}})]),t("span",{staticClass:"el-radio__label",on:{keydown:function(e){e.stopPropagation()}}},[e._t("default"),e.$slots.default?e._e():[e._v(e._s(e.label))]],2)])}function Nt(){var e=this.$createElement;return(this._self._c||e)(this._elTag,{tag:"component",staticClass:"el-radio-group",attrs:{role:"radiogroup"},on:{keydown:this.handleKeydown}},[this._t("default")],2)}function Ot(){var e=this,t=e.$createElement;return(t=e._self._c||t)("label",{staticClass:"el-radio-button",class:[e.size?"el-radio-button--"+e.size:"",{"is-active":e.value===e.label},{"is-disabled":e.isDisabled},{"is-focus":e.focus}],attrs:{role:"radio","aria-checked":e.value===e.label,"aria-disabled":e.isDisabled,tabindex:e.tabIndex},on:{keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"]))return null;t.stopPropagation(),t.preventDefault(),e.value=e.isDisabled?e.value:e.label}}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"el-radio-button__orig-radio",attrs:{type:"radio",name:e.name,disabled:e.isDisabled,tabindex:"-1",autocomplete:"off"},domProps:{value:e.label,checked:e._q(e.value,e.label)},on:{change:[function(t){e.value=e.label},e.handleChange],focus:function(t){e.focus=!0},blur:function(t){e.focus=!1}}}),t("span",{staticClass:"el-radio-button__inner",style:e.value===e.label?e.activeStyle:null,on:{keydown:function(e){e.stopPropagation()}}},[e._t("default"),e.$slots.default?e._e():[e._v(e._s(e.label))]],2)])}function Ft(){var e=this,t=e.$createElement;return(t=e._self._c||t)("label",{staticClass:"el-checkbox",class:[e.border&&e.checkboxSize?"el-checkbox--"+e.checkboxSize:"",{"is-disabled":e.isDisabled},{"is-bordered":e.border},{"is-checked":e.isChecked}],attrs:{id:e.id}},[t("span",{staticClass:"el-checkbox__input",class:{"is-disabled":e.isDisabled,"is-checked":e.isChecked,"is-indeterminate":e.indeterminate,"is-focus":e.focus},attrs:{tabindex:!!e.indeterminate&&0,role:!!e.indeterminate&&"checkbox","aria-checked":!!e.indeterminate&&"mixed"}},[t("span",{staticClass:"el-checkbox__inner"}),e.trueLabel||e.falseLabel?t("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],staticClass:"el-checkbox__original",attrs:{type:"checkbox","aria-hidden":e.indeterminate?"true":"false",name:e.name,disabled:e.isDisabled,"true-value":e.trueLabel,"false-value":e.falseLabel},domProps:{checked:Array.isArray(e.model)?-1<e._i(e.model,null):e._q(e.model,e.trueLabel)},on:{change:[function(t){var n,i=e.model,r=(t=t.target).checked?e.trueLabel:e.falseLabel;Array.isArray(i)?(n=e._i(i,null),t.checked?n<0&&(e.model=i.concat([null])):-1<n&&(e.model=i.slice(0,n).concat(i.slice(n+1)))):e.model=r},e.handleChange],focus:function(t){e.focus=!0},blur:function(t){e.focus=!1}}}):t("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],staticClass:"el-checkbox__original",attrs:{type:"checkbox","aria-hidden":e.indeterminate?"true":"false",disabled:e.isDisabled,name:e.name},domProps:{value:e.label,checked:Array.isArray(e.model)?-1<e._i(e.model,e.label):e.model},on:{change:[function(t){var n,i,r=e.model,a=!!(t=t.target).checked;Array.isArray(r)?(n=e.label,i=e._i(r,n),t.checked?i<0&&(e.model=r.concat([n])):-1<i&&(e.model=r.slice(0,i).concat(r.slice(i+1)))):e.model=a},e.handleChange],focus:function(t){e.focus=!0},blur:function(t){e.focus=!1}}})]),e.$slots.default||e.label?t("span",{staticClass:"el-checkbox__label"},[e._t("default"),e.$slots.default?e._e():[e._v(e._s(e.label))]],2):e._e()])}function zt(){var e=this,t=e.$createElement;return(t=e._self._c||t)("label",{staticClass:"el-checkbox-button",class:[e.size?"el-checkbox-button--"+e.size:"",{"is-disabled":e.isDisabled},{"is-checked":e.isChecked},{"is-focus":e.focus}],attrs:{role:"checkbox","aria-checked":e.isChecked,"aria-disabled":e.isDisabled}},[e.trueLabel||e.falseLabel?t("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],staticClass:"el-checkbox-button__original",attrs:{type:"checkbox",name:e.name,disabled:e.isDisabled,"true-value":e.trueLabel,"false-value":e.falseLabel},domProps:{checked:Array.isArray(e.model)?-1<e._i(e.model,null):e._q(e.model,e.trueLabel)},on:{change:[function(t){var n,i=e.model,r=(t=t.target).checked?e.trueLabel:e.falseLabel;Array.isArray(i)?(n=e._i(i,null),t.checked?n<0&&(e.model=i.concat([null])):-1<n&&(e.model=i.slice(0,n).concat(i.slice(n+1)))):e.model=r},e.handleChange],focus:function(t){e.focus=!0},blur:function(t){e.focus=!1}}}):t("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],staticClass:"el-checkbox-button__original",attrs:{type:"checkbox",name:e.name,disabled:e.isDisabled},domProps:{value:e.label,checked:Array.isArray(e.model)?-1<e._i(e.model,e.label):e.model},on:{change:[function(t){var n,i,r=e.model,a=!!(t=t.target).checked;Array.isArray(r)?(n=e.label,i=e._i(r,n),t.checked?i<0&&(e.model=r.concat([n])):-1<i&&(e.model=r.slice(0,i).concat(r.slice(i+1)))):e.model=a},e.handleChange],focus:function(t){e.focus=!0},blur:function(t){e.focus=!1}}}),e.$slots.default||e.label?t("span",{staticClass:"el-checkbox-button__inner",style:e.isChecked?e.activeStyle:null},[e._t("default",[e._v(e._s(e.label))])],2):e._e()])}function Bt(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"el-checkbox-group",attrs:{role:"group","aria-label":"checkbox-group"}},[this._t("default")],2)}function Ht(){var e=this,t=e.$createElement;return(t=e._self._c||t)("div",{staticClass:"el-switch",class:{"is-disabled":e.switchDisabled,"is-checked":e.checked},attrs:{role:"switch","aria-checked":e.checked,"aria-disabled":e.switchDisabled},on:{click:function(t){return t.preventDefault(),e.switchValue(t)}}},[t("input",{ref:"input",staticClass:"el-switch__input",attrs:{type:"checkbox",id:e.id,name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:e.switchDisabled},on:{change:e.handleChange,keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.switchValue(t):null}}}),e.inactiveIconClass||e.inactiveText?t("span",{class:["el-switch__label","el-switch__label--left",e.checked?"":"is-active"]},[e.inactiveIconClass?t("i",{class:[e.inactiveIconClass]}):e._e(),!e.inactiveIconClass&&e.inactiveText?t("span",{attrs:{"aria-hidden":e.checked}},[e._v(e._s(e.inactiveText))]):e._e()]):e._e(),t("span",{ref:"core",staticClass:"el-switch__core",style:{width:e.coreWidth+"px"}}),e.activeIconClass||e.activeText?t("span",{class:["el-switch__label","el-switch__label--right",e.checked?"is-active":""]},[e.activeIconClass?t("i",{class:[e.activeIconClass]}):e._e(),!e.activeIconClass&&e.activeText?t("span",{attrs:{"aria-hidden":!e.checked}},[e._v(e._s(e.activeText))]):e._e()]):e._e()])}function Ut(){var e=this.$createElement;return(e=this._self._c||e)("ul",{directives:[{name:"show",rawName:"v-show",value:this.visible,expression:"visible"}],staticClass:"el-select-group__wrap"},[e("li",{staticClass:"el-select-group__title"},[this._v(this._s(this.label))]),e("li",[e("ul",{staticClass:"el-select-group"},[this._t("default")],2)])])}function Vt(){var e=this,t=e.$createElement;return(t=e._self._c||t)("div",{staticClass:"el-table",class:[{"el-table--fit":e.fit,"el-table--striped":e.stripe,"el-table--border":e.border||e.isGroup,"el-table--hidden":e.isHidden,"el-table--group":e.isGroup,"el-table--fluid-height":e.maxHeight,"el-table--scrollable-x":e.layout.scrollX,"el-table--scrollable-y":e.layout.scrollY,"el-table--enable-row-hover":!e.store.states.isComplex,"el-table--enable-row-transition":0!==(e.store.states.data||[]).length&&(e.store.states.data||[]).length<100},e.tableSize?"el-table--"+e.tableSize:""],on:{mouseleave:function(t){e.handleMouseLeave(t)}}},[t("div",{ref:"hiddenColumns",staticClass:"hidden-columns"},[e._t("default")],2),e.showHeader?t("div",{directives:[{name:"mousewheel",rawName:"v-mousewheel",value:e.handleHeaderFooterMousewheel,expression:"handleHeaderFooterMousewheel"}],ref:"headerWrapper",staticClass:"el-table__header-wrapper"},[t("table-header",{ref:"tableHeader",style:{width:e.layout.bodyWidth?e.layout.bodyWidth+"px":""},attrs:{store:e.store,border:e.border,"default-sort":e.defaultSort}})],1):e._e(),t("div",{ref:"bodyWrapper",staticClass:"el-table__body-wrapper",class:[e.layout.scrollX?"is-scrolling-"+e.scrollPosition:"is-scrolling-none"],style:[e.bodyHeight]},[t("table-body",{style:{width:e.bodyWidth},attrs:{context:e.context,store:e.store,stripe:e.stripe,"row-class-name":e.rowClassName,"row-style":e.rowStyle,highlight:e.highlightCurrentRow}}),e.data&&0!==e.data.length?e._e():t("div",{ref:"emptyBlock",staticClass:"el-table__empty-block",style:e.emptyBlockStyle},[t("span",{staticClass:"el-table__empty-text"},[e._t("empty",[e._v(e._s(e.emptyText||e.t("el.table.emptyText")))])],2)]),e.$slots.append?t("div",{ref:"appendWrapper",staticClass:"el-table__append-wrapper"},[e._t("append")],2):e._e()],1),e.showSummary?t("div",{directives:[{name:"show",rawName:"v-show",value:e.data&&0<e.data.length,expression:"data && data.length > 0"},{name:"mousewheel",rawName:"v-mousewheel",value:e.handleHeaderFooterMousewheel,expression:"handleHeaderFooterMousewheel"}],ref:"footerWrapper",staticClass:"el-table__footer-wrapper"},[t("table-footer",{style:{width:e.layout.bodyWidth?e.layout.bodyWidth+"px":""},attrs:{store:e.store,border:e.border,"sum-text":e.sumText||e.t("el.table.sumText"),"summary-method":e.summaryMethod,"default-sort":e.defaultSort}})],1):e._e(),0<e.fixedColumns.length?t("div",{directives:[{name:"mousewheel",rawName:"v-mousewheel",value:e.handleFixedMousewheel,expression:"handleFixedMousewheel"}],ref:"fixedWrapper",staticClass:"el-table__fixed",style:[{width:e.layout.fixedWidth?e.layout.fixedWidth+"px":""},e.fixedHeight]},[e.showHeader?t("div",{ref:"fixedHeaderWrapper",staticClass:"el-table__fixed-header-wrapper"},[t("table-header",{ref:"fixedTableHeader",style:{width:e.bodyWidth},attrs:{fixed:"left",border:e.border,store:e.store}})],1):e._e(),t("div",{ref:"fixedBodyWrapper",staticClass:"el-table__fixed-body-wrapper",style:[{top:e.layout.headerHeight+"px"},e.fixedBodyHeight]},[t("table-body",{style:{width:e.bodyWidth},attrs:{fixed:"left",store:e.store,stripe:e.stripe,highlight:e.highlightCurrentRow,"row-class-name":e.rowClassName,"row-style":e.rowStyle}}),e.$slots.append?t("div",{staticClass:"el-table__append-gutter",style:{height:e.layout.appendHeight+"px"}}):e._e()],1),e.showSummary?t("div",{directives:[{name:"show",rawName:"v-show",value:e.data&&0<e.data.length,expression:"data && data.length > 0"}],ref:"fixedFooterWrapper",staticClass:"el-table__fixed-footer-wrapper"},[t("table-footer",{style:{width:e.bodyWidth},attrs:{fixed:"left",border:e.border,"sum-text":e.sumText||e.t("el.table.sumText"),"summary-method":e.summaryMethod,store:e.store}})],1):e._e()]):e._e(),0<e.rightFixedColumns.length?t("div",{directives:[{name:"mousewheel",rawName:"v-mousewheel",value:e.handleFixedMousewheel,expression:"handleFixedMousewheel"}],ref:"rightFixedWrapper",staticClass:"el-table__fixed-right",style:[{width:e.layout.rightFixedWidth?e.layout.rightFixedWidth+"px":"",right:e.layout.scrollY?(e.border?e.layout.gutterWidth:e.layout.gutterWidth||0)+"px":""},e.fixedHeight]},[e.showHeader?t("div",{ref:"rightFixedHeaderWrapper",staticClass:"el-table__fixed-header-wrapper"},[t("table-header",{ref:"rightFixedTableHeader",style:{width:e.bodyWidth},attrs:{fixed:"right",border:e.border,store:e.store}})],1):e._e(),t("div",{ref:"rightFixedBodyWrapper",staticClass:"el-table__fixed-body-wrapper",style:[{top:e.layout.headerHeight+"px"},e.fixedBodyHeight]},[t("table-body",{style:{width:e.bodyWidth},attrs:{fixed:"right",store:e.store,stripe:e.stripe,"row-class-name":e.rowClassName,"row-style":e.rowStyle,highlight:e.highlightCurrentRow}}),e.$slots.append?t("div",{staticClass:"el-table__append-gutter",style:{height:e.layout.appendHeight+"px"}}):e._e()],1),e.showSummary?t("div",{directives:[{name:"show",rawName:"v-show",value:e.data&&0<e.data.length,expression:"data && data.length > 0"}],ref:"rightFixedFooterWrapper",staticClass:"el-table__fixed-footer-wrapper"},[t("table-footer",{style:{width:e.bodyWidth},attrs:{fixed:"right",border:e.border,"sum-text":e.sumText||e.t("el.table.sumText"),"summary-method":e.summaryMethod,store:e.store}})],1):e._e()]):e._e(),0<e.rightFixedColumns.length?t("div",{ref:"rightFixedPatch",staticClass:"el-table__fixed-right-patch",style:{width:e.layout.scrollY?e.layout.gutterWidth+"px":"0",height:e.layout.headerHeight+"px"}}):e._e(),t("div",{directives:[{name:"show",rawName:"v-show",value:e.resizeProxyVisible,expression:"resizeProxyVisible"}],ref:"resizeProxy",staticClass:"el-table__column-resize-proxy"})])}function Gt(e){for(var t=e.target;t&&"HTML"!==t.tagName.toUpperCase();){if("TD"===t.tagName.toUpperCase())return t;t=t.parentNode}return null}function jt(e){return null!==e&&"object"===(void 0===e?"undefined":Tn(e))}function Wt(e,t){var n=null;return e.columns.forEach((function(e){e.id===t&&(n=e)})),n}function Xt(e,t){return(t=(t.className||"").match(/el-table_[^\s]+/gm))?Wt(e,t[0]):null}function qt(e,t){if(!e)throw new Error("row is required when get row identity");if("string"==typeof t){if(t.indexOf(".")<0)return e[t];for(var n=t.split("."),i=e,r=0;r<n.length;r++)i=i[n[r]];return i}if("function"==typeof t)return t.call(null,e)}function Yt(e,t){var n={};return(e||[]).forEach((function(e,i){n[qt(e,t)]={row:e,index:i}})),n}(Zt=r({name:"ElSubmenu",componentName:"ElSubmenu",mixins:[Lt,l,{props:{transformOrigin:{type:[Boolean,String],default:!1},offset:Te.props.offset,boundariesPadding:Te.props.boundariesPadding,popperOptions:Te.props.popperOptions},data:Te.data,methods:Te.methods,beforeDestroy:Te.beforeDestroy,deactivated:Te.deactivated}],components:{ElCollapseTransition:At},props:{index:{type:String,required:!0},showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},popperClass:String,disabled:Boolean,popperAppendToBody:{type:Boolean,default:void 0}},data:function(){return{popperJS:null,timeout:null,items:{},submenus:{},mouseInChild:!1}},watch:{opened:function(e){var t=this;this.isMenuPopup&&this.$nextTick((function(e){t.updatePopper()}))}},computed:{appendToBody:function(){return void 0===this.popperAppendToBody?this.isFirstLevel:this.popperAppendToBody},menuTransitionName:function(){return this.rootMenu.collapse?"el-zoom-in-left":"el-zoom-in-top"},opened:function(){return-1<this.rootMenu.openedMenus.indexOf(this.index)},active:function(){var e=!1,t=this.submenus,n=this.items;return Object.keys(n).forEach((function(t){n[t].active&&(e=!0)})),Object.keys(t).forEach((function(n){t[n].active&&(e=!0)})),e},hoverBackground:function(){return this.rootMenu.hoverBackground},backgroundColor:function(){return this.rootMenu.backgroundColor||""},activeTextColor:function(){return this.rootMenu.activeTextColor||""},textColor:function(){return this.rootMenu.textColor||""},mode:function(){return this.rootMenu.mode},isMenuPopup:function(){return this.rootMenu.isMenuPopup},titleStyle:function(){return"horizontal"!==this.mode?{color:this.textColor}:{borderBottomColor:this.active?this.rootMenu.activeTextColor?this.activeTextColor:"":"transparent",color:this.active?this.activeTextColor:this.textColor}},isFirstLevel:function(){for(var e=!0,t=this.$parent;t&&t!==this.rootMenu;){if(-1<["ElSubmenu","ElMenuItemGroup"].indexOf(t.$options.componentName)){e=!1;break}t=t.$parent}return e}},methods:{handleCollapseToggle:function(e){e?this.initPopper():this.doDestroy()},addItem:function(e){this.$set(this.items,e.index,e)},removeItem:function(e){delete this.items[e.index]},addSubmenu:function(e){this.$set(this.submenus,e.index,e)},removeSubmenu:function(e){delete this.submenus[e.index]},handleClick:function(){var e=this.rootMenu,t=this.disabled;"hover"===e.menuTrigger&&"horizontal"===e.mode||e.collapse&&"vertical"===e.mode||t||this.dispatch("ElMenu","submenu-click",this)},handleMouseenter:function(e){var t,n=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.showTimeout;("ActiveXObject"in window||"focus"!==e.type||e.relatedTarget)&&(e=this.rootMenu,t=this.disabled,"click"===e.menuTrigger&&"horizontal"===e.mode||!e.collapse&&"vertical"===e.mode||t||(this.dispatch("ElSubmenu","mouse-enter-child"),clearTimeout(this.timeout),this.timeout=setTimeout((function(){n.rootMenu.openMenu(n.index,n.indexPath)}),i),this.appendToBody&&this.$parent.$el.dispatchEvent(new MouseEvent("mouseenter"))))},handleMouseleave:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],n=this.rootMenu;"click"===n.menuTrigger&&"horizontal"===n.mode||!n.collapse&&"vertical"===n.mode||(this.dispatch("ElSubmenu","mouse-leave-child"),clearTimeout(this.timeout),this.timeout=setTimeout((function(){e.mouseInChild||e.rootMenu.closeMenu(e.index)}),this.hideTimeout),this.appendToBody&&t&&"ElSubmenu"===this.$parent.$options.name&&this.$parent.handleMouseleave(!0))},handleTitleMouseenter:function(){var e;("horizontal"!==this.mode||this.rootMenu.backgroundColor)&&(e=this.$refs["submenu-title"])&&(e.style.backgroundColor=this.rootMenu.hoverBackground)},handleTitleMouseleave:function(){var e;("horizontal"!==this.mode||this.rootMenu.backgroundColor)&&(e=this.$refs["submenu-title"])&&(e.style.backgroundColor=this.rootMenu.backgroundColor||"")},updatePlacement:function(){this.currentPlacement="horizontal"===this.mode&&this.isFirstLevel?"bottom-start":"right-start"},initPopper:function(){this.referenceElm=this.$el,this.popperElm=this.$refs.menu,this.updatePlacement()}},created:function(){var e=this;this.$on("toggle-collapse",this.handleCollapseToggle),this.$on("mouse-enter-child",(function(){e.mouseInChild=!0,clearTimeout(e.timeout)})),this.$on("mouse-leave-child",(function(){e.mouseInChild=!1,clearTimeout(e.timeout)}))},mounted:function(){this.parentMenu.addSubmenu(this),this.rootMenu.addSubmenu(this),this.initPopper()},beforeDestroy:function(){this.parentMenu.removeSubmenu(this),this.rootMenu.removeSubmenu(this)},render:function(e){var t=this,n=this.active,i=this.opened,r=this.paddingStyle,a=this.titleStyle,o=this.backgroundColor,s=this.rootMenu,l=this.currentPlacement,c=this.menuTransitionName,u=this.mode,h=this.disabled,d=this.popperClass,f=this.$slots,p=this.isFirstLevel;c=e("transition",{attrs:{name:c}},[e("div",{ref:"menu",directives:[{name:"show",value:i}],class:["el-menu--"+u,d],on:{mouseenter:function(e){return t.handleMouseenter(e,100)},mouseleave:function(){return t.handleMouseleave(!0)},focus:function(e){return t.handleMouseenter(e,100)}}},[e("ul",{attrs:{role:"menu"},class:["el-menu el-menu--popup","el-menu--popup-"+l],style:{backgroundColor:s.backgroundColor||""}},[f.default])])]),u=e("el-collapse-transition",[e("ul",{attrs:{role:"menu"},class:"el-menu el-menu--inline",directives:[{name:"show",value:i}],style:{backgroundColor:s.backgroundColor||""}},[f.default])]),d="horizontal"===s.mode&&p||"vertical"===s.mode&&!s.collapse?"el-icon-arrow-down":"el-icon-arrow-right";return e("li",{class:{"el-submenu":!0,"is-active":n,"is-opened":i,"is-disabled":h},attrs:{role:"menuitem","aria-haspopup":"true","aria-expanded":i},on:{mouseenter:this.handleMouseenter,mouseleave:function(){return t.handleMouseleave(!1)},focus:this.handleMouseenter}},[e("div",{class:"el-submenu__title",ref:"submenu-title",on:{click:this.handleClick,mouseenter:this.handleTitleMouseenter,mouseleave:this.handleTitleMouseleave},style:[r,a,{backgroundColor:o}]},[f.title,e("i",{class:["el-submenu__icon-arrow",d]})]),this.isMenuPopup?c:u])}},void 0,void 0,!1,null,null,null)).options.__file="packages/menu/src/submenu.vue";var $t=Zt.exports,Zt=($t.install=function(e){e.component($t.name,$t)},$t),Qt=(kt._withStripped=!0,{name:"ElTooltip",mixins:[Te],props:{openDelay:{type:Number,default:0},disabled:Boolean,manual:Boolean,effect:{type:String,default:"dark"},arrowOffset:{type:Number,default:0},popperClass:String,content:String,visibleArrow:{default:!0},transition:{type:String,default:"el-fade-in-linear"},popperOptions:{default:function(){return{boundariesPadding:10,gpuAcceleration:!1}}},enterable:{type:Boolean,default:!0},hideAfter:{type:Number,default:0},tabindex:{type:Number,default:0}},data:function(){return{tooltipId:"el-tooltip-"+M(),timeoutPending:null,focusing:!1}},beforeCreate:function(){var e=this;this.$isServer||(this.popperVM=new u.a({data:{node:""},render:function(e){return this.node}}).$mount(),this.debounceClose=He()(200,(function(){return e.handleClosePopper()})))},render:function(e){var t,n=this;return(e=(this.popperVM&&(this.popperVM.node=e("transition",{attrs:{name:this.transition},on:{afterLeave:this.doDestroy}},[e("div",{on:{mouseleave:function(){n.setExpectedState(!1),n.debounceClose()},mouseenter:function(){n.setExpectedState(!0)}},ref:"popper",attrs:{role:"tooltip",id:this.tooltipId,"aria-hidden":this.disabled||!this.showPopper?"true":"false"},directives:[{name:"show",value:!this.disabled&&this.showPopper}],class:["el-tooltip__popper","is-"+this.effect,this.popperClass]},[this.$slots.content||this.content])])),this.getFirstElement()))?((t=e.data=e.data||{}).staticClass=this.addTooltipClass(t.staticClass),e):null},mounted:function(){var e=this;this.referenceElm=this.$el,1===this.$el.nodeType&&(this.$el.setAttribute("aria-describedby",this.tooltipId),this.$el.setAttribute("tabindex",this.tabindex),ne(this.referenceElm,"mouseenter",this.show),ne(this.referenceElm,"mouseleave",this.hide),ne(this.referenceElm,"focus",(function(){var t;e.$slots.default&&e.$slots.default.length&&(t=e.$slots.default[0].componentInstance)&&t.focus?t.focus():e.handleFocus()})),ne(this.referenceElm,"blur",this.handleBlur),ne(this.referenceElm,"click",this.removeFocusing)),this.value&&this.popperVM&&this.popperVM.$nextTick((function(){e.value&&e.updatePopper()}))},watch:{focusing:function(e){(e?ae:oe)(this.referenceElm,"focusing")}},methods:{show:function(){this.setExpectedState(!0),this.handleShowPopper()},hide:function(){this.setExpectedState(!1),this.debounceClose()},handleFocus:function(){this.focusing=!0,this.show()},handleBlur:function(){this.focusing=!1,this.hide()},removeFocusing:function(){this.focusing=!1},addTooltipClass:function(e){return e?"el-tooltip "+e.replace("el-tooltip",""):"el-tooltip"},handleShowPopper:function(){var e=this;this.expectedState&&!this.manual&&(clearTimeout(this.timeout),this.timeout=setTimeout((function(){e.showPopper=!0}),this.openDelay),0<this.hideAfter)&&(this.timeoutPending=setTimeout((function(){e.showPopper=!1}),this.hideAfter))},handleClosePopper:function(){this.enterable&&this.expectedState||this.manual||(clearTimeout(this.timeout),this.timeoutPending&&clearTimeout(this.timeoutPending),this.showPopper=!1,this.disabled&&this.doDestroy())},setExpectedState:function(e){!1===e&&clearTimeout(this.timeoutPending),this.expectedState=e},getFirstElement:function(){var e=this.$slots.default;if(!Array.isArray(e))return null;for(var t=null,n=0;n<e.length;n++)if(e[n]&&e[n].tag){t=e[n];break}return t}},beforeDestroy:function(){this.popperVM&&this.popperVM.$destroy()},destroyed:function(){var e=this.referenceElm;1===e.nodeType&&(ie(e,"mouseenter",this.show),ie(e,"mouseleave",this.hide),ie(e,"focus",this.handleFocus),ie(e,"blur",this.handleBlur),ie(e,"click",this.removeFocusing))},install:function(e){e.component(Qt.name,Qt)}}),Kt=Qt,Jt=((Lt=r({name:"ElMenuItem",componentName:"ElMenuItem",mixins:[Lt,l],components:{ElTooltip:Kt},props:{index:{default:null,validator:function(e){return"string"==typeof e||null===e}},route:[String,Object],disabled:Boolean},computed:{active:function(){return this.index===this.rootMenu.activeIndex},hoverBackground:function(){return this.rootMenu.hoverBackground},backgroundColor:function(){return this.rootMenu.backgroundColor||""},activeTextColor:function(){return this.rootMenu.activeTextColor||""},textColor:function(){return this.rootMenu.textColor||""},mode:function(){return this.rootMenu.mode},itemStyle:function(){var e={color:this.active?this.activeTextColor:this.textColor};return"horizontal"!==this.mode||this.isNested||(e.borderBottomColor=this.active?this.rootMenu.activeTextColor?this.activeTextColor:"":"transparent"),e},isNested:function(){return this.parentMenu!==this.rootMenu}},methods:{onMouseEnter:function(){"horizontal"===this.mode&&!this.rootMenu.backgroundColor||(this.$el.style.backgroundColor=this.hoverBackground)},onMouseLeave:function(){"horizontal"===this.mode&&!this.rootMenu.backgroundColor||(this.$el.style.backgroundColor=this.backgroundColor)},handleClick:function(){this.disabled||(this.dispatch("ElMenu","item-click",this),this.$emit("click",this))}},mounted:function(){this.parentMenu.addItem(this),this.rootMenu.addItem(this)},beforeDestroy:function(){this.parentMenu.removeItem(this),this.rootMenu.removeItem(this)}},kt,[],!1,null,null,null)).options.__file="packages/menu/src/menu-item.vue",Lt.exports),en=(Lt=(Jt.install=function(e){e.component(Jt.name,Jt)},Jt),(tn=(Dt._withStripped=!0,r({name:"ElMenuItemGroup",componentName:"ElMenuItemGroup",inject:["rootMenu"],props:{title:{type:String}},data:function(){return{paddingLeft:20}},computed:{levelPadding:function(){var e=20,t=this.$parent;if(this.rootMenu.collapse)return 20;for(;t&&"ElMenu"!==t.$options.componentName;)"ElSubmenu"===t.$options.componentName&&(e+=20),t=t.$parent;return e}}},Dt,[],!1,null,null,null))).options.__file="packages/menu/src/menu-item-group.vue",tn.exports),tn=(en.install=function(e){e.component(en.name,en)},en),nn=(It._withStripped=!0,{bind:function(e,t,n){function i(){return n.context[t.expression].apply()}function r(){Date.now()-a<100&&i(),clearInterval(o),o=null}var a,o=null;ne(e,"mousedown",(function(e){var t,n;0===e.button&&(a=Date.now(),t=document,n=r,ne(t,"mouseup",(function e(){n&&n.apply(this,arguments),ie(t,"mouseup",e)})),clearInterval(o),o=setInterval(i,100))}))}}),rn=((an=r({name:"ElInputNumber",mixins:[o("input")],inject:{elForm:{default:""},elFormItem:{default:""}},directives:{repeatClick:nn},components:{ElInput:Q},props:{step:{type:Number,default:1},stepStrictly:{type:Boolean,default:!1},max:{type:Number,default:1/0},min:{type:Number,default:-1/0},value:{},disabled:Boolean,size:String,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:""},name:String,label:String,placeholder:String,precision:{type:Number,validator:function(e){return 0<=e&&e===parseInt(e,10)}}},data:function(){return{currentValue:0,userInput:null}},watch:{value:{immediate:!0,handler:function(e){var t;if(void 0!==(e=void 0===e?e:Number(e))){if(isNaN(e))return;this.stepStrictly&&(t=this.getPrecision(this.step),t=Math.pow(10,t),e=Math.round(e/this.step)*t*this.step/t),void 0!==this.precision&&(e=this.toPrecision(e,this.precision))}(e=e>=this.max?this.max:e)<=this.min&&(e=this.min),this.currentValue=e,this.userInput=null,this.$emit("input",e)}}},computed:{minDisabled:function(){return this._decrease(this.value,this.step)<this.min},maxDisabled:function(){return this._increase(this.value,this.step)>this.max},numPrecision:function(){var e=this.value,t=this.step,n=this.getPrecision,i=this.precision;t=n(t);return void 0!==i?(i<t&&console.warn("[Element Warn][InputNumber]precision should not be less than the decimal places of step"),i):Math.max(n(e),t)},controlsAtRight:function(){return this.controls&&"right"===this.controlsPosition},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},inputNumberSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},inputNumberDisabled:function(){return this.disabled||!!(this.elForm||{}).disabled},displayValue:function(){var e,t;return null!==this.userInput?this.userInput:"number"==typeof(t=this.currentValue)&&(this.stepStrictly&&(e=this.getPrecision(this.step),e=Math.pow(10,e),t=Math.round(t/this.step)*e*this.step/e),void 0!==this.precision)?t.toFixed(this.precision):t}},methods:{toPrecision:function(e,t){return void 0===t&&(t=this.numPrecision),parseFloat(Math.round(e*Math.pow(10,t))/Math.pow(10,t))},getPrecision:function(e){var t;return void 0===e?0:(0,-1!==(t=(e=e.toString()).indexOf("."))?e.length-t-1:0)},_increase:function(e,t){var n;return"number"!=typeof e&&void 0!==e?this.currentValue:(n=Math.pow(10,this.numPrecision),this.toPrecision((n*e+n*t)/n))},_decrease:function(e,t){var n;return"number"!=typeof e&&void 0!==e?this.currentValue:(n=Math.pow(10,this.numPrecision),this.toPrecision((n*e-n*t)/n))},increase:function(){var e;this.inputNumberDisabled||this.maxDisabled||(e=this.value||0,e=this._increase(e,this.step),this.setCurrentValue(e))},decrease:function(){var e;this.inputNumberDisabled||this.minDisabled||(e=this.value||0,e=this._decrease(e,this.step),this.setCurrentValue(e))},handleBlur:function(e){this.$emit("blur",e)},handleFocus:function(e){this.$emit("focus",e)},setCurrentValue:function(e){var t=this.currentValue;t!==(e=(e=(e="number"==typeof e&&void 0!==this.precision?this.toPrecision(e,this.precision):e)>=this.max?this.max:e)<=this.min?this.min:e)&&(this.userInput=null,this.$emit("input",e),this.$emit("change",e,t),this.currentValue=e)},handleInput:function(e){this.userInput=e},handleInputChange:function(e){var t=""===e?void 0:Number(e);isNaN(t)&&""!==e||this.setCurrentValue(t),this.userInput=null},select:function(){this.$refs.input.select()}},mounted:function(){var e=this.$refs.input.$refs.input;e.setAttribute("role","spinbutton"),e.setAttribute("aria-valuemax",this.max),e.setAttribute("aria-valuemin",this.min),e.setAttribute("aria-valuenow",this.currentValue),e.setAttribute("aria-disabled",this.inputNumberDisabled)},updated:function(){this.$refs&&this.$refs.input&&this.$refs.input.$refs.input.setAttribute("aria-valuenow",this.currentValue)}},It,[],!1,null,null,null)).options.__file="packages/input-number/src/input-number.vue",an.exports),an=(rn.install=function(e){e.component(rn.name,rn)},rn),on=((sn=(Rt._withStripped=!0,r({name:"ElRadio",mixins:[l],inject:{elForm:{default:""},elFormItem:{default:""}},componentName:"ElRadio",props:{value:{},label:{},disabled:Boolean,name:String,border:Boolean,size:String},data:function(){return{focus:!1}},computed:{isGroup:function(){for(var e=this.$parent;e;){if("ElRadioGroup"===e.$options.componentName)return this._radioGroup=e,!0;e=e.$parent}return!1},model:{get:function(){return(this.isGroup?this._radioGroup:this).value},set:function(e){this.isGroup?this.dispatch("ElRadioGroup","input",[e]):this.$emit("input",e),this.$refs.radio&&(this.$refs.radio.checked=this.model===this.label)}},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},radioSize:function(){var e=this.size||this._elFormItemSize||(this.$ELEMENT||{}).size;return this.isGroup&&this._radioGroup.radioGroupSize||e},isDisabled:function(){return this.isGroup?this._radioGroup.disabled||this.disabled||(this.elForm||{}).disabled:this.disabled||(this.elForm||{}).disabled},tabIndex:function(){return this.isDisabled||this.isGroup&&this.model!==this.label?-1:0}},methods:{handleChange:function(){var e=this;this.$nextTick((function(){e.$emit("change",e.model),e.isGroup&&e.dispatch("ElRadioGroup","handleChange",e.model)}))}}},Rt,[],!1,null,null,null))).options.__file="packages/radio/src/radio.vue",sn.exports),sn=(on.install=function(e){e.component(on.name,on)},on),ln=(Nt._withStripped=!0,Object.freeze({LEFT:37,UP:38,RIGHT:39,DOWN:40})),cn=((un=r({name:"ElRadioGroup",componentName:"ElRadioGroup",inject:{elFormItem:{default:""}},mixins:[l],props:{value:{},size:String,fill:String,textColor:String,disabled:Boolean},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},_elTag:function(){var e=(this.$vnode.data||{}).tag;return e&&"component"!==e?e:"div"},radioGroupSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size}},created:function(){var e=this;this.$on("handleChange",(function(t){e.$emit("change",t)}))},mounted:function(){var e=this.$el.querySelectorAll("[type=radio]"),t=this.$el.querySelectorAll("[role=radio]")[0];![].some.call(e,(function(e){return e.checked}))&&t&&(t.tabIndex=0)},methods:{handleKeydown:function(e){var t=e.target,n="INPUT"===t.nodeName?"[type=radio]":"[role=radio]",i=(n=this.$el.querySelectorAll(n)).length,r=[].indexOf.call(n,t),a=this.$el.querySelectorAll("[role=radio]");switch(e.keyCode){case ln.LEFT:case ln.UP:e.stopPropagation(),e.preventDefault(),(0===r?(a[i-1].click(),a[i-1]):(a[r-1].click(),a[r-1])).focus();break;case ln.RIGHT:case ln.DOWN:(r===i-1?(e.stopPropagation(),e.preventDefault(),a[0].click(),a[0]):(a[r+1].click(),a[r+1])).focus()}}},watch:{value:function(e){this.dispatch("ElFormItem","el.form.change",[this.value])}}},Nt,[],!1,null,null,null)).options.__file="packages/radio/src/radio-group.vue",un.exports),un=(cn.install=function(e){e.component(cn.name,cn)},cn),hn=((dn=(Ot._withStripped=!0,r({name:"ElRadioButton",mixins:[l],inject:{elForm:{default:""},elFormItem:{default:""}},props:{label:{},disabled:Boolean,name:String},data:function(){return{focus:!1}},computed:{value:{get:function(){return this._radioGroup.value},set:function(e){this._radioGroup.$emit("input",e)}},_radioGroup:function(){for(var e=this.$parent;e;){if("ElRadioGroup"===e.$options.componentName)return e;e=e.$parent}return!1},activeStyle:function(){return{backgroundColor:this._radioGroup.fill||"",borderColor:this._radioGroup.fill||"",boxShadow:this._radioGroup.fill?"-1px 0 0 0 "+this._radioGroup.fill:"",color:this._radioGroup.textColor||""}},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},size:function(){return this._radioGroup.radioGroupSize||this._elFormItemSize||(this.$ELEMENT||{}).size},isDisabled:function(){return this.disabled||this._radioGroup.disabled||(this.elForm||{}).disabled},tabIndex:function(){return this.isDisabled||this._radioGroup&&this.value!==this.label?-1:0}},methods:{handleChange:function(){var e=this;this.$nextTick((function(){e.dispatch("ElRadioGroup","handleChange",e.value)}))}}},Ot,[],!1,null,null,null))).options.__file="packages/radio/src/radio-button.vue",dn.exports),dn=(hn.install=function(e){e.component(hn.name,hn)},hn),fn=((pn=(Ft._withStripped=!0,r({name:"ElCheckbox",mixins:[l],inject:{elForm:{default:""},elFormItem:{default:""}},componentName:"ElCheckbox",data:function(){return{selfModel:!1,focus:!1,isLimitExceeded:!1}},computed:{model:{get:function(){return this.isGroup?this.store:void 0!==this.value?this.value:this.selfModel},set:function(e){this.isGroup?(this.isLimitExceeded=!1,void 0!==this._checkboxGroup.min&&e.length<this._checkboxGroup.min&&(this.isLimitExceeded=!0),void 0!==this._checkboxGroup.max&&e.length>this._checkboxGroup.max&&(this.isLimitExceeded=!0),!1===this.isLimitExceeded&&this.dispatch("ElCheckboxGroup","input",[e])):(this.$emit("input",e),this.selfModel=e)}},isChecked:function(){return"[object Boolean]"==={}.toString.call(this.model)?this.model:Array.isArray(this.model)?-1<this.model.indexOf(this.label):null!==this.model&&void 0!==this.model?this.model===this.trueLabel:void 0},isGroup:function(){for(var e=this.$parent;e;){if("ElCheckboxGroup"===e.$options.componentName)return this._checkboxGroup=e,!0;e=e.$parent}return!1},store:function(){return(this._checkboxGroup||this).value},isLimitDisabled:function(){var e=(t=this._checkboxGroup).max,t=t.min;return!(!e&&!t)&&this.model.length>=e&&!this.isChecked||this.model.length<=t&&this.isChecked},isDisabled:function(){return this.isGroup?this._checkboxGroup.disabled||this.disabled||(this.elForm||{}).disabled||this.isLimitDisabled:this.disabled||(this.elForm||{}).disabled},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},checkboxSize:function(){var e=this.size||this._elFormItemSize||(this.$ELEMENT||{}).size;return this.isGroup&&this._checkboxGroup.checkboxGroupSize||e}},props:{value:{},label:{},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:String,trueLabel:[String,Number],falseLabel:[String,Number],id:String,controls:String,border:Boolean,size:String},methods:{addToStore:function(){Array.isArray(this.model)&&-1===this.model.indexOf(this.label)?this.model.push(this.label):this.model=this.trueLabel||!0},handleChange:function(e){var t,n=this;this.isLimitExceeded||(void 0,t=e.target.checked?void 0===this.trueLabel||this.trueLabel:void 0!==this.falseLabel&&this.falseLabel,this.$emit("change",t,e),this.$nextTick((function(){n.isGroup&&n.dispatch("ElCheckboxGroup","change",[n._checkboxGroup.value])})))}},created:function(){this.checked&&this.addToStore()},mounted:function(){this.indeterminate&&this.$el.setAttribute("aria-controls",this.controls)},watch:{value:function(e){this.dispatch("ElFormItem","el.form.change",e)}}},Ft,[],!1,null,null,null))).options.__file="packages/checkbox/src/checkbox.vue",pn.exports),pn=(fn.install=function(e){e.component(fn.name,fn)},fn),mn=((vn=(zt._withStripped=!0,r({name:"ElCheckboxButton",mixins:[l],inject:{elForm:{default:""},elFormItem:{default:""}},data:function(){return{selfModel:!1,focus:!1,isLimitExceeded:!1}},props:{value:{},label:{},disabled:Boolean,checked:Boolean,name:String,trueLabel:[String,Number],falseLabel:[String,Number]},computed:{model:{get:function(){return this._checkboxGroup?this.store:void 0!==this.value?this.value:this.selfModel},set:function(e){this._checkboxGroup?(this.isLimitExceeded=!1,void 0!==this._checkboxGroup.min&&e.length<this._checkboxGroup.min&&(this.isLimitExceeded=!0),void 0!==this._checkboxGroup.max&&e.length>this._checkboxGroup.max&&(this.isLimitExceeded=!0),!1===this.isLimitExceeded&&this.dispatch("ElCheckboxGroup","input",[e])):void 0!==this.value?this.$emit("input",e):this.selfModel=e}},isChecked:function(){return"[object Boolean]"==={}.toString.call(this.model)?this.model:Array.isArray(this.model)?-1<this.model.indexOf(this.label):null!==this.model&&void 0!==this.model?this.model===this.trueLabel:void 0},_checkboxGroup:function(){for(var e=this.$parent;e;){if("ElCheckboxGroup"===e.$options.componentName)return e;e=e.$parent}return!1},store:function(){return(this._checkboxGroup||this).value},activeStyle:function(){return{backgroundColor:this._checkboxGroup.fill||"",borderColor:this._checkboxGroup.fill||"",color:this._checkboxGroup.textColor||"","box-shadow":"-1px 0 0 0 "+this._checkboxGroup.fill}},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},size:function(){return this._checkboxGroup.checkboxGroupSize||this._elFormItemSize||(this.$ELEMENT||{}).size},isLimitDisabled:function(){var e=(t=this._checkboxGroup).max,t=t.min;return!(!e&&!t)&&this.model.length>=e&&!this.isChecked||this.model.length<=t&&this.isChecked},isDisabled:function(){return this._checkboxGroup?this._checkboxGroup.disabled||this.disabled||(this.elForm||{}).disabled||this.isLimitDisabled:this.disabled||(this.elForm||{}).disabled}},methods:{addToStore:function(){Array.isArray(this.model)&&-1===this.model.indexOf(this.label)?this.model.push(this.label):this.model=this.trueLabel||!0},handleChange:function(e){var t,n=this;this.isLimitExceeded||(void 0,t=e.target.checked?void 0===this.trueLabel||this.trueLabel:void 0!==this.falseLabel&&this.falseLabel,this.$emit("change",t,e),this.$nextTick((function(){n._checkboxGroup&&n.dispatch("ElCheckboxGroup","change",[n._checkboxGroup.value])})))}},created:function(){this.checked&&this.addToStore()}},zt,[],!1,null,null,null))).options.__file="packages/checkbox/src/checkbox-button.vue",vn.exports),vn=(mn.install=function(e){e.component(mn.name,mn)},mn),gn=((yn=(Bt._withStripped=!0,r({name:"ElCheckboxGroup",componentName:"ElCheckboxGroup",mixins:[l],inject:{elFormItem:{default:""}},props:{value:{},disabled:Boolean,min:Number,max:Number,size:String,fill:String,textColor:String},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},checkboxGroupSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size}},watch:{value:function(e){this.dispatch("ElFormItem","el.form.change",[e])}}},Bt,[],!1,null,null,null))).options.__file="packages/checkbox/src/checkbox-group.vue",yn.exports),yn=(gn.install=function(e){e.component(gn.name,gn)},gn),xn=((bn=(Ht._withStripped=!0,r({name:"ElSwitch",mixins:[o("input"),Gl,l],inject:{elForm:{default:""}},props:{value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:Number,default:40},activeIconClass:{type:String,default:""},inactiveIconClass:{type:String,default:""},activeText:String,inactiveText:String,activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String},data:function(){return{coreWidth:this.width}},created:function(){~[this.activeValue,this.inactiveValue].indexOf(this.value)||this.$emit("input",this.inactiveValue)},computed:{checked:function(){return this.value===this.activeValue},switchDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},watch:{checked:function(){this.$refs.input.checked=this.checked,(this.activeColor||this.inactiveColor)&&this.setBackgroundColor(),this.validateEvent&&this.dispatch("ElFormItem","el.form.change",[this.value])}},methods:{handleChange:function(e){var t=this,n=this.checked?this.inactiveValue:this.activeValue;this.$emit("input",n),this.$emit("change",n),this.$nextTick((function(){t.$refs.input&&(t.$refs.input.checked=t.checked)}))},setBackgroundColor:function(){var e=this.checked?this.activeColor:this.inactiveColor;this.$refs.core.style.borderColor=e,this.$refs.core.style.backgroundColor=e},switchValue:function(){this.switchDisabled||this.handleChange()},getMigratingConfig:function(){return{props:{"on-color":"on-color is renamed to active-color.","off-color":"off-color is renamed to inactive-color.","on-text":"on-text is renamed to active-text.","off-text":"off-text is renamed to inactive-text.","on-value":"on-value is renamed to active-value.","off-value":"off-value is renamed to inactive-value.","on-icon-class":"on-icon-class is renamed to active-icon-class.","off-icon-class":"off-icon-class is renamed to inactive-icon-class."}}}},mounted:function(){this.coreWidth=this.width||40,(this.activeColor||this.inactiveColor)&&this.setBackgroundColor(),this.$refs.input.checked=this.checked}},Ht,[],!1,null,null,null))).options.__file="packages/switch/src/component.vue",bn.exports),bn=(xn.install=function(e){e.component(xn.name,xn)},xn),wn=((_n=(Ut._withStripped=!0,r({mixins:[l],name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:{type:Boolean,default:!1}},data:function(){return{visible:!0}},watch:{disabled:function(e){this.broadcast("ElOption","handleGroupDisabled",e)}},methods:{queryChange:function(){this.visible=this.$children&&Array.isArray(this.$children)&&this.$children.some((function(e){return!0===e.visible}))}},created:function(){this.$on("queryChange",this.queryChange)},mounted:function(){this.disabled&&this.broadcast("ElOption","handleGroupDisabled",this.disabled)}},Ut,[],!1,null,null,null))).options.__file="packages/select/src/option-group.vue",_n.exports),_n=(wn.install=function(e){e.component(wn.name,wn)},wn),Mn=(Vt._withStripped=!0,n(50)),Sn=n.n(Mn),En="undefined"!=typeof navigator&&-1<navigator.userAgent.toLowerCase().indexOf("firefox"),Tn=(Mn={bind:function(e,t){var n=t.value;e&&e.addEventListener&&e.addEventListener(En?"DOMMouseScroll":"mousewheel",(function(e){var t=Sn()(e);n&&n.apply(this,[e,t])}))}},"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e});function Cn(e){return void 0!==e&&(e=parseInt(e,10),isNaN(e))?null:e}function An(e){return"number"==typeof e?e:"string"==typeof e?/^\d+(?:px)?$/.test(e)?parseInt(e,10):e:null}function Ln(e,t,n){function i(){e.push(t),a=!0}function r(){e.splice(o,1),a=!0}var a=!1,o=e.indexOf(t),s=-1!==o;return"boolean"==typeof n?n&&!s?i():!n&&s&&r():(s?r:i)(),a}function Pn(e){var t=[];return e.forEach((function(e){e.children?t.push.apply(t,Pn(e.children)):t.push(e)})),t}var kn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Dn=((On=u.a.extend({data:function(){return{states:{rowKey:null,data:[],isComplex:!1,_columns:[],originColumns:[],columns:[],fixedColumns:[],rightFixedColumns:[],leafColumns:[],fixedLeafColumns:[],rightFixedLeafColumns:[],leafColumnsLength:0,fixedLeafColumnsLength:0,rightFixedLeafColumnsLength:0,isAllSelected:!1,selection:[],reserveSelection:!1,selectOnIndeterminate:!1,selectable:null,filters:{},filteredData:null,sortingColumn:null,sortProp:null,sortOrder:null,hoverRow:null}}},mixins:[{data:function(){return{states:{defaultExpandAll:!1,expandRows:[]}}},methods:{updateExpandRows:function(){var e,t=void 0===(t=(r=this.states).data)?[]:t,n=r.rowKey,i=r.defaultExpandAll,r=r.expandRows;i?this.states.expandRows=t.slice():n?(e=Yt(r,n),this.states.expandRows=t.reduce((function(t,i){var r=qt(i,n);return e[r]&&t.push(i),t}),[])):this.states.expandRows=[]},toggleRowExpansion:function(e,t){Ln(this.states.expandRows,e,t)&&(this.table.$emit("expand-change",e,this.states.expandRows.slice()),this.scheduleLayout())},setExpandRowKeys:function(e){this.assertRowKey();var t,n=Yt((t=this.states).data,t=t.rowKey);this.states.expandRows=e.reduce((function(e,t){return(t=n[t])&&e.push(t.row),e}),[])},isRowExpanded:function(e){var t,n=void 0===(n=(t=this.states).expandRows)?[]:n;return(t=t.rowKey)?!!Yt(n,t)[qt(e,t)]:-1!==n.indexOf(e)}}},{data:function(){return{states:{_currentRowKey:null,currentRow:null}}},methods:{setCurrentRowKey:function(e){this.assertRowKey(),this.states._currentRowKey=e,this.setCurrentRowByKey(e)},restoreCurrentRowKey:function(){this.states._currentRowKey=null},setCurrentRowByKey:function(e){var t=this.states,n=t.data,i=t.rowKey,r=null;i&&(r=T(void 0===n?[]:n,(function(t){return qt(t,i)===e}))),t.currentRow=r},updateCurrentRow:function(e){var t=this.states,n=this.table,i=t.currentRow;e&&e!==i?(t.currentRow=e,n.$emit("current-change",e,i)):!e&&i&&(t.currentRow=null,n.$emit("current-change",null,i))},updateCurrentRowData:function(){var e=this.states,t=this.table,n=e.rowKey,i=e._currentRowKey,r=e.data||[],a=e.currentRow;-1===r.indexOf(a)&&a?(n?(r=qt(a,n),this.setCurrentRowByKey(r)):e.currentRow=null,null===e.currentRow&&t.$emit("current-change",null,a)):i&&(this.setCurrentRowByKey(i),this.restoreCurrentRowKey())}}},{data:function(){return{states:{expandRowKeys:[],treeData:{},indent:16,lazy:!1,lazyTreeNodeMap:{},lazyColumnIdentifier:"hasChildren",childrenColumnName:"children"}}},computed:{normalizedData:function(){var e;return this.states.rowKey?(e=this.states.data||[],this.normalize(e)):{}},normalizedLazyNode:function(){var e=(i=this.states).rowKey,t=i.lazyTreeNodeMap,n=i.lazyColumnIdentifier,i=Object.keys(t),r={};return i.length&&i.forEach((function(i){var a;t[i].length&&(a={children:[]},t[i].forEach((function(t){var i=qt(t,e);a.children.push(i),t[n]&&!r[i]&&(r[i]={children:[]})})),r[i]=a)})),r}},watch:{normalizedData:"updateTreeData",normalizedLazyNode:"updateTreeData"},methods:{normalize:function(e){var t=this.states,n=t.childrenColumnName,i=t.lazyColumnIdentifier,r=t.rowKey,a=t.lazy,o={};return function(e,t,n,i){function r(e){return!(Array.isArray(e)&&e.length)}var a=2<arguments.length&&void 0!==n?n:"children",o=3<arguments.length&&void 0!==i?i:"hasChildren";e.forEach((function(e){var n;e[o]?t(e,null,0):r(n=e[a])||function e(n,i,s){t(n,i,s),i.forEach((function(n){var i;n[o]?t(n,null,s+1):r(i=n[a])||e(n,i,s+1)}))}(e,n,0)}))}(e,(function(e,t,n){e=qt(e,r),Array.isArray(t)?o[e]={children:t.map((function(e){return qt(e,r)})),level:n}:a&&(o[e]={children:[],lazy:!0,level:n})}),n,i),o},updateTreeData:function(){var e,t,n,i,r,a,o=this.normalizedData,s=this.normalizedLazyNode,l=Object.keys(o),c={};l.length&&(i=this.states,e=i.treeData,t=i.defaultExpandAll,n=i.expandRowKeys,i=i.lazy,r=[],a=function(e,i){return i=t||n&&-1!==n.indexOf(i),!!(e&&e.expanded||i)},l.forEach((function(t){var n,i=e[t],s=kn({},o[t]);s.expanded=a(i,t),s.lazy&&(n=(i=i||{}).loaded,i=void 0!==(i=i.loading)&&i,s.loaded=!(void 0===n||!n),s.loading=!!i,r.push(t)),c[t]=s})),l=Object.keys(s),i)&&l.length&&r.length&&l.forEach((function(t){var n=e[t],i=s[t].children;if(-1!==r.indexOf(t)){if(0!==c[t].children.length)throw new Error("[ElTable]children must be an empty array.");c[t].children=i}else{var o=(l=n||{}).loaded,l=l.loading;c[t]={lazy:!0,loaded:!(void 0===o||!o),loading:!(void 0===l||!l),expanded:a(n,t),children:i,level:""}}})),this.states.treeData=c,this.updateTableScrollY()},updateTreeExpandKeys:function(e){this.states.expandRowKeys=e,this.updateTreeData()},toggleTreeExpansion:function(e,t){this.assertRowKey();var n,i=(r=this.states).rowKey,r=r.treeData,a=(i=qt(e,i))&&r[i];i&&a&&"expanded"in a&&(n=a.expanded,t=void 0===t?!a.expanded:t,n!==(r[i].expanded=t)&&this.table.$emit("expand-change",e,t),this.updateTableScrollY())},loadOrToggle:function(e){this.assertRowKey();var t,n=(t=this.states).lazy,i=(i=t.treeData)[t=qt(e,t=t.rowKey)];n&&i&&"loaded"in i&&!i.loaded?this.loadData(e,t,i):this.toggleTreeExpansion(e)},loadData:function(e,t,n){var i=this,r=this.table.load,a=this.states.treeData;r&&!a[t].loaded&&(a[t].loading=!0,r(e,n,(function(n){if(!Array.isArray(n))throw new Error("[ElTable] data must be an array");var r,a=(r=i.states).lazyTreeNodeMap;(r=r.treeData)[t].loading=!1,r[t].loaded=!0,r[t].expanded=!0,n.length&&i.$set(a,t,n),i.table.$emit("expand-change",e,!0)})))}}}],methods:{assertRowKey:function(){if(!this.states.rowKey)throw new Error("[ElTable] prop row-key is required")},updateColumns:function(){var e=this.states,t=e._columns||[],n=(t=(e.fixedColumns=t.filter((function(e){return!0===e.fixed||"left"===e.fixed})),e.rightFixedColumns=t.filter((function(e){return"right"===e.fixed})),0<e.fixedColumns.length&&t[0]&&"selection"===t[0].type&&!t[0].fixed&&(t[0].fixed=!0,e.fixedColumns.unshift(t[0])),t.filter((function(e){return!e.fixed}))),t=(e.originColumns=[].concat(e.fixedColumns).concat(t).concat(e.rightFixedColumns),Pn(t)),Pn(e.fixedColumns)),i=Pn(e.rightFixedColumns);e.leafColumnsLength=t.length,e.fixedLeafColumnsLength=n.length,e.rightFixedLeafColumnsLength=i.length,e.columns=[].concat(n).concat(t).concat(i),e.isComplex=0<e.fixedColumns.length||0<e.rightFixedColumns.length},scheduleLayout:function(e){e&&this.updateColumns(),this.table.debouncedUpdateLayout()},isSelected:function(e){var t=this.states.selection;return-1<(void 0===t?[]:t).indexOf(e)},clearSelection:function(){var e=this.states;e.isAllSelected=!1,e.selection.length&&(e.selection=[],this.table.$emit("selection-change",[]))},cleanSelection:function(){var e=this.states,t=e.data,n=e.rowKey,i=e.selection,r=void 0;if(n){r=[];var a,o=Yt(i,n),s=Yt(t,n);for(a in o)o.hasOwnProperty(a)&&!s[a]&&r.push(o[a].row)}else r=i.filter((function(e){return-1===t.indexOf(e)}));r.length&&(n=i.filter((function(e){return-1===r.indexOf(e)})),e.selection=n,this.table.$emit("selection-change",n.slice()))},toggleRowSelection:function(e,t){var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];Ln(this.states.selection,e,t)&&(t=(this.states.selection||[]).slice(),n&&this.table.$emit("select",t,e),this.table.$emit("selection-change",t))},_toggleAllSelection:function(){var e=this.states,t=void 0===(t=e.data)?[]:t,n=e.selection,i=e.selectOnIndeterminate?!e.isAllSelected:!(e.isAllSelected||n.length),r=(e.isAllSelected=i,!1);t.forEach((function(t,a){e.selectable?e.selectable.call(null,t,a)&&Ln(n,t,i)&&(r=!0):Ln(n,t,i)&&(r=!0)})),r&&this.table.$emit("selection-change",n?n.slice():[]),this.table.$emit("select-all",n)},updateSelectionByRowKey:function(){var e=(n=this.states).selection,t=n.rowKey,n=n.data,i=Yt(e,t);n.forEach((function(n){var r=qt(n,t);(r=i[r])&&(e[r.index]=n)}))},updateAllSelected:function(){var e=this.states,t=e.selection,n=e.rowKey,i=e.selectable,r=e.data||[];if(0!==r.length){var a=void 0;n&&(a=Yt(t,n));for(var o=!0,s=0,l=0,c=r.length;l<c;l++){var u=r[l],h=i&&i.call(null,u,l);if(a?a[qt(u,n)]:-1!==t.indexOf(u))s++;else if(!i||h){o=!1;break}}e.isAllSelected=o=0!==s&&o}else e.isAllSelected=!1},updateFilters:function(e,t){Array.isArray(e)||(e=[e]);var n=this.states,i={};return e.forEach((function(e){n.filters[e.id]=t,i[e.columnKey||e.id]=t})),i},updateSort:function(e,t,n){this.states.sortingColumn&&this.states.sortingColumn!==e&&(this.states.sortingColumn.order=null),this.states.sortingColumn=e,this.states.sortProp=t,this.states.sortOrder=n},execFilter:function(){var e=this,t=this.states,n=t._data,i=t.filters,r=n;Object.keys(i).forEach((function(n){var i,a=t.filters[n];a&&0!==a.length&&(i=Wt(e.states,n))&&i.filterMethod&&(r=r.filter((function(e){return a.some((function(t){return i.filterMethod.call(null,t,e,i)}))})))})),t.filteredData=r},execSort:function(){var e=this.states;e.data=function(e,t){var n=t.sortingColumn;if(n&&"string"!=typeof n.sortable){var i=e,r=t.sortProp,a=t.sortOrder,o=n.sortMethod,s=n.sortBy;if(!r&&!o&&(!s||Array.isArray(s)&&!s.length))return i;a="string"==typeof a?"descending"===a?-1:1:a&&a<0?-1:1;var l=o?null:function(e,t){return s?(s=Array.isArray(s)?s:[s]).map((function(n){return"string"==typeof n?w(e,n):n(e,t,i)})):("$key"!==r&&jt(e)&&"$value"in e&&(e=e.$value),[jt(e)?w(e,r):e])};return i.map((function(e,t){return{value:e,index:t,key:l?l(e,t):null}})).sort((function(e,t){return(function(e,t){if(o)return o(e.value,t.value);for(var n=0,i=e.key.length;n<i;n++){if(e.key[n]<t.key[n])return-1;if(e.key[n]>t.key[n])return 1}return 0}(e,t)||e.index-t.index)*a})).map((function(e){return e.value}))}return e}(e.filteredData,e)},execQuery:function(e){e&&e.filter||this.execFilter(),this.execSort()},clearFilter:function(e){var t,n=this.states,i=(a=this.table.$refs).tableHeader,r=a.fixedTableHeader,a=a.rightFixedTableHeader,o={};(i=(i&&(o=W(o,i.filterPanels)),r&&(o=W(o,r.filterPanels)),a&&(o=W(o,a.filterPanels)),Object.keys(o))).length&&("string"==typeof e&&(e=[e]),Array.isArray(e)?(t=e.map((function(e){for(var t=n,i=e,r=null,a=0;a<t.columns.length;a++){var o=t.columns[a];if(o.columnKey===i){r=o;break}}return r})),i.forEach((function(e){t.find((function(t){return t.id===e}))&&(o[e].filteredValue=[])})),this.commit("filterChange",{column:t,values:[],silent:!0,multi:!0})):(i.forEach((function(e){o[e].filteredValue=[]})),n.filters={},this.commit("filterChange",{column:{},values:[],silent:!0})))},clearSort:function(){this.states.sortingColumn&&(this.updateSort(null,null,null),this.commit("changeSortCondition",{silent:!0}))},setExpandRowKeysAdapter:function(e){this.setExpandRowKeys(e),this.updateTreeExpandKeys(e)},toggleRowExpansionAdapter:function(e,t){this.states.columns.some((function(e){return"expand"===e.type}))?this.toggleRowExpansion(e,t):this.toggleTreeExpansion(e,t)}}})).prototype.mutations={setData:function(e,t){var n=e._data!==t;e._data=t,this.execQuery(),this.updateCurrentRowData(),this.updateExpandRows(),e.reserveSelection?(this.assertRowKey(),this.updateSelectionByRowKey()):n?this.clearSelection():this.cleanSelection(),this.updateAllSelected(),this.updateTableScrollY()},insertColumn:function(e,t,n,i){var r=e._columns;i&&(r=(r=i.children)||(i.children=[])),void 0!==n?r.splice(n,0,t):r.push(t),"selection"===t.type&&(e.selectable=t.selectable,e.reserveSelection=t.reserveSelection),this.table.$ready&&(this.updateColumns(),this.scheduleLayout())},removeColumn:function(e,t,n){e=e._columns,(e=n?(e=n.children)||(n.children=[]):e)&&e.splice(e.indexOf(t),1),this.table.$ready&&(this.updateColumns(),this.scheduleLayout())},sort:function(e,t){var n=t.prop,i=t.order;t=t.init;n&&(e=T(e.columns,(function(e){return e.property===n})))&&(e.order=i,this.updateSort(e,n,i),this.commit("changeSortCondition",{init:t}))},changeSortCondition:function(e,t){var n=e.sortingColumn,i=e.sortProp,r=e.sortOrder;null===r&&(e.sortingColumn=null,e.sortProp=null),this.execQuery({filter:!0}),t&&(t.silent||t.init)||this.table.$emit("sort-change",{column:n,prop:i,order:r}),this.updateTableScrollY()},filterChange:function(e,t){var n=t.column,i=t.values;t=t.silent,n=this.updateFilters(n,i);this.execQuery(),t||this.table.$emit("filter-change",n),this.updateTableScrollY()},toggleAllSelection:function(){this.toggleAllSelection()},rowSelectedChanged:function(e,t){this.toggleRowSelection(t),this.updateAllSelected()},setHoverRow:function(e,t){e.hoverRow=t},setCurrentRow:function(e,t){this.updateCurrentRow(t)}},On.prototype.commit=function(e){var t=this.mutations;if(!t[e])throw new Error("Action not found: "+e);for(var n=arguments.length,i=Array(1<n?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];t[e].apply(this,[this.states].concat(i))},On.prototype.updateTableScrollY=function(){u.a.nextTick(this.table.updateScrollY)},On);function In(e){var t={};return Object.keys(e).forEach((function(n){var i=e[n],r=void 0;"string"==typeof i?r=function(){return this.store.states[i]}:"function"==typeof i?r=function(){return i.call(this,this.store.states)}:console.error("invalid value type"),r&&(t[n]=r)})),t}function Rn(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"el-zoom-in-top"}},[e.multiple?n("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.handleOutsideClick,expression:"handleOutsideClick"},{name:"show",rawName:"v-show",value:e.showPopper,expression:"showPopper"}],staticClass:"el-table-filter"},[n("div",{staticClass:"el-table-filter__content"},[n("el-scrollbar",{attrs:{"wrap-class":"el-table-filter__wrap"}},[n("el-checkbox-group",{staticClass:"el-table-filter__checkbox-group",model:{value:e.filteredValue,callback:function(t){e.filteredValue=t},expression:"filteredValue"}},e._l(e.filters,(function(t){return n("el-checkbox",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.text))])})),1)],1)],1),n("div",{staticClass:"el-table-filter__bottom"},[n("button",{class:{"is-disabled":0===e.filteredValue.length},attrs:{disabled:0===e.filteredValue.length},on:{click:e.handleConfirm}},[e._v(e._s(e.t("el.table.confirmFilter")))]),n("button",{on:{click:e.handleReset}},[e._v(e._s(e.t("el.table.resetFilter")))])])]):n("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.handleOutsideClick,expression:"handleOutsideClick"},{name:"show",rawName:"v-show",value:e.showPopper,expression:"showPopper"}],staticClass:"el-table-filter"},[n("ul",{staticClass:"el-table-filter__list"},[n("li",{staticClass:"el-table-filter__list-item",class:{"is-active":void 0===e.filterValue||null===e.filterValue},on:{click:function(t){e.handleSelect(null)}}},[e._v(e._s(e.t("el.table.clearFilter")))]),e._l(e.filters,(function(t){return n("li",{key:t.value,staticClass:"el-table-filter__list-item",class:{"is-active":e.isActive(t)},attrs:{label:t.value},on:{click:function(n){e.handleSelect(t.value)}}},[e._v(e._s(t.text))])}))],2)])])}Vn.prototype.updateScrollY=function(){var e,t;return null!==this.height&&(t=this.table.bodyWrapper,!(!this.table.$el||!t))&&(t=t.querySelector(".el-table__body"),e=this.scrollY,t=t.offsetHeight>this.bodyHeight,e!==(this.scrollY=t))},Vn.prototype.setHeight=function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"height";if(!u.a.prototype.$isServer){var i=this.table.$el;if(e=An(e),this.height=e,!i&&(e||0===e))return u.a.nextTick((function(){return t.setHeight(e,n)}));"number"==typeof e?(i.style[n]=e+"px",this.updateElsHeight()):"string"==typeof e&&(i.style[n]=e,this.updateElsHeight())}},Vn.prototype.setMaxHeight=function(e){this.setHeight(e,"max-height")},Vn.prototype.getFlattenColumns=function(){var e=[];return this.table.columns.forEach((function(t){t.isColumnGroup?e.push.apply(e,t.columns):e.push(t)})),e},Vn.prototype.updateElsHeight=function(){var e=this;if(!this.table.$ready)return u.a.nextTick((function(){return e.updateElsHeight()}));var t=(i=this.table.$refs).headerWrapper,n=i.appendWrapper,i=i.footerWrapper;if(this.appendHeight=n?n.offsetHeight:0,!this.showHeader||t){n=t?t.querySelector(".el-table__header tr"):null,n=this.headerDisplayNone(n);var r=this.headerHeight=this.showHeader?t.offsetHeight:0;if(this.showHeader&&!n&&0<t.offsetWidth&&0<(this.table.columns||[]).length&&r<2)return u.a.nextTick((function(){return e.updateElsHeight()}));n=this.tableHeight=this.table.$el.clientHeight,t=this.footerHeight=i?i.offsetHeight:0,null!==this.height&&(this.bodyHeight=n-r-t+(i?1:0)),this.fixedBodyHeight=this.scrollX?this.bodyHeight-this.gutterWidth:this.bodyHeight,r=!(this.store.states.data&&this.store.states.data.length),this.viewportHeight=this.scrollX?n-(r?0:this.gutterWidth):n,this.updateScrollY(),this.notifyObservers("scrollable")}},Vn.prototype.headerDisplayNone=function(e){if(!e)return!0;for(var t=e;"DIV"!==t.tagName;){if("none"===getComputedStyle(t).display)return!0;t=t.parentElement}return!1},Vn.prototype.updateColumnsWidth=function(){var e,t,n,i,r,a,o,s,l;u.a.prototype.$isServer||(a=this.fit,e=this.table.$el.clientWidth,t=0,s=(n=this.getFlattenColumns()).filter((function(e){return"number"!=typeof e.width})),n.forEach((function(e){"number"==typeof e.width&&e.realWidth&&(e.realWidth=null)})),0<s.length&&a?(n.forEach((function(e){t+=e.width||e.minWidth||80})),a=this.scrollY?this.gutterWidth:0,t<=e-a?(this.scrollX=!1,a=e-a-t,1===s.length?s[0].realWidth=(s[0].minWidth||80)+a:(i=a/s.reduce((function(e,t){return e+(t.minWidth||80)}),0),r=0,s.forEach((function(e,t){0!==t&&(t=Math.floor((e.minWidth||80)*i),r+=t,e.realWidth=(e.minWidth||80)+t)})),s[0].realWidth=(s[0].minWidth||80)+a-r)):(this.scrollX=!0,s.forEach((function(e){e.realWidth=e.minWidth}))),this.bodyWidth=Math.max(t,e),this.table.resizeState.width=this.bodyWidth):(n.forEach((function(e){e.width||e.minWidth?e.realWidth=e.width||e.minWidth:e.realWidth=80,t+=e.realWidth})),this.scrollX=e<t,this.bodyWidth=t),0<(a=this.store.states.fixedColumns).length&&(o=0,a.forEach((function(e){o+=e.realWidth||e.width})),this.fixedWidth=o),0<(s=this.store.states.rightFixedColumns).length&&(l=0,s.forEach((function(e){l+=e.realWidth||e.width})),this.rightFixedWidth=l),this.notifyObservers("columns"))},Vn.prototype.addObserver=function(e){this.observers.push(e)},Vn.prototype.removeObserver=function(e){-1!==(e=this.observers.indexOf(e))&&this.observers.splice(e,1)},Vn.prototype.notifyObservers=function(e){var t=this;this.observers.forEach((function(n){switch(e){case"columns":n.onColumnsChange(t);break;case"scrollable":n.onScrollableChange(t);break;default:throw new Error("Table Layout don't have event "+e+".")}}))};var Nn=Vn,On={created:function(){this.tableLayout.addObserver(this)},destroyed:function(){this.tableLayout.removeObserver(this)},computed:{tableLayout:function(){var e=this.layout;if(e=!e&&this.table?this.table.layout:e)return e;throw new Error("Can not find table layout.")}},mounted:function(){this.onColumnsChange(this.tableLayout),this.onScrollableChange(this.tableLayout)},updated:function(){this.__updated__||(this.onColumnsChange(this.tableLayout),this.onScrollableChange(this.tableLayout),this.__updated__=!0)},methods:{onColumnsChange:function(e){var t=this.$el.querySelectorAll("colgroup > col");if(t.length){e=e.getFlattenColumns();var n={};e.forEach((function(e){n[e.id]=e}));for(var i=0,r=t.length;i<r;i++){var a=t[i],o=a.getAttribute("name");(o=n[o])&&a.setAttribute("width",o.realWidth||o.width)}}},onScrollableChange:function(e){for(var t=this.$el.querySelectorAll("colgroup > col[name=gutter]"),n=0,i=t.length;n<i;n++)t[n].setAttribute("width",e.scrollY?e.gutterWidth:"0");for(var r=this.$el.querySelectorAll("th.gutter"),a=0,o=r.length;a<o;a++){var s=r[a];s.style.width=e.scrollY?e.gutterWidth+"px":"0",s.style.display=e.scrollY?"":"none"}}}},Fn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},zn={name:"ElTableRow",props:["columns","row","index","isSelected","isExpanded","store","context","firstDefaultColumnIndex","treeRowData","treeIndent","columnsHidden","getSpan","getColspanRealWidth","getCellStyle","getCellClass","handleCellMouseLeave","handleCellMouseEnter","fixed"],components:{ElCheckbox:pn},render:function(){var e=this,t=arguments[0],n=this.columns,i=this.row,r=this.index,a=this.store,o=this.context,s=this.firstDefaultColumnIndex,l=this.treeRowData,c=this.treeIndent,u=this.columnsHidden,h=void 0===u?[]:u,d=this.isSelected,f=this.isExpanded;return t("tr",[n.map((function(u,p){var m,v=(g=e.getSpan(i,u,r,p)).rowspan,g=g.colspan;return v&&g?((m=Fn({},u)).realWidth=e.getColspanRealWidth(n,g,p),m={store:a,isSelected:d,isExpanded:f,_self:o,column:m,row:i,$index:r},p===s&&l&&(m.treeNode={indent:l.level*c,level:l.level},"boolean"==typeof l.expanded)&&(m.treeNode.expanded=l.expanded,"loading"in l&&(m.treeNode.loading=l.loading),"noLazyChildren"in l)&&(m.treeNode.noLazyChildren=l.noLazyChildren),t("td",{style:e.getCellStyle(r,p,i,u),class:e.getCellClass(r,p,i,u),attrs:{rowspan:v,colspan:g},on:{mouseenter:function(t){return e.handleCellMouseEnter(t,i)},mouseleave:e.handleCellMouseLeave}},[u.renderCell.call(e._renderProxy,e.$createElement,m,h[p])])):null}))])}},Bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Un={name:"ElTableBody",mixins:[On],components:{ElCheckbox:pn,ElTooltip:Kt,TableRow:zn},props:{store:{required:!0},stripe:Boolean,context:{},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:String,highlight:Boolean},render:function(e){var t=this,n=this.data||[];return e("table",{class:"el-table__body",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[e("colgroup",[this.columns.map((function(t){return e("col",{attrs:{name:t.id},key:t.id})}))]),e("tbody",[n.reduce((function(e,n){return e.concat(t.wrappedRowRender(n,e.length))}),[]),e("el-tooltip",{attrs:{effect:this.table.tooltipEffect,placement:"top",content:this.tooltipContent},ref:"tooltip"})])])},computed:Hn({table:function(){return this.$parent}},In({data:"data",columns:"columns",treeIndent:"indent",leftFixedLeafCount:"fixedLeafColumnsLength",rightFixedLeafCount:"rightFixedLeafColumnsLength",columnsCount:function(e){return e.columns.length},leftFixedCount:function(e){return e.fixedColumns.length},rightFixedCount:function(e){return e.rightFixedColumns.length},hasExpandColumn:function(e){return e.columns.some((function(e){return"expand"===e.type}))}}),{columnsHidden:function(){var e=this;return this.columns.map((function(t,n){return e.isColumnHidden(n)}))},firstDefaultColumnIndex:function(){return E(this.columns,(function(e){return"default"===e.type}))}}),watch:{"store.states.hoverRow":function(e,t){var n=this;this.store.states.isComplex&&!this.$isServer&&(window.requestAnimationFrame||function(e){return setTimeout(e,16)})((function(){var i=(r=n.$el.querySelectorAll(".el-table__row"))[t],r=r[e];i&&oe(i,"hover-row"),r&&ae(r,"hover-row")}))}},data:function(){return{tooltipContent:""}},created:function(){this.activateTooltip=He()(50,(function(e){return e.handleShowPopper()}))},methods:{getKeyOfRow:function(e,t){var n=this.table.rowKey;return n?qt(e,n):t},isColumnHidden:function(e){return!0===this.fixed||"left"===this.fixed?e>=this.leftFixedLeafCount:"right"===this.fixed?e<this.columnsCount-this.rightFixedLeafCount:e<this.leftFixedLeafCount||e>=this.columnsCount-this.rightFixedLeafCount},getSpan:function(e,t,n,i){var r=1,a=1,o=this.table.spanMethod;return"function"==typeof o&&(o=o({row:e,column:t,rowIndex:n,columnIndex:i}),Array.isArray(o)?(r=o[0],a=o[1]):"object"===(void 0===o?"undefined":Bn(o))&&(r=o.rowspan,a=o.colspan)),{rowspan:r,colspan:a}},getRowStyle:function(e,t){var n=this.table.rowStyle;return"function"==typeof n?n.call(null,{row:e,rowIndex:t}):n||null},getRowClass:function(e,t){var n=["el-table__row"],i=(this.table.highlightCurrentRow&&e===this.store.states.currentRow&&n.push("current-row"),this.stripe&&t%2==1&&n.push("el-table__row--striped"),this.table.rowClassName);return"string"==typeof i?n.push(i):"function"==typeof i&&n.push(i.call(null,{row:e,rowIndex:t})),-1<this.store.states.expandRows.indexOf(e)&&n.push("expanded"),n},getCellStyle:function(e,t,n,i){var r=this.table.cellStyle;return"function"==typeof r?r.call(null,{rowIndex:e,columnIndex:t,row:n,column:i}):r},getCellClass:function(e,t,n,i){var r=[i.id,i.align,i.className],a=(this.isColumnHidden(t)&&r.push("is-hidden"),this.table.cellClassName);return"string"==typeof a?r.push(a):"function"==typeof a&&r.push(a.call(null,{rowIndex:e,columnIndex:t,row:n,column:i})),r.push("el-table__cell"),r.join(" ")},getColspanRealWidth:function(e,t,n){return t<1?e[n].realWidth:e.map((function(e){return e.realWidth})).slice(n,n+t).reduce((function(e,t){return e+t}),-1)},handleCellMouseEnter:function(e,t){var n,i=this.table,r=Gt(e);re(t=(r&&(n=Xt(i,r),n=i.hoverState={cell:r,column:n,row:t},i.$emit("cell-mouse-enter",n.row,n.column,n.cell,e)),e.target.querySelector(".cell")),"el-tooltip")&&t.childNodes.length&&((i=document.createRange()).setStart(t,0),i.setEnd(t,t.childNodes.length),i.getBoundingClientRect().width+((parseInt(ve(t,"paddingLeft"),10)||0)+(parseInt(ve(t,"paddingRight"),10)||0))>t.offsetWidth||t.scrollWidth>t.offsetWidth)&&this.$refs.tooltip&&(n=this.$refs.tooltip,this.tooltipContent=r.innerText||r.textContent,n.referenceElm=r,n.$refs.popper&&(n.$refs.popper.style.display="none"),n.doDestroy(),n.setExpectedState(!0),this.activateTooltip(n))},handleCellMouseLeave:function(e){var t=this.$refs.tooltip;t&&(t.setExpectedState(!1),t.handleClosePopper()),Gt(e)&&(t=this.table.hoverState||{},this.table.$emit("cell-mouse-leave",t.row,t.column,t.cell,e))},handleMouseEnter:He()(30,(function(e){this.store.commit("setHoverRow",e)})),handleMouseLeave:He()(30,(function(){this.store.commit("setHoverRow",null)})),handleContextMenu:function(e,t){this.handleEvent(e,t,"contextmenu")},handleDoubleClick:function(e,t){this.handleEvent(e,t,"dblclick")},handleClick:function(e,t){this.store.commit("setCurrentRow",t),this.handleEvent(e,t,"click")},handleEvent:function(e,t,n){var i=this.table,r=Gt(e),a=void 0;r&&(a=Xt(i,r))&&i.$emit("cell-"+n,t,a,r,e),i.$emit("row-"+n,t,a,e)},rowRender:function(e,t,n){var i=this,r=this.$createElement,a=this.treeIndent,o=this.columns,s=this.firstDefaultColumnIndex,l=this.getRowClass(e,t),c=!0;return n&&(l.push("el-table__row--level-"+n.level),c=n.display),r(zn,{style:[c?null:{display:"none"},this.getRowStyle(e,t)],class:l,key:this.getKeyOfRow(e,t),nativeOn:{dblclick:function(t){return i.handleDoubleClick(t,e)},click:function(t){return i.handleClick(t,e)},contextmenu:function(t){return i.handleContextMenu(t,e)},mouseenter:function(e){return i.handleMouseEnter(t)},mouseleave:this.handleMouseLeave},attrs:{columns:o,row:e,index:t,store:this.store,context:this.context||this.table.$vnode.context,firstDefaultColumnIndex:s,treeRowData:n,treeIndent:a,columnsHidden:this.columnsHidden,getSpan:this.getSpan,getColspanRealWidth:this.getColspanRealWidth,getCellStyle:this.getCellStyle,getCellClass:this.getCellClass,handleCellMouseEnter:this.handleCellMouseEnter,handleCellMouseLeave:this.handleCellMouseLeave,isSelected:this.store.isSelected(e),isExpanded:-1<this.store.states.expandRows.indexOf(e),fixed:this.fixed}})},wrappedRowRender:function(e,t){var n,i,r,a,o=this,s=this.$createElement,l=(a=this.store).isRowExpanded,c=a.assertRowKey,u=(a=a.states).treeData,h=a.lazyTreeNodeMap,d=a.childrenColumnName,f=a.rowKey;return this.hasExpandColumn&&l(e)?(a=this.table.renderExpanded,l=this.rowRender(e,t),a?[[l,s("tr",{key:"expanded-row__"+l.key},[s("td",{attrs:{colspan:this.columnsCount},class:"el-table__cell el-table__expanded-cell"},[a(this.$createElement,{row:e,$index:t,store:this.store})])])]]:(console.error("[Element Error]renderExpanded is required."),l)):Object.keys(u).length?(c(),s=qt(e,f),a=null,(n=u[s])&&(a={expanded:n.expanded,level:n.level,display:!0},"boolean"==typeof n.lazy)&&("boolean"==typeof n.loaded&&n.loaded&&(a.noLazyChildren=!(n.children&&n.children.length)),a.loading=n.loading),i=[this.rowRender(e,t,a)],n&&(r=0,n.display=!0,function e(a,s){a&&a.length&&s&&a.forEach((function(a){var l={display:s.display&&s.expanded,level:s.level+1},c=qt(a,f);if(null==c)throw new Error("for nested data item, row-key is required.");(n=Hn({},u[c]))&&(l.expanded=n.expanded,n.level=n.level||l.level,n.display=!(!n.expanded||!l.display),"boolean"==typeof n.lazy)&&("boolean"==typeof n.loaded&&n.loaded&&(l.noLazyChildren=!(n.children&&n.children.length)),l.loading=n.loading),r++,i.push(o.rowRender(a,t+r,l)),n&&(l=h[c]||a[d],e(l,n))}))}(h[s]||e[d],n)),i):this.rowRender(e,t)}}};function Vn(e){if(!(this instanceof Vn))throw new TypeError("Cannot call a class as a function");for(var t in this.observers=[],this.table=null,this.store=null,this.columns=null,this.fit=!0,this.showHeader=!0,this.height=null,this.scrollX=!1,this.scrollY=!1,this.bodyWidth=null,this.fixedWidth=null,this.rightFixedWidth=null,this.tableHeight=null,this.headerHeight=44,this.appendHeight=0,this.footerHeight=44,this.viewportHeight=null,this.bodyHeight=null,this.fixedBodyHeight=null,this.gutterWidth=ce(),e)e.hasOwnProperty(t)&&(this[t]=e[t]);if(!this.table)throw new Error("table is required for Table Layout");if(!this.store)throw new Error("store is required for Table Layout")}Rn._withStripped=!0;var Gn=[],jn=((Wn=(u.a.prototype.$isServer||document.addEventListener("click",(function(e){Gn.forEach((function(t){var n=e.target;t&&t.$el&&(n===t.$el||t.$el.contains(n)||t.handleOutsideClick&&t.handleOutsideClick(e))}))})),r({name:"ElTableFilterPanel",mixins:[Te,c],directives:{Clickoutside:Be},components:{ElCheckbox:pn,ElCheckboxGroup:yn,ElScrollbar:ze},props:{placement:{type:String,default:"bottom-end"}},methods:{isActive:function(e){return e.value===this.filterValue},handleOutsideClick:function(){var e=this;setTimeout((function(){e.showPopper=!1}),16)},handleConfirm:function(){this.confirmFilter(this.filteredValue),this.handleOutsideClick()},handleReset:function(){this.filteredValue=[],this.confirmFilter(this.filteredValue),this.handleOutsideClick()},handleSelect:function(e){null!=(this.filterValue=e)?this.confirmFilter(this.filteredValue):this.confirmFilter([]),this.handleOutsideClick()},confirmFilter:function(e){this.table.store.commit("filterChange",{column:this.column,values:e}),this.table.store.updateAllSelected()}},data:function(){return{table:null,cell:null,column:null}},computed:{filters:function(){return this.column&&this.column.filters},filterValue:{get:function(){return(this.column.filteredValue||[])[0]},set:function(e){this.filteredValue&&(null!=e?this.filteredValue.splice(0,1,e):this.filteredValue.splice(0,1))}},filteredValue:{get:function(){return this.column&&this.column.filteredValue||[]},set:function(e){this.column&&(this.column.filteredValue=e)}},multiple:function(){return!this.column||this.column.filterMultiple}},mounted:function(){var e=this;this.popperElm=this.$el,this.referenceElm=this.cell,this.table.bodyWrapper.addEventListener("scroll",(function(){e.updatePopper()})),this.$watch("showPopper",(function(t){e.column&&(e.column.filterOpened=t),t?(t=e)&&Gn.push(t):-1!==Gn.indexOf(t=e)&&Gn.splice(t,1)}))},watch:{showPopper:function(e){!0===e&&parseInt(this.popperJS._popper.style.zIndex,10)<_e.zIndex&&(this.popperJS._popper.style.zIndex=_e.nextZIndex())}}},Rn,[],!1,null,null,null))).options.__file="packages/table/src/filter-panel.vue",Wn.exports),Wn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Xn=(Wn={name:"ElTableHeader",mixins:[On],render:function(e){var t=this,n=function(e){var t=1;e.forEach((function(e){e.level=1,function e(n,i){var r;i&&(n.level=i.level+1,t<n.level)&&(t=n.level),n.children?(r=0,n.children.forEach((function(t){e(t,n),r+=t.colSpan})),n.colSpan=r):n.colSpan=1}(e)}));for(var n=[],i=0;i<t;i++)n.push([]);return function e(t){var n=[];return t.forEach((function(t){t.children?(n.push(t),n.push.apply(n,e(t.children))):n.push(t)})),n}(e).forEach((function(e){e.children?e.rowSpan=1:e.rowSpan=t-e.level+1,n[e.level-1].push(e)})),n}(this.store.states.originColumns,this.columns),i=1<n.length;return i&&(this.$parent.isGroup=!0),e("table",{class:"el-table__header",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[e("colgroup",[this.columns.map((function(t){return e("col",{attrs:{name:t.id},key:t.id})})),this.hasGutter?e("col",{attrs:{name:"gutter"}}):""]),e("thead",{class:[{"is-group":i,"has-gutter":this.hasGutter}]},[this._l(n,(function(n,i){return e("tr",{style:t.getHeaderRowStyle(i),class:t.getHeaderRowClass(i)},[n.map((function(r,a){return e("th",{attrs:{colspan:r.colSpan,rowspan:r.rowSpan},on:{mousemove:function(e){return t.handleMouseMove(e,r)},mouseout:t.handleMouseOut,mousedown:function(e){return t.handleMouseDown(e,r)},click:function(e){return t.handleHeaderClick(e,r)},contextmenu:function(e){return t.handleHeaderContextMenu(e,r)}},style:t.getHeaderCellStyle(i,a,n,r),class:t.getHeaderCellClass(i,a,n,r),key:r.id},[e("div",{class:["cell",r.filteredValue&&0<r.filteredValue.length?"highlight":"",r.labelClassName]},[r.renderHeader?r.renderHeader.call(t._renderProxy,e,{column:r,$index:a,store:t.store,_self:t.$parent.$vnode.context}):r.label,r.sortable?e("span",{class:"caret-wrapper",on:{click:function(e){return t.handleSortClick(e,r)}}},[e("i",{class:"sort-caret ascending",on:{click:function(e){return t.handleSortClick(e,r,"ascending")}}}),e("i",{class:"sort-caret descending",on:{click:function(e){return t.handleSortClick(e,r,"descending")}}})]):"",r.filterable?e("span",{class:"el-table__column-filter-trigger",on:{click:function(e){return t.handleFilterClick(e,r)}}},[e("i",{class:["el-icon-arrow-down",r.filterOpened?"el-icon-arrow-up":""]})]):""])])})),t.hasGutter?e("th",{class:"el-table__cell gutter"}):""])}))])])},props:{fixed:String,store:{required:!0},border:Boolean,defaultSort:{type:Object,default:function(){return{prop:"",order:""}}}},components:{ElCheckbox:pn},computed:Wn({table:function(){return this.$parent},hasGutter:function(){return!this.fixed&&this.tableLayout.gutterWidth}},In({columns:"columns",isAllSelected:"isAllSelected",leftFixedLeafCount:"fixedLeafColumnsLength",rightFixedLeafCount:"rightFixedLeafColumnsLength",columnsCount:function(e){return e.columns.length},leftFixedCount:function(e){return e.fixedColumns.length},rightFixedCount:function(e){return e.rightFixedColumns.length}})),created:function(){this.filterPanels={}},mounted:function(){var e=this;this.$nextTick((function(){var t=(n=e.defaultSort).prop,n=n.order;e.store.commit("sort",{prop:t,order:n,init:!0})}))},beforeDestroy:function(){var e,t=this.filterPanels;for(e in t)t.hasOwnProperty(e)&&t[e]&&t[e].$destroy(!0)},methods:{isCellHidden:function(e,t){for(var n=0,i=0;i<e;i++)n+=t[i].colSpan;var r=n+t[e].colSpan-1;return!0===this.fixed||"left"===this.fixed?r>=this.leftFixedLeafCount:"right"===this.fixed?n<this.columnsCount-this.rightFixedLeafCount:r<this.leftFixedLeafCount||n>=this.columnsCount-this.rightFixedLeafCount},getHeaderRowStyle:function(e){var t=this.table.headerRowStyle;return"function"==typeof t?t.call(null,{rowIndex:e}):t},getHeaderRowClass:function(e){var t=[],n=this.table.headerRowClassName;return"string"==typeof n?t.push(n):"function"==typeof n&&t.push(n.call(null,{rowIndex:e})),t.join(" ")},getHeaderCellStyle:function(e,t,n,i){var r=this.table.headerCellStyle;return"function"==typeof r?r.call(null,{rowIndex:e,columnIndex:t,row:n,column:i}):r},getHeaderCellClass:function(e,t,n,i){var r=[i.id,i.order,i.headerAlign,i.className,i.labelClassName],a=(0===e&&this.isCellHidden(t,n)&&r.push("is-hidden"),i.children||r.push("is-leaf"),i.sortable&&r.push("is-sortable"),this.table.headerCellClassName);return"string"==typeof a?r.push(a):"function"==typeof a&&r.push(a.call(null,{rowIndex:e,columnIndex:t,row:n,column:i})),r.push("el-table__cell"),r.join(" ")},toggleAllSelection:function(){this.store.commit("toggleAllSelection")},handleFilterClick:function(e,t){var n,i;e.stopPropagation(),re(e="TH"===(e=e.target).tagName?e:e.parentNode,"noclick")||(e=e.querySelector(".el-table__column-filter-trigger")||e,n=this.$parent,(i=this.filterPanels[t.id])&&t.filterOpened?i.showPopper=!1:(i||(i=new u.a(jn),this.filterPanels[t.id]=i,t.filterPlacement&&(i.placement=t.filterPlacement),i.table=n,i.cell=e,i.column=t,this.$isServer||i.$mount(document.createElement("div"))),setTimeout((function(){i.showPopper=!0}),16)))},handleHeaderClick:function(e,t){!t.filters&&t.sortable?this.handleSortClick(e,t):t.filterable&&!t.sortable&&this.handleFilterClick(e,t),this.$parent.$emit("header-click",t,e)},handleHeaderContextMenu:function(e,t){this.$parent.$emit("header-contextmenu",t,e)},handleMouseDown:function(e,t){var n,i,r,a,o,s,l,c=this;this.$isServer||t.children&&0<t.children.length||!this.draggingColumn||!this.border||(this.dragging=!0,this.$parent.resizeProxyVisible=!0,i=(n=this.$parent).$el.getBoundingClientRect().left,a=(r=this.$el.querySelector("th."+t.id)).getBoundingClientRect(),o=a.left-i+30,ae(r,"noclick"),this.dragState={startMouseLeft:e.clientX,startLeft:a.right-i,startColumnLeft:a.left-i,tableLeft:i},(s=n.$refs.resizeProxy).style.left=this.dragState.startLeft+"px",document.onselectstart=function(){return!1},document.ondragstart=function(){return!1},l=function(e){e=e.clientX-c.dragState.startMouseLeft,e=c.dragState.startLeft+e,s.style.left=Math.max(o,e)+"px"},document.addEventListener("mousemove",l),document.addEventListener("mouseup",(function i(){var a,o,u;c.dragging&&(a=(o=c.dragState).startColumnLeft,o=o.startLeft,u=parseInt(s.style.left,10)-a,t.width=t.realWidth=u,n.$emit("header-dragend",t.width,o-a,t,e),c.store.scheduleLayout(),document.body.style.cursor="",c.dragging=!1,c.draggingColumn=null,c.dragState={},n.resizeProxyVisible=!1),document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",i),document.onselectstart=null,document.ondragstart=null,setTimeout((function(){oe(r,"noclick")}),0)})))},handleMouseMove:function(e,t){if(!(t.children&&0<t.children.length)){for(var n,i,r=e.target;r&&"TH"!==r.tagName;)r=r.parentNode;t&&t.resizable&&!this.dragging&&this.border&&(n=r.getBoundingClientRect(),i=document.body.style,12<n.width&&n.right-e.pageX<8?(i.cursor="col-resize",re(r,"is-sortable")&&(r.style.cursor="col-resize"),this.draggingColumn=t):this.dragging||(i.cursor="",re(r,"is-sortable")&&(r.style.cursor="pointer"),this.draggingColumn=null))}},handleMouseOut:function(){this.$isServer||(document.body.style.cursor="")},toggleOrder:function(e){var t=e.order;e=e.sortOrders;return""===t?e[0]:(t=e.indexOf(t||null),e[t>e.length-2?0:t+1])},handleSortClick:function(e,t,n){e.stopPropagation();n=t.order===n?null:n||this.toggleOrder(t);for(var i,r,a,o=e.target;o&&"TH"!==o.tagName;)o=o.parentNode;o&&"TH"===o.tagName&&re(o,"noclick")?oe(o,"noclick"):t.sortable&&(i=(e=this.store.states).sortProp,void 0,((a=e.sortingColumn)!==t||a===t&&null===a.order)&&(a&&(a.order=null),i=(e.sortingColumn=t).property),r=t.order=n||null,e.sortProp=i,e.sortOrder=r,this.store.commit("changeSortCondition"))}},data:function(){return{draggingColumn:null,dragging:!1,dragState:{}}}},Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}),qn=(On={name:"ElTableFooter",mixins:[On],render:function(e){var t=this,n=[];return this.summaryMethod?n=this.summaryMethod({columns:this.columns,data:this.store.states.data}):this.columns.forEach((function(e,i){var r,a,o,s;0!==i?(r=t.store.states.data.map((function(t){return Number(t[e.property])})),a=[],o=!0,r.forEach((function(e){isNaN(e)||(o=!1,e=(""+e).split(".")[1],a.push(e?e.length:0))})),s=Math.max.apply(null,a),n[i]=o?"":r.reduce((function(e,t){var n=Number(t);return isNaN(n)?e:parseFloat((e+t).toFixed(Math.min(s,20)))}),0)):n[i]=t.sumText})),e("table",{class:"el-table__footer",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[e("colgroup",[this.columns.map((function(t){return e("col",{attrs:{name:t.id},key:t.id})})),this.hasGutter?e("col",{attrs:{name:"gutter"}}):""]),e("tbody",{class:[{"has-gutter":this.hasGutter}]},[e("tr",[this.columns.map((function(i,r){return e("td",{key:r,attrs:{colspan:i.colSpan,rowspan:i.rowSpan},class:[].concat(t.getRowClasses(i,r),["el-table__cell"])},[e("div",{class:["cell",i.labelClassName]},[n[r]])])})),this.hasGutter?e("th",{class:"el-table__cell gutter"}):""])])])},props:{fixed:String,store:{required:!0},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:function(){return{prop:"",order:""}}}},computed:Xn({table:function(){return this.$parent},hasGutter:function(){return!this.fixed&&this.tableLayout.gutterWidth}},In({columns:"columns",isAllSelected:"isAllSelected",leftFixedLeafCount:"fixedLeafColumnsLength",rightFixedLeafCount:"rightFixedLeafColumnsLength",columnsCount:function(e){return e.columns.length},leftFixedCount:function(e){return e.fixedColumns.length},rightFixedCount:function(e){return e.rightFixedColumns.length}})),methods:{isCellHidden:function(e,t,n){if(!0===this.fixed||"left"===this.fixed)return e>=this.leftFixedLeafCount;if("right"!==this.fixed)return!(this.fixed||!n.fixed)||e<this.leftFixedCount||e>=this.columnsCount-this.rightFixedCount;for(var i=0,r=0;r<e;r++)i+=t[r].colSpan;return i<this.columnsCount-this.rightFixedLeafCount},getRowClasses:function(e,t){var n=[e.id,e.align,e.labelClassName];return e.className&&n.push(e.className),this.isCellHidden(t,this.columns,e)&&n.push("is-hidden"),e.children||n.push("is-leaf"),n}}},Xn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},1),Yn=((Mn=r({name:"ElTable",mixins:[c,Gl],directives:{Mousewheel:Mn},props:{data:{type:Array,default:function(){return[]}},size:String,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],context:{},showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:function(){return{hasChildren:"hasChildren",children:"children"}}},lazy:Boolean,load:Function},components:{TableHeader:Wn,TableFooter:On,TableBody:Un,ElCheckbox:pn},methods:{getMigratingConfig:function(){return{events:{expand:"expand is renamed to expand-change"}}},setCurrentRow:function(e){this.store.commit("setCurrentRow",e)},toggleRowSelection:function(e,t){this.store.toggleRowSelection(e,t,!1),this.store.updateAllSelected()},toggleRowExpansion:function(e,t){this.store.toggleRowExpansionAdapter(e,t)},clearSelection:function(){this.store.clearSelection()},clearFilter:function(e){this.store.clearFilter(e)},clearSort:function(){this.store.clearSort()},handleMouseLeave:function(){this.store.commit("setHoverRow",null),this.hoverState&&(this.hoverState=null)},updateScrollY:function(){this.layout.updateScrollY()&&(this.layout.notifyObservers("scrollable"),this.layout.updateColumnsWidth())},handleFixedMousewheel:function(e,t){var n,i=this.bodyWrapper;0<Math.abs(t.spinY)?(n=i.scrollTop,t.pixelY<0&&0!==n&&e.preventDefault(),0<t.pixelY&&i.scrollHeight-i.clientHeight>n&&e.preventDefault(),i.scrollTop+=Math.ceil(t.pixelY/5)):i.scrollLeft+=Math.ceil(t.pixelX/5)},handleHeaderFooterMousewheel:function(e,t){var n=t.pixelX,i=t.pixelY;Math.abs(n)>=Math.abs(i)&&(this.bodyWrapper.scrollLeft+=t.pixelX/5)},syncPostion:function(){var e=(i=this.bodyWrapper).scrollLeft,t=i.scrollTop,n=i.offsetWidth,i=i.scrollWidth,r=(s=this.$refs).headerWrapper,a=s.footerWrapper,o=s.fixedBodyWrapper,s=s.rightFixedBodyWrapper;r&&(r.scrollLeft=e),a&&(a.scrollLeft=e),o&&(o.scrollTop=t),s&&(s.scrollTop=t),this.scrollPosition=i-n-1<=e?"right":0===e?"left":"middle"},throttleSyncPostion:Object(Ie.throttle)(16,(function(){this.syncPostion()})),onScroll:function(e){var t=window.requestAnimationFrame;t?t(this.syncPostion):this.throttleSyncPostion()},bindEvents:function(){this.bodyWrapper.addEventListener("scroll",this.onScroll,{passive:!0}),this.fit&&fe(this.$el,this.resizeListener)},unbindEvents:function(){this.bodyWrapper.removeEventListener("scroll",this.onScroll,{passive:!0}),this.fit&&pe(this.$el,this.resizeListener)},resizeListener:function(){var e,t,n,i;this.$ready&&(e=!1,i=this.$el,n=(t=this.resizeState).width,t=t.height,n!==(n=i.offsetWidth)&&(e=!0),i=i.offsetHeight,e=!(!this.height&&!this.shouldUpdateHeight||t===i)||e)&&(this.resizeState.width=n,this.resizeState.height=i,this.doLayout())},doLayout:function(){this.shouldUpdateHeight&&this.layout.updateElsHeight(),this.layout.updateColumnsWidth()},sort:function(e,t){this.store.commit("sort",{prop:e,order:t})},toggleAllSelection:function(){this.store.commit("toggleAllSelection")}},computed:Xn({tableSize:function(){return this.size||(this.$ELEMENT||{}).size},bodyWrapper:function(){return this.$refs.bodyWrapper},shouldUpdateHeight:function(){return this.height||this.maxHeight||0<this.fixedColumns.length||0<this.rightFixedColumns.length},bodyWidth:function(){var e=(n=this.layout).bodyWidth,t=n.scrollY,n=n.gutterWidth;return e?e-(t?n:0)+"px":""},bodyHeight:function(){var e=void 0===(e=(n=this.layout).headerHeight)?0:e,t=n.bodyHeight,n=void 0===(n=n.footerHeight)?0:n;return this.height?{height:t?t+"px":""}:this.maxHeight&&"number"==typeof(t=An(this.maxHeight))?{"max-height":t-n-(this.showHeader?e:0)+"px"}:{}},fixedBodyHeight:function(){if(this.height)return{height:this.layout.fixedBodyHeight?this.layout.fixedBodyHeight+"px":""};if(this.maxHeight){var e=An(this.maxHeight);if("number"==typeof e)return e=this.layout.scrollX?e-this.layout.gutterWidth:e,this.showHeader&&(e-=this.layout.headerHeight),{"max-height":(e-=this.layout.footerHeight)+"px"}}return{}},fixedHeight:function(){return this.maxHeight?this.showSummary?{bottom:0}:{bottom:this.layout.scrollX&&this.data.length?this.layout.gutterWidth+"px":""}:this.showSummary?{height:this.layout.tableHeight?this.layout.tableHeight+"px":""}:{height:this.layout.viewportHeight?this.layout.viewportHeight+"px":""}},emptyBlockStyle:function(){var e;return this.data&&this.data.length?null:(e="100%",this.layout.appendHeight&&(e="calc(100% - "+this.layout.appendHeight+"px)"),{width:this.bodyWidth,height:e})}},In({selection:"selection",columns:"columns",tableData:"data",fixedColumns:"fixedColumns",rightFixedColumns:"rightFixedColumns"})),watch:{height:{immediate:!0,handler:function(e){this.layout.setHeight(e)}},maxHeight:{immediate:!0,handler:function(e){this.layout.setMaxHeight(e)}},currentRowKey:{immediate:!0,handler:function(e){this.rowKey&&this.store.setCurrentRowKey(e)}},data:{immediate:!0,handler:function(e){this.store.commit("setData",e)}},expandRowKeys:{immediate:!0,handler:function(e){e&&this.store.setExpandRowKeysAdapter(e)}}},created:function(){var e=this;this.tableId="el-table_"+qn++,this.debouncedUpdateLayout=Object(Ie.debounce)(50,(function(){return e.doLayout()}))},mounted:function(){var e=this;this.bindEvents(),this.store.updateColumns(),this.doLayout(),this.resizeState={width:this.$el.offsetWidth,height:this.$el.offsetHeight},this.store.states.columns.forEach((function(t){t.filteredValue&&t.filteredValue.length&&e.store.commit("filterChange",{column:t,values:t.filteredValue,silent:!0})})),this.$ready=!0},destroyed:function(){this.unbindEvents()},data:function(){var e=(t=this.treeProps).hasChildren,t=t.children;return this.store=function(e,t){var n,i=1<arguments.length&&void 0!==t?t:{};if(e)return(n=new Dn).table=e,n.toggleAllSelection=He()(10,n._toggleAllSelection),Object.keys(i).forEach((function(e){n.states[e]=i[e]})),n;throw new Error("Table is required.")}(this,{rowKey:this.rowKey,defaultExpandAll:this.defaultExpandAll,selectOnIndeterminate:this.selectOnIndeterminate,indent:this.indent,lazy:this.lazy,lazyColumnIdentifier:void 0===e?"hasChildren":e,childrenColumnName:void 0===t?"children":t}),{layout:new Nn({store:this.store,table:this,fit:this.fit,showHeader:this.showHeader}),isHidden:!1,renderExpanded:null,resizeProxyVisible:!1,resizeState:{width:null,height:null},isGroup:!1,scrollPosition:"left"}}},Vt,[],!1,null,null,null)).options.__file="packages/table/src/table.vue",Mn.exports),$n=(Wn=(Yn.install=function(e){e.component(Yn.name,Yn)},Yn),{default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:"",className:"el-table-column--selection"},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}}),Zn={selection:{renderHeader:function(e,t){return e("el-checkbox",{attrs:{disabled:(t=t.store).states.data&&0===t.states.data.length,indeterminate:0<t.states.selection.length&&!this.isAllSelected,value:this.isAllSelected},on:{input:this.toggleAllSelection}})},renderCell:function(e,t){var n=t.row,i=t.column,r=t.isSelected,a=t.store;t=t.$index;return e("el-checkbox",{nativeOn:{click:function(e){return e.stopPropagation()}},attrs:{value:r,disabled:!!i.selectable&&!i.selectable.call(null,n,t)},on:{input:function(){a.commit("rowSelectedChanged",n)}}})},sortable:!1,resizable:!1},index:{renderHeader:function(e,t){return t.column.label||"#"},renderCell:function(e,t){var n=t.$index,i=n+1;return"number"==typeof(t=t.column.index)?i=n+t:"function"==typeof t&&(i=t(n)),e("div",[i])},sortable:!1},expand:{renderHeader:function(e,t){return t.column.label||""},renderCell:function(e,t){var n=t.row,i=t.store,r=["el-table__expand-icon"];return t.isExpanded&&r.push("el-table__expand-icon--expanded"),e("div",{class:r,on:{click:function(e){e.stopPropagation(),i.toggleRowExpansion(n)}}},[e("i",{class:"el-icon el-icon-arrow-right"})])},sortable:!1,resizable:!1,className:"el-table__expand-column"}};function Qn(e,t){var n=t.row,i=t.column,r=(t=t.$index,(r=i.property)&&_(n,r).v);return i&&i.formatter?i.formatter(n,i,r,t):r}function Kn(){var e=this,t=e.$createElement;t=e._self._c||t;return e.ranged?t("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.handleClose,expression:"handleClose"}],ref:"reference",staticClass:"el-date-editor el-range-editor el-input__inner",class:["el-date-editor--"+e.type,e.pickerSize?"el-range-editor--"+e.pickerSize:"",e.pickerDisabled?"is-disabled":"",e.pickerVisible?"is-active":""],on:{click:e.handleRangeClick,mouseenter:e.handleMouseEnter,mouseleave:function(t){e.showClose=!1},keydown:e.handleKeydown}},[t("i",{class:["el-input__icon","el-range__icon",e.triggerClass]}),t("input",e._b({staticClass:"el-range-input",attrs:{autocomplete:"off",placeholder:e.startPlaceholder,disabled:e.pickerDisabled,readonly:!e.editable||e.readonly,name:e.name&&e.name[0]},domProps:{value:e.displayValue&&e.displayValue[0]},on:{input:e.handleStartInput,change:e.handleStartChange,focus:e.handleFocus}},"input",e.firstInputId,!1)),e._t("range-separator",[t("span",{staticClass:"el-range-separator"},[e._v(e._s(e.rangeSeparator))])]),t("input",e._b({staticClass:"el-range-input",attrs:{autocomplete:"off",placeholder:e.endPlaceholder,disabled:e.pickerDisabled,readonly:!e.editable||e.readonly,name:e.name&&e.name[1]},domProps:{value:e.displayValue&&e.displayValue[1]},on:{input:e.handleEndInput,change:e.handleEndChange,focus:e.handleFocus}},"input",e.secondInputId,!1)),e.haveTrigger?t("i",{staticClass:"el-input__icon el-range__close-icon",class:[e.showClose?""+e.clearIcon:""],on:{click:e.handleClickIcon}}):e._e()],2):t("el-input",e._b({directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.handleClose,expression:"handleClose"}],ref:"reference",staticClass:"el-date-editor",class:"el-date-editor--"+e.type,attrs:{readonly:!e.editable||e.readonly||"dates"===e.type||"week"===e.type||"years"===e.type||"months"===e.type,disabled:e.pickerDisabled,size:e.pickerSize,name:e.name,placeholder:e.placeholder,value:e.displayValue,validateEvent:!1},on:{focus:e.handleFocus,input:function(t){return e.userInput=t},change:e.handleChange},nativeOn:{keydown:function(t){return e.handleKeydown(t)},mouseenter:function(t){return e.handleMouseEnter(t)},mouseleave:function(t){e.showClose=!1}}},"el-input",e.firstInputId,!1),[t("i",{staticClass:"el-input__icon",class:e.triggerClass,attrs:{slot:"prefix"},on:{click:e.handleFocus},slot:"prefix"}),e.haveTrigger?t("i",{staticClass:"el-input__icon",class:[e.showClose?""+e.clearIcon:""],attrs:{slot:"suffix"},on:{click:e.handleClickIcon},slot:"suffix"}):e._e()])}function Jn(e){return null!=e&&!isNaN(new Date(e).getTime())&&!Array.isArray(e)}function ei(e){return e instanceof Date}function ti(e,t){return(e=Jn(n=e)?new Date(n):null)?ui.a.format(e,t||"yyyy-MM-dd",fi()):"";var n}function ni(e,t){return ui.a.parse(e,t||"yyyy-MM-dd",fi())}function ii(e){return(e=new Date(e.getTime())).setDate(1),e.getDay()}function ri(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return new Date(e.getFullYear(),e.getMonth(),e.getDate()-t)}function ai(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return new Date(e.getFullYear(),e.getMonth(),e.getDate()+t)}function oi(e){var t;return Jn(e)?((e=new Date(e.getTime())).setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7),t=new Date(e.getFullYear(),0,4),1+Math.round(((e.getTime()-t.getTime())/864e5-3+(t.getDay()+6)%7)/7)):null}var si=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},li=1,ci={name:"ElTableColumn",props:{type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{},minWidth:{},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showTooltipWhenOverflow:Boolean,showOverflowTooltip:Boolean,fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},index:[Number,Function],sortOrders:{type:Array,default:function(){return["ascending","descending",null]},validator:function(e){return e.every((function(e){return-1<["ascending","descending",null].indexOf(e)}))}}},data:function(){return{isSubColumn:!1,columns:[]}},computed:{owner:function(){for(var e=this.$parent;e&&!e.tableId;)e=e.$parent;return e},columnOrTableParent:function(){for(var e=this.$parent;e&&!e.tableId&&!e.columnId;)e=e.$parent;return e},realWidth:function(){return Cn(this.width)},realMinWidth:function(){return void 0!==(e=this.minWidth)&&(e=Cn(e),isNaN(e))?80:e;var e},realAlign:function(){return this.align?"is-"+this.align:null},realHeaderAlign:function(){return this.headerAlign?"is-"+this.headerAlign:this.realAlign}},methods:{getPropsData:function(){for(var e=this,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.reduce((function(t,n){return Array.isArray(n)&&n.forEach((function(n){t[n]=e[n]})),t}),{})},getColumnElIndex:function(e,t){return[].indexOf.call(e,t)},setColumnWidth:function(e){return this.realWidth&&(e.width=this.realWidth),this.realMinWidth&&(e.minWidth=this.realMinWidth),e.minWidth||(e.minWidth=80),e.realWidth=void 0===e.width?e.minWidth:e.width,e},setColumnForcedProps:function(e){var t=e.type,n=Zn[t]||{};return Object.keys(n).forEach((function(t){var i=n[t];void 0!==i&&(e[t]="className"===t?e[t]+" "+i:i)})),e},setColumnRenders:function(e){var t=this,n=(this.$createElement,this.renderHeader?console.warn("[Element Warn][TableColumn]Comparing to render-header, scoped-slot header is easier to use. We recommend users to use scoped-slot header."):"selection"!==e.type&&(e.renderHeader=function(n,i){var r=t.$scopedSlots.header;return r?r(i):e.label}),e.renderCell);return"expand"===e.type?(e.renderCell=function(e,t){return e("div",{class:"cell"},[n(e,t)])},this.owner.renderExpanded=function(e,n){return t.$scopedSlots.default?t.$scopedSlots.default(n):t.$slots.default}):(n=n||Qn,e.renderCell=function(i,r){var a,o,s,l,c,u=t.$scopedSlots.default?t.$scopedSlots.default(r):n(i,r),h=(a=i,l=r.row,h=r.treeNode,c=r.store,h?(o=[],h.indent&&o.push(a("span",{class:"el-table__indent",style:{"padding-left":h.indent+"px"}})),"boolean"!=typeof h.expanded||h.noLazyChildren?o.push(a("span",{class:"el-table__placeholder"})):(d=["el-table__expand-icon",h.expanded?"el-table__expand-icon--expanded":""],s=["el-icon-arrow-right"],h.loading&&(s=["el-icon-loading"]),o.push(a("div",{class:d,on:{click:function(e){e.stopPropagation(),c.loadOrToggle(l)}}},[a("i",{class:s})]))),o):null),d={class:"cell",style:{}};return e.showOverflowTooltip&&(d.class+=" el-tooltip",d.style={width:(r.column.realWidth||r.column.width)-1+"px"}),i("div",d,[h,u])}),e},registerNormalWatchers:function(){var e=this,t={prop:"property",realAlign:"align",realHeaderAlign:"headerAlign",realWidth:"width"},n=["label","property","filters","filterMultiple","sortable","index","formatter","className","labelClassName","showOverflowTooltip"].reduce((function(e,t){return e[t]=t,e}),t);Object.keys(n).forEach((function(n){var i=t[n];e.$watch(n,(function(t){e.columnConfig[i]=t}))}))},registerComplexWatchers:function(){var e=this,t={realWidth:"width",realMinWidth:"minWidth"},n=["fixed"].reduce((function(e,t){return e[t]=t,e}),t);Object.keys(n).forEach((function(n){var i=t[n];e.$watch(n,(function(t){e.columnConfig[i]=t,e.owner.store.scheduleLayout("fixed"===i)}))}))}},components:{ElCheckbox:pn},beforeCreate:function(){this.row={},this.column={},this.$index=0,this.columnId=""},created:function(){var e=this.columnOrTableParent,t=(e=(this.isSubColumn=this.owner!==e,this.columnId=(e.tableId||e.columnId)+"_column_"+li++,this.type||"default"),""===this.sortable||this.sortable);e=function(e,t){var n,i={},r=void 0;for(r in e)i[r]=e[r];for(r in t)n=r,Object.prototype.hasOwnProperty.call(t,n)&&void 0!==(n=t[r])&&(i[r]=n);return i}(si({},$n[e],{id:this.columnId,type:e,property:this.prop||this.property,align:this.realAlign,headerAlign:this.realHeaderAlign,showOverflowTooltip:this.showOverflowTooltip||this.showTooltipWhenOverflow,filterable:this.filters||this.filterMethod,filteredValue:[],filterPlacement:"",isColumnGroup:!1,filterOpened:!1,sortable:t,index:this.index}),this.getPropsData(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement"]));e=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}(this.setColumnRenders,this.setColumnWidth,this.setColumnForcedProps)(e),this.columnConfig=e,this.registerNormalWatchers(),this.registerComplexWatchers()},mounted:function(){var e=this.owner,t=this.columnOrTableParent,n=(this.isSubColumn?t.$el:t.$refs.hiddenColumns).children;n=this.getColumnElIndex(n,this.$el);e.store.commit("insertColumn",this.columnConfig,n,this.isSubColumn?t.columnConfig:null)},destroyed:function(){var e;this.$parent&&(e=this.$parent,this.owner.store.commit("removeColumn",this.columnConfig,this.isSubColumn?e.columnConfig:null))},render:function(e){return e("div",this.$slots.default)},install:function(e){e.component(ci.name,ci)}},ui=(On=ci,Un=(Kn._withStripped=!0,n(2)),n.n(Un)),hi=["sun","mon","tue","wed","thu","fri","sat"],di=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],fi=function(){return{dayNamesShort:hi.map((function(e){return H("el.datepicker.weeks."+e)})),dayNames:hi.map((function(e){return H("el.datepicker.weeks."+e)})),monthNamesShort:di.map((function(e){return H("el.datepicker.months."+e)})),monthNames:di.map((function(e,t){return H("el.datepicker.month"+(t+1))})),amPm:["am","pm"]}},pi=function(e,t){return isNaN(+t)?31:new Date(e,+t+1,0).getDate()};function mi(e,t,n,i){for(var r=t;r<n;r++)e[r]=i}function vi(e){return Array.apply(null,{length:e}).map((function(e,t){return t}))}function gi(e,t,n,i){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),t,n,i,e.getMilliseconds())}function yi(e,t){return null!=e&&t?gi(e,(t=ni(t,"HH:mm:ss")).getHours(),t.getMinutes(),t.getSeconds()):e}function xi(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())}function bi(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),0)}function wi(e,t){var n,i,r,a,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"HH:mm:ss";return 0===t.length||(i=(n=function(e){return ui.a.parse(ui.a.format(e,o),o)})(e),(t=t.map((function(e){return e.map(n)}))).some((function(e){return i>=e[0]&&i<=e[1]})))?e:(r=t[0][0],a=t[0][0],t.forEach((function(e){r=new Date(Math.min(e[0],r)),a=new Date(Math.max(e[1],r))})),cr(i<r?r:a,e.getFullYear(),e.getMonth(),e.getDate()))}function _i(e,t,n){return wi(e,t,n).getTime()===e.getTime()}function Mi(e,t,n){var i=Math.min(e.getDate(),pi(t,n));return cr(e,t,n,i)}function Si(e){var t=e.getFullYear(),n=e.getMonth();return 0===n?Mi(e,t-1,11):Mi(e,t,n-1)}function Ei(e){var t=e.getFullYear(),n=e.getMonth();return 11===n?Mi(e,t+1,0):Mi(e,t,n+1)}function Ti(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=e.getFullYear(),i=e.getMonth();return Mi(e,n-t,i)}function Ci(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=e.getFullYear(),i=e.getMonth();return Mi(e,n+t,i)}function Ai(e){return e.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim()}function Li(e){return e.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?y{2,4}/g,"").trim()}function Pi(e,t){return e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function ki(e,t){return"timestamp"===t?e.getTime():ti(e,t)}function Di(e,t){return"timestamp"===t?new Date(Number(e)):ni(e,t)}function Ii(e,t){if(Array.isArray(e)&&2===e.length){var n=e[0];e=e[1];if(n&&e)return[ki(n,t),ki(e,t)]}return""}function Ri(e,t,n){return 2===(e=Array.isArray(e)?e:e.split(n)).length?(n=e[0],e=e[1],[Di(n,t),Di(e,t)]):[]}function Ni(e,t,n){return e?(0,(dr[n]||dr.default).parser)(e,t||ur[n],3<arguments.length&&void 0!==arguments[3]?arguments[3]:"-"):null}function Oi(e,t,n){return e?(0,(dr[n]||dr.default).formatter)(e,t||ur[n]):null}function Fi(e,t){function n(e,t){var n=e instanceof Date,i=t instanceof Date;return n&&i?e.getTime()===t.getTime():!n&&!i&&e===t}var i=e instanceof Array,r=t instanceof Array;return i&&r?e.length===t.length&&e.every((function(e,i){return n(e,t[i])})):!i&&!r&&n(e,t)}function zi(e){return"string"==typeof e||e instanceof String}function Bi(e){return null==e||zi(e)||Array.isArray(e)&&2===e.length&&e.every(zi)}function Hi(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-enter":e.handleEnter,"after-leave":e.handleLeave}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-picker-panel el-date-picker el-popper",class:[{"has-sidebar":e.$slots.sidebar||e.shortcuts,"has-time":e.showTime},e.popperClass]},[n("div",{staticClass:"el-picker-panel__body-wrapper"},[e._t("sidebar"),e.shortcuts?n("div",{staticClass:"el-picker-panel__sidebar"},e._l(e.shortcuts,(function(t,i){return n("button",{key:i,staticClass:"el-picker-panel__shortcut",attrs:{type:"button"},on:{click:function(n){e.handleShortcutClick(t)}}},[e._v(e._s(t.text))])})),0):e._e(),n("div",{staticClass:"el-picker-panel__body"},[e.showTime?n("div",{staticClass:"el-date-picker__time-header"},[n("span",{staticClass:"el-date-picker__editor-wrap"},[n("el-input",{attrs:{placeholder:e.t("el.datepicker.selectDate"),value:e.visibleDate,size:"small"},on:{input:function(t){return e.userInputDate=t},change:e.handleVisibleDateChange}})],1),n("span",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.handleTimePickClose,expression:"handleTimePickClose"}],staticClass:"el-date-picker__editor-wrap"},[n("el-input",{ref:"input",attrs:{placeholder:e.t("el.datepicker.selectTime"),value:e.visibleTime,size:"small"},on:{focus:function(t){e.timePickerVisible=!0},input:function(t){return e.userInputTime=t},change:e.handleVisibleTimeChange}}),n("time-picker",{ref:"timepicker",attrs:{"time-arrow-control":e.arrowControl,visible:e.timePickerVisible},on:{pick:e.handleTimePick,mounted:e.proxyTimePickerDataProperties}})],1)]):e._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:"time"!==e.currentView,expression:"currentView !== 'time'"}],staticClass:"el-date-picker__header",class:{"el-date-picker__header--bordered":"year"===e.currentView||"month"===e.currentView}},[n("button",{staticClass:"el-picker-panel__icon-btn el-date-picker__prev-btn el-icon-d-arrow-left",attrs:{type:"button","aria-label":e.t("el.datepicker.prevYear")},on:{click:e.prevYear}}),n("button",{directives:[{name:"show",rawName:"v-show",value:"date"===e.currentView,expression:"currentView === 'date'"}],staticClass:"el-picker-panel__icon-btn el-date-picker__prev-btn el-icon-arrow-left",attrs:{type:"button","aria-label":e.t("el.datepicker.prevMonth")},on:{click:e.prevMonth}}),n("span",{staticClass:"el-date-picker__header-label",attrs:{role:"button"},on:{click:e.showYearPicker}},[e._v(e._s(e.yearLabel))]),n("span",{directives:[{name:"show",rawName:"v-show",value:"date"===e.currentView,expression:"currentView === 'date'"}],staticClass:"el-date-picker__header-label",class:{active:"month"===e.currentView},attrs:{role:"button"},on:{click:e.showMonthPicker}},[e._v(e._s(e.t("el.datepicker.month"+(e.month+1))))]),n("button",{staticClass:"el-picker-panel__icon-btn el-date-picker__next-btn el-icon-d-arrow-right",attrs:{type:"button","aria-label":e.t("el.datepicker.nextYear")},on:{click:e.nextYear}}),n("button",{directives:[{name:"show",rawName:"v-show",value:"date"===e.currentView,expression:"currentView === 'date'"}],staticClass:"el-picker-panel__icon-btn el-date-picker__next-btn el-icon-arrow-right",attrs:{type:"button","aria-label":e.t("el.datepicker.nextMonth")},on:{click:e.nextMonth}})]),n("div",{staticClass:"el-picker-panel__content"},[n("date-table",{directives:[{name:"show",rawName:"v-show",value:"date"===e.currentView,expression:"currentView === 'date'"}],attrs:{"selection-mode":e.selectionMode,"first-day-of-week":e.firstDayOfWeek,value:e.value,"default-value":e.defaultValue?new Date(e.defaultValue):null,date:e.date,"cell-class-name":e.cellClassName,"disabled-date":e.disabledDate},on:{pick:e.handleDatePick}}),n("year-table",{directives:[{name:"show",rawName:"v-show",value:"year"===e.currentView,expression:"currentView === 'year'"}],attrs:{"selection-mode":e.selectionMode,value:e.value,"default-value":e.defaultValue?new Date(e.defaultValue):null,date:e.date,"disabled-date":e.disabledDate},on:{pick:e.handleYearPick}}),n("month-table",{directives:[{name:"show",rawName:"v-show",value:"month"===e.currentView,expression:"currentView === 'month'"}],attrs:{"selection-mode":e.selectionMode,value:e.value,"default-value":e.defaultValue?new Date(e.defaultValue):null,date:e.date,"disabled-date":e.disabledDate},on:{pick:e.handleMonthPick}})],1)])],2),n("div",{directives:[{name:"show",rawName:"v-show",value:e.footerVisible&&("date"===e.currentView||"month"===e.currentView||"year"===e.currentView),expression:"footerVisible && (currentView === 'date' || currentView === 'month' || currentView === 'year')"}],staticClass:"el-picker-panel__footer"},[n("el-button",{directives:[{name:"show",rawName:"v-show",value:"dates"!==e.selectionMode&&"months"!==e.selectionMode&&"years"!==e.selectionMode,expression:"selectionMode !== 'dates' && selectionMode !== 'months' && selectionMode !== 'years'"}],staticClass:"el-picker-panel__link-btn",attrs:{size:"mini",type:"text"},on:{click:e.changeToNow}},[e._v("\n        "+e._s(e.t("el.datepicker.now"))+"\n      ")]),n("el-button",{staticClass:"el-picker-panel__link-btn",attrs:{plain:"",size:"mini"},on:{click:e.confirm}},[e._v("\n        "+e._s(e.t("el.datepicker.confirm"))+"\n      ")])],1)])])}function Ui(){var e=this,t=e.$createElement;return(t=e._self._c||t)("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":function(t){e.$emit("dodestroy")}}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-time-panel el-popper",class:e.popperClass},[t("div",{staticClass:"el-time-panel__content",class:{"has-seconds":e.showSeconds}},[t("time-spinner",{ref:"spinner",attrs:{"arrow-control":e.useArrow,"show-seconds":e.showSeconds,"am-pm-mode":e.amPmMode,date:e.date},on:{change:e.handleChange,"select-range":e.setSelectionRange}})],1),t("div",{staticClass:"el-time-panel__footer"},[t("button",{staticClass:"el-time-panel__btn cancel",attrs:{type:"button"},on:{click:e.handleCancel}},[e._v(e._s(e.t("el.datepicker.cancel")))]),t("button",{staticClass:"el-time-panel__btn",class:{confirm:!e.disabled},attrs:{type:"button"},on:{click:function(t){e.handleConfirm()}}},[e._v(e._s(e.t("el.datepicker.confirm")))])])])])}function Vi(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"el-time-spinner",class:{"has-seconds":e.showSeconds}},[e.arrowControl?e._e():[n("el-scrollbar",{ref:"hours",staticClass:"el-time-spinner__wrapper",attrs:{"wrap-style":"max-height: inherit;","view-class":"el-time-spinner__list",noresize:"",tag:"ul"},nativeOn:{mouseenter:function(t){e.emitSelectRange("hours")},mousemove:function(t){e.adjustCurrentSpinner("hours")}}},e._l(e.hoursList,(function(t,i){return n("li",{key:i,staticClass:"el-time-spinner__item",class:{active:i===e.hours,disabled:t},on:{click:function(n){e.handleClick("hours",{value:i,disabled:t})}}},[e._v(e._s(("0"+(e.amPmMode?i%12||12:i)).slice(-2))+e._s(e.amPm(i)))])})),0),n("el-scrollbar",{ref:"minutes",staticClass:"el-time-spinner__wrapper",attrs:{"wrap-style":"max-height: inherit;","view-class":"el-time-spinner__list",noresize:"",tag:"ul"},nativeOn:{mouseenter:function(t){e.emitSelectRange("minutes")},mousemove:function(t){e.adjustCurrentSpinner("minutes")}}},e._l(e.minutesList,(function(t,i){return n("li",{key:i,staticClass:"el-time-spinner__item",class:{active:i===e.minutes,disabled:!t},on:{click:function(t){e.handleClick("minutes",{value:i,disabled:!1})}}},[e._v(e._s(("0"+i).slice(-2)))])})),0),n("el-scrollbar",{directives:[{name:"show",rawName:"v-show",value:e.showSeconds,expression:"showSeconds"}],ref:"seconds",staticClass:"el-time-spinner__wrapper",attrs:{"wrap-style":"max-height: inherit;","view-class":"el-time-spinner__list",noresize:"",tag:"ul"},nativeOn:{mouseenter:function(t){e.emitSelectRange("seconds")},mousemove:function(t){e.adjustCurrentSpinner("seconds")}}},e._l(60,(function(t,i){return n("li",{key:i,staticClass:"el-time-spinner__item",class:{active:i===e.seconds},on:{click:function(t){e.handleClick("seconds",{value:i,disabled:!1})}}},[e._v(e._s(("0"+i).slice(-2)))])})),0)],e.arrowControl?[n("div",{staticClass:"el-time-spinner__wrapper is-arrow",on:{mouseenter:function(t){e.emitSelectRange("hours")}}},[n("i",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:e.decrease,expression:"decrease"}],staticClass:"el-time-spinner__arrow el-icon-arrow-up"}),n("i",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:e.increase,expression:"increase"}],staticClass:"el-time-spinner__arrow el-icon-arrow-down"}),n("ul",{ref:"hours",staticClass:"el-time-spinner__list"},e._l(e.arrowHourList,(function(t,i){return n("li",{key:i,staticClass:"el-time-spinner__item",class:{active:t===e.hours,disabled:e.hoursList[t]}},[e._v(e._s(void 0===t?"":("0"+(e.amPmMode?t%12||12:t)).slice(-2)+e.amPm(t)))])})),0)]),n("div",{staticClass:"el-time-spinner__wrapper is-arrow",on:{mouseenter:function(t){e.emitSelectRange("minutes")}}},[n("i",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:e.decrease,expression:"decrease"}],staticClass:"el-time-spinner__arrow el-icon-arrow-up"}),n("i",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:e.increase,expression:"increase"}],staticClass:"el-time-spinner__arrow el-icon-arrow-down"}),n("ul",{ref:"minutes",staticClass:"el-time-spinner__list"},e._l(e.arrowMinuteList,(function(t,i){return n("li",{key:i,staticClass:"el-time-spinner__item",class:{active:t===e.minutes}},[e._v("\n          "+e._s(void 0===t?"":("0"+t).slice(-2))+"\n        ")])})),0)]),e.showSeconds?n("div",{staticClass:"el-time-spinner__wrapper is-arrow",on:{mouseenter:function(t){e.emitSelectRange("seconds")}}},[n("i",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:e.decrease,expression:"decrease"}],staticClass:"el-time-spinner__arrow el-icon-arrow-up"}),n("i",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:e.increase,expression:"increase"}],staticClass:"el-time-spinner__arrow el-icon-arrow-down"}),n("ul",{ref:"seconds",staticClass:"el-time-spinner__list"},e._l(e.arrowSecondList,(function(t,i){return n("li",{key:i,staticClass:"el-time-spinner__item",class:{active:t===e.seconds}},[e._v("\n          "+e._s(void 0===t?"":("0"+t).slice(-2))+"\n        ")])})),0)]):e._e()]:e._e()],2)}function Gi(){var e=this,t=e.$createElement;return(t=e._self._c||t)("table",{staticClass:"el-year-table",on:{click:e.handleYearTableClick}},[t("tbody",[t("tr",[t("td",{staticClass:"available",class:e.getCellStyle(e.startYear+0)},[t("a",{staticClass:"cell"},[e._v(e._s(e.startYear))])]),t("td",{staticClass:"available",class:e.getCellStyle(e.startYear+1)},[t("a",{staticClass:"cell"},[e._v(e._s(e.startYear+1))])]),t("td",{staticClass:"available",class:e.getCellStyle(e.startYear+2)},[t("a",{staticClass:"cell"},[e._v(e._s(e.startYear+2))])]),t("td",{staticClass:"available",class:e.getCellStyle(e.startYear+3)},[t("a",{staticClass:"cell"},[e._v(e._s(e.startYear+3))])])]),t("tr",[t("td",{staticClass:"available",class:e.getCellStyle(e.startYear+4)},[t("a",{staticClass:"cell"},[e._v(e._s(e.startYear+4))])]),t("td",{staticClass:"available",class:e.getCellStyle(e.startYear+5)},[t("a",{staticClass:"cell"},[e._v(e._s(e.startYear+5))])]),t("td",{staticClass:"available",class:e.getCellStyle(e.startYear+6)},[t("a",{staticClass:"cell"},[e._v(e._s(e.startYear+6))])]),t("td",{staticClass:"available",class:e.getCellStyle(e.startYear+7)},[t("a",{staticClass:"cell"},[e._v(e._s(e.startYear+7))])])]),t("tr",[t("td",{staticClass:"available",class:e.getCellStyle(e.startYear+8)},[t("a",{staticClass:"cell"},[e._v(e._s(e.startYear+8))])]),t("td",{staticClass:"available",class:e.getCellStyle(e.startYear+9)},[t("a",{staticClass:"cell"},[e._v(e._s(e.startYear+9))])]),t("td"),t("td")])])])}function ji(){var e=this,t=e.$createElement,n=e._self._c||t;return n("table",{staticClass:"el-month-table",on:{click:e.handleMonthTableClick,mousemove:e.handleMouseMove}},[n("tbody",e._l(e.rows,(function(t,i){return n("tr",{key:i},e._l(t,(function(t,i){return n("td",{key:i,class:e.getCellStyle(t)},[n("div",[n("a",{staticClass:"cell"},[e._v(e._s(e.t("el.datepicker.months."+e.months[t.text])))])])])})),0)})),0)])}function Wi(e){return new Date(e.getFullYear(),e.getMonth())}function Xi(e){return"number"==typeof e||"string"==typeof e?Wi(new Date(e)).getTime():e instanceof Date?Wi(e).getTime():NaN}function qi(){var e=this,t=e.$createElement,n=e._self._c||t;return n("table",{staticClass:"el-date-table",class:{"is-week-mode":"week"===e.selectionMode},attrs:{cellspacing:"0",cellpadding:"0"},on:{click:e.handleClick,mousemove:e.handleMouseMove}},[n("tbody",[n("tr",[e.showWeekNumber?n("th",[e._v(e._s(e.t("el.datepicker.week")))]):e._e(),e._l(e.WEEKS,(function(t,i){return n("th",{key:i},[e._v(e._s(e.t("el.datepicker.weeks."+t)))])}))],2),e._l(e.rows,(function(t,i){return n("tr",{key:i,staticClass:"el-date-table__row",class:{current:e.isWeekActive(t[1])}},e._l(t,(function(t,i){return n("td",{key:i,class:e.getCellClasses(t)},[n("div",[n("span",[e._v("\n          "+e._s(t.text)+"\n        ")])])])})),0)}))],2)])}function Yi(e){return"number"==typeof e||"string"==typeof e?xi(new Date(e)).getTime():e instanceof Date?xi(e).getTime():NaN}function $i(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":function(t){e.$emit("dodestroy")}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-picker-panel el-date-range-picker el-popper",class:[{"has-sidebar":e.$slots.sidebar||e.shortcuts,"has-time":e.showTime},e.popperClass]},[n("div",{staticClass:"el-picker-panel__body-wrapper"},[e._t("sidebar"),e.shortcuts?n("div",{staticClass:"el-picker-panel__sidebar"},e._l(e.shortcuts,(function(t,i){return n("button",{key:i,staticClass:"el-picker-panel__shortcut",attrs:{type:"button"},on:{click:function(n){e.handleShortcutClick(t)}}},[e._v(e._s(t.text))])})),0):e._e(),n("div",{staticClass:"el-picker-panel__body"},[e.showTime?n("div",{staticClass:"el-date-range-picker__time-header"},[n("span",{staticClass:"el-date-range-picker__editors-wrap"},[n("span",{staticClass:"el-date-range-picker__time-picker-wrap"},[n("el-input",{ref:"minInput",staticClass:"el-date-range-picker__editor",attrs:{size:"small",disabled:e.rangeState.selecting,placeholder:e.t("el.datepicker.startDate"),value:e.minVisibleDate},on:{input:function(t){return e.handleDateInput(t,"min")},change:function(t){return e.handleDateChange(t,"min")}}})],1),n("span",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.handleMinTimeClose,expression:"handleMinTimeClose"}],staticClass:"el-date-range-picker__time-picker-wrap"},[n("el-input",{staticClass:"el-date-range-picker__editor",attrs:{size:"small",disabled:e.rangeState.selecting,placeholder:e.t("el.datepicker.startTime"),value:e.minVisibleTime},on:{focus:function(t){e.minTimePickerVisible=!0},input:function(t){return e.handleTimeInput(t,"min")},change:function(t){return e.handleTimeChange(t,"min")}}}),n("time-picker",{ref:"minTimePicker",attrs:{"time-arrow-control":e.arrowControl,visible:e.minTimePickerVisible},on:{pick:e.handleMinTimePick,mounted:function(t){e.$refs.minTimePicker.format=e.timeFormat}}})],1)]),n("span",{staticClass:"el-icon-arrow-right"}),n("span",{staticClass:"el-date-range-picker__editors-wrap is-right"},[n("span",{staticClass:"el-date-range-picker__time-picker-wrap"},[n("el-input",{staticClass:"el-date-range-picker__editor",attrs:{size:"small",disabled:e.rangeState.selecting,placeholder:e.t("el.datepicker.endDate"),value:e.maxVisibleDate,readonly:!e.minDate},on:{input:function(t){return e.handleDateInput(t,"max")},change:function(t){return e.handleDateChange(t,"max")}}})],1),n("span",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.handleMaxTimeClose,expression:"handleMaxTimeClose"}],staticClass:"el-date-range-picker__time-picker-wrap"},[n("el-input",{staticClass:"el-date-range-picker__editor",attrs:{size:"small",disabled:e.rangeState.selecting,placeholder:e.t("el.datepicker.endTime"),value:e.maxVisibleTime,readonly:!e.minDate},on:{focus:function(t){e.minDate&&(e.maxTimePickerVisible=!0)},input:function(t){return e.handleTimeInput(t,"max")},change:function(t){return e.handleTimeChange(t,"max")}}}),n("time-picker",{ref:"maxTimePicker",attrs:{"time-arrow-control":e.arrowControl,visible:e.maxTimePickerVisible},on:{pick:e.handleMaxTimePick,mounted:function(t){e.$refs.maxTimePicker.format=e.timeFormat}}})],1)])]):e._e(),n("div",{staticClass:"el-picker-panel__content el-date-range-picker__content is-left"},[n("div",{staticClass:"el-date-range-picker__header"},[n("button",{staticClass:"el-picker-panel__icon-btn el-icon-d-arrow-left",attrs:{type:"button"},on:{click:e.leftPrevYear}}),n("button",{staticClass:"el-picker-panel__icon-btn el-icon-arrow-left",attrs:{type:"button"},on:{click:e.leftPrevMonth}}),e.unlinkPanels?n("button",{staticClass:"el-picker-panel__icon-btn el-icon-d-arrow-right",class:{"is-disabled":!e.enableYearArrow},attrs:{type:"button",disabled:!e.enableYearArrow},on:{click:e.leftNextYear}}):e._e(),e.unlinkPanels?n("button",{staticClass:"el-picker-panel__icon-btn el-icon-arrow-right",class:{"is-disabled":!e.enableMonthArrow},attrs:{type:"button",disabled:!e.enableMonthArrow},on:{click:e.leftNextMonth}}):e._e(),n("div",[e._v(e._s(e.leftLabel))])]),n("date-table",{attrs:{"selection-mode":"range",date:e.leftDate,"default-value":e.defaultValue,"min-date":e.minDate,"max-date":e.maxDate,"range-state":e.rangeState,"disabled-date":e.disabledDate,"cell-class-name":e.cellClassName,"first-day-of-week":e.firstDayOfWeek},on:{changerange:e.handleChangeRange,pick:e.handleRangePick}})],1),n("div",{staticClass:"el-picker-panel__content el-date-range-picker__content is-right"},[n("div",{staticClass:"el-date-range-picker__header"},[e.unlinkPanels?n("button",{staticClass:"el-picker-panel__icon-btn el-icon-d-arrow-left",class:{"is-disabled":!e.enableYearArrow},attrs:{type:"button",disabled:!e.enableYearArrow},on:{click:e.rightPrevYear}}):e._e(),e.unlinkPanels?n("button",{staticClass:"el-picker-panel__icon-btn el-icon-arrow-left",class:{"is-disabled":!e.enableMonthArrow},attrs:{type:"button",disabled:!e.enableMonthArrow},on:{click:e.rightPrevMonth}}):e._e(),n("button",{staticClass:"el-picker-panel__icon-btn el-icon-d-arrow-right",attrs:{type:"button"},on:{click:e.rightNextYear}}),n("button",{staticClass:"el-picker-panel__icon-btn el-icon-arrow-right",attrs:{type:"button"},on:{click:e.rightNextMonth}}),n("div",[e._v(e._s(e.rightLabel))])]),n("date-table",{attrs:{"selection-mode":"range",date:e.rightDate,"default-value":e.defaultValue,"min-date":e.minDate,"max-date":e.maxDate,"range-state":e.rangeState,"disabled-date":e.disabledDate,"cell-class-name":e.cellClassName,"first-day-of-week":e.firstDayOfWeek},on:{changerange:e.handleChangeRange,pick:e.handleRangePick}})],1)])],2),e.showTime?n("div",{staticClass:"el-picker-panel__footer"},[n("el-button",{staticClass:"el-picker-panel__link-btn",attrs:{size:"mini",type:"text"},on:{click:e.handleClear}},[e._v("\n        "+e._s(e.t("el.datepicker.clear"))+"\n      ")]),n("el-button",{staticClass:"el-picker-panel__link-btn",attrs:{plain:"",size:"mini",disabled:e.btnDisabled},on:{click:function(t){e.handleConfirm(!1)}}},[e._v("\n        "+e._s(e.t("el.datepicker.confirm"))+"\n      ")])],1):e._e()])])}function Zi(e){return Array.isArray(e)?[new Date(e[0]),new Date(e[1])]:e?[new Date(e),ai(new Date(e),1)]:[new Date,ai(new Date,1)]}function Qi(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":function(t){e.$emit("dodestroy")}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-picker-panel el-date-range-picker el-popper",class:[{"has-sidebar":e.$slots.sidebar||e.shortcuts},e.popperClass]},[n("div",{staticClass:"el-picker-panel__body-wrapper"},[e._t("sidebar"),e.shortcuts?n("div",{staticClass:"el-picker-panel__sidebar"},e._l(e.shortcuts,(function(t,i){return n("button",{key:i,staticClass:"el-picker-panel__shortcut",attrs:{type:"button"},on:{click:function(n){e.handleShortcutClick(t)}}},[e._v(e._s(t.text))])})),0):e._e(),n("div",{staticClass:"el-picker-panel__body"},[n("div",{staticClass:"el-picker-panel__content el-date-range-picker__content is-left"},[n("div",{staticClass:"el-date-range-picker__header"},[n("button",{staticClass:"el-picker-panel__icon-btn el-icon-d-arrow-left",attrs:{type:"button"},on:{click:e.leftPrevYear}}),e.unlinkPanels?n("button",{staticClass:"el-picker-panel__icon-btn el-icon-d-arrow-right",class:{"is-disabled":!e.enableYearArrow},attrs:{type:"button",disabled:!e.enableYearArrow},on:{click:e.leftNextYear}}):e._e(),n("div",[e._v(e._s(e.leftLabel))])]),n("month-table",{attrs:{"selection-mode":"range",date:e.leftDate,"default-value":e.defaultValue,"min-date":e.minDate,"max-date":e.maxDate,"range-state":e.rangeState,"disabled-date":e.disabledDate},on:{changerange:e.handleChangeRange,pick:e.handleRangePick}})],1),n("div",{staticClass:"el-picker-panel__content el-date-range-picker__content is-right"},[n("div",{staticClass:"el-date-range-picker__header"},[e.unlinkPanels?n("button",{staticClass:"el-picker-panel__icon-btn el-icon-d-arrow-left",class:{"is-disabled":!e.enableYearArrow},attrs:{type:"button",disabled:!e.enableYearArrow},on:{click:e.rightPrevYear}}):e._e(),n("button",{staticClass:"el-picker-panel__icon-btn el-icon-d-arrow-right",attrs:{type:"button"},on:{click:e.rightNextYear}}),n("div",[e._v(e._s(e.rightLabel))])]),n("month-table",{attrs:{"selection-mode":"range",date:e.rightDate,"default-value":e.defaultValue,"min-date":e.minDate,"max-date":e.maxDate,"range-state":e.rangeState,"disabled-date":e.disabledDate},on:{changerange:e.handleChangeRange,pick:e.handleRangePick}})],1)])],2)])])}function Ki(e){return Array.isArray(e)?[new Date(e[0]),new Date(e[1])]:e?[new Date(e),Ei(new Date(e))]:[new Date,Ei(new Date)]}function Ji(e){return"daterange"===e||"datetimerange"===e?yr:"monthrange"===e?xr:gr}function er(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"el-zoom-in-top"},on:{"before-enter":e.handleMenuEnter,"after-leave":function(t){e.$emit("dodestroy")}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],ref:"popper",staticClass:"el-picker-panel time-select el-popper",class:e.popperClass,style:{width:e.width+"px"}},[n("el-scrollbar",{attrs:{noresize:"","wrap-class":"el-picker-panel__content"}},e._l(e.items,(function(t){return n("div",{key:t.value,staticClass:"time-select-item",class:{selected:e.value===t.value,disabled:t.disabled,default:t.value===e.defaultValue},attrs:{disabled:t.disabled},on:{click:function(n){e.handleClick(t)}}},[e._v(e._s(t.value))])})),0)],1)])}function tr(e){return 2<=(e=(e||"").split(":")).length?{hours:parseInt(e[0],10),minutes:parseInt(e[1],10)}:null}function nr(e,t){return e=tr(e),t=tr(t),(e=e.minutes+60*e.hours)===(t=t.minutes+60*t.hours)?0:t<e?1:-1}function ir(){var e=this,t=e.$createElement;return(t=e._self._c||t)("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":function(t){e.$emit("dodestroy")}}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-time-range-picker el-picker-panel el-popper",class:e.popperClass},[t("div",{staticClass:"el-time-range-picker__content"},[t("div",{staticClass:"el-time-range-picker__cell"},[t("div",{staticClass:"el-time-range-picker__header"},[e._v(e._s(e.t("el.datepicker.startTime")))]),t("div",{staticClass:"el-time-range-picker__body el-time-panel__content",class:{"has-seconds":e.showSeconds,"is-arrow":e.arrowControl}},[t("time-spinner",{ref:"minSpinner",attrs:{"show-seconds":e.showSeconds,"am-pm-mode":e.amPmMode,"arrow-control":e.arrowControl,date:e.minDate},on:{change:e.handleMinChange,"select-range":e.setMinSelectionRange}})],1)]),t("div",{staticClass:"el-time-range-picker__cell"},[t("div",{staticClass:"el-time-range-picker__header"},[e._v(e._s(e.t("el.datepicker.endTime")))]),t("div",{staticClass:"el-time-range-picker__body el-time-panel__content",class:{"has-seconds":e.showSeconds,"is-arrow":e.arrowControl}},[t("time-spinner",{ref:"maxSpinner",attrs:{"show-seconds":e.showSeconds,"am-pm-mode":e.amPmMode,"arrow-control":e.arrowControl,date:e.maxDate},on:{change:e.handleMaxChange,"select-range":e.setMaxSelectionRange}})],1)])]),t("div",{staticClass:"el-time-panel__footer"},[t("button",{staticClass:"el-time-panel__btn cancel",attrs:{type:"button"},on:{click:function(t){e.handleCancel()}}},[e._v(e._s(e.t("el.datepicker.cancel")))]),t("button",{staticClass:"el-time-panel__btn confirm",attrs:{type:"button",disabled:e.btnDisabled},on:{click:function(t){e.handleConfirm()}}},[e._v(e._s(e.t("el.datepicker.confirm")))])])])])}function rr(e){return cr(Sr,e.getFullYear(),e.getMonth(),e.getDate())}function ar(e,t){return new Date(Math.min(e.getTime()+t,rr(e).getTime()))}function or(){var e=this,t=e.$createElement;return(t=e._self._c||t)("span",[t("transition",{attrs:{name:e.transition},on:{"after-enter":e.handleAfterEnter,"after-leave":e.handleAfterLeave}},[t("div",{directives:[{name:"show",rawName:"v-show",value:!e.disabled&&e.showPopper,expression:"!disabled && showPopper"}],ref:"popper",staticClass:"el-popover el-popper",class:[e.popperClass,e.content&&"el-popover--plain"],style:{width:e.width+"px"},attrs:{role:"tooltip",id:e.tooltipId,"aria-hidden":e.disabled||!e.showPopper?"true":"false"}},[e.title?t("div",{staticClass:"el-popover__title",domProps:{textContent:e._s(e.title)}}):e._e(),e._t("default",[e._v(e._s(e.content))])],2)]),t("span",{ref:"wrapper",staticClass:"el-popover__reference-wrapper"},[e._t("reference")],2)],1)}function sr(e,t,n){t=t.expression?t.value:t.arg,(n=n.context.$refs[t])&&(Array.isArray(n)?n[0].$refs.reference=e:n.$refs.reference=e)}function lr(){var e=this,t=e.$createElement;return(t=e._self._c||t)("transition",{attrs:{name:"msgbox-fade"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-message-box__wrapper",attrs:{tabindex:"-1",role:"dialog","aria-modal":"true","aria-label":e.title||"dialog"},on:{click:function(t){return t.target!==t.currentTarget?null:e.handleWrapperClick(t)}}},[t("div",{staticClass:"el-message-box",class:[e.customClass,e.center&&"el-message-box--center"]},[null!==e.title?t("div",{staticClass:"el-message-box__header"},[t("div",{staticClass:"el-message-box__title"},[e.icon&&e.center?t("div",{class:["el-message-box__status",e.icon]}):e._e(),t("span",[e._v(e._s(e.title))])]),e.showClose?t("button",{staticClass:"el-message-box__headerbtn",attrs:{type:"button","aria-label":"Close"},on:{click:function(t){e.handleAction(e.distinguishCancelAndClose?"close":"cancel")},keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.handleAction(e.distinguishCancelAndClose?"close":"cancel")}}},[t("i",{staticClass:"el-message-box__close el-icon-close"})]):e._e()]):e._e(),t("div",{staticClass:"el-message-box__content"},[t("div",{staticClass:"el-message-box__container"},[e.icon&&!e.center&&""!==e.message?t("div",{class:["el-message-box__status",e.icon]}):e._e(),""!==e.message?t("div",{staticClass:"el-message-box__message"},[e._t("default",[e.dangerouslyUseHTMLString?t("p",{domProps:{innerHTML:e._s(e.message)}}):t("p",[e._v(e._s(e.message))])])],2):e._e()]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showInput,expression:"showInput"}],staticClass:"el-message-box__input"},[t("el-input",{ref:"input",attrs:{type:e.inputType,placeholder:e.inputPlaceholder},nativeOn:{keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleInputEnter(t):null}},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}),t("div",{staticClass:"el-message-box__errormsg",style:{visibility:e.editorErrorMessage?"visible":"hidden"}},[e._v(e._s(e.editorErrorMessage))])],1)]),t("div",{staticClass:"el-message-box__btns"},[e.showCancelButton?t("el-button",{class:[e.cancelButtonClasses],attrs:{loading:e.cancelButtonLoading,round:e.roundButton,size:"small"},on:{keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.handleAction("cancel")}},nativeOn:{click:function(t){e.handleAction("cancel")}}},[e._v("\n          "+e._s(e.cancelButtonText||e.t("el.messagebox.cancel"))+"\n        ")]):e._e(),t("el-button",{directives:[{name:"show",rawName:"v-show",value:e.showConfirmButton,expression:"showConfirmButton"}],ref:"confirm",class:[e.confirmButtonClasses],attrs:{loading:e.confirmButtonLoading,round:e.roundButton,size:"small"},on:{keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.handleAction("confirm")}},nativeOn:{click:function(t){e.handleAction("confirm")}}},[e._v("\n          "+e._s(e.confirmButtonText||e.t("el.messagebox.confirm"))+"\n        ")])],1)])])])}var cr=function(e,t,n,i){return new Date(t,n,i,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())},ur=(Xn={props:{appendToBody:Te.props.appendToBody,offset:Te.props.offset,boundariesPadding:Te.props.boundariesPadding,arrowOffset:Te.props.arrowOffset,transformOrigin:Te.props.transformOrigin},methods:Te.methods,data:function(){return W({visibleArrow:!0},Te.data)},beforeDestroy:Te.beforeDestroy},{date:"yyyy-MM-dd",month:"yyyy-MM",months:"yyyy-MM",datetime:"yyyy-MM-dd HH:mm:ss",time:"HH:mm:ss",week:"yyyywWW",timerange:"HH:mm:ss",daterange:"yyyy-MM-dd",monthrange:"yyyy-MM",datetimerange:"yyyy-MM-dd HH:mm:ss",year:"yyyy",years:"yyyy"}),hr=["date","datetime","time","time-select","week","month","year","daterange","monthrange","timerange","datetimerange","dates","months","years"],dr={default:{formatter:function(e){return e?""+e:""},parser:function(e){return void 0===e||""===e?null:e}},week:{formatter:function(e,t){var n=oi(e),i=e.getMonth();e=new Date(e),1===n&&11===i&&(e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7)),i=ti(e,t);return/WW/.test(i)?i.replace(/WW/,n<10?"0"+n:n):i.replace(/W/,n)},parser:function(e,t){return dr.date.parser(e,t)}},date:{formatter:ki,parser:Di},datetime:{formatter:ki,parser:Di},daterange:{formatter:Ii,parser:Ri},monthrange:{formatter:Ii,parser:Ri},datetimerange:{formatter:Ii,parser:Ri},timerange:{formatter:Ii,parser:Ri},time:{formatter:ki,parser:Di},month:{formatter:ki,parser:Di},year:{formatter:ki,parser:Di},number:{formatter:function(e){return e?""+e:""},parser:function(e){var t=Number(e);return isNaN(e)?null:t}},dates:{formatter:function(e,t){return e.map((function(e){return ki(e,t)}))},parser:function(e,t){return("string"==typeof e?e.split(", "):e).map((function(e){return e instanceof Date?e:Di(e,t)}))}},months:{formatter:function(e,t){return e.map((function(e){return ki(e,t)}))},parser:function(e,t){return("string"==typeof e?e.split(", "):e).map((function(e){return e instanceof Date?e:Di(e,t)}))}},years:{formatter:function(e,t){return e.map((function(e){return ki(e,t)}))},parser:function(e,t){return("string"==typeof e?e.split(", "):e).map((function(e){return e instanceof Date?e:Di(e,t)}))}}},fr={left:"bottom-start",center:"bottom",right:"bottom-end"},pr=(Un=((Mn=r({mixins:[l,Xn],inject:{elForm:{default:""},elFormItem:{default:""}},props:{size:String,format:String,valueFormat:String,readonly:Boolean,placeholder:String,startPlaceholder:String,endPlaceholder:String,prefixIcon:String,clearIcon:{type:String,default:"el-icon-circle-close"},name:{default:"",validator:Bi},disabled:Boolean,clearable:{type:Boolean,default:!0},id:{default:"",validator:Bi},popperClass:String,editable:{type:Boolean,default:!0},align:{type:String,default:"left"},value:{},defaultValue:{},defaultTime:{},rangeSeparator:{default:"-"},pickerOptions:{},unlinkPanels:Boolean,validateEvent:{type:Boolean,default:!0}},components:{ElInput:Q},directives:{Clickoutside:Be},data:function(){return{pickerVisible:!1,showClose:!1,userInput:null,valueOnOpen:null,unwatchPickerOptions:null}},watch:{pickerVisible:function(e){this.readonly||this.pickerDisabled||(e?(this.showPicker(),this.valueOnOpen=Array.isArray(this.value)?[].concat(this.value):this.value):(this.hidePicker(),this.emitChange(this.value),this.userInput=null,this.validateEvent&&this.dispatch("ElFormItem","el.form.blur"),this.$emit("blur",this),this.blur()))},parsedValue:{immediate:!0,handler:function(e){this.picker&&(this.picker.value=e)}},defaultValue:function(e){this.picker&&(this.picker.defaultValue=e)},value:function(e,t){Fi(e,t)||this.pickerVisible||!this.validateEvent||this.dispatch("ElFormItem","el.form.change",e)}},computed:{ranged:function(){return-1<this.type.indexOf("range")},reference:function(){var e=this.$refs.reference;return e.$el||e},refInput:function(){return this.reference?[].slice.call(this.reference.querySelectorAll("input")):[]},valueIsEmpty:function(){var e=this.value;if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(e[t])return!1}else if(e)return!1;return!0},triggerClass:function(){return this.prefixIcon||(-1!==this.type.indexOf("time")?"el-icon-time":"el-icon-date")},selectionMode:function(){return"week"===this.type?"week":"month"===this.type?"month":"year"===this.type?"year":"dates"===this.type?"dates":"months"===this.type?"months":"years"===this.type?"years":"day"},haveTrigger:function(){return void 0!==this.showTrigger?this.showTrigger:-1!==hr.indexOf(this.type)},displayValue:function(){var e=Oi(this.parsedValue,this.format,this.type,this.rangeSeparator);return Array.isArray(this.userInput)?[this.userInput[0]||e&&e[0]||"",this.userInput[1]||e&&e[1]||""]:null!==this.userInput?this.userInput:e?"dates"===this.type||"years"===this.type||"months"===this.type?e.join(", "):e:""},parsedValue:function(){return this.value&&("time-select"===this.type||ei(this.value)||Array.isArray(this.value)&&this.value.every(ei)?this.value:this.valueFormat?Ni(this.value,this.valueFormat,this.type,this.rangeSeparator)||this.value:Array.isArray(this.value)?this.value.map((function(e){return new Date(e)})):new Date(this.value))},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},pickerSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},pickerDisabled:function(){return this.disabled||(this.elForm||{}).disabled},firstInputId:function(){var e,t={};return(e=this.ranged?this.id&&this.id[0]:this.id)&&(t.id=e),t},secondInputId:function(){var e={},t=void 0;return(t=this.ranged?this.id&&this.id[1]:t)&&(e.id=t),e}},created:function(){this.popperOptions={boundariesPadding:0,gpuAcceleration:!1},this.placement=fr[this.align]||fr.left,this.$on("fieldReset",this.handleFieldReset)},methods:{focus:function(){this.ranged?this.handleFocus():this.$refs.reference.focus()},blur:function(){this.refInput.forEach((function(e){return e.blur()}))},parseValue:function(e){var t=ei(e)||Array.isArray(e)&&e.every(ei);return this.valueFormat&&!t&&Ni(e,this.valueFormat,this.type,this.rangeSeparator)||e},formatToValue:function(e){var t=ei(e)||Array.isArray(e)&&e.every(ei);return this.valueFormat&&t?Oi(e,this.valueFormat,this.type,this.rangeSeparator):e},parseString:function(e){var t=Array.isArray(e)?this.type:this.type.replace("range","");return Ni(e,this.format,t)},formatToString:function(e){var t=Array.isArray(e)?this.type:this.type.replace("range","");return Oi(e,this.format,t)},handleMouseEnter:function(){this.readonly||this.pickerDisabled||!this.valueIsEmpty&&this.clearable&&(this.showClose=!0)},handleChange:function(){var e;this.userInput&&(e=this.parseString(this.displayValue))&&(this.picker.value=e,this.isValidValue(e))&&(this.emitInput(e),this.userInput=null),""===this.userInput&&(this.emitInput(null),this.emitChange(null),this.userInput=null)},handleStartInput:function(e){this.userInput?this.userInput=[e.target.value,this.userInput[1]]:this.userInput=[e.target.value,null]},handleEndInput:function(e){this.userInput?this.userInput=[this.userInput[0],e.target.value]:this.userInput=[null,e.target.value]},handleStartChange:function(e){var t=this.parseString(this.userInput&&this.userInput[0]);t&&(this.userInput=[this.formatToString(t),this.displayValue[1]],t=[t,this.picker.value&&this.picker.value[1]],this.picker.value=t,this.isValidValue(t))&&(this.emitInput(t),this.userInput=null)},handleEndChange:function(e){var t=this.parseString(this.userInput&&this.userInput[1]);t&&(this.userInput=[this.displayValue[0],this.formatToString(t)],t=[this.picker.value&&this.picker.value[0],t],this.picker.value=t,this.isValidValue(t))&&(this.emitInput(t),this.userInput=null)},handleClickIcon:function(e){this.readonly||this.pickerDisabled||(this.showClose?(this.valueOnOpen=this.value,e.stopPropagation(),this.emitInput(null),this.emitChange(null),this.showClose=!1,this.picker&&"function"==typeof this.picker.handleClear&&this.picker.handleClear()):this.pickerVisible=!this.pickerVisible)},handleClose:function(){var e;this.pickerVisible&&(this.pickerVisible=!1,"dates"===this.type||"years"===this.type||"months"===this.type)&&(e=Ni(this.valueOnOpen,this.valueFormat,this.type,this.rangeSeparator)||this.valueOnOpen,this.emitInput(e))},handleFieldReset:function(e){this.userInput=""===e?null:e},handleFocus:function(){var e=this.type;-1===hr.indexOf(e)||this.pickerVisible||(this.pickerVisible=!0),this.$emit("focus",this)},handleKeydown:function(e){var t=this,n=e.keyCode;return 27===n?(this.pickerVisible=!1,void e.stopPropagation()):9!==n?13===n?(""!==this.userInput&&!this.isValidValue(this.parseString(this.displayValue))||(this.handleChange(),this.pickerVisible=this.picker.visible=!1,this.blur()),void e.stopPropagation()):void(this.userInput?e.stopPropagation():this.picker&&this.picker.handleKeydown&&this.picker.handleKeydown(e)):void(this.ranged?setTimeout((function(){-1===t.refInput.indexOf(document.activeElement)&&(t.pickerVisible=!1,t.blur(),e.stopPropagation())}),0):(this.handleChange(),this.pickerVisible=this.picker.visible=!1,this.blur(),e.stopPropagation()))},handleRangeClick:function(){var e=this.type;-1===hr.indexOf(e)||this.pickerVisible||(this.pickerVisible=!0),this.$emit("focus",this)},hidePicker:function(){this.picker&&(this.picker.resetView&&this.picker.resetView(),this.pickerVisible=this.picker.visible=!1,this.destroyPopper())},showPicker:function(){var e=this;this.$isServer||(this.picker||this.mountPicker(),this.pickerVisible=this.picker.visible=!0,this.updatePopper(),this.picker.value=this.parsedValue,this.picker.resetView&&this.picker.resetView(),this.$nextTick((function(){e.picker.adjustSpinners&&e.picker.adjustSpinners()})))},mountPicker:function(){function e(){var e,n,i,r,a=t.pickerOptions;for(r in a&&a.selectableRange&&(i=a.selectableRange,e=dr.datetimerange.parser,n=ur.timerange,i=Array.isArray(i)?i:[i],t.picker.selectableRange=i.map((function(i){return e(i,n,t.rangeSeparator)}))),a)a.hasOwnProperty(r)&&"selectableRange"!==r&&(t.picker[r]=a[r]);t.format&&(t.picker.format=t.format)}var t=this;this.picker=new u.a(this.panel).$mount(),this.picker.defaultValue=this.defaultValue,this.picker.defaultTime=this.defaultTime,this.picker.popperClass=this.popperClass,this.popperElm=this.picker.$el,this.picker.width=this.reference.getBoundingClientRect().width,this.picker.showTime="datetime"===this.type||"datetimerange"===this.type,this.picker.selectionMode=this.selectionMode,this.picker.unlinkPanels=this.unlinkPanels,this.picker.arrowControl=this.arrowControl||this.timeArrowControl||!1,this.$watch("format",(function(e){t.picker.format=e})),e(),this.unwatchPickerOptions=this.$watch("pickerOptions",e,{deep:!0}),this.$el.appendChild(this.picker.$el),this.picker.resetView&&this.picker.resetView(),this.picker.$on("dodestroy",this.doDestroy),this.picker.$on("pick",(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",n=1<arguments.length&&void 0!==arguments[1]&&arguments[1];t.userInput=null,t.pickerVisible=t.picker.visible=n,t.emitInput(e),t.picker.resetView&&t.picker.resetView()})),this.picker.$on("select-range",(function(e,n,i){0!==t.refInput.length&&(i&&"min"!==i?"max"===i&&(t.refInput[1].setSelectionRange(e,n),t.refInput[1].focus()):(t.refInput[0].setSelectionRange(e,n),t.refInput[0].focus()))}))},unmountPicker:function(){this.picker&&(this.picker.$destroy(),this.picker.$off(),"function"==typeof this.unwatchPickerOptions&&this.unwatchPickerOptions(),this.picker.$el.parentNode.removeChild(this.picker.$el))},emitChange:function(e){Fi(e,this.valueOnOpen)||(this.$emit("change",e),this.valueOnOpen=e,this.validateEvent&&this.dispatch("ElFormItem","el.form.change",e))},emitInput:function(e){e=this.formatToValue(e),Fi(this.value,e)||this.$emit("input",e)},isValidValue:function(e){return this.picker||this.mountPicker(),!this.picker.isValidValue||e&&this.picker.isValidValue(e)}}},Kn,[],!1,null,null,null)).options.__file="packages/date-picker/src/picker.vue",Mn.exports),Xn=(Vi._withStripped=Ui._withStripped=Hi._withStripped=!0,r({components:{ElScrollbar:ze},directives:{repeatClick:nn},props:{date:{},defaultValue:{},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:String,default:""}},computed:{hours:function(){return this.date.getHours()},minutes:function(){return this.date.getMinutes()},seconds:function(){return this.date.getSeconds()},hoursList:function(){var e=this.selectableRange,t=[],n=[];if((e||[]).forEach((function(e){e=e.map((function(e){return e.getHours()})),n=n.concat(function(e,t){for(var n=[],i=e;i<=t;i++)n.push(i);return n}(e[0],e[1]))})),n.length)for(var i=0;i<24;i++)t[i]=-1===n.indexOf(i);else for(var r=0;r<24;r++)t[r]=!1;return t},minutesList:function(){return e=this.selectableRange,t=this.hours,n=new Array(60),0<e.length?e.forEach((function(e){var i=e[0],r=(e=e[1],i.getHours()),a=(i=i.getMinutes(),e.getHours());e=e.getMinutes();r===t&&a!==t?mi(n,i,60,!0):r===t&&a===t?mi(n,i,e+1,!0):r!==t&&a===t?mi(n,0,e+1,!0):r<t&&t<a&&mi(n,0,60,!0)})):mi(n,0,60,!0),n;var e,t,n},arrowHourList:function(){var e=this.hours;return[0<e?e-1:void 0,e,e<23?e+1:void 0]},arrowMinuteList:function(){var e=this.minutes;return[0<e?e-1:void 0,e,e<59?e+1:void 0]},arrowSecondList:function(){var e=this.seconds;return[0<e?e-1:void 0,e,e<59?e+1:void 0]}},data:function(){return{selectableRange:[],currentScrollbar:null}},mounted:function(){var e=this;this.$nextTick((function(){e.arrowControl||e.bindScrollEvent()}))},methods:{increase:function(){this.scrollDown(1)},decrease:function(){this.scrollDown(-1)},modifyDateField:function(e,t){switch(e){case"hours":this.$emit("change",gi(this.date,t,this.minutes,this.seconds));break;case"minutes":this.$emit("change",gi(this.date,this.hours,t,this.seconds));break;case"seconds":this.$emit("change",gi(this.date,this.hours,this.minutes,t))}},handleClick:function(e,t){var n=t.value;t.disabled||(this.modifyDateField(e,n),this.emitSelectRange(e),this.adjustSpinner(e,n))},emitSelectRange:function(e){"hours"===e?this.$emit("select-range",0,2):"minutes"===e?this.$emit("select-range",3,5):"seconds"===e&&this.$emit("select-range",6,8),this.currentScrollbar=e},bindScrollEvent:function(){function e(e){t.$refs[e].wrap.onscroll=function(n){t.handleScroll(e,n)}}var t=this;e("hours"),e("minutes"),e("seconds")},handleScroll:function(e){var t=Math.min(Math.round((this.$refs[e].wrap.scrollTop-(.5*this.scrollBarHeight(e)-10)/this.typeItemHeight(e)+3)/this.typeItemHeight(e)),"hours"===e?23:59);this.modifyDateField(e,t)},adjustSpinners:function(){this.adjustSpinner("hours",this.hours),this.adjustSpinner("minutes",this.minutes),this.adjustSpinner("seconds",this.seconds)},adjustCurrentSpinner:function(e){this.adjustSpinner(e,this[e])},adjustSpinner:function(e,t){var n;this.arrowControl||(n=this.$refs[e].wrap)&&(n.scrollTop=Math.max(0,t*this.typeItemHeight(e)))},scrollDown:function(e){var t=this,n=(this.currentScrollbar||this.emitSelectRange("hours"),this.currentScrollbar),i=this.hoursList,r=this[n];if("hours"===this.currentScrollbar){var a=Math.abs(e);e=0<e?1:-1;for(var o=i.length;o--&&a;)i[r=(r+e+i.length)%i.length]||a--;if(i[r])return}else r=(r+e+60)%60;this.modifyDateField(n,r),this.adjustSpinner(n,r),this.$nextTick((function(){return t.emitSelectRange(t.currentScrollbar)}))},amPm:function(e){return"a"!==this.amPmMode.toLowerCase()?"":(e=e<12?" am":" pm","A"===this.amPmMode?e.toUpperCase():e)},typeItemHeight:function(e){return this.$refs[e].$el.querySelector("li").offsetHeight},scrollBarHeight:function(e){return this.$refs[e].$el.offsetHeight}}},Vi,[],!1,null,null,null)),(nn=r({mixins:[c],components:{TimeSpinner:Mn=(Xn.options.__file="packages/date-picker/src/basic/time-spinner.vue",Xn.exports)},props:{visible:Boolean,timeArrowControl:Boolean},watch:{visible:function(e){var t=this;e?(this.oldValue=this.value,this.$nextTick((function(){return t.$refs.spinner.emitSelectRange("hours")}))):this.needInitAdjust=!0},value:function(e){var t=this,n=void 0;e instanceof Date?n=wi(e,this.selectableRange,this.format):e||(n=this.defaultValue?new Date(this.defaultValue):new Date),this.date=n,this.visible&&this.needInitAdjust&&(this.$nextTick((function(e){return t.adjustSpinners()})),this.needInitAdjust=!1)},selectableRange:function(e){this.$refs.spinner.selectableRange=e},defaultValue:function(e){Jn(this.value)||(this.date=e?new Date(e):new Date)}},data:function(){return{popperClass:"",format:"HH:mm:ss",value:"",defaultValue:null,date:new Date,oldValue:new Date,selectableRange:[],selectionRange:[0,2],disabled:!1,arrowControl:!1,needInitAdjust:!0}},computed:{showSeconds:function(){return-1!==(this.format||"").indexOf("ss")},useArrow:function(){return this.arrowControl||this.timeArrowControl||!1},amPmMode:function(){return-1!==(this.format||"").indexOf("A")?"A":-1!==(this.format||"").indexOf("a")?"a":""}},methods:{handleCancel:function(){this.$emit("pick",this.oldValue,!1)},handleChange:function(e){this.visible&&(this.date=bi(e),this.isValidValue(this.date))&&this.$emit("pick",this.date,!0)},setSelectionRange:function(e,t){this.$emit("select-range",e,t),this.selectionRange=[e,t]},handleConfirm:function(){var e,t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],n=arguments[1];n||(e=bi(wi(this.date,this.selectableRange,this.format)),this.$emit("pick",e,t,n))},handleKeydown:function(e){var t=e.keyCode,n={38:-1,40:1,37:-1,39:1};37===t||39===t?(this.changeSelectionRange(n[t]),e.preventDefault()):38!==t&&40!==t||(this.$refs.spinner.scrollDown(n[t]),e.preventDefault())},isValidValue:function(e){return _i(e,this.selectableRange,this.format)},adjustSpinners:function(){return this.$refs.spinner.adjustSpinners()},changeSelectionRange:function(e){var t=[0,3].concat(this.showSeconds?[6]:[]),n=["hours","minutes"].concat(this.showSeconds?["seconds"]:[]);e=(t.indexOf(this.selectionRange[0])+e+t.length)%t.length;this.$refs.spinner.emitSelectRange(n[e])}},mounted:function(){var e=this;this.$nextTick((function(){return e.handleConfirm(!0,!0)})),this.$emit("mounted")}},Ui,[],!1,null,null,null)).options.__file="packages/date-picker/src/panel/time.vue",nn.exports),mr=(nn=((Xn=(Gi._withStripped=!0,r({props:{disabledDate:{},value:{},defaultValue:{validator:function(e){return null===e||e instanceof Date&&Jn(e)}},date:{},selectionMode:{}},computed:{startYear:function(){return 10*Math.floor(this.date.getFullYear()/10)}},methods:{getCellStyle:function(e){var t,n,i,r={},a=new Date;return r.disabled="function"==typeof this.disabledDate&&(n=(t=e)%400==0||t%100!=0&&t%4==0?366:365,i=new Date(t,0,1),vi(n).map((function(e){return ai(i,e)})).every(this.disabledDate)),r.current=0<=E(C(this.value),(function(t){return t.getFullYear()===e})),r.today=a.getFullYear()===e,r.default=this.defaultValue&&this.defaultValue.getFullYear()===e,r},handleYearTableClick:function(e){var t,n;"A"!==(e=e.target).tagName||re(e.parentNode,"disabled")||(t=e.textContent||e.innerText,"years"===this.selectionMode?(n=-1<(n=E(e=this.value||[],(function(e){return e.getFullYear()===Number(t)})))?[].concat(e.slice(0,n),e.slice(n+1)):[].concat(e,[new Date(t)]),this.$emit("pick",n)):this.$emit("pick",Number(t)))}}},Gi,[],!1,null,null,null))).options.__file="packages/date-picker/src/basic/year-table.vue",Xn.exports),Xn=((Xn=(ji._withStripped=!0,r({props:{disabledDate:{},value:{},selectionMode:{default:"month"},minDate:{},maxDate:{},defaultValue:{validator:function(e){return null===e||Jn(e)||Array.isArray(e)&&e.every(Jn)}},date:{},rangeState:{default:function(){return{endDate:null,selecting:!1}}}},mixins:[c],watch:{"rangeState.endDate":function(e){this.markRange(this.minDate,e)},minDate:function(e,t){Xi(e)!==Xi(t)&&this.markRange(this.minDate,this.maxDate)},maxDate:function(e,t){Xi(e)!==Xi(t)&&this.markRange(this.minDate,this.maxDate)}},data:function(){return{months:["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],tableRows:[[],[],[]],lastRow:null,lastColumn:null}},methods:{cellMatchesDate:function(e,t){return t=new Date(t),this.date.getFullYear()===t.getFullYear()&&Number(e.text)===t.getMonth()},getCellStyle:function(e){var t,n,i,r,a=this,o={},s=this.date.getFullYear(),l=new Date,c=e.text,u=this.defaultValue?Array.isArray(this.defaultValue)?this.defaultValue:[this.defaultValue]:[];return o.disabled="function"==typeof this.disabledDate&&(i=pi(t=s,n=c),r=new Date(t,n,1),vi(i).map((function(e){return ai(r,e)})).every(this.disabledDate)),o.current=0<=E(C(this.value),(function(e){return e.getFullYear()===s&&e.getMonth()===c})),o.today=l.getFullYear()===s&&l.getMonth()===c,o.default=u.some((function(t){return a.cellMatchesDate(e,t)})),e.inRange&&(o["in-range"]=!0,e.start&&(o["start-date"]=!0),e.end)&&(o["end-date"]=!0),o},getMonthOfCell:function(e){var t=this.date.getFullYear();return new Date(t,e,1)},markRange:function(e,t){e=Xi(e),t=Xi(t)||e;var n=[Math.min(e,t),Math.max(e,t)];e=n[0],t=n[1];for(var i=this.rows,r=0,a=i.length;r<a;r++)for(var o=i[r],s=0,l=o.length;s<l;s++){var c=o[s],u=4*r+s;u=new Date(this.date.getFullYear(),u).getTime();c.inRange=e&&e<=u&&u<=t,c.start=e&&u===e,c.end=t&&u===t}},handleMouseMove:function(e){var t;this.rangeState.selecting&&"TD"===(e="DIV"===(e="A"===(e=e.target).tagName?e.parentNode.parentNode:e).tagName?e.parentNode:e).tagName&&(t=e.parentNode.rowIndex,e=e.cellIndex,this.rows[t][e].disabled||t===this.lastRow&&e===this.lastColumn||(this.lastRow=t,this.lastColumn=e,this.$emit("changerange",{minDate:this.minDate,maxDate:this.maxDate,rangeState:{selecting:!0,endDate:this.getMonthOfCell(4*t+e)}})))},handleMonthTableClick:function(e){var t,n,i,r,a;"TD"!==(e="DIV"===(e="A"===(e=e.target).tagName?e.parentNode.parentNode:e).tagName?e.parentNode:e).tagName||re(e,"disabled")||(t=e.cellIndex,n=4*e.parentNode.rowIndex+t,i=this.getMonthOfCell(n),"range"===this.selectionMode?this.rangeState.selecting?(i>=this.minDate?this.$emit("pick",{minDate:this.minDate,maxDate:i}):this.$emit("pick",{minDate:i,maxDate:this.minDate}),this.rangeState.selecting=!1):(this.$emit("pick",{minDate:i,maxDate:null}),this.rangeState.selecting=!0):"months"===this.selectionMode?(e=this.value||[],r=this.date.getFullYear(),a=0<=E(e,(function(e){return e.getFullYear()===r&&e.getMonth()===n}))?(t=e,0<=(a="function"==typeof(a=function(e){return e.getTime()===i.getTime()})?E(t,a):t.indexOf(a))?[].concat(t.slice(0,a),t.slice(a+1)):t):[].concat(e,[i]),this.$emit("pick",a)):this.$emit("pick",n))}},computed:{rows:function(){for(var e=this,t=this.tableRows,n=this.disabledDate,i=[],r=Xi(new Date),a=0;a<3;a++)for(var o=t[a],s=0;s<4;s++)!function(t){var s=o[t],l=((s=s||{row:a,column:t,type:"normal",inRange:!1,start:!1,end:!1}).type="normal",4*a+t),c=new Date(e.date.getFullYear(),l).getTime(),u=(s.inRange=c>=Xi(e.minDate)&&c<=Xi(e.maxDate),s.start=e.minDate&&c===Xi(e.minDate),s.end=e.maxDate&&c===Xi(e.maxDate),c===r&&(s.type="today"),s.text=l,new Date(c));s.disabled="function"==typeof n&&n(u),s.selected=T(i,(function(e){return e.getTime()===u.getTime()})),e.$set(o,t,s)}(s);return t}}},ji,[],!1,null,null,null))).options.__file="packages/date-picker/src/basic/month-table.vue",Xn.exports),qi._withStripped=!0,["sun","mon","tue","wed","thu","fri","sat"]),vr=((vr=r({mixins:[c],props:{firstDayOfWeek:{default:7,type:Number,validator:function(e){return 1<=e&&e<=7}},value:{},defaultValue:{validator:function(e){return null===e||Jn(e)||Array.isArray(e)&&e.every(Jn)}},date:{},selectionMode:{default:"day"},showWeekNumber:{type:Boolean,default:!1},disabledDate:{},cellClassName:{},minDate:{},maxDate:{},rangeState:{default:function(){return{endDate:null,selecting:!1}}}},computed:{offsetDay:function(){var e=this.firstDayOfWeek;return 3<e?7-e:-e},WEEKS:function(){var e=this.firstDayOfWeek;return mr.concat(mr).slice(e,e+7)},year:function(){return this.date.getFullYear()},month:function(){return this.date.getMonth()},startDate:function(){return e=this.year,t=this.month,t=(e=new Date(e,t,1)).getDay(),ri(e,0===t?7:t);var e,t},rows:function(){for(var e=this,t=new Date(this.year,this.month,1),n=ii(t),i=pi(t.getFullYear(),t.getMonth()),r=pi(t.getFullYear(),0===t.getMonth()?11:t.getMonth()-1),a=(n=0===n?7:n,this.offsetDay),o=this.tableRows,s=1,l=this.startDate,c=this.disabledDate,u=this.cellClassName,h="dates"===this.selectionMode?C(this.value):[],d=Yi(new Date),f=0;f<6;f++){var p=o[f];!this.showWeekNumber||p[0]||(p[0]={type:"week",text:oi(ai(l,7*f+1))});for(var m,v,g,y=0;y<7;y++)!function(t){var o,m=p[e.showWeekNumber?t+1:t],v=((m=m||{row:f,column:t,type:"normal",inRange:!1,start:!1,end:!1}).type="normal",ai(l,7*f+t-a).getTime()),g=(m.inRange=v>=Yi(e.minDate)&&v<=Yi(e.maxDate),m.start=e.minDate&&v===Yi(e.minDate),m.end=e.maxDate&&v===Yi(e.maxDate),v===d&&(m.type="today"),0<=f&&f<=1?(o=n+a<0?7+n+a:n+a)<=t+7*f?m.text=s++:(m.text=r-(o-t%7)+1+7*f,m.type="prev-month"):s<=i?m.text=s++:(m.text=s++-i,m.type="next-month"),new Date(v));m.disabled="function"==typeof c&&c(g),m.selected=T(h,(function(e){return e.getTime()===g.getTime()})),m.customClass="function"==typeof u&&u(g),e.$set(p,e.showWeekNumber?t+1:t,m)}(y);"week"===this.selectionMode&&(m=this.showWeekNumber?1:0,v=this.showWeekNumber?7:6,g=this.isWeekActive(p[1+m]),p[m].inRange=g,p[m].start=g,p[v].inRange=g,p[v].end=g)}return o}},watch:{"rangeState.endDate":function(e){this.markRange(this.minDate,e)},minDate:function(e,t){Yi(e)!==Yi(t)&&this.markRange(this.minDate,this.maxDate)},maxDate:function(e,t){Yi(e)!==Yi(t)&&this.markRange(this.minDate,this.maxDate)}},data:function(){return{tableRows:[[],[],[],[],[],[]],lastRow:null,lastColumn:null}},methods:{cellMatchesDate:function(e,t){return t=new Date(t),this.year===t.getFullYear()&&this.month===t.getMonth()&&Number(e.text)===t.getDate()},getCellClasses:function(e){var t=this,n=this.selectionMode,i=this.defaultValue?Array.isArray(this.defaultValue)?this.defaultValue:[this.defaultValue]:[],r=[];return"normal"!==e.type&&"today"!==e.type||e.disabled?r.push(e.type):(r.push("available"),"today"===e.type&&r.push("today")),"normal"===e.type&&i.some((function(n){return t.cellMatchesDate(e,n)}))&&r.push("default"),"day"!==n||"normal"!==e.type&&"today"!==e.type||!this.cellMatchesDate(e,this.value)||r.push("current"),!e.inRange||"normal"!==e.type&&"today"!==e.type&&"week"!==this.selectionMode||(r.push("in-range"),e.start&&r.push("start-date"),e.end&&r.push("end-date")),e.disabled&&r.push("disabled"),e.selected&&r.push("selected"),e.customClass&&r.push(e.customClass),r.join(" ")},getDateOfCell:function(e,t){return e=7*e+(t-(this.showWeekNumber?1:0))-this.offsetDay,ai(this.startDate,e)},isWeekActive:function(e){var t,n,i;return"week"===this.selectionMode&&(n=(t=new Date(this.year,this.month,1)).getFullYear(),i=t.getMonth(),"prev-month"===e.type&&(t.setMonth(0===i?11:i-1),t.setFullYear(0===i?n-1:n)),"next-month"===e.type&&(t.setMonth(11===i?0:i+1),t.setFullYear(11===i?n+1:n)),t.setDate(parseInt(e.text,10)),!!Jn(this.value))&&(i=(this.value.getDay()-this.firstDayOfWeek+7)%7-1,ri(this.value,i).getTime()===t.getTime())},markRange:function(e,t){e=Yi(e),t=Yi(t)||e;var n=[Math.min(e,t),Math.max(e,t)];e=n[0],t=n[1];for(var i,r,a=this.startDate,o=this.rows,s=0,l=o.length;s<l;s++)for(var c=o[s],u=0,h=c.length;u<h;u++)this.showWeekNumber&&0===u||(i=c[u],r=ai(a,(r=7*s+u+(this.showWeekNumber?-1:0))-this.offsetDay).getTime(),i.inRange=e&&e<=r&&r<=t,i.start=e&&r===e,i.end=t&&r===t)},handleMouseMove:function(e){var t;this.rangeState.selecting&&"TD"===(e="DIV"===(e="SPAN"===(e=e.target).tagName?e.parentNode.parentNode:e).tagName?e.parentNode:e).tagName&&(t=e.parentNode.rowIndex-1,e=e.cellIndex,this.rows[t][e].disabled||t===this.lastRow&&e===this.lastColumn||(this.lastRow=t,this.lastColumn=e,this.$emit("changerange",{minDate:this.minDate,maxDate:this.maxDate,rangeState:{selecting:!0,endDate:this.getDateOfCell(t,e)}})))},handleClick:function(e){var t,n,i;"TD"===(e="DIV"===(e="SPAN"===(e=e.target).tagName?e.parentNode.parentNode:e).tagName?e.parentNode:e).tagName&&(n=e.parentNode.rowIndex-1,e="week"===this.selectionMode?1:e.cellIndex,(i=this.rows[n][e]).disabled||"week"===i.type||(t=this.getDateOfCell(n,e),"range"===this.selectionMode?this.rangeState.selecting?(t>=this.minDate?this.$emit("pick",{minDate:this.minDate,maxDate:t}):this.$emit("pick",{minDate:t,maxDate:this.minDate}),this.rangeState.selecting=!1):(this.$emit("pick",{minDate:t,maxDate:null}),this.rangeState.selecting=!0):"day"===this.selectionMode?this.$emit("pick",t):"week"===this.selectionMode?(n=oi(t),e=t.getFullYear()+"w"+n,this.$emit("pick",{year:t.getFullYear(),week:n,value:e,date:t})):"dates"===this.selectionMode&&(n=this.value||[],i=i.selected?(e=n,0<=(i="function"==typeof(i=function(e){return e.getTime()===t.getTime()})?E(e,i):e.indexOf(i))?[].concat(e.slice(0,i),e.slice(i+1)):e):[].concat(n,[t]),this.$emit("pick",i))))}}},qi,[],!1,null,null,null)).options.__file="packages/date-picker/src/basic/date-table.vue",vr.exports),gr=((nn=r({mixins:[c],directives:{Clickoutside:Be},watch:{showTime:function(e){var t=this;e&&this.$nextTick((function(e){var n=t.$refs.input.$el;n&&(t.pickerWidth=n.getBoundingClientRect().width+10)}))},value:function(e){"dates"===this.selectionMode&&this.value||"months"===this.selectionMode&&this.value||"years"===this.selectionMode&&this.value||(Jn(e)?this.date=new Date(e):this.date=this.getDefaultValue())},defaultValue:function(e){Jn(this.value)||(this.date=e?new Date(e):new Date)},timePickerVisible:function(e){var t=this;e&&this.$nextTick((function(){return t.$refs.timepicker.adjustSpinners()}))},selectionMode:function(e){"month"===e?"year"===this.currentView&&"month"===this.currentView||(this.currentView="month"):"dates"===e?this.currentView="date":"years"===e?this.currentView="year":"months"===e&&(this.currentView="month")}},methods:{proxyTimePickerDataProperties:function(){function e(e){r.$refs.timepicker.value=e}function t(e){r.$refs.timepicker.date=e}function n(e){r.$refs.timepicker.selectableRange=e}var i,r=this;this.$watch("value",e),this.$watch("date",t),this.$watch("selectableRange",n),i=this.timeFormat,r.$refs.timepicker.format=i,e(this.value),t(this.date),n(this.selectableRange)},handleClear:function(){this.date=this.getDefaultValue(),this.$emit("pick",null)},emit:function(e){for(var t,n=this,i=arguments.length,r=Array(1<i?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];e?Array.isArray(e)?(t=e.map((function(e){return(n.showTime?bi:xi)(e)})),this.$emit.apply(this,["pick",t].concat(r))):this.$emit.apply(this,["pick",(this.showTime?bi:xi)(e)].concat(r)):this.$emit.apply(this,["pick",e].concat(r)),this.userInputDate=null,this.userInputTime=null},showMonthPicker:function(){this.currentView="month"},showYearPicker:function(){this.currentView="year"},prevMonth:function(){this.date=Si(this.date)},nextMonth:function(){this.date=Ei(this.date)},prevYear:function(){"year"===this.currentView?this.date=Ti(this.date,10):this.date=Ti(this.date)},nextYear:function(){"year"===this.currentView?this.date=Ci(this.date,10):this.date=Ci(this.date)},handleShortcutClick:function(e){e.onClick&&e.onClick(this)},handleTimePick:function(e,t,n){var i;Jn(e)?(i=this.value?gi(this.value,e.getHours(),e.getMinutes(),e.getSeconds()):yi(this.getDefaultValue(),this.defaultTime),this.date=i,this.emit(this.date,!0)):this.emit(e,!0),n||(this.timePickerVisible=t)},handleTimePickClose:function(){this.timePickerVisible=!1},handleMonthPick:function(e){"month"===this.selectionMode?(this.date=cr(this.date,this.year,e,1),this.emit(this.date)):"months"===this.selectionMode?this.emit(e,!0):(this.date=Mi(this.date,this.year,e),this.currentView="date")},handleDatePick:function(e){var t;"day"===this.selectionMode?(t=this.value?cr(this.value,e.getFullYear(),e.getMonth(),e.getDate()):yi(e,this.defaultTime),this.checkDateWithinRange(t)||(t=cr(this.selectableRange[0][0],e.getFullYear(),e.getMonth(),e.getDate())),this.date=t,this.emit(this.date,this.showTime)):"week"===this.selectionMode?this.emit(e.date):"dates"===this.selectionMode&&this.emit(e,!0)},handleYearPick:function(e){"year"===this.selectionMode?(this.date=cr(this.date,e,0,1),this.emit(this.date)):"years"===this.selectionMode?this.emit(e,!0):(this.date=Mi(this.date,e,this.month),this.currentView="month")},changeToNow:function(){this.disabledDate&&this.disabledDate(new Date)||!this.checkDateWithinRange(new Date)||(this.date=new Date,this.emit(this.date))},confirm:function(){var e;"dates"===this.selectionMode||"months"===this.selectionMode||"years"===this.selectionMode?this.emit(this.value):(e=this.value||yi(this.getDefaultValue(),this.defaultTime),this.date=new Date(e),this.emit(e))},resetView:function(){"month"===this.selectionMode||"months"===this.selectionMode?this.currentView="month":"year"===this.selectionMode||"years"===this.selectionMode?this.currentView="year":this.currentView="date"},handleEnter:function(){document.body.addEventListener("keydown",this.handleKeydown)},handleLeave:function(){this.$emit("dodestroy"),document.body.removeEventListener("keydown",this.handleKeydown)},handleKeydown:function(e){var t=e.keyCode;this.visible&&!this.timePickerVisible&&(-1!==[38,40,37,39].indexOf(t)&&(this.handleKeyControl(t),e.stopPropagation(),e.preventDefault()),13===t)&&null===this.userInputDate&&null===this.userInputTime&&this.emit(this.date,!1)},handleKeyControl:function(e){for(var t={year:{38:-4,40:4,37:-1,39:1,offset:function(e,t){return e.setFullYear(e.getFullYear()+t)}},month:{38:-4,40:4,37:-1,39:1,offset:function(e,t){return e.setMonth(e.getMonth()+t)}},week:{38:-1,40:1,37:-1,39:1,offset:function(e,t){return e.setDate(e.getDate()+7*t)}},day:{38:-7,40:7,37:-1,39:1,offset:function(e,t){return e.setDate(e.getDate()+t)}}},n=this.selectionMode,i=this.date.getTime(),r=new Date(this.date.getTime());Math.abs(i-r.getTime())<=31536e6;){var a=t[n];if(a.offset(r,a[e]),"function"!=typeof this.disabledDate||!this.disabledDate(r)){this.date=r,this.$emit("pick",r,!0);break}}},handleVisibleTimeChange:function(e){(e=ni(e,this.timeFormat))&&this.checkDateWithinRange(e)&&(this.date=cr(e,this.year,this.month,this.monthDate),this.userInputTime=null,this.$refs.timepicker.value=this.date,this.timePickerVisible=!1,this.emit(this.date,!0))},handleVisibleDateChange:function(e){!(e=ni(e,this.dateFormat))||"function"==typeof this.disabledDate&&this.disabledDate(e)||(this.date=gi(e,this.date.getHours(),this.date.getMinutes(),this.date.getSeconds()),this.userInputDate=null,this.resetView(),this.emit(this.date,!0))},isValidValue:function(e){return e&&!isNaN(e)&&("function"!=typeof this.disabledDate||!this.disabledDate(e))&&this.checkDateWithinRange(e)},getDefaultValue:function(){return this.defaultValue?new Date(this.defaultValue):new Date},checkDateWithinRange:function(e){return!(0<this.selectableRange.length)||_i(e,this.selectableRange,this.format||"HH:mm:ss")}},components:{TimePicker:pr,YearTable:nn,MonthTable:Xn,DateTable:vr,ElInput:Q,ElButton:dt},data:function(){return{popperClass:"",date:new Date,value:"",defaultValue:null,defaultTime:null,showTime:!1,selectionMode:"day",shortcuts:"",visible:!1,currentView:"date",disabledDate:"",cellClassName:"",selectableRange:[],firstDayOfWeek:7,showWeekNumber:!1,timePickerVisible:!1,format:"",arrowControl:!1,userInputDate:null,userInputTime:null}},computed:{year:function(){return this.date.getFullYear()},month:function(){return this.date.getMonth()},week:function(){return oi(this.date)},monthDate:function(){return this.date.getDate()},footerVisible:function(){return this.showTime||"dates"===this.selectionMode||"months"===this.selectionMode||"years"===this.selectionMode},visibleTime:function(){return null!==this.userInputTime?this.userInputTime:ti(this.value||this.defaultValue,this.timeFormat)},visibleDate:function(){return null!==this.userInputDate?this.userInputDate:ti(this.value||this.defaultValue,this.dateFormat)},yearLabel:function(){var e,t=this.t("el.datepicker.year");return"year"===this.currentView?(e=10*Math.floor(this.year/10),t?e+" "+t+" - "+(9+e)+" "+t:e+" - "+(9+e)):this.year+" "+t},timeFormat:function(){return this.format?Li(this.format):"HH:mm:ss"},dateFormat:function(){return this.format?Ai(this.format):"yyyy-MM-dd"}}},Hi,[],!1,null,null,null)).options.__file="packages/date-picker/src/panel/date.vue",nn.exports),yr=((nn=($i._withStripped=!0,r({mixins:[c],directives:{Clickoutside:Be},computed:{btnDisabled:function(){return!(this.minDate&&this.maxDate&&!this.selecting&&this.isValidValue([this.minDate,this.maxDate]))},leftLabel:function(){return this.leftDate.getFullYear()+" "+this.t("el.datepicker.year")+" "+this.t("el.datepicker.month"+(this.leftDate.getMonth()+1))},rightLabel:function(){return this.rightDate.getFullYear()+" "+this.t("el.datepicker.year")+" "+this.t("el.datepicker.month"+(this.rightDate.getMonth()+1))},leftYear:function(){return this.leftDate.getFullYear()},leftMonth:function(){return this.leftDate.getMonth()},leftMonthDate:function(){return this.leftDate.getDate()},rightYear:function(){return this.rightDate.getFullYear()},rightMonth:function(){return this.rightDate.getMonth()},rightMonthDate:function(){return this.rightDate.getDate()},minVisibleDate:function(){return null!==this.dateUserInput.min?this.dateUserInput.min:this.minDate?ti(this.minDate,this.dateFormat):""},maxVisibleDate:function(){return null!==this.dateUserInput.max?this.dateUserInput.max:this.maxDate||this.minDate?ti(this.maxDate||this.minDate,this.dateFormat):""},minVisibleTime:function(){return null!==this.timeUserInput.min?this.timeUserInput.min:this.minDate?ti(this.minDate,this.timeFormat):""},maxVisibleTime:function(){return null!==this.timeUserInput.max?this.timeUserInput.max:this.maxDate||this.minDate?ti(this.maxDate||this.minDate,this.timeFormat):""},timeFormat:function(){return this.format?Li(this.format):"HH:mm:ss"},dateFormat:function(){return this.format?Ai(this.format):"yyyy-MM-dd"},enableMonthArrow:function(){var e=(this.leftMonth+1)%12,t=12<=this.leftMonth+1?1:0;return this.unlinkPanels&&new Date(this.leftYear+t,e)<new Date(this.rightYear,this.rightMonth)},enableYearArrow:function(){return this.unlinkPanels&&12<=12*this.rightYear+this.rightMonth-(12*this.leftYear+this.leftMonth+1)}},data:function(){return{popperClass:"",value:[],defaultValue:null,defaultTime:null,minDate:"",maxDate:"",leftDate:new Date,rightDate:Ei(new Date),rangeState:{endDate:null,selecting:!1,row:null,column:null},showTime:!1,shortcuts:"",visible:"",disabledDate:"",cellClassName:"",firstDayOfWeek:7,minTimePickerVisible:!1,maxTimePickerVisible:!1,format:"",arrowControl:!1,unlinkPanels:!1,dateUserInput:{min:null,max:null},timeUserInput:{min:null,max:null}}},watch:{minDate:function(e){var t=this;this.dateUserInput.min=null,this.timeUserInput.min=null,this.$nextTick((function(){t.$refs.maxTimePicker&&t.maxDate&&t.maxDate<t.minDate&&(t.$refs.maxTimePicker.selectableRange=[[ni(ti(t.minDate,"HH:mm:ss"),"HH:mm:ss"),ni("23:59:59","HH:mm:ss")]])})),e&&this.$refs.minTimePicker&&(this.$refs.minTimePicker.date=e,this.$refs.minTimePicker.value=e)},maxDate:function(e){this.dateUserInput.max=null,this.timeUserInput.max=null,e&&this.$refs.maxTimePicker&&(this.$refs.maxTimePicker.date=e,this.$refs.maxTimePicker.value=e)},minTimePickerVisible:function(e){var t=this;e&&this.$nextTick((function(){t.$refs.minTimePicker.date=t.minDate,t.$refs.minTimePicker.value=t.minDate,t.$refs.minTimePicker.adjustSpinners()}))},maxTimePickerVisible:function(e){var t=this;e&&this.$nextTick((function(){t.$refs.maxTimePicker.date=t.maxDate,t.$refs.maxTimePicker.value=t.maxDate,t.$refs.maxTimePicker.adjustSpinners()}))},value:function(e){var t,n,i;e?Array.isArray(e)&&(this.minDate=Jn(e[0])?new Date(e[0]):null,this.maxDate=Jn(e[1])?new Date(e[1]):null,this.minDate?(this.leftDate=this.minDate,this.unlinkPanels&&this.maxDate?(e=this.minDate.getFullYear(),t=this.minDate.getMonth(),n=this.maxDate.getFullYear(),i=this.maxDate.getMonth(),this.rightDate=e===n&&t===i?Ei(this.maxDate):this.maxDate):this.rightDate=Ei(this.leftDate)):(this.leftDate=Zi(this.defaultValue)[0],this.rightDate=Ei(this.leftDate))):(this.minDate=null,this.maxDate=null)},defaultValue:function(e){var t,n;Array.isArray(this.value)||(t=(n=Zi(e))[0],n=n[1],this.leftDate=t,this.rightDate=e&&e[1]&&this.unlinkPanels?n:Ei(this.leftDate))}},methods:{handleClear:function(){this.minDate=null,this.maxDate=null,this.leftDate=Zi(this.defaultValue)[0],this.rightDate=Ei(this.leftDate),this.$emit("pick",null)},handleChangeRange:function(e){this.minDate=e.minDate,this.maxDate=e.maxDate,this.rangeState=e.rangeState},handleDateInput:function(e,t){(this.dateUserInput[t]=e).length!==this.dateFormat.length||!(e=ni(e,this.dateFormat))||"function"==typeof this.disabledDate&&this.disabledDate(new Date(e))||("min"===t?(this.minDate=cr(this.minDate||new Date,e.getFullYear(),e.getMonth(),e.getDate()),this.leftDate=new Date(e),this.unlinkPanels||(this.rightDate=Ei(this.leftDate))):(this.maxDate=cr(this.maxDate||new Date,e.getFullYear(),e.getMonth(),e.getDate()),this.rightDate=new Date(e),this.unlinkPanels||(this.leftDate=Si(e))))},handleDateChange:function(e,t){(e=ni(e,this.dateFormat))&&("min"===t?(this.minDate=cr(this.minDate,e.getFullYear(),e.getMonth(),e.getDate()),this.minDate>this.maxDate&&(this.maxDate=this.minDate)):(this.maxDate=cr(this.maxDate,e.getFullYear(),e.getMonth(),e.getDate()),this.maxDate<this.minDate&&(this.minDate=this.maxDate)))},handleTimeInput:function(e,t){var n=this;(this.timeUserInput[t]=e).length===this.timeFormat.length&&(e=ni(e,this.timeFormat))&&("min"===t?(this.minDate=gi(this.minDate,e.getHours(),e.getMinutes(),e.getSeconds()),this.$nextTick((function(e){return n.$refs.minTimePicker.adjustSpinners()}))):(this.maxDate=gi(this.maxDate,e.getHours(),e.getMinutes(),e.getSeconds()),this.$nextTick((function(e){return n.$refs.maxTimePicker.adjustSpinners()}))))},handleTimeChange:function(e,t){(e=ni(e,this.timeFormat))&&("min"===t?(this.minDate=gi(this.minDate,e.getHours(),e.getMinutes(),e.getSeconds()),this.minDate>this.maxDate&&(this.maxDate=this.minDate),this.$refs.minTimePicker.value=this.minDate,this.minTimePickerVisible=!1):(this.maxDate=gi(this.maxDate,e.getHours(),e.getMinutes(),e.getSeconds()),this.maxDate<this.minDate&&(this.minDate=this.maxDate),this.$refs.maxTimePicker.value=this.minDate,this.maxTimePickerVisible=!1))},handleRangePick:function(e){var t=this,n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],i=this.defaultTime||[],r=yi(e.minDate,i[0]),a=yi(e.maxDate,i[1]);this.maxDate===a&&this.minDate===r||(this.onPick&&this.onPick(e),this.maxDate=a,this.minDate=r,setTimeout((function(){t.maxDate=a,t.minDate=r}),10),n&&!this.showTime&&this.handleConfirm())},handleShortcutClick:function(e){e.onClick&&e.onClick(this)},handleMinTimePick:function(e,t,n){this.minDate=this.minDate||new Date,e&&(this.minDate=gi(this.minDate,e.getHours(),e.getMinutes(),e.getSeconds())),n||(this.minTimePickerVisible=t),(!this.maxDate||this.maxDate&&this.maxDate.getTime()<this.minDate.getTime())&&(this.maxDate=new Date(this.minDate))},handleMinTimeClose:function(){this.minTimePickerVisible=!1},handleMaxTimePick:function(e,t,n){this.maxDate&&e&&(this.maxDate=gi(this.maxDate,e.getHours(),e.getMinutes(),e.getSeconds())),n||(this.maxTimePickerVisible=t),this.maxDate&&this.minDate&&this.minDate.getTime()>this.maxDate.getTime()&&(this.minDate=new Date(this.maxDate))},handleMaxTimeClose:function(){this.maxTimePickerVisible=!1},leftPrevYear:function(){this.leftDate=Ti(this.leftDate),this.unlinkPanels||(this.rightDate=Ei(this.leftDate))},leftPrevMonth:function(){this.leftDate=Si(this.leftDate),this.unlinkPanels||(this.rightDate=Ei(this.leftDate))},rightNextYear:function(){this.unlinkPanels?this.rightDate=Ci(this.rightDate):(this.leftDate=Ci(this.leftDate),this.rightDate=Ei(this.leftDate))},rightNextMonth:function(){this.unlinkPanels?this.rightDate=Ei(this.rightDate):(this.leftDate=Ei(this.leftDate),this.rightDate=Ei(this.leftDate))},leftNextYear:function(){this.leftDate=Ci(this.leftDate)},leftNextMonth:function(){this.leftDate=Ei(this.leftDate)},rightPrevYear:function(){this.rightDate=Ti(this.rightDate)},rightPrevMonth:function(){this.rightDate=Si(this.rightDate)},handleConfirm:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this.isValidValue([this.minDate,this.maxDate])&&this.$emit("pick",[this.minDate,this.maxDate],e)},isValidValue:function(e){return Array.isArray(e)&&e&&e[0]&&e[1]&&Jn(e[0])&&Jn(e[1])&&e[0].getTime()<=e[1].getTime()&&("function"!=typeof this.disabledDate||!this.disabledDate(e[0])&&!this.disabledDate(e[1]))},resetView:function(){this.minDate&&null==this.maxDate&&(this.rangeState.selecting=!1),this.minDate=this.value&&Jn(this.value[0])?new Date(this.value[0]):null,this.maxDate=this.value&&Jn(this.value[0])?new Date(this.value[1]):null}},components:{TimePicker:pr,DateTable:vr,ElInput:Q,ElButton:dt}},$i,[],!1,null,null,null))).options.__file="packages/date-picker/src/panel/date-range.vue",nn.exports),xr=((vr=(Qi._withStripped=!0,r({mixins:[c],directives:{Clickoutside:Be},computed:{btnDisabled:function(){return!(this.minDate&&this.maxDate&&!this.selecting&&this.isValidValue([this.minDate,this.maxDate]))},leftLabel:function(){return this.leftDate.getFullYear()+" "+this.t("el.datepicker.year")},rightLabel:function(){return this.rightDate.getFullYear()+" "+this.t("el.datepicker.year")},leftYear:function(){return this.leftDate.getFullYear()},rightYear:function(){return this.rightDate.getFullYear()===this.leftDate.getFullYear()?this.leftDate.getFullYear()+1:this.rightDate.getFullYear()},enableYearArrow:function(){return this.unlinkPanels&&this.rightYear>this.leftYear+1}},data:function(){return{popperClass:"",value:[],defaultValue:null,defaultTime:null,minDate:"",maxDate:"",leftDate:new Date,rightDate:Ci(new Date),rangeState:{endDate:null,selecting:!1,row:null,column:null},shortcuts:"",visible:"",disabledDate:"",format:"",arrowControl:!1,unlinkPanels:!1}},watch:{value:function(e){var t;e?Array.isArray(e)&&(this.minDate=Jn(e[0])?new Date(e[0]):null,this.maxDate=Jn(e[1])?new Date(e[1]):null,this.minDate?(this.leftDate=this.minDate,this.unlinkPanels&&this.maxDate?(e=this.minDate.getFullYear(),t=this.maxDate.getFullYear(),this.rightDate=e===t?Ci(this.maxDate):this.maxDate):this.rightDate=Ci(this.leftDate)):(this.leftDate=Ki(this.defaultValue)[0],this.rightDate=Ci(this.leftDate))):(this.minDate=null,this.maxDate=null)},defaultValue:function(e){var t,n;Array.isArray(this.value)||(t=(n=Ki(e))[0],n=n[1],this.leftDate=t,this.rightDate=e&&e[1]&&t.getFullYear()!==n.getFullYear()&&this.unlinkPanels?n:Ci(this.leftDate))}},methods:{handleClear:function(){this.minDate=null,this.maxDate=null,this.leftDate=Ki(this.defaultValue)[0],this.rightDate=Ci(this.leftDate),this.$emit("pick",null)},handleChangeRange:function(e){this.minDate=e.minDate,this.maxDate=e.maxDate,this.rangeState=e.rangeState},handleRangePick:function(e){var t=this,n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],i=this.defaultTime||[],r=yi(e.minDate,i[0]),a=yi(e.maxDate,i[1]);this.maxDate===a&&this.minDate===r||(this.onPick&&this.onPick(e),this.maxDate=a,this.minDate=r,setTimeout((function(){t.maxDate=a,t.minDate=r}),10),n&&this.handleConfirm())},handleShortcutClick:function(e){e.onClick&&e.onClick(this)},leftPrevYear:function(){this.leftDate=Ti(this.leftDate),this.unlinkPanels||(this.rightDate=Ti(this.rightDate))},rightNextYear:function(){this.unlinkPanels||(this.leftDate=Ci(this.leftDate)),this.rightDate=Ci(this.rightDate)},leftNextYear:function(){this.leftDate=Ci(this.leftDate)},rightPrevYear:function(){this.rightDate=Ti(this.rightDate)},handleConfirm:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this.isValidValue([this.minDate,this.maxDate])&&this.$emit("pick",[this.minDate,this.maxDate],e)},isValidValue:function(e){return Array.isArray(e)&&e&&e[0]&&e[1]&&Jn(e[0])&&Jn(e[1])&&e[0].getTime()<=e[1].getTime()&&("function"!=typeof this.disabledDate||!this.disabledDate(e[0])&&!this.disabledDate(e[1]))},resetView:function(){this.minDate=this.value&&Jn(this.value[0])?new Date(this.value[0]):null,this.maxDate=this.value&&Jn(this.value[0])?new Date(this.value[1]):null}},components:{MonthTable:Xn,ElInput:Q,ElButton:dt}},Qi,[],!1,null,null,null))).options.__file="packages/date-picker/src/panel/month-range.vue",vr.exports),br={mixins:[Un],name:"ElDatePicker",props:{type:{type:String,default:"date"},timeArrowControl:Boolean},watch:{type:function(e){this.picker?(this.unmountPicker(),this.panel=Ji(e),this.mountPicker()):this.panel=Ji(e)}},created:function(){this.panel=Ji(this.type)},install:function(e){e.component(br.name,br)}},wr=(nn=br,(Xn=(er._withStripped=!0,r({components:{ElScrollbar:ze},watch:{value:function(e){var t=this;e&&this.$nextTick((function(){return t.scrollToOption()}))}},methods:{handleClick:function(e){e.disabled||this.$emit("pick",e.value)},handleClear:function(){this.$emit("pick",null)},scrollToOption:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".selected",t=this.$refs.popper.querySelector(".el-picker-panel__content");Xe(t,t.querySelector(e))},handleMenuEnter:function(){var e=this,t=-1!==this.items.map((function(e){return e.value})).indexOf(this.value),n=-1!==this.items.map((function(e){return e.value})).indexOf(this.defaultValue),i=(t?".selected":n&&".default")||".time-select-item:not(.disabled)";this.$nextTick((function(){return e.scrollToOption(i)}))},scrollDown:function(e){for(var t=this.items,n=t.length,i=t.length,r=t.map((function(e){return e.value})).indexOf(this.value);i--;)if(!t[r=(r+e+n)%n].disabled)return void this.$emit("pick",t[r].value,!0)},isValidValue:function(e){return-1!==this.items.filter((function(e){return!e.disabled})).map((function(e){return e.value})).indexOf(e)},handleKeydown:function(e){var t=e.keyCode;38!==t&&40!==t||(t={40:1,38:-1}[t.toString()],this.scrollDown(t),e.stopPropagation())}},data:function(){return{popperClass:"",start:"09:00",end:"18:00",step:"00:30",value:"",defaultValue:"",visible:!1,minTime:"",maxTime:"",width:0}},computed:{items:function(){var e=this.start,t=this.end,n=this.step,i=[];if(e&&t&&n)for(var r=e;nr(r,t)<=0;)i.push({value:r,disabled:nr(r,this.minTime||"-1:-1")<=0||0<=nr(r,this.maxTime||"100:100")}),r=function(e,t){return e=tr(e),t=tr(t),(e={hours:e.hours,minutes:e.minutes}).minutes+=t.minutes,e.hours+=t.hours,e.hours+=Math.floor(e.minutes/60),e.minutes=e.minutes%60,(e.hours<10?"0"+e.hours:e.hours)+":"+(e.minutes<10?"0"+e.minutes:e.minutes)}(r,n);return i}}},er,[],!1,null,null,null))).options.__file="packages/date-picker/src/panel/time-select.vue",Xn.exports),_r={mixins:[Un],name:"ElTimeSelect",componentName:"ElTimeSelect",props:{type:{type:String,default:"time-select"}},beforeCreate:function(){this.panel=wr},install:function(e){e.component(_r.name,_r)}},Mr=(vr=_r,ir._withStripped=!0,ni("00:00:00","HH:mm:ss")),Sr=ni("23:59:59","HH:mm:ss"),Er=((Xn=r({mixins:[c],components:{TimeSpinner:Mn},computed:{showSeconds:function(){return-1!==(this.format||"").indexOf("ss")},offset:function(){return this.showSeconds?11:8},spinner:function(){return this.selectionRange[0]<this.offset?this.$refs.minSpinner:this.$refs.maxSpinner},btnDisabled:function(){return this.minDate.getTime()>this.maxDate.getTime()},amPmMode:function(){return-1!==(this.format||"").indexOf("A")?"A":-1!==(this.format||"").indexOf("a")?"a":""}},data:function(){return{popperClass:"",minDate:new Date,maxDate:new Date,value:[],oldValue:[new Date,new Date],defaultValue:null,format:"HH:mm:ss",visible:!1,selectionRange:[0,2],arrowControl:!1}},watch:{value:function(e){Array.isArray(e)?(this.minDate=new Date(e[0]),this.maxDate=new Date(e[1])):Array.isArray(this.defaultValue)?(this.minDate=new Date(this.defaultValue[0]),this.maxDate=new Date(this.defaultValue[1])):this.defaultValue?(this.minDate=new Date(this.defaultValue),this.maxDate=ar(new Date(this.defaultValue),36e5)):(this.minDate=new Date,this.maxDate=ar(new Date,36e5))},visible:function(e){var t=this;e&&(this.oldValue=this.value,this.$nextTick((function(){return t.$refs.minSpinner.emitSelectRange("hours")})))}},methods:{handleClear:function(){this.$emit("pick",null)},handleCancel:function(){this.$emit("pick",this.oldValue)},handleMinChange:function(e){this.minDate=bi(e),this.handleChange()},handleMaxChange:function(e){this.maxDate=bi(e),this.handleChange()},handleChange:function(){var e;this.isValidValue([this.minDate,this.maxDate])&&(this.$refs.minSpinner.selectableRange=[[(e=this.minDate,cr(Mr,e.getFullYear(),e.getMonth(),e.getDate())),this.maxDate]],this.$refs.maxSpinner.selectableRange=[[this.minDate,rr(this.maxDate)]],this.$emit("pick",[this.minDate,this.maxDate],!0))},setMinSelectionRange:function(e,t){this.$emit("select-range",e,t,"min"),this.selectionRange=[e,t]},setMaxSelectionRange:function(e,t){this.$emit("select-range",e,t,"max"),this.selectionRange=[e+this.offset,t+this.offset]},handleConfirm:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=this.$refs.minSpinner.selectableRange,n=this.$refs.maxSpinner.selectableRange;this.minDate=wi(this.minDate,t,this.format),this.maxDate=wi(this.maxDate,n,this.format),this.$emit("pick",[this.minDate,this.maxDate],e)},adjustSpinners:function(){this.$refs.minSpinner.adjustSpinners(),this.$refs.maxSpinner.adjustSpinners()},changeSelectionRange:function(e){var t=this.showSeconds?[0,3,6,11,14,17]:[0,3,8,11],n=["hours","minutes"].concat(this.showSeconds?["seconds"]:[]);(e=(t.indexOf(this.selectionRange[0])+e+t.length)%t.length)<(t=t.length/2)?this.$refs.minSpinner.emitSelectRange(n[e]):this.$refs.maxSpinner.emitSelectRange(n[e-t])},isValidValue:function(e){return Array.isArray(e)&&_i(this.minDate,this.$refs.minSpinner.selectableRange)&&_i(this.maxDate,this.$refs.maxSpinner.selectableRange)},handleKeydown:function(e){var t=e.keyCode,n={38:-1,40:1,37:-1,39:1};37===t||39===t?(this.changeSelectionRange(n[t]),e.preventDefault()):38!==t&&40!==t||(this.spinner.scrollDown(n[t]),e.preventDefault())}}},ir,[],!1,null,null,null)).options.__file="packages/date-picker/src/panel/time-range.vue",Xn.exports),Tr={mixins:[Un],name:"ElTimePicker",props:{isRange:Boolean,arrowControl:Boolean},data:function(){return{type:""}},watch:{isRange:function(e){this.picker?(this.unmountPicker(),this.type=e?"timerange":"time",this.panel=e?Er:pr,this.mountPicker()):(this.type=e?"timerange":"time",this.panel=e?Er:pr)}},created:function(){this.type=this.isRange?"timerange":"time",this.panel=this.isRange?Er:pr},install:function(e){e.component(Tr.name,Tr)}},Cr=(Mn=Tr,(Xn=(or._withStripped=!0,r({name:"ElPopover",mixins:[Te],props:{trigger:{type:String,default:"click",validator:function(e){return-1<["click","focus","hover","manual"].indexOf(e)}},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:200},title:String,disabled:Boolean,content:String,reference:{},popperClass:String,width:{},visibleArrow:{default:!0},arrowOffset:{type:Number,default:0},transition:{type:String,default:"fade-in-linear"},tabindex:{type:Number,default:0}},computed:{tooltipId:function(){return"el-popover-"+M()}},watch:{showPopper:function(e){this.disabled||(e?this.$emit("show"):this.$emit("hide"))}},mounted:function(){var e=this,t=this.referenceElm=this.reference||this.$refs.reference,n=this.popper||this.$refs.popper;(t=!t&&this.$refs.wrapper.children?this.referenceElm=this.$refs.wrapper.children[0]:t)&&(ae(t,"el-popover__reference"),t.setAttribute("aria-describedby",this.tooltipId),t.setAttribute("tabindex",this.tabindex),n.setAttribute("tabindex",0),"click"!==this.trigger&&(ne(t,"focusin",(function(){e.handleFocus();var n=t.__vue__;n&&"function"==typeof n.focus&&n.focus()})),ne(n,"focusin",this.handleFocus),ne(t,"focusout",this.handleBlur),ne(n,"focusout",this.handleBlur)),ne(t,"keydown",this.handleKeydown),ne(t,"click",this.handleClick)),"click"===this.trigger?(ne(t,"click",this.doToggle),ne(document,"click",this.handleDocumentClick)):"hover"===this.trigger?(ne(t,"mouseenter",this.handleMouseEnter),ne(n,"mouseenter",this.handleMouseEnter),ne(t,"mouseleave",this.handleMouseLeave),ne(n,"mouseleave",this.handleMouseLeave)):"focus"===this.trigger&&(this.tabindex<0&&console.warn("[Element Warn][Popover]a negative taindex means that the element cannot be focused by tab key"),t.querySelector("input, textarea")?(ne(t,"focusin",this.doShow),ne(t,"focusout",this.doClose)):(ne(t,"mousedown",this.doShow),ne(t,"mouseup",this.doClose)))},beforeDestroy:function(){this.cleanup()},deactivated:function(){this.cleanup()},methods:{doToggle:function(){this.showPopper=!this.showPopper},doShow:function(){this.showPopper=!0},doClose:function(){this.showPopper=!1},handleFocus:function(){ae(this.referenceElm,"focusing"),"click"!==this.trigger&&"focus"!==this.trigger||(this.showPopper=!0)},handleClick:function(){oe(this.referenceElm,"focusing")},handleBlur:function(){oe(this.referenceElm,"focusing"),"click"!==this.trigger&&"focus"!==this.trigger||(this.showPopper=!1)},handleMouseEnter:function(){var e=this;clearTimeout(this._timer),this.openDelay?this._timer=setTimeout((function(){e.showPopper=!0}),this.openDelay):this.showPopper=!0},handleKeydown:function(e){27===e.keyCode&&"manual"!==this.trigger&&this.doClose()},handleMouseLeave:function(){var e=this;clearTimeout(this._timer),this.closeDelay?this._timer=setTimeout((function(){e.showPopper=!1}),this.closeDelay):this.showPopper=!1},handleDocumentClick:function(e){var t=this.reference||this.$refs.reference,n=this.popper||this.$refs.popper;!t&&this.$refs.wrapper.children&&(t=this.referenceElm=this.$refs.wrapper.children[0]),this.$el&&t&&!this.$el.contains(e.target)&&!t.contains(e.target)&&n&&!n.contains(e.target)&&(this.showPopper=!1)},handleAfterEnter:function(){this.$emit("after-enter")},handleAfterLeave:function(){this.$emit("after-leave"),this.doDestroy()},cleanup:function(){(this.openDelay||this.closeDelay)&&clearTimeout(this._timer)}},destroyed:function(){var e=this.reference;ie(e,"click",this.doToggle),ie(e,"mouseup",this.doClose),ie(e,"mousedown",this.doShow),ie(e,"focusin",this.doShow),ie(e,"focusout",this.doClose),ie(e,"mousedown",this.doShow),ie(e,"mouseup",this.doClose),ie(e,"mouseleave",this.handleMouseLeave),ie(e,"mouseenter",this.handleMouseEnter),ie(document,"click",this.handleDocumentClick)}},or,[],!1,null,null,null))).options.__file="packages/popover/src/main.vue",Xn.exports),Ar={bind:function(e,t,n){sr(e,t,n)},inserted:function(e,t,n){sr(e,t,n)}};u.a.directive("popover",Ar),Cr.install=function(e){e.directive("popover",Ar),e.component(Cr.name,Cr)},Cr.directive=Ar,Un=Cr;lr._withStripped=!0;var Lr,Pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kr=((Xn={Dialog:function(e,t,n){var i=this;if(this.dialogNode=e,null===this.dialogNode||"dialog"!==this.dialogNode.getAttribute("role"))throw new Error("Dialog() requires a DOM element with ARIA role of dialog.");"string"==typeof t?this.focusAfterClosed=document.getElementById(t):"object"===(void 0===t?"undefined":Pr(t))?this.focusAfterClosed=t:this.focusAfterClosed=null,"string"==typeof n?this.focusFirst=document.getElementById(n):"object"===(void 0===n?"undefined":Pr(n))?this.focusFirst=n:this.focusFirst=null,this.focusFirst?this.focusFirst.focus():wt.focusFirstDescendant(this.dialogNode),this.lastFocus=document.activeElement,Lr=function(e){i.trapFocus(e)},this.addListeners()}}).Dialog.prototype.addListeners=function(){document.addEventListener("focus",Lr,!0)},Xn.Dialog.prototype.removeListeners=function(){document.removeEventListener("focus",Lr,!0)},Xn.Dialog.prototype.closeDialog=function(){var e=this;this.removeListeners(),this.focusAfterClosed&&setTimeout((function(){e.focusAfterClosed.focus()}))},Xn.Dialog.prototype.trapFocus=function(e){wt.IgnoreUtilFocusChanges||(this.dialogNode.contains(e.target)?this.lastFocus=e.target:(wt.focusFirstDescendant(this.dialogNode),this.lastFocus===document.activeElement&&wt.focusLastDescendant(this.dialogNode),this.lastFocus=document.activeElement))},Xn.Dialog),Dr=void 0,Ir={success:"success",info:"info",warning:"warning",error:"error"},Rr=(Xn=((Xn=r({mixins:[te,c],props:{modal:{default:!0},lockScroll:{default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{default:!0},closeOnPressEscape:{default:!0},closeOnHashChange:{default:!0},center:{default:!1,type:Boolean},roundButton:{default:!1,type:Boolean}},components:{ElInput:Q,ElButton:dt},computed:{icon:function(){var e=this.type;return this.iconClass||(e&&Ir[e]?"el-icon-"+Ir[e]:"")},confirmButtonClasses:function(){return"el-button--primary "+this.confirmButtonClass},cancelButtonClasses:function(){return""+this.cancelButtonClass}},methods:{getSafeClose:function(){var e=this,t=this.uid;return function(){e.$nextTick((function(){t===e.uid&&e.doClose()}))}},doClose:function(){var e=this;this.visible&&(this.visible=!1,this._closing=!0,this.onClose&&this.onClose(),Dr.closeDialog(),this.lockScroll&&setTimeout(this.restoreBodyStyle,200),this.opened=!1,this.doAfterClose(),setTimeout((function(){e.action&&e.callback(e.action,e)})))},handleWrapperClick:function(){this.closeOnClickModal&&this.handleAction(this.distinguishCancelAndClose?"close":"cancel")},handleInputEnter:function(){if("textarea"!==this.inputType)return this.handleAction("confirm")},handleAction:function(e){"prompt"===this.$type&&"confirm"===e&&!this.validate()||(this.action=e,"function"==typeof this.beforeClose?(this.close=this.getSafeClose(),this.beforeClose(e,this,this.close)):this.doClose())},validate:function(){if("prompt"===this.$type){var e=this.inputPattern;if(e&&!e.test(this.inputValue||""))return this.editorErrorMessage=this.inputErrorMessage||H("el.messagebox.error"),ae(this.getInputElement(),"invalid"),!1;if("function"==typeof(e=this.inputValidator)){if(!1===(e=e(this.inputValue)))return this.editorErrorMessage=this.inputErrorMessage||H("el.messagebox.error"),ae(this.getInputElement(),"invalid"),!1;if("string"==typeof e)return this.editorErrorMessage=e,ae(this.getInputElement(),"invalid"),!1}}return this.editorErrorMessage="",oe(this.getInputElement(),"invalid"),!0},getFirstFocus:function(){var e=this.$el.querySelector(".el-message-box__btns .el-button"),t=this.$el.querySelector(".el-message-box__btns .el-message-box__title");return e||t},getInputElement:function(){var e=this.$refs.input.$refs;return e.input||e.textarea},handleClose:function(){this.handleAction("close")}},watch:{inputValue:{immediate:!0,handler:function(e){var t=this;this.$nextTick((function(n){"prompt"===t.$type&&null!==e&&t.validate()}))}},visible:function(e){var t=this;e&&(this.uid++,"alert"!==this.$type&&"confirm"!==this.$type||this.$nextTick((function(){t.$refs.confirm.$el.focus()})),this.focusAfterClosed=document.activeElement,Dr=new kr(this.$el,this.focusAfterClosed,this.getFirstFocus())),"prompt"===this.$type&&(e?setTimeout((function(){t.$refs.input&&t.$refs.input.$el&&t.getInputElement().focus()}),500):(this.editorErrorMessage="",oe(this.getInputElement(),"invalid")))}},mounted:function(){var e=this;this.$nextTick((function(){e.closeOnHashChange&&window.addEventListener("hashchange",e.close)}))},beforeDestroy:function(){this.closeOnHashChange&&window.removeEventListener("hashchange",this.close),setTimeout((function(){Dr.closeDialog()}))},data:function(){return{uid:1,title:void 0,message:"",type:"",iconClass:"",customClass:"",showInput:!1,inputValue:null,inputPlaceholder:"",inputType:"text",inputPattern:null,inputValidator:null,inputErrorMessage:"",showConfirmButton:!0,showCancelButton:!1,action:"",confirmButtonText:"",cancelButtonText:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonClass:"",confirmButtonDisabled:!1,cancelButtonClass:"",editorErrorMessage:null,callback:null,dangerouslyUseHTMLString:!1,focusAfterClosed:null,isOnComposition:!1,distinguishCancelAndClose:!1}}},lr,[],!1,null,null,null)).options.__file="packages/message-box/src/main.vue",Xn.exports),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e});function Nr(e){return null!==e&&"object"===(void 0===e?"undefined":Rr(e))&&b(e,"componentOptions")}function Or(){if(Xr||((Xr=new jr({el:document.createElement("div")})).callback=Yr),Xr.action="",(!Xr.visible||Xr.closeTimer)&&0<qr.length){var e,t=(Wr=qr.shift()).options;for(e in t)t.hasOwnProperty(e)&&(Xr[e]=t[e]);void 0===t.callback&&(Xr.callback=Yr);var n=Xr.callback;Xr.callback=function(e,t){n(e,t),Or()},Nr(Xr.message)?(Xr.$slots.default=[Xr.message],Xr.message=null):delete Xr.$slots.default,["modal","showClose","closeOnClickModal","closeOnPressEscape","closeOnHashChange"].forEach((function(e){void 0===Xr[e]&&(Xr[e]=!0)})),document.body.appendChild(Xr.$el),u.a.nextTick((function(){Xr.visible=!0}))}}function Fr(e,t){if(!u.a.prototype.$isServer){if("string"==typeof e||Nr(e)?(e={message:e},"string"==typeof arguments[1]&&(e.title=arguments[1])):e.callback&&!t&&(t=e.callback),"undefined"!=typeof Promise)return new Promise((function(n,i){qr.push({options:W({},Gr,Fr.defaults,e),callback:t,resolve:n,reject:i}),Or()}));qr.push({options:W({},Gr,Fr.defaults,e),callback:t}),Or()}}function zr(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"el-breadcrumb",attrs:{"aria-label":"Breadcrumb",role:"navigation"}},[this._t("default")],2)}function Br(){var e=this.$createElement;return(e=this._self._c||e)("span",{staticClass:"el-breadcrumb__item"},[e("span",{ref:"link",class:["el-breadcrumb__inner",this.to?"is-link":""],attrs:{role:"link"}},[this._t("default")],2),this.separatorClass?e("i",{staticClass:"el-breadcrumb__separator",class:this.separatorClass}):e("span",{staticClass:"el-breadcrumb__separator",attrs:{role:"presentation"}},[this._v(this._s(this.separator))])])}function Hr(){var e=this.$createElement;return(this._self._c||e)("form",{staticClass:"el-form",class:[this.labelPosition?"el-form--label-"+this.labelPosition:"",{"el-form--inline":this.inline}]},[this._t("default")],2)}function Ur(){var e=this,t=e.$createElement;return(t=e._self._c||t)("div",{staticClass:"el-form-item",class:[{"el-form-item--feedback":e.elForm&&e.elForm.statusIcon,"is-error":"error"===e.validateState,"is-validating":"validating"===e.validateState,"is-success":"success"===e.validateState,"is-required":e.isRequired||e.required,"is-no-asterisk":e.elForm&&e.elForm.hideRequiredAsterisk},e.sizeClass?"el-form-item--"+e.sizeClass:""]},[t("label-wrap",{attrs:{"is-auto-width":e.labelStyle&&"auto"===e.labelStyle.width,"update-all":"auto"===e.form.labelWidth}},[e.label||e.$slots.label?t("label",{staticClass:"el-form-item__label",style:e.labelStyle,attrs:{for:e.labelFor}},[e._t("label",[e._v(e._s(e.label+e.form.labelSuffix))])],2):e._e()]),t("div",{staticClass:"el-form-item__content",style:e.contentStyle},[e._t("default"),t("transition",{attrs:{name:"el-zoom-in-top"}},["error"===e.validateState&&e.showMessage&&e.form.showMessage?e._t("error",[t("div",{staticClass:"el-form-item__error",class:{"el-form-item__error--inline":"boolean"==typeof e.inlineMessage?e.inlineMessage:e.elForm&&e.elForm.inlineMessage||!1}},[e._v("\n          "+e._s(e.validateMessage)+"\n        ")])],{error:e.validateMessage}):e._e()],2)],2)],1)}var Vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gr={title:null,message:"",type:"",iconClass:"",showInput:!1,showClose:!0,modalFade:!0,lockScroll:!0,closeOnClickModal:!0,closeOnPressEscape:!0,closeOnHashChange:!0,inputValue:null,inputPlaceholder:"",inputType:"text",inputPattern:null,inputValidator:null,inputErrorMessage:"",showConfirmButton:!0,showCancelButton:!1,confirmButtonPosition:"right",confirmButtonHighlight:!1,cancelButtonHighlight:!1,confirmButtonText:"",cancelButtonText:"",confirmButtonClass:"",cancelButtonClass:"",customClass:"",beforeClose:null,dangerouslyUseHTMLString:!1,center:!1,roundButton:!1,distinguishCancelAndClose:!1},jr=u.a.extend(Xn),Wr=void 0,Xr=void 0,qr=[],Yr=function(e){var t;Wr&&("function"==typeof(t=Wr.callback)&&(Xr.showInput?t(Xr.inputValue,e):t(e)),Wr.resolve)&&("confirm"===e?Xr.showInput?Wr.resolve({value:Xr.inputValue,action:e}):Wr.resolve(e):!Wr.reject||"cancel"!==e&&"close"!==e||Wr.reject(e))},$r=(Fr.setDefaults=function(e){Fr.defaults=e},Fr.alert=function(e,t,n){return"object"===(void 0===t?"undefined":Vr(t))?(n=t,t=""):void 0===t&&(t=""),Fr(W({title:t,message:e,$type:"alert",closeOnPressEscape:!1,closeOnClickModal:!1},n))},Fr.confirm=function(e,t,n){return"object"===(void 0===t?"undefined":Vr(t))?(n=t,t=""):void 0===t&&(t=""),Fr(W({title:t,message:e,$type:"confirm",showCancelButton:!0},n))},Fr.prompt=function(e,t,n){return"object"===(void 0===t?"undefined":Vr(t))?(n=t,t=""):void 0===t&&(t=""),Fr(W({title:t,message:e,showCancelButton:!0,showInput:!0,$type:"prompt"},n))},Fr.close=function(){Xr.doClose(),Xr.visible=!1,qr=[],Wr=null},Fr),Zr=((Xn=(zr._withStripped=!0,r({name:"ElBreadcrumb",props:{separator:{type:String,default:"/"},separatorClass:{type:String,default:""}},provide:function(){return{elBreadcrumb:this}},mounted:function(){var e=this.$el.querySelectorAll(".el-breadcrumb__item");e.length&&e[e.length-1].setAttribute("aria-current","page")}},zr,[],!1,null,null,null))).options.__file="packages/breadcrumb/src/breadcrumb.vue",Xn.exports),Qr=(Xn=(Zr.install=function(e){e.component(Zr.name,Zr)},Zr),(Kr=(Br._withStripped=!0,r({name:"ElBreadcrumbItem",props:{to:{},replace:Boolean},data:function(){return{separator:"",separatorClass:""}},inject:["elBreadcrumb"],mounted:function(){var e=this,t=(this.separator=this.elBreadcrumb.separator,this.separatorClass=this.elBreadcrumb.separatorClass,this.$refs.link);t.setAttribute("role","link"),t.addEventListener("click",(function(t){var n=e.to,i=e.$router;n&&i&&(e.replace?i.replace(n):i.push(n))}))}},Br,[],!1,null,null,null))).options.__file="packages/breadcrumb/src/breadcrumb-item.vue",Kr.exports),Kr=(Qr.install=function(e){e.component(Qr.name,Qr)},Qr),Jr=((ea=(Hr._withStripped=!0,r({name:"ElForm",componentName:"ElForm",provide:function(){return{elForm:this}},props:{model:Object,rules:Object,labelPosition:String,labelWidth:String,labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},size:String,disabled:Boolean,validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:{type:Boolean,default:!1}},watch:{rules:function(){this.fields.forEach((function(e){e.removeValidateEvents(),e.addValidateEvents()})),this.validateOnRuleChange&&this.validate((function(){}))}},computed:{autoLabelWidth:function(){var e;return this.potentialLabelWidthArr.length?(e=Math.max.apply(Math,this.potentialLabelWidthArr))?e+"px":"":0}},data:function(){return{fields:[],potentialLabelWidthArr:[]}},created:function(){var e=this;this.$on("el.form.addField",(function(t){t&&e.fields.push(t)})),this.$on("el.form.removeField",(function(t){t.prop&&e.fields.splice(e.fields.indexOf(t),1)}))},methods:{resetFields:function(){this.model?this.fields.forEach((function(e){e.resetField()})):console.warn("[Element Warn][Form]model is required for resetFields to work.")},clearValidate:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];(e.length?"string"==typeof e?this.fields.filter((function(t){return e===t.prop})):this.fields.filter((function(t){return-1<e.indexOf(t.prop)})):this.fields).forEach((function(e){e.clearValidate()}))},validate:function(e){var t,n,i,r,a=this;if(this.model)return t=void 0,"function"!=typeof e&&window.Promise&&(t=new window.Promise((function(t,n){e=function(e,i){e?t(e):n(i)}}))),n=!0,(i=0)===this.fields.length&&e&&e(!0),r={},this.fields.forEach((function(t){t.validate("",(function(t,o){t&&(n=!1),r=W({},r,o),"function"==typeof e&&++i===a.fields.length&&e(n,r)}))})),t||void 0;console.warn("[Element Warn][Form]model is required for validate to work!")},validateField:function(e,t){e=[].concat(e);var n=this.fields.filter((function(t){return-1!==e.indexOf(t.prop)}));n.length?n.forEach((function(e){e.validate("",t)})):console.warn("[Element Warn]please pass correct props!")},getLabelWidthIndex:function(e){var t=this.potentialLabelWidthArr.indexOf(e);if(-1===t)throw new Error("[ElementForm]unpected width ",e);return t},registerLabelWidth:function(e,t){e&&t?(t=this.getLabelWidthIndex(t),this.potentialLabelWidthArr.splice(t,1,e)):e&&this.potentialLabelWidthArr.push(e)},deregisterLabelWidth:function(e){e=this.getLabelWidthIndex(e),this.potentialLabelWidthArr.splice(e,1)}}},Hr,[],!1,null,null,null))).options.__file="packages/form/src/form.vue",ea.exports),ea=(Jr.install=function(e){e.component(Jr.name,Jr)},Jr),ta=(Ur._withStripped=!0,n(9)),na=n.n(ta),ia=(ta=n(3),n.n(ta)),ra=/%[sdj%]/g;function aa(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=1,r=t[0],a=t.length;if("function"==typeof r)return r.apply(null,t.slice(1));if("string"!=typeof r)return r;for(var o=String(r).replace(ra,(function(e){if("%%"===e)return"%";if(a<=i)return e;switch(e){case"%s":return String(t[i++]);case"%d":return Number(t[i++]);case"%j":try{return JSON.stringify(t[i++])}catch(e){return"[Circular]"}break;default:return e}})),s=t[i];i<a;s=t[++i])o+=" "+s;return o}function oa(e,t){return null==e||"array"===t&&Array.isArray(e)&&!e.length||!("string"!==t&&"url"!==t&&"hex"!==t&&"email"!==t&&"pattern"!==t||"string"!=typeof e||e)}function sa(e,t,n){var i=0,r=e.length;!function a(o){o&&o.length?n(o):(o=i,i+=1,o<r?t(e[o],a):n([]))}([])}function la(e,t,n,i){if(t.first)return sa((a=e,o=[],Object.keys(a).forEach((function(e){o.push.apply(o,a[e])})),o),n,i);function r(e){u.push.apply(u,e),++c===l&&i(u)}var a,o,s=t.firstFields||[],l=(t=(!0===s&&(s=Object.keys(e)),Object.keys(e))).length,c=0,u=[];t.forEach((function(t){var i,a,o,l,c,u=e[t];function h(e){o.push.apply(o,e),++l===c&&a(o)}-1!==s.indexOf(t)?sa(u,n,r):(i=n,a=r,o=[],l=0,c=u.length,u.forEach((function(e){i(e,h)})))}))}function ca(e){return function(t){return t&&t.message?(t.field=t.field||e.fullField,t):{message:t,field:t.field||e.fullField}}}function ua(e,t){if(t)for(var n in t){var i;t.hasOwnProperty(n)&&("object"===(void 0===(i=t[n])?"undefined":ia()(i))&&"object"===ia()(e[n])?e[n]=na()({},e[n],i):e[n]=i)}return e}function ha(e,t,n,i,r,a){!e.required||n.hasOwnProperty(e.field)&&!oa(t,a||e.type)||i.push(aa(r.messages.required,e.fullField))}function da(e,t,n,i,r){var a=e.type,o=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(oa(t,a)&&!e.required)return n();ma.required(e,t,i,o,r,a),oa(t,a)||ma.type(e,t,i,o,r)}n(o)}var fa={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},pa={integer:function(e){return pa.number(e)&&parseInt(e,10)===e},float:function(e){return pa.number(e)&&!pa.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(e){return!1}},date:function(e){return"function"==typeof e.getTime&&"function"==typeof e.getMonth&&"function"==typeof e.getYear},number:function(e){return!isNaN(e)&&"number"==typeof e},object:function(e){return"object"===(void 0===e?"undefined":ia()(e))&&!pa.array(e)},method:function(e){return"function"==typeof e},email:function(e){return"string"==typeof e&&!!e.match(fa.email)&&e.length<255},url:function(e){return"string"==typeof e&&!!e.match(fa.url)},hex:function(e){return"string"==typeof e&&!!e.match(fa.hex)}},ma={required:ha,whitespace:function(e,t,n,i,r){!/^\s+$/.test(t)&&""!==t||i.push(aa(r.messages.whitespace,e.fullField))},type:function(e,t,n,i,r){e.required&&void 0===t?ha(e,t,n,i,r):(n=e.type,-1<["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(n)?pa[n](t)||i.push(aa(r.messages.types[n],e.fullField,e.type)):n&&(void 0===t?"undefined":ia()(t))!==e.type&&i.push(aa(r.messages.types[n],e.fullField,e.type)))},range:function(e,t,n,i,r){var a="number"==typeof e.len,o="number"==typeof e.min,s="number"==typeof e.max,l=t,c=null,u="number"==typeof t,h="string"==typeof t,d=Array.isArray(t);if(u?c="number":h?c="string":d&&(c="array"),!c)return!1;d&&(l=t.length),h&&(l=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),a?l!==e.len&&i.push(aa(r.messages[c].len,e.fullField,e.len)):o&&!s&&l<e.min?i.push(aa(r.messages[c].min,e.fullField,e.min)):s&&!o&&l>e.max?i.push(aa(r.messages[c].max,e.fullField,e.max)):o&&s&&(l<e.min||l>e.max)&&i.push(aa(r.messages[c].range,e.fullField,e.min,e.max))},enum:function(e,t,n,i,r){e.enum=Array.isArray(e.enum)?e.enum:[],-1===e.enum.indexOf(t)&&i.push(aa(r.messages.enum,e.fullField,e.enum.join(", ")))},pattern:function(e,t,n,i,r){e.pattern&&(e.pattern instanceof RegExp?(e.pattern.lastIndex=0,e.pattern.test(t)||i.push(aa(r.messages.pattern.mismatch,e.fullField,t,e.pattern))):"string"!=typeof e.pattern||new RegExp(e.pattern).test(t)||i.push(aa(r.messages.pattern.mismatch,e.fullField,t,e.pattern)))}},va={string:function(e,t,n,i,r){var a=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(oa(t,"string")&&!e.required)return n();ma.required(e,t,i,a,r,"string"),oa(t,"string")||(ma.type(e,t,i,a,r),ma.range(e,t,i,a,r),ma.pattern(e,t,i,a,r),!0===e.whitespace&&ma.whitespace(e,t,i,a,r))}n(a)},method:function(e,t,n,i,r){var a=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(oa(t)&&!e.required)return n();ma.required(e,t,i,a,r),void 0!==t&&ma.type(e,t,i,a,r)}n(a)},number:function(e,t,n,i,r){var a=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(oa(t)&&!e.required)return n();ma.required(e,t,i,a,r),void 0!==t&&(ma.type(e,t,i,a,r),ma.range(e,t,i,a,r))}n(a)},boolean:function(e,t,n,i,r){var a=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(oa(t)&&!e.required)return n();ma.required(e,t,i,a,r),void 0!==t&&ma.type(e,t,i,a,r)}n(a)},regexp:function(e,t,n,i,r){var a=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(oa(t)&&!e.required)return n();ma.required(e,t,i,a,r),oa(t)||ma.type(e,t,i,a,r)}n(a)},integer:function(e,t,n,i,r){var a=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(oa(t)&&!e.required)return n();ma.required(e,t,i,a,r),void 0!==t&&(ma.type(e,t,i,a,r),ma.range(e,t,i,a,r))}n(a)},float:function(e,t,n,i,r){var a=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(oa(t)&&!e.required)return n();ma.required(e,t,i,a,r),void 0!==t&&(ma.type(e,t,i,a,r),ma.range(e,t,i,a,r))}n(a)},array:function(e,t,n,i,r){var a=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(oa(t,"array")&&!e.required)return n();ma.required(e,t,i,a,r,"array"),oa(t,"array")||(ma.type(e,t,i,a,r),ma.range(e,t,i,a,r))}n(a)},object:function(e,t,n,i,r){var a=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(oa(t)&&!e.required)return n();ma.required(e,t,i,a,r),void 0!==t&&ma.type(e,t,i,a,r)}n(a)},enum:function(e,t,n,i,r){var a=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(oa(t)&&!e.required)return n();ma.required(e,t,i,a,r),t&&ma.enum(e,t,i,a,r)}n(a)},pattern:function(e,t,n,i,r){var a=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(oa(t,"string")&&!e.required)return n();ma.required(e,t,i,a,r),oa(t,"string")||ma.pattern(e,t,i,a,r)}n(a)},date:function(e,t,n,i,r){var a,o=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(oa(t)&&!e.required)return n();ma.required(e,t,i,o,r),oa(t)||(a=void 0,a="number"==typeof t?new Date(t):t,ma.type(e,a,i,o,r),a&&ma.range(e,a.getTime(),i,o,r))}n(o)},url:da,hex:da,email:da,required:function(e,t,n,i,r){var a=[],o=Array.isArray(t)?"array":void 0===t?"undefined":ia()(t);ma.required(e,t,i,a,r,o),n(a)}};function ga(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var ya=ga();function xa(e){this.rules=null,this._messages=ya,this.define(e)}function ba(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"el-tabs__active-bar",class:"is-"+this.rootTabs.tabPosition,style:this.barStyle})}xa.prototype={messages:function(e){return e&&(this._messages=ua(ga(),e)),this._messages},define:function(e){if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==(void 0===e?"undefined":ia()(e))||Array.isArray(e))throw new Error("Rules must be an object");this.rules={};var t,n=void 0;for(n in e)e.hasOwnProperty(n)&&(t=e[n],this.rules[n]=Array.isArray(t)?t:[t])},validate:function(e){var t,n,i,r,a=this,o=e,s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},l=arguments[2];"function"==typeof s&&(l=s,s={}),this.rules&&0!==Object.keys(this.rules).length?(n=void(s.messages?(ua(t=(t=this.messages())===ya?ga():t,s.messages),s.messages=t):s.messages=this.messages()),i=void 0,r={},(s.keys||Object.keys(this.rules)).forEach((function(t){n=a.rules[t],i=o[t],n.forEach((function(n){"function"==typeof n.transform&&(o===e&&(o=na()({},o)),i=o[t]=n.transform(i)),(n="function"==typeof n?{validator:n}:na()({},n)).validator=a.getValidationMethod(n),n.field=t,n.fullField=n.fullField||t,n.type=a.getType(n),n.validator&&(r[t]=r[t]||[],r[t].push({rule:n,value:i,source:o,field:t}))}))})),la(r,s,(function(e,t){var n,i=e.rule;function r(e,t){return na()({},t,{fullField:i.fullField+"."+e})}function a(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];if((a=Array.isArray(a)?a:[a]).length,a=(a=a.length&&i.message?[].concat(i.message):a).map(ca(i)),s.first&&a.length)return i.field,t(a);if(n){if(i.required&&!e.value)return a=i.message?[].concat(i.message).map(ca(i)):s.error?[s.error(i,aa(s.messages.required,i.field))]:[],t(a);var o,l,c={};if(i.defaultField)for(var u in e.value)e.value.hasOwnProperty(u)&&(c[u]=i.defaultField);for(o in c=na()({},c,e.rule.fields))c.hasOwnProperty(o)&&(l=Array.isArray(c[o])?c[o]:[c[o]],c[o]=l.map(r.bind(null,o)));var h=new xa(c);h.messages(s.messages),e.rule.options&&(e.rule.options.messages=s.messages,e.rule.options.error=s.error),h.validate(e.value,e.rule.options||s,(function(e){t(e&&e.length?a.concat(e):e)}))}else t(a)}n=!("object"!==i.type&&"array"!==i.type||"object"!==ia()(i.fields)&&"object"!==ia()(i.defaultField))&&(i.required||!i.required&&e.value),i.field=e.field;var o=i.validator(i,e.value,a,e.source,s);o&&o.then&&o.then((function(){return a()}),(function(e){return a(e)}))}),(function(e){var t,n,i=e,r=void 0,a=[],o={};for(r=0;r<i.length;r++)t=i[r],Array.isArray(t)?a=a.concat.apply(a,t):a.push(t);if(a.length)for(r=0;r<a.length;r++)o[n=a[r].field]=o[n]||[],o[n].push(a[r]);else o=a=null;l(a,o)}))):l&&l()},getType:function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!=typeof e.validator&&e.type&&!va.hasOwnProperty(e.type))throw new Error(aa("Unknown rule type %s",e.type));return e.type||"string"},getValidationMethod:function(e){var t,n;return"function"==typeof e.validator?e.validator:(-1!==(n=(t=Object.keys(e)).indexOf("message"))&&t.splice(n,1),1===t.length&&"required"===t[0]?va.required:va[this.getType(e)]||!1)}},xa.register=function(e,t){if("function"!=typeof t)throw new Error("Cannot register a validator by type, validator is not a function");va[e]=t},xa.messages=ya;var wa=xa,_a=(ta=((ta=r({props:{isAutoWidth:Boolean,updateAll:Boolean},inject:["elForm","elFormItem"],render:function(){var e,t,n=arguments[0],i=this.$slots.default;return i?this.isAutoWidth?(e={},(t=this.elForm.autoLabelWidth)&&"auto"!==t&&(t=parseInt(t,10)-this.computedWidth)&&(e.marginLeft=t+"px"),n("div",{class:"el-form-item__label-wrap",style:e},[i])):i[0]:null},methods:{getLabelWidth:function(){var e;return this.$el&&this.$el.firstElementChild?(e=window.getComputedStyle(this.$el.firstElementChild).width,Math.ceil(parseFloat(e))):0},updateLabelWidth:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"update";this.$slots.default&&this.isAutoWidth&&this.$el.firstElementChild&&("update"===e?this.computedWidth=this.getLabelWidth():"remove"===e&&this.elForm.deregisterLabelWidth(this.computedWidth))}},watch:{computedWidth:function(e,t){this.updateAll&&(this.elForm.registerLabelWidth(e,t),this.elFormItem.updateComputedLabelWidth(e))}},data:function(){return{computedWidth:0}},mounted:function(){this.updateLabelWidth("update")},updated:function(){this.updateLabelWidth("update")},beforeDestroy:function(){this.updateLabelWidth("remove")}},void 0,void 0,!1,null,null,null)).options.__file="packages/form/src/label-wrap.vue",ta.exports),(ta=r({name:"ElFormItem",componentName:"ElFormItem",mixins:[l],provide:function(){return{elFormItem:this}},inject:["elForm"],props:{label:String,labelWidth:String,prop:String,required:{type:Boolean,default:void 0},rules:[Object,Array],error:String,validateStatus:String,for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:String},components:{LabelWrap:ta},watch:{error:{immediate:!0,handler:function(e){this.validateMessage=e,this.validateState=e?"error":""}},validateStatus:function(e){this.validateState=e},rules:function(e){e&&0!==e.length||void 0!==this.required||this.clearValidate()}},computed:{labelFor:function(){return this.for||this.prop},labelStyle:function(){var e,t={};return"top"!==this.form.labelPosition&&(e=this.labelWidth||this.form.labelWidth)&&(t.width=e),t},contentStyle:function(){var e={},t=this.label;return"top"===this.form.labelPosition||this.form.inline||!t&&!this.labelWidth&&this.isNested||("auto"===(t=this.labelWidth||this.form.labelWidth)?"auto"===this.labelWidth?e.marginLeft=this.computedLabelWidth:"auto"===this.form.labelWidth&&(e.marginLeft=this.elForm.autoLabelWidth):e.marginLeft=t),e},form:function(){for(var e=this.$parent,t=e.$options.componentName;"ElForm"!==t;)"ElFormItem"===t&&(this.isNested=!0),t=(e=e.$parent).$options.componentName;return e},fieldValue:function(){var e=this.form.model;if(e&&this.prop)return _(e,e=-1!==(e=this.prop).indexOf(":")?e.replace(/:/,"."):e,!0).v},isRequired:function(){var e=this.getRules(),t=!1;return e&&e.length&&e.every((function(e){return!e.required||!(t=!0)})),t},_formSize:function(){return this.elForm.size},elFormItemSize:function(){return this.size||this._formSize},sizeClass:function(){return this.elFormItemSize||(this.$ELEMENT||{}).size}},data:function(){return{validateState:"",validateMessage:"",validateDisabled:!1,validator:{},isNested:!1,computedLabelWidth:""}},methods:{validate:function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:x;if((!(e=(this.validateDisabled=!1,this.getFilteredRule(e)))||0===e.length)&&void 0===this.required)return n(),!0;this.validateState="validating";var i={};e&&0<e.length&&e.forEach((function(e){delete e.trigger})),i[this.prop]=e,e=new wa(i);(i={})[this.prop]=this.fieldValue,e.validate(i,{firstFields:!0},(function(e,i){t.validateState=e?"error":"success",t.validateMessage=e?e[0].message:"",n(t.validateMessage,i),t.elForm&&t.elForm.$emit("validate",t.prop,!e,t.validateMessage||null)}))},clearValidate:function(){this.validateState="",this.validateMessage="",this.validateDisabled=!1},resetField:function(){var e=this,t=(this.validateState="",this.validateMessage="",this.form.model),n=this.fieldValue,i=this.prop;t=_(t,i=-1!==i.indexOf(":")?i.replace(/:/,"."):i,!0);this.validateDisabled=!0,Array.isArray(n)?t.o[t.k]=[].concat(this.initialValue):t.o[t.k]=this.initialValue,this.$nextTick((function(){e.validateDisabled=!1})),this.broadcast("ElTimeSelect","fieldReset",this.initialValue)},getRules:function(){var e=this.form.rules,t=this.rules,n=void 0!==this.required?{required:!!this.required}:[],i=_(e,this.prop||"");e=e?i.o[this.prop||""]||i.v:[];return[].concat(t||e||[]).concat(n)},getFilteredRule:function(e){return this.getRules().filter((function(t){return!t.trigger||""===e||(Array.isArray(t.trigger)?-1<t.trigger.indexOf(e):t.trigger===e)})).map((function(e){return W({},e)}))},onFieldBlur:function(){this.validate("blur")},onFieldChange:function(){this.validateDisabled?this.validateDisabled=!1:this.validate("change")},updateComputedLabelWidth:function(e){this.computedLabelWidth=e?e+"px":""},addValidateEvents:function(){!this.getRules().length&&void 0===this.required||(this.$on("el.form.blur",this.onFieldBlur),this.$on("el.form.change",this.onFieldChange))},removeValidateEvents:function(){this.$off()}},mounted:function(){var e;this.prop&&(this.dispatch("ElForm","el.form.addField",[this]),e=this.fieldValue,Array.isArray(e)&&(e=[].concat(e)),Object.defineProperty(this,"initialValue",{value:e}),this.addValidateEvents())},beforeDestroy:function(){this.dispatch("ElForm","el.form.removeField",[this])}},Ur,[],!1,null,null,null)).options.__file="packages/form/src/form-item.vue",ta.exports),Ma=(ta=(_a.install=function(e){e.component(_a.name,_a)},_a),ba._withStripped=!0,r({name:"TabBar",props:{tabs:Array},inject:["rootTabs"],computed:{barStyle:{get:function(){function e(e){return e.toLowerCase().replace(/( |^)[a-z]/g,(function(e){return e.toUpperCase()}))}var t=this,n={},i=0,r=0,a=-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition)?"width":"height",o="width"==a?"x":"y";this.tabs.every((function(n,o){var s,l=T(t.$parent.$refs.tabs||[],(function(e){return e.id.replace("tab-","")===n.paneName}));return!!l&&(n.active?(r=l["client"+e(a)],s=window.getComputedStyle(l),"width"==a&&1<t.tabs.length&&(r-=parseFloat(s.paddingLeft)+parseFloat(s.paddingRight)),"width"==a&&(i+=parseFloat(s.paddingLeft)),!1):(i+=l["client"+e(a)],!0))})),o="translate"+e(o)+"("+i+"px)";return n[a]=r+"px",n.transform=o,n.msTransform=o,n.webkitTransform=o,n}}}},ba,[],!1,null,null,null));function Sa(){}function Ea(e){return e.toLowerCase().replace(/( |^)[a-z]/g,(function(e){return e.toUpperCase()}))}function Ta(){var e=this,t=e.$createElement;t=e._self._c||t;return!e.lazy||e.loaded||e.active?t("div",{directives:[{name:"show",rawName:"v-show",value:e.active,expression:"active"}],staticClass:"el-tab-pane",attrs:{role:"tabpanel","aria-hidden":!e.active,id:"pane-"+e.paneName,"aria-labelledby":"tab-"+e.paneName}},[e._t("default")],2):e._e()}function Ca(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"el-tree",class:{"el-tree--highlight-current":e.highlightCurrent,"is-dragging":!!e.dragState.draggingNode,"is-drop-not-allow":!e.dragState.allowDrop,"is-drop-inner":"inner"===e.dragState.dropType},attrs:{role:"tree"}},[e._l(e.root.childNodes,(function(t){return n("el-tree-node",{key:e.getNodeKey(t),attrs:{node:t,props:e.props,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent},on:{"node-expand":e.handleNodeExpand}})})),e.isEmpty?n("div",{staticClass:"el-tree__empty-block"},[n("span",{staticClass:"el-tree__empty-text"},[e._v(e._s(e.emptyText))])]):e._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:e.dragState.showDropIndicator,expression:"dragState.showDropIndicator"}],ref:"dropIndicator",staticClass:"el-tree__drop-indicator"})],2)}function Aa(e,t){t&&!t[Ia]&&Object.defineProperty(t,Ia,{value:e.id,enumerable:!1,configurable:!1,writable:!1})}function La(e,t){return e?t[e]:t[Ia]}var Pa=((Ma=((Ma=r({name:"TabNav",components:{TabBar:Ma=(Ma.options.__file="packages/tabs/src/tab-bar.vue",Ma.exports)},inject:["rootTabs"],props:{panes:Array,currentName:String,editable:Boolean,onTabClick:{type:Function,default:Sa},onTabRemove:{type:Function,default:Sa},type:String,stretch:Boolean},data:function(){return{scrollable:!1,navOffset:0,isFocus:!1,focusable:!0}},computed:{navStyle:function(){return{transform:"translate"+(-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition)?"X":"Y")+"(-"+this.navOffset+"px)"}},sizeName:function(){return-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition)?"width":"height"}},methods:{scrollPrev:function(){var e=this.$refs.navScroll["offset"+Ea(this.sizeName)],t=this.navOffset;t&&(this.navOffset=e<t?t-e:0)},scrollNext:function(){var e=this.$refs.nav["offset"+Ea(this.sizeName)],t=this.$refs.navScroll["offset"+Ea(this.sizeName)],n=this.navOffset;e-n<=t||(this.navOffset=2*t<e-n?n+t:e-t)},scrollToActiveTab:function(){var e,t,n,i,r,a;this.scrollable&&(i=this.$refs.nav,t=this.$el.querySelector(".is-active"))&&(n=this.$refs.navScroll,e=-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition),t=t.getBoundingClientRect(),n=n.getBoundingClientRect(),i=e?i.offsetWidth-n.width:i.offsetHeight-n.height,a=r=this.navOffset,e?(t.left<n.left&&(a=r-(n.left-t.left)),t.right>n.right&&(a=r+t.right-n.right)):(t.top<n.top&&(a=r-(n.top-t.top)),t.bottom>n.bottom&&(a=r+(t.bottom-n.bottom))),a=Math.max(a,0),this.navOffset=Math.min(a,i))},update:function(){var e,t,n,i;this.$refs.nav&&(t=this.sizeName,e=this.$refs.nav["offset"+Ea(t)],t=this.$refs.navScroll["offset"+Ea(t)],n=this.navOffset,t<e?(i=this.navOffset,this.scrollable=this.scrollable||{},this.scrollable.prev=i,this.scrollable.next=i+t<e,e-i<t&&(this.navOffset=e-t)):(this.scrollable=!1,0<n&&(this.navOffset=0)))},changeTab:function(e){var t=e.keyCode,n=void 0;-1!==[37,38,39,40].indexOf(t)&&(n=e.currentTarget.querySelectorAll("[role=tab]"),e=Array.prototype.indexOf.call(n,e.target),n[t=37===t||38===t?0===e?n.length-1:e-1:e<n.length-1?e+1:0].focus(),n[t].click(),this.setFocus())},setFocus:function(){this.focusable&&(this.isFocus=!0)},removeFocus:function(){this.isFocus=!1},visibilityChangeHandler:function(){var e=this,t=document.visibilityState;"hidden"===t?this.focusable=!1:"visible"===t&&setTimeout((function(){e.focusable=!0}),50)},windowBlurHandler:function(){this.focusable=!1},windowFocusHandler:function(){var e=this;setTimeout((function(){e.focusable=!0}),50)}},updated:function(){this.update()},render:function(e){var t=this,n=this.type,i=this.panes,r=this.editable,a=this.stretch,o=this.onTabClick,s=this.onTabRemove,l=this.navStyle,c=this.scrollable,u=this.scrollNext,h=this.scrollPrev,d=this.changeTab,f=this.setFocus,p=this.removeFocus;h=c?[e("span",{class:["el-tabs__nav-prev",c.prev?"":"is-disabled"],on:{click:h}},[e("i",{class:"el-icon-arrow-left"})]),e("span",{class:["el-tabs__nav-next",c.next?"":"is-disabled"],on:{click:u}},[e("i",{class:"el-icon-arrow-right"})])]:null,u=this._l(i,(function(n,i){var a,l=n.name||n.index||i,c=n.isClosable||r,u=(i=(n.index=""+i,c?e("span",{class:"el-icon-close",on:{click:function(e){s(n,e)}}}):null),n.$slots.label||n.label),h=n.active?0:-1;return e("div",{class:((a={"el-tabs__item":!0})["is-"+t.rootTabs.tabPosition]=!0,a["is-active"]=n.active,a["is-disabled"]=n.disabled,a["is-closable"]=c,a["is-focus"]=t.isFocus,a),attrs:{id:"tab-"+l,"aria-controls":"pane-"+l,role:"tab","aria-selected":n.active,tabindex:h},key:"tab-"+l,ref:"tabs",refInFor:!0,on:{focus:function(){f()},blur:function(){p()},click:function(e){p(),o(n,l,e)},keydown:function(e){!c||46!==e.keyCode&&8!==e.keyCode||s(n,e)}}},[u,i])}));return e("div",{class:["el-tabs__nav-wrap",c?"is-scrollable":"","is-"+this.rootTabs.tabPosition]},[h,e("div",{class:["el-tabs__nav-scroll"],ref:"navScroll"},[e("div",{class:["el-tabs__nav","is-"+this.rootTabs.tabPosition,a&&-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition)?"is-stretch":""],ref:"nav",style:l,attrs:{role:"tablist"},on:{keydown:d}},[n?null:e("tab-bar",{attrs:{tabs:i}}),u])])])},mounted:function(){var e=this;fe(this.$el,this.update),document.addEventListener("visibilitychange",this.visibilityChangeHandler),window.addEventListener("blur",this.windowBlurHandler),window.addEventListener("focus",this.windowFocusHandler),setTimeout((function(){e.scrollToActiveTab()}),0)},beforeDestroy:function(){this.$el&&this.update&&pe(this.$el,this.update),document.removeEventListener("visibilitychange",this.visibilityChangeHandler),window.removeEventListener("blur",this.windowBlurHandler),window.removeEventListener("focus",this.windowFocusHandler)}},void 0,void 0,!1,null,null,null)).options.__file="packages/tabs/src/tab-nav.vue",r({name:"ElTabs",components:{TabNav:Ma.exports},props:{type:String,activeName:String,closable:Boolean,addable:Boolean,value:{},editable:Boolean,tabPosition:{type:String,default:"top"},beforeLeave:Function,stretch:Boolean},provide:function(){return{rootTabs:this}},data:function(){return{currentName:this.value||this.activeName,panes:[]}},watch:{activeName:function(e){this.setCurrentName(e)},value:function(e){this.setCurrentName(e)},currentName:function(e){var t=this;this.$refs.nav&&this.$nextTick((function(){t.$refs.nav.$nextTick((function(e){t.$refs.nav.scrollToActiveTab()}))}))}},methods:{calcPaneInstances:function(){var e,t,n=this,i=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this.$slots.default?(t=!((e=this.$slots.default.filter((function(e){return e.tag&&e.componentOptions&&"ElTabPane"===e.componentOptions.Ctor.options.name})).map((function(e){return e.componentInstance}))).length===this.panes.length&&e.every((function(e,t){return e===n.panes[t]}))),(i||t)&&(this.panes=e)):0!==this.panes.length&&(this.panes=[])},handleTabClick:function(e,t,n){e.disabled||(this.setCurrentName(t),this.$emit("tab-click",e,n))},handleTabRemove:function(e,t){e.disabled||(t.stopPropagation(),this.$emit("edit",e.name,"remove"),this.$emit("tab-remove",e.name))},handleTabAdd:function(){this.$emit("edit",null,"add"),this.$emit("tab-add")},setCurrentName:function(e){function t(){i.currentName=e,i.$emit("input",e)}var n,i=this;this.currentName!==e&&this.beforeLeave?(n=this.beforeLeave(e,this.currentName))&&n.then?n.then((function(){t(),i.$refs.nav&&i.$refs.nav.removeFocus()}),(function(){})):!1!==n&&t():t()}},render:function(e){var t=this.type,n=this.handleTabClick,i=this.handleTabRemove,r=this.handleTabAdd,a=this.currentName,o=this.panes,s=this.editable,l=this.addable,c=this.tabPosition,u=this.stretch;l=s||l?e("span",{class:"el-tabs__new-tab",on:{click:r,keydown:function(e){13===e.keyCode&&r()}},attrs:{tabindex:"0"}},[e("i",{class:"el-icon-plus"})]):null,l=e("div",{class:["el-tabs__header","is-"+c]},[l,e("tab-nav",{props:{currentName:a,onTabClick:n,onTabRemove:i,editable:s,type:t,panes:o,stretch:u},ref:"nav"})]),a=e("div",{class:"el-tabs__content"},[this.$slots.default]);return e("div",{class:((n={"el-tabs":!0,"el-tabs--card":"card"===t})["el-tabs--"+c]=!0,n["el-tabs--border-card"]="border-card"===t,n)},["bottom"!==c?[l,a]:[a,l]])},created:function(){this.currentName||this.setCurrentName("0"),this.$on("tab-nav-update",this.calcPaneInstances.bind(null,!0))},mounted:function(){this.calcPaneInstances()},updated:function(){this.calcPaneInstances()}},void 0,void 0,!1,null,null,null))).options.__file="packages/tabs/src/tabs.vue",Ma.exports),ka=(Ma=(Pa.install=function(e){e.component(Pa.name,Pa)},Pa),(Da=(Ta._withStripped=!0,r({name:"ElTabPane",componentName:"ElTabPane",props:{label:String,labelContent:Function,name:String,closable:Boolean,disabled:Boolean,lazy:Boolean},data:function(){return{index:null,loaded:!1}},computed:{isClosable:function(){return this.closable||this.$parent.closable},active:function(){var e=this.$parent.currentName===(this.name||this.index);return e&&(this.loaded=!0),e},paneName:function(){return this.name||this.index}},updated:function(){this.$parent.$emit("tab-nav-update")}},Ta,[],!1,null,null,null))).options.__file="packages/tabs/src/tab-pane.vue",Da.exports),Da=(ka.install=function(e){e.component(ka.name,ka)},ka),Ia=(Ca._withStripped=!0,"$treeNodeId"),Ra=function(e,t,n){return t&&Na(e.prototype,t),n&&Na(e,n),e};function Na(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Oa(e){for(var t=!0,n=!0,i=!0,r=0,a=e.length;r<a;r++){var o=e[r];!0===o.checked&&!o.indeterminate||(t=!1,o.disabled)||(i=!1),!1===o.checked&&!o.indeterminate||(n=!1)}return{all:t,none:n,allWithoutDisable:i,half:!t&&!n}}function Fa(e){var t,n,i;0!==e.childNodes.length&&!e.loading&&(i=(n=Oa(e.childNodes)).all,t=n.none,n=n.half,i?(e.checked=!0,e.indeterminate=!1):n?(e.checked=!1,e.indeterminate=!0):t&&(e.checked=!1,e.indeterminate=!1),i=e.parent)&&0!==i.level&&!e.store.checkStrictly&&Fa(i)}function za(e,t){var n=e.store.props,i=e.data||{};return"function"==typeof(n=n[t])?n(i,e):"string"==typeof n?i[n]:void 0===n?void 0===(e=i[t])?"":e:void 0}var Ba=0,Ha=(Va.prototype.setData=function(e){Array.isArray(e)||Aa(this,e),this.data=e,this.childNodes=[];for(var t,n=0,i=(t=0===this.level&&this.data instanceof Array?this.data:za(this,"children")||[]).length;n<i;n++)this.insertChild({data:t[n]})},Va.prototype.contains=function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];return function n(i){for(var r=i.childNodes||[],a=!1,o=0,s=r.length;o<s;o++){var l=r[o];if(l===e||t&&n(l)){a=!0;break}}return a}(this)},Va.prototype.remove=function(){var e=this.parent;e&&e.removeChild(this)},Va.prototype.insertChild=function(e,t,n){if(!e)throw new Error("insertChild error: child is required.");e instanceof Va||(n||-1===(n=this.getChildren(!0)||[]).indexOf(e.data)&&(void 0===t||t<0?n.push(e.data):n.splice(t,0,e.data)),W(e,{parent:this,store:this.store}),e=new Va(e)),e.level=this.level+1,void 0===t||t<0?this.childNodes.push(e):this.childNodes.splice(t,0,e),this.updateLeafState()},Va.prototype.insertBefore=function(e,t){var n=void 0;t&&(n=this.childNodes.indexOf(t)),this.insertChild(e,n)},Va.prototype.insertAfter=function(e,t){var n=void 0;t&&-1!==(n=this.childNodes.indexOf(t))&&(n+=1),this.insertChild(e,n)},Va.prototype.removeChild=function(e){var t,n=(t=this.getChildren()||[]).indexOf(e.data);-1<(t=(-1<n&&t.splice(n,1),this.childNodes.indexOf(e)))&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(t,1)),this.updateLeafState()},Va.prototype.removeChildByData=function(e){for(var t=null,n=0;n<this.childNodes.length;n++)if(this.childNodes[n].data===e){t=this.childNodes[n];break}t&&this.removeChild(t)},Va.prototype.expand=function(e,t){function n(){if(t)for(var n=i.parent;0<n.level;)n.expanded=!0,n=n.parent;i.expanded=!0,e&&e()}var i=this;this.shouldLoadData()?this.loadData((function(e){e instanceof Array&&(i.checked?i.setChecked(!0,!0):i.store.checkStrictly||Fa(i),n())})):n()},Va.prototype.doCreateChildren=function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};e.forEach((function(e){t.insertChild(W({data:e},n),void 0,!0)}))},Va.prototype.collapse=function(){this.expanded=!1},Va.prototype.shouldLoadData=function(){return!0===this.store.lazy&&this.store.load&&!this.loaded},Va.prototype.updateLeafState=function(){var e;!0!==this.store.lazy||!0===this.loaded||void 0===this.isLeafByUser?(e=this.childNodes,!this.store.lazy||!0===this.store.lazy&&!0===this.loaded?this.isLeaf=!e||0===e.length:this.isLeaf=!1):this.isLeaf=this.isLeafByUser},Va.prototype.setChecked=function(e,t,n,i){var r=this;if(this.indeterminate="half"===e,this.checked=!0===e,!this.store.checkStrictly){if(!this.shouldLoadData()||this.store.checkDescendants){var a=(o=Oa(this.childNodes)).all,o=o.allWithoutDisable,s=(this.isLeaf||a||!o||(this.checked=!1,e=!1),function(){if(t){for(var n=r.childNodes,a=0,o=n.length;a<o;a++){var s=n[a],l=(i=i||!1!==e,s.disabled?s.checked:i);s.setChecked(l,t,!0,i)}var c,u=(c=Oa(n)).half;(c=c.all)||(r.checked=c,r.indeterminate=u)}});if(this.shouldLoadData())return void this.loadData((function(){s(),Fa(r)}),{checked:!1!==e});s()}!(a=this.parent)||0===a.level||n||Fa(a)}},Va.prototype.getChildren=function(){var e,t,n,i=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return 0===this.level?this.data:(e=this.data)?(n="children",void 0===e[n=(t=this.store.props)?t.children||"children":n]&&(e[n]=null),i&&!e[n]&&(e[n]=[]),e[n]):null},Va.prototype.updateChildren=function(){var e=this,t=this.getChildren()||[],n=this.childNodes.map((function(e){return e.data})),i={},r=[];t.forEach((function(e,t){var a=e[Ia];a&&0<=E(n,(function(e){return e[Ia]===a}))?i[a]={index:t,data:e}:r.push({index:t,data:e})})),this.store.lazy||n.forEach((function(t){i[t[Ia]]||e.removeChildByData(t)})),r.forEach((function(t){var n=t.index;t=t.data;e.insertChild({data:t},n)})),this.updateLeafState()},Va.prototype.loadData=function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!0!==this.store.lazy||!this.store.load||this.loaded||this.loading&&!Object.keys(n).length?e&&e.call(this):(this.loading=!0,this.store.load(this,(function(i){t.childNodes=[],t.doCreateChildren(i,n),t.loaded=!0,t.loading=!1,t.updateLeafState(),e&&e.call(t,i)})))},Ra(Va,[{key:"label",get:function(){return za(this,"label")}},{key:"key",get:function(){var e=this.store.key;return this.data?this.data[e]:null}},{key:"disabled",get:function(){return za(this,"disabled")}},{key:"nextSibling",get:function(){var e=this.parent;if(e){var t=e.childNodes.indexOf(this);if(-1<t)return e.childNodes[t+1]}return null}},{key:"previousSibling",get:function(){var e=this.parent;if(e){var t=e.childNodes.indexOf(this);if(-1<t)return 0<t?e.childNodes[t-1]:null}return null}}]),Va),Ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function Va(e){if(!(this instanceof Va))throw new TypeError("Cannot call a class as a function");for(var t in this.id=Ba++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,e)e.hasOwnProperty(t)&&(this[t]=e[t]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1);var n=this.store;if(!n)throw new Error("[Node]store is required!");n.registerNode(this);var i,r=n.props;r&&void 0!==r.isLeaf&&"boolean"==typeof(r=za(this,"isLeaf"))&&(this.isLeafByUser=r),!0!==n.lazy&&this.data?(this.setData(this.data),n.defaultExpandAll&&(this.expanded=!0)):0<this.level&&n.lazy&&n.defaultExpandAll&&this.expand(),Array.isArray(this.data)||Aa(this,this.data),this.data&&(r=n.defaultExpandedKeys,(i=n.key)&&r&&-1!==r.indexOf(this.key)&&this.expand(null,n.autoExpandParent),i&&void 0!==n.currentNodeKey&&this.key===n.currentNodeKey&&(n.currentNode=this,n.currentNode.isCurrent=!0),n.lazy&&n._initDefaultCheckedNode(this),this.updateLeafState())}function Ga(){var e=this,t=this,n=t.$createElement,i=t._self._c||n;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.node.visible,expression:"node.visible"}],ref:"node",staticClass:"el-tree-node",class:{"is-expanded":t.expanded,"is-current":t.node.isCurrent,"is-hidden":!t.node.visible,"is-focusable":!t.node.disabled,"is-checked":!t.node.disabled&&t.node.checked},attrs:{role:"treeitem",tabindex:"-1","aria-expanded":t.expanded,"aria-disabled":t.node.disabled,"aria-checked":t.node.checked,draggable:t.tree.draggable},on:{click:function(e){return e.stopPropagation(),t.handleClick(e)},contextmenu:function(t){return e.handleContextMenu(t)},dragstart:function(e){return e.stopPropagation(),t.handleDragStart(e)},dragover:function(e){return e.stopPropagation(),t.handleDragOver(e)},dragend:function(e){return e.stopPropagation(),t.handleDragEnd(e)},drop:function(e){return e.stopPropagation(),t.handleDrop(e)}}},[i("div",{staticClass:"el-tree-node__content",style:{"padding-left":(t.node.level-1)*t.tree.indent+"px"}},[i("span",{class:[{"is-leaf":t.node.isLeaf,expanded:!t.node.isLeaf&&t.expanded},"el-tree-node__expand-icon",t.tree.iconClass||"el-icon-caret-right"],on:{click:function(e){return e.stopPropagation(),t.handleExpandIconClick(e)}}}),t.showCheckbox?i("el-checkbox",{attrs:{indeterminate:t.node.indeterminate,disabled:!!t.node.disabled},on:{change:t.handleCheckChange},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:t.node.checked,callback:function(e){t.$set(t.node,"checked",e)},expression:"node.checked"}}):t._e(),t.node.loading?i("span",{staticClass:"el-tree-node__loading-icon el-icon-loading"}):t._e(),i("node-content",{attrs:{node:t.node}})],1),i("el-collapse-transition",[!t.renderAfterExpand||t.childNodeRendered?i("div",{directives:[{name:"show",rawName:"v-show",value:t.expanded,expression:"expanded"}],staticClass:"el-tree-node__children",attrs:{role:"group","aria-expanded":t.expanded}},t._l(t.node.childNodes,(function(e){return i("el-tree-node",{key:t.getNodeKey(e),attrs:{"render-content":t.renderContent,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,node:e},on:{"node-expand":t.handleChildNodeExpand}})})),1):t._e()])],1)}Wa.prototype.filter=function(e){var t=this.filterNodeMethod,n=this.lazy;!function i(r){var a=(r.root||r).childNodes;a.forEach((function(n){n.visible=t.call(n,e,n.data,n),i(n)})),!r.visible&&a.length&&(a=!a.some((function(e){return e.visible})),r.root?r.root.visible=0==a:r.visible=0==a),e&&r.visible&&!r.isLeaf&&!n&&r.expand()}(this)},Wa.prototype.setData=function(e){e!==this.root.data?(this.root.setData(e),this._initDefaultCheckedNodes()):this.root.updateChildren()},Wa.prototype.getNode=function(e){return e instanceof Ha?e:(e="object"!==(void 0===e?"undefined":Ua(e))?e:La(this.key,e),this.nodesMap[e]||null)},Wa.prototype.insertBefore=function(e,t){(t=this.getNode(t)).parent.insertBefore({data:e},t)},Wa.prototype.insertAfter=function(e,t){(t=this.getNode(t)).parent.insertAfter({data:e},t)},Wa.prototype.remove=function(e){(e=this.getNode(e))&&e.parent&&(e===this.currentNode&&(this.currentNode=null),e.parent.removeChild(e))},Wa.prototype.append=function(e,t){(t=t?this.getNode(t):this.root)&&t.insertChild({data:e})},Wa.prototype._initDefaultCheckedNodes=function(){var e=this,t=this.defaultCheckedKeys||[],n=this.nodesMap;t.forEach((function(t){(t=n[t])&&t.setChecked(!0,!e.checkStrictly)}))},Wa.prototype._initDefaultCheckedNode=function(e){-1!==(this.defaultCheckedKeys||[]).indexOf(e.key)&&e.setChecked(!0,!this.checkStrictly)},Wa.prototype.setDefaultCheckedKey=function(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())},Wa.prototype.registerNode=function(e){this.key&&e&&e.data&&void 0!==e.key&&(this.nodesMap[e.key]=e)},Wa.prototype.deregisterNode=function(e){var t=this;this.key&&e&&e.data&&(e.childNodes.forEach((function(e){t.deregisterNode(e)})),delete this.nodesMap[e.key])},Wa.prototype.getCheckedNodes=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=[];return function i(r){(r.root||r).childNodes.forEach((function(r){!(r.checked||t&&r.indeterminate)||e&&!r.isLeaf||n.push(r.data),i(r)}))}(this),n},Wa.prototype.getCheckedKeys=function(){var e=this;return this.getCheckedNodes(0<arguments.length&&void 0!==arguments[0]&&arguments[0]).map((function(t){return(t||{})[e.key]}))},Wa.prototype.getHalfCheckedNodes=function(){var e=[];return function t(n){(n.root||n).childNodes.forEach((function(n){n.indeterminate&&e.push(n.data),t(n)}))}(this),e},Wa.prototype.getHalfCheckedKeys=function(){var e=this;return this.getHalfCheckedNodes().map((function(t){return(t||{})[e.key]}))},Wa.prototype._getAllNodes=function(){var e,t=[],n=this.nodesMap;for(e in n)n.hasOwnProperty(e)&&t.push(n[e]);return t},Wa.prototype.updateChildren=function(e,t){var n=this.nodesMap[e];if(n){for(var i=n.childNodes,r=i.length-1;0<=r;r--){var a=i[r];this.remove(a.data)}for(var o=0,s=t.length;o<s;o++){var l=t[o];this.append(l,n.data)}}},Wa.prototype._setCheckedKeys=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=arguments[2],i=this._getAllNodes().sort((function(e,t){return t.level-e.level})),r=Object.create(null),a=Object.keys(n);i.forEach((function(e){return e.setChecked(!1,!1)}));for(var o=0,s=i.length;o<s;o++){var l=i[o],c=l.data[e].toString();if(-1<a.indexOf(c)){for(var u=l.parent;u&&0<u.level;)r[u.data[e]]=!0,u=u.parent;l.isLeaf||this.checkStrictly?l.setChecked(!0,!1):(l.setChecked(!0,!0),t&&(l.setChecked(!1,!1),function e(t){t.childNodes.forEach((function(t){t.isLeaf||t.setChecked(!1,!1),e(t)}))}(l)))}else l.checked&&!r[c]&&l.setChecked(!1,!1)}},Wa.prototype.setCheckedNodes=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=this.key,i={};e.forEach((function(e){i[(e||{})[n]]=!0})),this._setCheckedKeys(n,t,i)},Wa.prototype.setCheckedKeys=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=(this.defaultCheckedKeys=e,this.key),i={};e.forEach((function(e){i[e]=!0})),this._setCheckedKeys(n,t,i)},Wa.prototype.setDefaultExpandedKeys=function(e){var t=this;(this.defaultExpandedKeys=e=e||[]).forEach((function(e){(e=t.getNode(e))&&e.expand(null,t.autoExpandParent)}))},Wa.prototype.setChecked=function(e,t,n){(e=this.getNode(e))&&e.setChecked(!!t,n)},Wa.prototype.getCurrentNode=function(){return this.currentNode},Wa.prototype.setCurrentNode=function(e){var t=this.currentNode;t&&(t.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0},Wa.prototype.setUserCurrentNode=function(e){e=e[this.key],e=this.nodesMap[e],this.setCurrentNode(e)},Wa.prototype.setCurrentNodeKey=function(e){null==e?(this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null):(e=this.getNode(e))&&this.setCurrentNode(e)};var ja=Wa;function Wa(e){var t,n=this;if(!(this instanceof Wa))throw new TypeError("Cannot call a class as a function");for(t in this.currentNode=null,this.currentNodeKey=null,e)e.hasOwnProperty(t)&&(this[t]=e[t]);this.nodesMap={},this.root=new Ha({data:this.data,store:this}),this.lazy&&this.load?(0,this.load)(this.root,(function(e){n.root.doCreateChildren(e),n._initDefaultCheckedNodes()})):this._initDefaultCheckedNodes()}function Xa(){var e=this,t=e.$createElement;return(t=e._self._c||t)("transition",{attrs:{name:"el-alert-fade"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-alert",class:[e.typeClass,e.center?"is-center":"","is-"+e.effect],attrs:{role:"alert"}},[e.showIcon?t("i",{staticClass:"el-alert__icon",class:[e.iconClass,e.isBigIcon]}):e._e(),t("div",{staticClass:"el-alert__content"},[e.title||e.$slots.title?t("span",{staticClass:"el-alert__title",class:[e.isBoldTitle]},[e._t("title",[e._v(e._s(e.title))])],2):e._e(),e.$slots.default&&!e.description?t("p",{staticClass:"el-alert__description"},[e._t("default")],2):e._e(),e.description&&!e.$slots.default?t("p",{staticClass:"el-alert__description"},[e._v(e._s(e.description))]):e._e(),t("i",{directives:[{name:"show",rawName:"v-show",value:e.closable,expression:"closable"}],staticClass:"el-alert__closebtn",class:{"is-customed":""!==e.closeText,"el-icon-close":""===e.closeText},on:{click:function(t){e.close()}}},[e._v(e._s(e.closeText))])])])])}function qa(){var e=this,t=e.$createElement;return(t=e._self._c||t)("transition",{attrs:{name:"el-notification-fade"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],class:["el-notification",e.customClass,e.horizontalClass],style:e.positionStyle,attrs:{role:"alert"},on:{mouseenter:function(t){e.clearTimer()},mouseleave:function(t){e.startTimer()},click:e.click}},[e.type||e.iconClass?t("i",{staticClass:"el-notification__icon",class:[e.typeClass,e.iconClass]}):e._e(),t("div",{staticClass:"el-notification__group",class:{"is-with-icon":e.typeClass||e.iconClass}},[t("h2",{staticClass:"el-notification__title",domProps:{textContent:e._s(e.title)}}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.message,expression:"message"}],staticClass:"el-notification__content"},[e._t("default",[e.dangerouslyUseHTMLString?t("p",{domProps:{innerHTML:e._s(e.message)}}):t("p",[e._v(e._s(e.message))])])],2),e.showClose?t("div",{staticClass:"el-notification__closeBtn el-icon-close",on:{click:function(t){return t.stopPropagation(),e.close(t)}}}):e._e()])])])}function Ya(e){var t,n,i,r;if(!u.a.prototype.$isServer)return t=(e=W({},e)).onClose,n="notification_"+mo++,i=e.position||"top-right",e.onClose=function(){Ya.close(n,t)},fo=new ho({data:e}),Nr(e.message)&&(fo.$slots.default=[e.message],e.message="REPLACED_BY_VNODE"),fo.id=n,fo.$mount(),document.body.appendChild(fo.$el),fo.visible=!0,fo.dom=fo.$el,fo.dom.style.zIndex=_e.nextZIndex(),r=e.offset||0,po.filter((function(e){return e.position===i})).forEach((function(e){r+=e.$el.offsetHeight+16})),r+=16,fo.verticalOffset=r,po.push(fo),fo}function $a(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"el-slider",class:{"is-vertical":e.vertical,"el-slider--with-input":e.showInput},attrs:{role:"slider","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-orientation":e.vertical?"vertical":"horizontal","aria-disabled":e.sliderDisabled}},[e.showInput&&!e.range?n("el-input-number",{ref:"input",staticClass:"el-slider__input",attrs:{step:e.step,disabled:e.sliderDisabled,controls:e.showInputControls,min:e.min,max:e.max,debounce:e.debounce,size:e.inputSize},on:{change:e.emitChange},model:{value:e.firstValue,callback:function(t){e.firstValue=t},expression:"firstValue"}}):e._e(),n("div",{ref:"slider",staticClass:"el-slider__runway",class:{"show-input":e.showInput,disabled:e.sliderDisabled},style:e.runwayStyle,on:{click:e.onSliderClick}},[n("div",{staticClass:"el-slider__bar",style:e.barStyle}),n("slider-button",{ref:"button1",attrs:{vertical:e.vertical,"tooltip-class":e.tooltipClass},model:{value:e.firstValue,callback:function(t){e.firstValue=t},expression:"firstValue"}}),e.range?n("slider-button",{ref:"button2",attrs:{vertical:e.vertical,"tooltip-class":e.tooltipClass},model:{value:e.secondValue,callback:function(t){e.secondValue=t},expression:"secondValue"}}):e._e(),e._l(e.stops,(function(t,i){return e.showStops?n("div",{key:i,staticClass:"el-slider__stop",style:e.getStopStyle(t)}):e._e()})),0<e.markList.length?[n("div",e._l(e.markList,(function(t,i){return n("div",{key:i,staticClass:"el-slider__stop el-slider__marks-stop",style:e.getStopStyle(t.position)})})),0),n("div",{staticClass:"el-slider__marks"},e._l(e.markList,(function(t,i){return n("slider-marker",{key:i,style:e.getStopStyle(t.position),attrs:{mark:t.mark}})})),1)]:e._e()],2)],1)}function Za(){var e=this,t=e.$createElement;return(t=e._self._c||t)("div",{ref:"button",staticClass:"el-slider__button-wrapper",class:{hover:e.hovering,dragging:e.dragging},style:e.wrapperStyle,attrs:{tabindex:"0"},on:{mouseenter:e.handleMouseEnter,mouseleave:e.handleMouseLeave,mousedown:e.onButtonDown,touchstart:e.onButtonDown,focus:e.handleMouseEnter,blur:e.handleMouseLeave,keydown:[function(t){return!("button"in t)&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])||"button"in t&&0!==t.button?null:e.onLeftKeyDown(t)},function(t){return!("button"in t)&&e._k(t.keyCode,"right",39,t.key,["Right","ArrowRight"])||"button"in t&&2!==t.button?null:e.onRightKeyDown(t)},function(t){return"button"in t||!e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?(t.preventDefault(),e.onLeftKeyDown(t)):null},function(t){return"button"in t||!e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?(t.preventDefault(),e.onRightKeyDown(t)):null}]}},[t("el-tooltip",{ref:"tooltip",attrs:{placement:"top","popper-class":e.tooltipClass,disabled:!e.showTooltip}},[t("span",{attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.formatValue))]),t("div",{staticClass:"el-slider__button",class:{hover:e.hovering,dragging:e.dragging}})])],1)}function Qa(){var e=this,t=e.$createElement;return(t=e._self._c||t)("transition",{attrs:{name:"el-loading-fade"},on:{"after-leave":e.handleAfterLeave}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-loading-mask",class:[e.customClass,{"is-fullscreen":e.fullscreen}],style:{backgroundColor:e.background||""}},[t("div",{staticClass:"el-loading-spinner"},[e.spinner?t("i",{class:e.spinner}):t("svg",{staticClass:"circular",attrs:{viewBox:"25 25 50 50"}},[t("circle",{staticClass:"path",attrs:{cx:"50",cy:"50",r:"20",fill:"none"}})]),e.text?t("p",{staticClass:"el-loading-text"},[e._v(e._s(e.text))]):e._e()])])])}function Ka(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:300,i=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if(!e||!t)throw new Error("instance & callback is required");function r(){a||(a=!0,t&&t.apply(null,arguments))}var a=!1;i?e.$once("after-leave",r):e.$on("after-leave",r),setTimeout((function(){r()}),n+100)}function Ja(){var e,t,n,i,r,a,o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!u.a.prototype.$isServer)return"string"==typeof(o=W({},_o,o)).target&&(o.target=document.querySelector(o.target)),o.target=o.target||document.body,o.target!==document.body?o.fullscreen=!1:o.body=!0,o.fullscreen&&Mo?Mo:(e=o.body?document.body:o.target,t=new wo({el:document.createElement("div"),data:o}),i=e,r=t,a={},(n=o).fullscreen?(r.originalPosition=ve(document.body,"position"),r.originalOverflow=ve(document.body,"overflow"),a.zIndex=_e.nextZIndex()):n.body?(r.originalPosition=ve(document.body,"position"),["top","left"].forEach((function(e){var t="top"===e?"scrollTop":"scrollLeft";a[e]=n.target.getBoundingClientRect()[e]+document.body[t]+document.documentElement[t]+"px"})),["height","width"].forEach((function(e){a[e]=n.target.getBoundingClientRect()[e]+"px"}))):r.originalPosition=ve(i,"position"),Object.keys(a).forEach((function(e){r.$el.style[e]=a[e]})),"absolute"!==t.originalPosition&&"fixed"!==t.originalPosition&&"sticky"!==t.originalPosition&&ae(e,"el-loading-parent--relative"),o.fullscreen&&o.lock&&ae(e,"el-loading-parent--hidden"),e.appendChild(t.$el),u.a.nextTick((function(){t.visible=!0})),o.fullscreen&&(Mo=t),t)}function eo(){var e=this.$createElement;return(this._self._c||e)("i",{class:"el-icon-"+this.name})}function to(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition-group",{class:["el-upload-list","el-upload-list--"+e.listType,{"is-disabled":e.disabled}],attrs:{tag:"ul",name:"el-list"}},e._l(e.files,(function(t){return n("li",{key:t.uid,class:["el-upload-list__item","is-"+t.status,e.focusing?"focusing":""],attrs:{tabindex:"0"},on:{keydown:function(n){if(!("button"in n)&&e._k(n.keyCode,"delete",[8,46],n.key,["Backspace","Delete","Del"]))return null;e.disabled||e.$emit("remove",t)},focus:function(t){e.focusing=!0},blur:function(t){e.focusing=!1},click:function(t){e.focusing=!1}}},[e._t("default",["uploading"!==t.status&&-1<["picture-card","picture"].indexOf(e.listType)?n("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:t.url,alt:""}}):e._e(),n("a",{staticClass:"el-upload-list__item-name",on:{click:function(n){e.handleClick(t)}}},[n("i",{staticClass:"el-icon-document"}),e._v(e._s(t.name)+"\n      ")]),n("label",{staticClass:"el-upload-list__item-status-label"},[n("i",{class:{"el-icon-upload-success":!0,"el-icon-circle-check":"text"===e.listType,"el-icon-check":-1<["picture-card","picture"].indexOf(e.listType)}})]),e.disabled?e._e():n("i",{staticClass:"el-icon-close",on:{click:function(n){e.$emit("remove",t)}}}),e.disabled?e._e():n("i",{staticClass:"el-icon-close-tip"},[e._v(e._s(e.t("el.upload.deleteTip")))]),"uploading"===t.status?n("el-progress",{attrs:{type:"picture-card"===e.listType?"circle":"line","stroke-width":"picture-card"===e.listType?6:2,percentage:e.parsePercentage(t.percentage)}}):e._e(),"picture-card"===e.listType?n("span",{staticClass:"el-upload-list__item-actions"},[e.handlePreview&&"picture-card"===e.listType?n("span",{staticClass:"el-upload-list__item-preview",on:{click:function(n){e.handlePreview(t)}}},[n("i",{staticClass:"el-icon-zoom-in"})]):e._e(),e.disabled?e._e():n("span",{staticClass:"el-upload-list__item-delete",on:{click:function(n){e.$emit("remove",t)}}},[n("i",{staticClass:"el-icon-delete"})])]):e._e()],{file:t})],2)})),0)}function no(){var e=this,t=e.$createElement;return(t=e._self._c||t)("div",{staticClass:"el-progress",class:["el-progress--"+e.type,e.status?"is-"+e.status:"",{"el-progress--without-text":!e.showText,"el-progress--text-inside":e.textInside}],attrs:{role:"progressbar","aria-valuenow":e.percentage,"aria-valuemin":"0","aria-valuemax":"100"}},["line"===e.type?t("div",{staticClass:"el-progress-bar"},[t("div",{staticClass:"el-progress-bar__outer",style:{height:e.strokeWidth+"px",backgroundColor:e.defineBackColor}},[t("div",{staticClass:"el-progress-bar__inner",style:e.barStyle},[e.showText&&e.textInside?t("div",{staticClass:"el-progress-bar__innerText",style:{color:e.textColor}},[e._v(e._s(e.content))]):e._e()])])]):t("div",{staticClass:"el-progress-circle",style:{height:e.width+"px",width:e.width+"px"}},[t("svg",{attrs:{viewBox:"0 0 100 100"}},[t("path",{staticClass:"el-progress-circle__track",style:e.trailPathStyle,attrs:{d:e.trackPath,stroke:e.defineBackColor,"stroke-width":e.relativeStrokeWidth,fill:"none"}}),t("path",{staticClass:"el-progress-circle__path",style:e.circlePathStyle,attrs:{d:e.trackPath,stroke:e.stroke,fill:"none","stroke-linecap":e.strokeLinecap,"stroke-width":e.percentage?e.relativeStrokeWidth:0}})])]),e.showText&&!e.textInside?t("div",{staticClass:"el-progress__text",style:{fontSize:e.progressTextSize+"px",color:e.textColor}},[e.status?t("i",{class:e.iconClass}):[e._v(e._s(e.content))]],2):e._e()])}function io(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"el-upload-dragger",class:{"is-dragover":e.dragover},on:{drop:function(t){return t.preventDefault(),e.onDrop(t)},dragover:function(t){return t.preventDefault(),e.onDragover(t)},dragleave:function(t){t.preventDefault(),e.dragover=!1}}},[e._t("default")],2)}Ga._withStripped=!0;var ro,ao=((Ra=((Ra=r({name:"ElTreeNode",componentName:"ElTreeNode",mixins:[l],props:{node:{default:function(){return{}}},props:{},renderContent:Function,renderAfterExpand:{type:Boolean,default:!0},showCheckbox:{type:Boolean,default:!1}},components:{ElCollapseTransition:At,ElCheckbox:pn,NodeContent:{props:{node:{required:!0}},render:function(e){var t=this.$parent,n=t.tree,i=this.node,r=i.data,a=i.store;return t.renderContent?t.renderContent.call(t._renderProxy,e,{_self:n.$vnode.context,node:i,data:r,store:a}):n.$scopedSlots.default?n.$scopedSlots.default({node:i,data:r}):e("span",{class:"el-tree-node__label"},[i.label])}}},data:function(){return{tree:null,expanded:!1,childNodeRendered:!1,oldChecked:null,oldIndeterminate:null}},watch:{"node.indeterminate":function(e){this.handleSelectChange(this.node.checked,e)},"node.checked":function(e){this.handleSelectChange(e,this.node.indeterminate)},"node.expanded":function(e){var t=this;this.$nextTick((function(){return t.expanded=e})),e&&(this.childNodeRendered=!0)}},methods:{getNodeKey:function(e){return La(this.tree.nodeKey,e.data)},handleSelectChange:function(e,t){this.oldChecked!==e&&this.oldIndeterminate!==t&&this.tree.$emit("check-change",this.node.data,e,t),this.oldChecked=e,this.indeterminate=t},handleClick:function(){var e=this.tree.store;e.setCurrentNode(this.node),this.tree.$emit("current-change",e.currentNode?e.currentNode.data:null,e.currentNode),(this.tree.currentNode=this).tree.expandOnClickNode&&this.handleExpandIconClick(),this.tree.checkOnClickNode&&!this.node.disabled&&this.handleCheckChange(null,{target:{checked:!this.node.checked}}),this.tree.$emit("node-click",this.node.data,this.node,this)},handleContextMenu:function(e){this.tree._events["node-contextmenu"]&&0<this.tree._events["node-contextmenu"].length&&(e.stopPropagation(),e.preventDefault()),this.tree.$emit("node-contextmenu",e,this.node.data,this.node,this)},handleExpandIconClick:function(){this.node.isLeaf||(this.expanded?(this.tree.$emit("node-collapse",this.node.data,this.node,this),this.node.collapse()):(this.node.expand(),this.$emit("node-expand",this.node.data,this.node,this)))},handleCheckChange:function(e,t){var n=this;this.node.setChecked(t.target.checked,!this.tree.checkStrictly),this.$nextTick((function(){var e=n.tree.store;n.tree.$emit("check",n.node.data,{checkedNodes:e.getCheckedNodes(),checkedKeys:e.getCheckedKeys(),halfCheckedNodes:e.getHalfCheckedNodes(),halfCheckedKeys:e.getHalfCheckedKeys()})}))},handleChildNodeExpand:function(e,t,n){this.broadcast("ElTreeNode","tree-node-expand",t),this.tree.$emit("node-expand",e,t,n)},handleDragStart:function(e){this.tree.draggable&&this.tree.$emit("tree-node-drag-start",e,this)},handleDragOver:function(e){this.tree.draggable&&(this.tree.$emit("tree-node-drag-over",e,this),e.preventDefault())},handleDrop:function(e){e.preventDefault()},handleDragEnd:function(e){this.tree.draggable&&this.tree.$emit("tree-node-drag-end",e,this)}},created:function(){var e=this,t=((t=((t=this.$parent).isTree?this.tree=t:this.tree=t.tree,this.tree))||console.warn("Can not find node's tree."),(t.props||{}).children||"children");this.$watch("node.data."+t,(function(){e.node.updateChildren()})),this.node.expanded&&(this.expanded=!0,this.childNodeRendered=!0),this.tree.accordion&&this.$on("tree-node-expand",(function(t){e.node!==t&&e.node.collapse()}))}},Ga,[],!1,null,null,null)).options.__file="packages/tree/src/tree-node.vue",r({name:"ElTree",mixins:[l],components:{ElTreeNode:Ra.exports},data:function(){return{store:null,root:null,currentNode:null,treeItems:null,checkboxItems:[],dragState:{showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0}}},props:{data:{type:Array},emptyText:{type:String,default:function(){return H("el.tree.emptyText")}},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{default:function(){return{children:"children",label:"label",disabled:"disabled"}}},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},iconClass:String},computed:{children:{set:function(e){this.data=e},get:function(){return this.data}},treeItemArray:function(){return Array.prototype.slice.call(this.treeItems)},isEmpty:function(){var e=this.root.childNodes;return!e||0===e.length||e.every((function(e){return!e.visible}))}},watch:{defaultCheckedKeys:function(e){this.store.setDefaultCheckedKey(e)},defaultExpandedKeys:function(e){this.store.defaultExpandedKeys=e,this.store.setDefaultExpandedKeys(e)},data:function(e){this.store.setData(e)},checkboxItems:function(e){Array.prototype.forEach.call(e,(function(e){e.setAttribute("tabindex",-1)}))},checkStrictly:function(e){this.store.checkStrictly=e}},methods:{filter:function(e){if(!this.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");this.store.filter(e)},getNodeKey:function(e){return La(this.nodeKey,e.data)},getNodePath:function(e){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");if(!(e=this.store.getNode(e)))return[];for(var t=[e.data],n=e.parent;n&&n!==this.root;)t.push(n.data),n=n.parent;return t.reverse()},getCheckedNodes:function(e,t){return this.store.getCheckedNodes(e,t)},getCheckedKeys:function(e){return this.store.getCheckedKeys(e)},getCurrentNode:function(){var e=this.store.getCurrentNode();return e?e.data:null},getCurrentKey:function(){var e;if(this.nodeKey)return(e=this.getCurrentNode())?e[this.nodeKey]:null;throw new Error("[Tree] nodeKey is required in getCurrentKey")},setCheckedNodes:function(e,t){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");this.store.setCheckedNodes(e,t)},setCheckedKeys:function(e,t){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");this.store.setCheckedKeys(e,t)},setChecked:function(e,t,n){this.store.setChecked(e,t,n)},getHalfCheckedNodes:function(){return this.store.getHalfCheckedNodes()},getHalfCheckedKeys:function(){return this.store.getHalfCheckedKeys()},setCurrentNode:function(e){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");this.store.setUserCurrentNode(e)},setCurrentKey:function(e){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");this.store.setCurrentNodeKey(e)},getNode:function(e){return this.store.getNode(e)},remove:function(e){this.store.remove(e)},append:function(e,t){this.store.append(e,t)},insertBefore:function(e,t){this.store.insertBefore(e,t)},insertAfter:function(e,t){this.store.insertAfter(e,t)},handleNodeExpand:function(e,t,n){this.broadcast("ElTreeNode","tree-node-expand",t),this.$emit("node-expand",e,t,n)},updateKeyChildren:function(e,t){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");this.store.updateChildren(e,t)},initTabIndex:function(){this.treeItems=this.$el.querySelectorAll(".is-focusable[role=treeitem]"),this.checkboxItems=this.$el.querySelectorAll("input[type=checkbox]");var e=this.$el.querySelectorAll(".is-checked[role=treeitem]");e.length?e[0].setAttribute("tabindex",0):this.treeItems[0]&&this.treeItems[0].setAttribute("tabindex",0)},handleKeydown:function(e){var t,n,i,r=e.target;-1!==r.className.indexOf("el-tree-node")&&(t=e.keyCode,this.treeItems=this.$el.querySelectorAll(".is-focusable[role=treeitem]"),i=this.treeItemArray.indexOf(r),n=void 0,-1<[38,40].indexOf(t)&&(e.preventDefault(),n=38===t?0!==i?i-1:0:i<this.treeItemArray.length-1?i+1:0,this.treeItemArray[n].focus()),-1<[37,39].indexOf(t)&&(e.preventDefault(),r.click()),i=r.querySelector('[type="checkbox"]'),-1<[13,32].indexOf(t))&&i&&(e.preventDefault(),i.click())}},created:function(){var e=this,t=(this.isTree=!0,this.store=new ja({key:this.nodeKey,data:this.data,lazy:this.lazy,props:this.props,load:this.load,currentNodeKey:this.currentNodeKey,checkStrictly:this.checkStrictly,checkDescendants:this.checkDescendants,defaultCheckedKeys:this.defaultCheckedKeys,defaultExpandedKeys:this.defaultExpandedKeys,autoExpandParent:this.autoExpandParent,defaultExpandAll:this.defaultExpandAll,filterNodeMethod:this.filterNodeMethod}),this.root=this.store.root,this.dragState);this.$on("tree-node-drag-start",(function(n,i){if("function"==typeof e.allowDrag&&!e.allowDrag(i.node))return n.preventDefault(),!1;n.dataTransfer.effectAllowed="move";try{n.dataTransfer.setData("text/plain","")}catch(n){}t.draggingNode=i,e.$emit("node-drag-start",i.node,n)})),this.$on("tree-node-drag-over",(function(n,i){var r,a,o,s,l,c,u,h,d=function(){for(var e=n.target;e&&"BODY"!==e.tagName;){if(e.__vue__&&"ElTreeNode"===e.__vue__.$options.name)return e.__vue__;e=e.parentNode}return null}(),f=t.dropNode,p=(f&&f!==d&&oe(f.$el,"is-drop-inner"),t.draggingNode);p&&d&&(s=o=a=r=!0,"function"==typeof e.allowDrop&&(r=e.allowDrop(p.node,d.node,"prev"),s=a=e.allowDrop(p.node,d.node,"inner"),o=e.allowDrop(p.node,d.node,"next")),n.dataTransfer.dropEffect=a?"move":"none",(r||a||o)&&f!==d&&(f&&e.$emit("node-drag-leave",p.node,f.node,n),e.$emit("node-drag-enter",p.node,d.node,n)),(r||a||o)&&(t.dropNode=d),d.node.nextSibling===p.node&&(o=!1),d.node.previousSibling===p.node&&(r=!1),d.node.contains(p.node,!1)&&(a=!1),p.node!==d.node&&!p.node.contains(d.node)||(o=a=r=!1),f=d.$el.getBoundingClientRect(),l=e.$el.getBoundingClientRect(),void 0,c=-9999,u=(h=n.clientY-f.top)<f.height*(r?a?.25:o?.45:1:-1)?"before":h>f.height*(o?a?.75:r?.55:0:1)?"after":a?"inner":"none",h=d.$el.querySelector(".el-tree-node__expand-icon").getBoundingClientRect(),f=e.$refs.dropIndicator,"before"==u?c=h.top-l.top:"after"==u&&(c=h.bottom-l.top),f.style.top=c+"px",f.style.left=h.right-l.left+"px",("inner"==u?ae:oe)(d.$el,"is-drop-inner"),t.showDropIndicator="before"==u||"after"==u,t.allowDrop=t.showDropIndicator||s,t.dropType=u,e.$emit("node-drag-over",p.node,d.node,n))})),this.$on("tree-node-drag-end",(function(n){var i,r=t.draggingNode,a=t.dropType,o=t.dropNode;n.preventDefault(),n.dataTransfer.dropEffect="move",r&&o&&(i={data:r.node.data},"none"!==a&&r.node.remove(),"before"===a?o.node.parent.insertBefore(i,o.node):"after"===a?o.node.parent.insertAfter(i,o.node):"inner"===a&&o.node.insertChild(i),"none"!==a&&e.store.registerNode(i),oe(o.$el,"is-drop-inner"),e.$emit("node-drag-end",r.node,o.node,a,n),"none"!==a)&&e.$emit("node-drop",r.node,o.node,a,n),r&&!o&&e.$emit("node-drag-end",r.node,null,a,n),t.showDropIndicator=!1,t.draggingNode=null,t.dropNode=null,t.allowDrop=!0}))},mounted:function(){this.initTabIndex(),this.$el.addEventListener("keydown",this.handleKeydown)},updated:function(){this.treeItems=this.$el.querySelectorAll("[role=treeitem]"),this.checkboxItems=this.$el.querySelectorAll("input[type=checkbox]")}},Ca,[],!1,null,null,null))).options.__file="packages/tree/src/tree.vue",Ra.exports),oo=(Ra=(ao.install=function(e){e.component(ao.name,ao)},ao),Xa._withStripped=!0,{success:"el-icon-success",warning:"el-icon-warning",error:"el-icon-error"}),so=((lo=r({name:"ElAlert",props:{title:{type:String,default:""},description:{type:String,default:""},type:{type:String,default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,default:"light",validator:function(e){return-1!==["light","dark"].indexOf(e)}}},data:function(){return{visible:!0}},methods:{close:function(){this.visible=!1,this.$emit("close")}},computed:{typeClass:function(){return"el-alert--"+this.type},iconClass:function(){return oo[this.type]||"el-icon-info"},isBigIcon:function(){return this.description||this.$slots.default?"is-big":""},isBoldTitle:function(){return this.description||this.$slots.default?"is-bold":""}}},Xa,[],!1,null,null,null)).options.__file="packages/alert/src/main.vue",lo.exports),lo=(so.install=function(e){e.component(so.name,so)},so),co=(qa._withStripped=!0,{success:"success",info:"info",warning:"warning",error:"error"}),uo=((uo=r({data:function(){return{visible:!1,title:"",message:"",duration:4500,type:"",showClose:!0,customClass:"",iconClass:"",onClose:null,onClick:null,closed:!1,verticalOffset:0,timer:null,dangerouslyUseHTMLString:!1,position:"top-right"}},computed:{typeClass:function(){return this.type&&co[this.type]?"el-icon-"+co[this.type]:""},horizontalClass:function(){return-1<this.position.indexOf("right")?"right":"left"},verticalProperty:function(){return/^top-/.test(this.position)?"top":"bottom"},positionStyle:function(){var e;return(e={})[this.verticalProperty]=this.verticalOffset+"px",e}},watch:{closed:function(e){e&&(this.visible=!1,this.$el.addEventListener("transitionend",this.destroyElement))}},methods:{destroyElement:function(){this.$el.removeEventListener("transitionend",this.destroyElement),this.$destroy(!0),this.$el.parentNode.removeChild(this.$el)},click:function(){"function"==typeof this.onClick&&this.onClick()},close:function(){this.closed=!0,"function"==typeof this.onClose&&this.onClose()},clearTimer:function(){clearTimeout(this.timer)},startTimer:function(){var e=this;0<this.duration&&(this.timer=setTimeout((function(){e.closed||e.close()}),this.duration))},keydown:function(e){46===e.keyCode||8===e.keyCode?this.clearTimer():27===e.keyCode?this.closed||this.close():this.startTimer()}},mounted:function(){var e=this;0<this.duration&&(this.timer=setTimeout((function(){e.closed||e.close()}),this.duration)),document.addEventListener("keydown",this.keydown)},beforeDestroy:function(){document.removeEventListener("keydown",this.keydown)}},qa,[],!1,null,null,null)).options.__file="packages/notification/src/main.vue",uo.exports),ho=u.a.extend(uo),fo=void 0,po=[],mo=1,vo=(["success","warning","info","error"].forEach((function(e){Ya[e]=function(t){return(t="string"==typeof t||Nr(t)?{message:t}:t).type=e,Ya(t)}})),Ya.close=function(e,t){var n=-1,i=po.length,r=po.filter((function(t,i){return t.id===e&&(n=i,!0)}))[0];if(r&&("function"==typeof t&&t(r),po.splice(n,1),!(i<=1)))for(var a=r.position,o=r.dom.offsetHeight,s=n;s<i-1;s++)po[s].position===a&&(po[s].dom.style[r.verticalProperty]=parseInt(po[s].dom.style[r.verticalProperty],10)-o-16+"px")},Ya.closeAll=function(){for(var e=po.length-1;0<=e;e--)po[e].close()},Ya),go=(uo=((uo=(Za._withStripped=$a._withStripped=!0,r({name:"ElSliderButton",components:{ElTooltip:Kt},props:{value:{type:Number,default:0},vertical:{type:Boolean,default:!1},tooltipClass:String},data:function(){return{hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:null,oldValue:this.value}},computed:{disabled:function(){return this.$parent.sliderDisabled},max:function(){return this.$parent.max},min:function(){return this.$parent.min},step:function(){return this.$parent.step},showTooltip:function(){return this.$parent.showTooltip},precision:function(){return this.$parent.precision},currentPosition:function(){return(this.value-this.min)/(this.max-this.min)*100+"%"},enableFormat:function(){return this.$parent.formatTooltip instanceof Function},formatValue:function(){return this.enableFormat&&this.$parent.formatTooltip(this.value)||this.value},wrapperStyle:function(){return this.vertical?{bottom:this.currentPosition}:{left:this.currentPosition}}},watch:{dragging:function(e){this.$parent.dragging=e}},methods:{displayTooltip:function(){this.$refs.tooltip&&(this.$refs.tooltip.showPopper=!0)},hideTooltip:function(){this.$refs.tooltip&&(this.$refs.tooltip.showPopper=!1)},handleMouseEnter:function(){this.hovering=!0,this.displayTooltip()},handleMouseLeave:function(){this.hovering=!1,this.hideTooltip()},onButtonDown:function(e){this.disabled||(e.preventDefault(),this.onDragStart(e),window.addEventListener("mousemove",this.onDragging),window.addEventListener("touchmove",this.onDragging),window.addEventListener("mouseup",this.onDragEnd),window.addEventListener("touchend",this.onDragEnd),window.addEventListener("contextmenu",this.onDragEnd))},onLeftKeyDown:function(){this.disabled||(this.newPosition=parseFloat(this.currentPosition)-this.step/(this.max-this.min)*100,this.setPosition(this.newPosition),this.$parent.emitChange())},onRightKeyDown:function(){this.disabled||(this.newPosition=parseFloat(this.currentPosition)+this.step/(this.max-this.min)*100,this.setPosition(this.newPosition),this.$parent.emitChange())},onDragStart:function(e){this.dragging=!0,this.isClick=!0,"touchstart"===e.type&&(e.clientY=e.touches[0].clientY,e.clientX=e.touches[0].clientX),this.vertical?this.startY=e.clientY:this.startX=e.clientX,this.startPosition=parseFloat(this.currentPosition),this.newPosition=this.startPosition},onDragging:function(e){var t;this.dragging&&(this.isClick=!1,this.displayTooltip(),this.$parent.resetSize(),0,"touchmove"===e.type&&(e.clientY=e.touches[0].clientY,e.clientX=e.touches[0].clientX),t=this.vertical?(this.currentY=e.clientY,(this.startY-this.currentY)/this.$parent.sliderSize*100):(this.currentX=e.clientX,(this.currentX-this.startX)/this.$parent.sliderSize*100),this.newPosition=this.startPosition+t,this.setPosition(this.newPosition))},onDragEnd:function(){var e=this;this.dragging&&(setTimeout((function(){e.dragging=!1,e.hideTooltip(),e.isClick||(e.setPosition(e.newPosition),e.$parent.emitChange())}),0),window.removeEventListener("mousemove",this.onDragging),window.removeEventListener("touchmove",this.onDragging),window.removeEventListener("mouseup",this.onDragEnd),window.removeEventListener("touchend",this.onDragEnd),window.removeEventListener("contextmenu",this.onDragEnd))},setPosition:function(e){var t,n=this;null===e||isNaN(e)||(e<0?e=0:100<e&&(e=100),t=100/((this.max-this.min)/this.step),e=Math.round(e/t)*t*(this.max-this.min)*.01+this.min,e=parseFloat(e.toFixed(this.precision)),this.$emit("input",e),this.$nextTick((function(){n.displayTooltip(),n.$refs.tooltip&&n.$refs.tooltip.updatePopper()})),this.dragging)||this.value===this.oldValue||(this.oldValue=this.value)}}},Za,[],!1,null,null,null))).options.__file="packages/slider/src/button.vue",uo.exports),{name:"ElMarker",props:{mark:{type:[String,Object]}},render:function(){var e=arguments[0],t="string"==typeof this.mark?this.mark:this.mark.label;return e("div",{class:"el-slider__marks-text",style:this.mark.style||{}},[t])}}),yo=((uo=r({name:"ElSlider",mixins:[l],inject:{elForm:{default:""}},props:{min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},value:{type:[Number,Array],default:0},showInput:{type:Boolean,default:!1},showInputControls:{type:Boolean,default:!0},inputSize:{type:String,default:"small"},showStops:{type:Boolean,default:!1},showTooltip:{type:Boolean,default:!0},formatTooltip:Function,disabled:{type:Boolean,default:!1},range:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},height:{type:String},debounce:{type:Number,default:300},label:{type:String},tooltipClass:String,marks:Object},components:{ElInputNumber:an,SliderButton:uo,SliderMarker:go},data:function(){return{firstValue:null,secondValue:null,oldValue:null,dragging:!1,sliderSize:1}},watch:{value:function(e,t){this.dragging||Array.isArray(e)&&Array.isArray(t)&&e.every((function(e,n){return e===t[n]}))||this.setValues()},dragging:function(e){e||this.setValues()},firstValue:function(e){this.range?this.$emit("input",[this.minValue,this.maxValue]):this.$emit("input",e)},secondValue:function(){this.range&&this.$emit("input",[this.minValue,this.maxValue])},min:function(){this.setValues()},max:function(){this.setValues()}},methods:{valueChanged:function(){var e=this;return this.range?![this.minValue,this.maxValue].every((function(t,n){return t===e.oldValue[n]})):this.value!==this.oldValue},setValues:function(){var e;this.min>this.max?console.error("[Element Error][Slider]min should not be greater than max."):(e=this.value,this.range&&Array.isArray(e)?e[1]<this.min?this.$emit("input",[this.min,this.min]):e[0]>this.max?this.$emit("input",[this.max,this.max]):e[0]<this.min?this.$emit("input",[this.min,e[1]]):e[1]>this.max?this.$emit("input",[e[0],this.max]):(this.firstValue=e[0],this.secondValue=e[1],this.valueChanged()&&(this.dispatch("ElFormItem","el.form.change",[this.minValue,this.maxValue]),this.oldValue=e.slice())):this.range||"number"!=typeof e||isNaN(e)||(e<this.min?this.$emit("input",this.min):e>this.max?this.$emit("input",this.max):(this.firstValue=e,this.valueChanged()&&(this.dispatch("ElFormItem","el.form.change",e),this.oldValue=e))))},setPosition:function(e){var t,n=this.min+e*(this.max-this.min)/100;(this.range?(void 0,t=Math.abs(this.minValue-n)<Math.abs(this.maxValue-n)?this.firstValue<this.secondValue?"button1":"button2":this.firstValue>this.secondValue?"button1":"button2",this.$refs[t]):this.$refs.button1).setPosition(e)},onSliderClick:function(e){var t;this.sliderDisabled||this.dragging||(this.resetSize(),this.vertical?(t=this.$refs.slider.getBoundingClientRect().bottom,this.setPosition((t-e.clientY)/this.sliderSize*100)):(t=this.$refs.slider.getBoundingClientRect().left,this.setPosition((e.clientX-t)/this.sliderSize*100)),this.emitChange())},resetSize:function(){this.$refs.slider&&(this.sliderSize=this.$refs.slider["client"+(this.vertical?"Height":"Width")])},emitChange:function(){var e=this;this.$nextTick((function(){e.$emit("change",e.range?[e.minValue,e.maxValue]:e.value)}))},getStopStyle:function(e){return this.vertical?{bottom:e+"%"}:{left:e+"%"}}},computed:{stops:function(){var e=this;if(!this.showStops||this.min>this.max)return[];if(0===this.step)return[];for(var t=(this.max-this.min)/this.step,n=100*this.step/(this.max-this.min),i=[],r=1;r<t;r++)i.push(r*n);return this.range?i.filter((function(t){return t<100*(e.minValue-e.min)/(e.max-e.min)||t>100*(e.maxValue-e.min)/(e.max-e.min)})):i.filter((function(t){return t>100*(e.firstValue-e.min)/(e.max-e.min)}))},markList:function(){var e=this;return this.marks?Object.keys(this.marks).map(parseFloat).sort((function(e,t){return e-t})).filter((function(t){return t<=e.max&&t>=e.min})).map((function(t){return{point:t,position:100*(t-e.min)/(e.max-e.min),mark:e.marks[t]}})):[]},minValue:function(){return Math.min(this.firstValue,this.secondValue)},maxValue:function(){return Math.max(this.firstValue,this.secondValue)},barSize:function(){return this.range?100*(this.maxValue-this.minValue)/(this.max-this.min)+"%":100*(this.firstValue-this.min)/(this.max-this.min)+"%"},barStart:function(){return this.range?100*(this.minValue-this.min)/(this.max-this.min)+"%":"0%"},precision:function(){var e=[this.min,this.max,this.step].map((function(e){return(e=(""+e).split(".")[1])?e.length:0}));return Math.max.apply(null,e)},runwayStyle:function(){return this.vertical?{height:this.height}:{}},barStyle:function(){return this.vertical?{height:this.barSize,bottom:this.barStart}:{width:this.barSize,left:this.barStart}},sliderDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},mounted:function(){var e=this.range?(Array.isArray(this.value)?(this.firstValue=Math.max(this.min,this.value[0]),this.secondValue=Math.min(this.max,this.value[1])):(this.firstValue=this.min,this.secondValue=this.max),this.oldValue=[this.firstValue,this.secondValue],this.firstValue+"-"+this.secondValue):("number"!=typeof this.value||isNaN(this.value)?this.firstValue=this.min:this.firstValue=Math.min(this.max,Math.max(this.min,this.value)),this.oldValue=this.firstValue,this.firstValue);this.$el.setAttribute("aria-valuetext",e),this.$el.setAttribute("aria-label",this.label||"slider between "+this.min+" and "+this.max),this.resetSize(),window.addEventListener("resize",this.resetSize)},beforeDestroy:function(){window.removeEventListener("resize",this.resetSize)}},$a,[],!1,null,null,null)).options.__file="packages/slider/src/main.vue",uo.exports),xo=(go=(yo.install=function(e){e.component(yo.name,yo)},yo),uo=((uo=(Qa._withStripped=!0,r({data:function(){return{text:null,spinner:null,background:null,fullscreen:!0,visible:!1,customClass:""}},methods:{handleAfterLeave:function(){this.$emit("after-leave")},setText:function(e){this.text=e}}},Qa,[],!1,null,null,null))).options.__file="packages/loading/src/loading.vue",uo.exports),u.a.extend(uo)),bo={install:function(e){var t,n;e.prototype.$isServer||(t=function(t,i){i.value?e.nextTick((function(){i.modifiers.fullscreen?(t.originalPosition=ve(document.body,"position"),t.originalOverflow=ve(document.body,"overflow"),t.maskStyle.zIndex=_e.nextZIndex(),ae(t.mask,"is-fullscreen"),n(document.body,t,i)):(oe(t.mask,"is-fullscreen"),i.modifiers.body?(t.originalPosition=ve(document.body,"position"),["top","left"].forEach((function(e){var n="top"===e?"scrollTop":"scrollLeft";t.maskStyle[e]=t.getBoundingClientRect()[e]+document.body[n]+document.documentElement[n]-parseInt(ve(document.body,"margin-"+e),10)+"px"})),["height","width"].forEach((function(e){t.maskStyle[e]=t.getBoundingClientRect()[e]+"px"})),n(document.body,t,i)):(t.originalPosition=ve(t,"position"),n(t,t,i)))})):(Ka(t.instance,(function(e){var n;t.instance.hiding&&(t.domVisible=!1,oe(n=i.modifiers.fullscreen||i.modifiers.body?document.body:t,"el-loading-parent--relative"),oe(n,"el-loading-parent--hidden"),t.instance.hiding=!1)}),300,!0),t.instance.visible=!1,t.instance.hiding=!0)},n=function(t,n,i){n.domVisible||"none"===ve(n,"display")||"hidden"===ve(n,"visibility")?n.domVisible&&!0===n.instance.hiding&&(n.instance.visible=!0,n.instance.hiding=!1):(Object.keys(n.maskStyle).forEach((function(e){n.mask.style[e]=n.maskStyle[e]})),"absolute"!==n.originalPosition&&"fixed"!==n.originalPosition&&"sticky"!==n.originalPosition&&ae(t,"el-loading-parent--relative"),i.modifiers.fullscreen&&i.modifiers.lock&&ae(t,"el-loading-parent--hidden"),n.domVisible=!0,t.appendChild(n.mask),e.nextTick((function(){n.instance.hiding?n.instance.$emit("after-leave"):n.instance.visible=!0})),n.domInserted=!0)},e.directive("loading",{bind:function(e,n,i){var r=e.getAttribute("element-loading-text"),a=e.getAttribute("element-loading-spinner"),o=e.getAttribute("element-loading-background"),s=e.getAttribute("element-loading-custom-class");i=i.context,r=new xo({el:document.createElement("div"),data:{text:i&&i[r]||r,spinner:i&&i[a]||a,background:i&&i[o]||o,customClass:i&&i[s]||s,fullscreen:!!n.modifiers.fullscreen}});e.instance=r,e.mask=r.$el,e.maskStyle={},n.value&&t(e,n)},update:function(e,n){e.instance.setText(e.getAttribute("element-loading-text")),n.oldValue!==n.value&&t(e,n)},unbind:function(e,n){e.domInserted&&(e.mask&&e.mask.parentNode&&e.mask.parentNode.removeChild(e.mask),t(e,{value:!1,modifiers:n.modifiers})),e.instance&&e.instance.$destroy()}}))}},wo=u.a.extend(uo),_o={text:null,fullscreen:!0,body:!1,lock:!1,customClass:""},Mo=void 0,So=(wo.prototype.originalPosition="",wo.prototype.originalOverflow="",wo.prototype.close=function(){var e=this;this.fullscreen&&(Mo=void 0),Ka(this,(function(t){var n=e.fullscreen||e.body?document.body:e.target;oe(n,"el-loading-parent--relative"),oe(n,"el-loading-parent--hidden"),e.$el&&e.$el.parentNode&&e.$el.parentNode.removeChild(e.$el),e.$destroy()}),300),this.visible=!1},{install:function(e){e.use(bo),e.prototype.$loading=Ja},directive:bo,service:Ja}),Eo=((uo=(eo._withStripped=!0,r({name:"ElIcon",props:{name:String}},eo,[],!1,null,null,null))).options.__file="packages/icon/src/icon.vue",uo.exports),To=(uo=(Eo.install=function(e){e.component(Eo.name,Eo)},Eo),{name:"ElRow",componentName:"ElRow",props:{tag:{type:String,default:"div"},gutter:Number,type:String,justify:{type:String,default:"start"},align:String},computed:{style:function(){var e={};return this.gutter&&(e.marginLeft="-"+this.gutter/2+"px",e.marginRight=e.marginLeft),e}},render:function(e){return e(this.tag,{class:["el-row","start"!==this.justify?"is-justify-"+this.justify:"",this.align?"is-align-"+this.align:"",{"el-row--flex":"flex"===this.type}],style:this.style},this.$slots.default)},install:function(e){e.component(To.name,To)}}),Co=To,Ao="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lo={name:"ElCol",props:{span:{type:Number,default:24},tag:{type:String,default:"div"},offset:Number,pull:Number,push:Number,xs:[Number,Object],sm:[Number,Object],md:[Number,Object],lg:[Number,Object],xl:[Number,Object]},computed:{gutter:function(){for(var e=this.$parent;e&&"ElRow"!==e.$options.componentName;)e=e.$parent;return e?e.gutter:0}},render:function(e){var t=this,n=[],i={};return this.gutter&&(i.paddingLeft=this.gutter/2+"px",i.paddingRight=i.paddingLeft),["span","offset","pull","push"].forEach((function(e){!t[e]&&0!==t[e]||n.push("span"!==e?"el-col-"+e+"-"+t[e]:"el-col-"+t[e])})),["xs","sm","md","lg","xl"].forEach((function(e){var i;"number"==typeof t[e]?n.push("el-col-"+e+"-"+t[e]):"object"===Ao(t[e])&&(i=t[e],Object.keys(i).forEach((function(t){n.push("span"!==t?"el-col-"+e+"-"+t+"-"+i[t]:"el-col-"+e+"-"+i[t])})))})),e(this.tag,{class:["el-col",n],style:i},this.$slots.default)},install:function(e){e.component(Lo.name,Lo)}},Po=Lo,ko=((ro=(no._withStripped=to._withStripped=!0,r({name:"ElProgress",props:{type:{type:String,default:"line",validator:function(e){return-1<["line","circle","dashboard"].indexOf(e)}},percentage:{type:Number,default:0,required:!0,validator:function(e){return 0<=e&&e<=100}},status:{type:String,validator:function(e){return-1<["success","exception","warning"].indexOf(e)}},strokeWidth:{type:Number,default:6},strokeLinecap:{type:String,default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:[String,Array,Function],default:""},defineBackColor:{type:[String,Array,Function],default:"#ebeef5"},textColor:{type:[String,Array,Function],default:"#606266"},format:Function},computed:{barStyle:function(){var e={};return e.width=this.percentage+"%",e.backgroundColor=this.getCurrentColor(this.percentage),e},relativeStrokeWidth:function(){return(this.strokeWidth/this.width*100).toFixed(1)},radius:function(){return"circle"===this.type||"dashboard"===this.type?parseInt(50-parseFloat(this.relativeStrokeWidth)/2,10):0},trackPath:function(){var e=this.radius,t="dashboard"===this.type;return"\n        M 50 50\n        m 0 "+(t?"":"-")+e+"\n        a "+e+" "+e+" 0 1 1 0 "+(t?"-":"")+2*e+"\n        a "+e+" "+e+" 0 1 1 0 "+(t?"":"-")+2*e+"\n        "},perimeter:function(){return 2*Math.PI*this.radius},rate:function(){return"dashboard"===this.type?.75:1},strokeDashoffset:function(){return-1*this.perimeter*(1-this.rate)/2+"px"},trailPathStyle:function(){return{strokeDasharray:this.perimeter*this.rate+"px, "+this.perimeter+"px",strokeDashoffset:this.strokeDashoffset}},circlePathStyle:function(){return{strokeDasharray:this.perimeter*this.rate*(this.percentage/100)+"px, "+this.perimeter+"px",strokeDashoffset:this.strokeDashoffset,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease"}},stroke:function(){var e=void 0;if(this.color)e=this.getCurrentColor(this.percentage);else switch(this.status){case"success":e="#13ce66";break;case"exception":e="#ff4949";break;case"warning":e="#e6a23c";break;default:e="#20a0ff"}return e},iconClass:function(){return"warning"===this.status?"el-icon-warning":"line"===this.type?"success"===this.status?"el-icon-circle-check":"el-icon-circle-close":"success"===this.status?"el-icon-check":"el-icon-close"},progressTextSize:function(){return"line"===this.type?12+.4*this.strokeWidth:.111111*this.width+2},content:function(){return"function"==typeof this.format?this.format(this.percentage)||"":this.percentage+"%"}},methods:{getCurrentColor:function(e){return"function"==typeof this.color?this.color(e):"string"==typeof this.color?this.color:this.getLevelColor(e)},getLevelColor:function(e){for(var t=this.getColorArray().sort((function(e,t){return e.percentage-t.percentage})),n=0;n<t.length;n++)if(t[n].percentage>e)return t[n].color;return t[t.length-1].color},getColorArray:function(){var e=this.color,t=100/e.length;return e.map((function(e,n){return"string"==typeof e?{color:e,percentage:(n+1)*t}:e}))}}},no,[],!1,null,null,null))).options.__file="packages/progress/src/progress.vue",ro.exports),Do=((Io=r({name:"ElUploadList",mixins:[c],data:function(){return{focusing:!1}},components:{ElProgress:ro=(ko.install=function(e){e.component(ko.name,ko)},ko)},props:{files:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},handlePreview:Function,listType:String},methods:{parsePercentage:function(e){return parseInt(e,10)},handleClick:function(e){this.handlePreview&&this.handlePreview(e)}}},to,[],!1,null,null,null)).options.__file="packages/upload/src/upload-list.vue",Io.exports),Io=n(7),Ro=n.n(Io);(Io=((Io=(io._withStripped=!0,r({name:"ElUploadDrag",props:{disabled:Boolean},inject:{uploader:{default:""}},data:function(){return{dragover:!1}},methods:{onDragover:function(){this.disabled||(this.dragover=!0)},onDrop:function(e){var t;!this.disabled&&this.uploader&&(t=this.uploader.accept,this.dragover=!1,t?this.$emit("file",[].slice.call(e.dataTransfer.files).filter((function(e){var n=e.type,i=-1<(e=e.name).indexOf(".")?"."+e.split(".").pop():"",r=n.replace(/\/.*$/,"");return t.split(",").map((function(e){return e.trim()})).filter((function(e){return e})).some((function(e){return/\..+$/.test(e)?i===e:/\/\*$/.test(e)?r===e.replace(/\/\*$/,""):!!/^[^\/]+\/[^\/]+$/.test(e)&&n===e}))}))):this.$emit("file",e.dataTransfer.files))}}},io,[],!1,null,null,null))).options.__file="packages/upload/src/upload-dragger.vue",r({inject:["uploader"],components:{UploadDragger:Io.exports},props:{type:String,action:{type:String,required:!0},name:{type:String,default:"file"},data:Object,headers:Object,withCredentials:Boolean,multiple:Boolean,accept:String,onStart:Function,onProgress:Function,onSuccess:Function,onError:Function,beforeUpload:Function,drag:Boolean,onPreview:{type:Function,default:function(){}},onRemove:{type:Function,default:function(){}},fileList:Array,autoUpload:Boolean,listType:String,httpRequest:{type:Function,default:function(e){if("undefined"!=typeof XMLHttpRequest){var t,n=new XMLHttpRequest,i=e.action,r=(n.upload&&(n.upload.onprogress=function(t){0<t.total&&(t.percent=t.loaded/t.total*100),e.onProgress(t)}),new FormData),a=(e.data&&Object.keys(e.data).forEach((function(t){r.append(t,e.data[t])})),r.append(e.filename,e.file,e.file.name),n.onerror=function(t){e.onError(t)},n.onload=function(){if(n.status<200||300<=n.status)return e.onError((t=i,a=(r=n).response?""+(r.response.error||r.response):r.responseText?""+r.responseText:"fail to post "+t+" "+r.status,(a=new Error(a)).status=r.status,a.method="post",a.url=t,a));var t,r,a;e.onSuccess(function(){var e=n.responseText||n.response;if(!e)return e;try{return JSON.parse(e)}catch(t){return e}}())},n.open("post",i,!0),e.withCredentials&&"withCredentials"in n&&(n.withCredentials=!0),e.headers||{});for(t in a)a.hasOwnProperty(t)&&null!==a[t]&&n.setRequestHeader(t,a[t]);return n.send(r),n}}},disabled:Boolean,limit:Number,onExceed:Function},data:function(){return{mouseover:!1,reqs:{}}},methods:{isImage:function(e){return-1!==e.indexOf("image")},handleChange:function(e){(e=e.target.files)&&this.uploadFiles(e)},uploadFiles:function(e){var t=this;this.limit&&this.fileList.length+e.length>this.limit?this.onExceed&&this.onExceed(e,this.fileList):(e=Array.prototype.slice.call(e),0!==(e=this.multiple?e:e.slice(0,1)).length&&e.forEach((function(e){t.onStart(e),t.autoUpload&&t.upload(e)})))},upload:function(e){var t=this;if(this.$refs.input.value=null,!this.beforeUpload)return this.post(e);var n=this.beforeUpload(e);n&&n.then?n.then((function(n){var i=Object.prototype.toString.call(n);if("[object File]"===i||"[object Blob]"===i){for(var r in"[object Blob]"===i&&(n=new File([n],e.name,{type:e.type})),e)e.hasOwnProperty(r)&&(n[r]=e[r]);t.post(n)}else t.post(e)}),(function(){t.onRemove(null,e)})):!1!==n?this.post(e):this.onRemove(null,e)},abort:function(e){var t,n=this.reqs;e?((t=e).uid&&(t=e.uid),n[t]&&n[t].abort()):Object.keys(n).forEach((function(e){n[e]&&n[e].abort(),delete n[e]}))},post:function(e){var t=this,n=e.uid,i={headers:this.headers,withCredentials:this.withCredentials,file:e,data:this.data,filename:this.name,action:this.action,onProgress:function(n){t.onProgress(n,e)},onSuccess:function(i){t.onSuccess(i,e),delete t.reqs[n]},onError:function(i){t.onError(i,e),delete t.reqs[n]}},r=this.httpRequest(i);(this.reqs[n]=r)&&r.then&&r.then(i.onSuccess,i.onError)},handleClick:function(){this.disabled||(this.$refs.input.value=null,this.$refs.input.click())},handleKeydown:function(e){e.target!==e.currentTarget||13!==e.keyCode&&32!==e.keyCode||this.handleClick()}},render:function(e){var t=this.handleClick,n=this.drag,i=this.name,r=this.handleChange,a=this.multiple,o=this.accept,s=this.listType,l=this.uploadFiles,c=this.disabled;return(t={class:{"el-upload":!0},on:{click:t,keydown:this.handleKeydown}}).class["el-upload--"+s]=!0,e("div",Ro()([t,{attrs:{tabindex:"0"}}]),[n?e("upload-dragger",{attrs:{disabled:c},on:{file:l}},[this.$slots.default]):this.$slots.default,e("input",{class:"el-upload__input",attrs:{type:"file",name:i,multiple:a,accept:o},ref:"input",on:{change:r}})])}},void 0,void 0,!1,null,null,null))).options.__file="packages/upload/src/upload.vue",Io=Io.exports;function No(){}function Oo(){var e=this.$createElement;return(e=this._self._c||e)("span",{staticClass:"el-spinner"},[e("svg",{staticClass:"el-spinner-inner",style:{width:this.radius/2+"px",height:this.radius/2+"px"},attrs:{viewBox:"0 0 50 50"}},[e("circle",{staticClass:"path",attrs:{cx:"25",cy:"25",r:"20",fill:"none",stroke:this.strokeColor,"stroke-width":this.strokeWidth}})])])}function Fo(){var e=this,t=e.$createElement;return(t=e._self._c||t)("transition",{attrs:{name:"el-message-fade"},on:{"after-leave":e.handleAfterLeave}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],class:["el-message",e.type&&!e.iconClass?"el-message--"+e.type:"",e.center?"is-center":"",e.showClose?"is-closable":"",e.customClass],style:e.positionStyle,attrs:{role:"alert"},on:{mouseenter:e.clearTimer,mouseleave:e.startTimer}},[e.iconClass?t("i",{class:e.iconClass}):t("i",{class:e.typeClass}),e._t("default",[e.dangerouslyUseHTMLString?t("p",{staticClass:"el-message__content",domProps:{innerHTML:e._s(e.message)}}):t("p",{staticClass:"el-message__content"},[e._v(e._s(e.message))])]),e.showClose?t("i",{staticClass:"el-message__closeBtn el-icon-close",on:{click:e.close}}):e._e()],2)])}function zo(e){var t,n,i;if(!u.a.prototype.$isServer)return t=(e="string"==typeof(e=e||{})?{message:e}:e).onClose,n="message_"+os++,e.onClose=function(){zo.close(n,t)},(rs=new is({data:e})).id=n,Nr(rs.message)&&(rs.$slots.default=[rs.message],rs.message=null),rs.$mount(),document.body.appendChild(rs.$el),i=e.offset||20,as.forEach((function(e){i+=e.$el.offsetHeight+16})),rs.verticalOffset=i,rs.visible=!0,rs.$el.style.zIndex=_e.nextZIndex(),as.push(rs),rs}function Bo(){var e=this,t=e.$createElement;return(t=e._self._c||t)("div",{staticClass:"el-badge"},[e._t("default"),t("transition",{attrs:{name:"el-zoom-in-center"}},[t("sup",{directives:[{name:"show",rawName:"v-show",value:!e.hidden&&(e.content||0===e.content||e.isDot),expression:"!hidden && (content || content === 0 || isDot)"}],staticClass:"el-badge__content",class:[e.type?"el-badge__content--"+e.type:null,{"is-fixed":e.$slots.default,"is-dot":e.isDot}],domProps:{textContent:e._s(e.content)}})])],2)}function Ho(){var e=this,t=e.$createElement;return(t=e._self._c||t)("div",{staticClass:"el-card",class:e.shadow?"is-"+e.shadow+"-shadow":"is-always-shadow"},[e.$slots.header||e.header?t("div",{staticClass:"el-card__header"},[e._t("header",[e._v(e._s(e.header))])],2):e._e(),t("div",{staticClass:"el-card__body",style:e.bodyStyle},[e._t("default")],2)])}function Uo(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"el-rate",attrs:{role:"slider","aria-valuenow":e.currentValue,"aria-valuetext":e.text,"aria-valuemin":"0","aria-valuemax":e.max,tabindex:"0"},on:{keydown:e.handleKey}},[e._l(e.max,(function(t,i){return n("span",{key:i,staticClass:"el-rate__item",style:{cursor:e.rateDisabled?"auto":"pointer"},on:{mousemove:function(n){e.setCurrentValue(t,n)},mouseleave:e.resetCurrentValue,click:function(n){e.selectValue(t)}}},[n("i",{staticClass:"el-rate__icon",class:[e.classes[t-1],{hover:e.hoverIndex===t}],style:e.getIconStyle(t)},[e.showDecimalIcon(t)?n("i",{staticClass:"el-rate__decimal",class:e.decimalIconClass,style:e.decimalStyle}):e._e()])])})),e.showText||e.showScore?n("span",{staticClass:"el-rate__text",style:{color:e.textColor}},[e._v(e._s(e.text))]):e._e()],2)}function Vo(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"el-steps",class:[!this.simple&&"el-steps--"+this.direction,this.simple&&"el-steps--simple"]},[this._t("default")],2)}function Go(){var e=this,t=e.$createElement;return(t=e._self._c||t)("div",{staticClass:"el-step",class:[!e.isSimple&&"is-"+e.$parent.direction,e.isSimple&&"is-simple",e.isLast&&!e.space&&!e.isCenter&&"is-flex",e.isCenter&&!e.isVertical&&!e.isSimple&&"is-center"],style:e.style},[t("div",{staticClass:"el-step__head",class:"is-"+e.currentStatus},[t("div",{staticClass:"el-step__line",style:e.isLast?"":{marginRight:e.$parent.stepOffset+"px"}},[t("i",{staticClass:"el-step__line-inner",style:e.lineStyle})]),t("div",{staticClass:"el-step__icon",class:"is-"+(e.icon?"icon":"text")},["success"!==e.currentStatus&&"error"!==e.currentStatus?e._t("icon",[e.icon?t("i",{staticClass:"el-step__icon-inner",class:[e.icon]}):e._e(),e.icon||e.isSimple?e._e():t("div",{staticClass:"el-step__icon-inner"},[e._v(e._s(e.index+1))])]):t("i",{staticClass:"el-step__icon-inner is-status",class:["el-icon-"+("success"===e.currentStatus?"check":"close")]})],2)]),t("div",{staticClass:"el-step__main"},[t("div",{ref:"title",staticClass:"el-step__title",class:["is-"+e.currentStatus]},[e._t("title",[e._v(e._s(e.title))])],2),e.isSimple?t("div",{staticClass:"el-step__arrow"}):t("div",{staticClass:"el-step__description",class:["is-"+e.currentStatus]},[e._t("description",[e._v(e._s(e.description))])],2)])])}function jo(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.carouselClasses,on:{mouseenter:function(t){return t.stopPropagation(),e.handleMouseEnter(t)},mouseleave:function(t){return t.stopPropagation(),e.handleMouseLeave(t)}}},[n("div",{staticClass:"el-carousel__container",style:{height:e.height}},[e.arrowDisplay?n("transition",{attrs:{name:"carousel-arrow-left"}},[n("button",{directives:[{name:"show",rawName:"v-show",value:("always"===e.arrow||e.hover)&&(e.loop||0<e.activeIndex),expression:"(arrow === 'always' || hover) && (loop || activeIndex > 0)"}],staticClass:"el-carousel__arrow el-carousel__arrow--left",attrs:{type:"button"},on:{mouseenter:function(t){e.handleButtonEnter("left")},mouseleave:e.handleButtonLeave,click:function(t){t.stopPropagation(),e.throttledArrowClick(e.activeIndex-1)}}},[n("i",{staticClass:"el-icon-arrow-left"})])]):e._e(),e.arrowDisplay?n("transition",{attrs:{name:"carousel-arrow-right"}},[n("button",{directives:[{name:"show",rawName:"v-show",value:("always"===e.arrow||e.hover)&&(e.loop||e.activeIndex<e.items.length-1),expression:"(arrow === 'always' || hover) && (loop || activeIndex < items.length - 1)"}],staticClass:"el-carousel__arrow el-carousel__arrow--right",attrs:{type:"button"},on:{mouseenter:function(t){e.handleButtonEnter("right")},mouseleave:e.handleButtonLeave,click:function(t){t.stopPropagation(),e.throttledArrowClick(e.activeIndex+1)}}},[n("i",{staticClass:"el-icon-arrow-right"})])]):e._e(),e._t("default")],2),"none"!==e.indicatorPosition?n("ul",{class:e.indicatorsClasses},e._l(e.items,(function(t,i){return n("li",{key:i,class:["el-carousel__indicator","el-carousel__indicator--"+e.direction,{"is-active":i===e.activeIndex}],on:{mouseenter:function(t){e.throttledIndicatorHover(i)},click:function(t){t.stopPropagation(),e.handleIndicatorClick(i)}}},[n("button",{staticClass:"el-carousel__button"},[e.hasLabel?n("span",[e._v(e._s(t.label))]):e._e()])])})),0):e._e()])}function Wo(){var e=this,t=e.$createElement;return(t=e._self._c||t)("div",{directives:[{name:"show",rawName:"v-show",value:e.ready,expression:"ready"}],staticClass:"el-carousel__item",class:{"is-active":e.active,"el-carousel__item--card":"card"===e.$parent.type,"is-in-stage":e.inStage,"is-hover":e.hover,"is-animating":e.animating},style:e.itemStyle,on:{click:e.handleItemClick}},["card"===e.$parent.type?t("div",{directives:[{name:"show",rawName:"v-show",value:!e.active,expression:"!active"}],staticClass:"el-carousel__mask"}):e._e(),e._t("default")],2)}function Xo(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"el-collapse",attrs:{role:"tablist","aria-multiselectable":"true"}},[this._t("default")],2)}function qo(){var e=this,t=e.$createElement;return(t=e._self._c||t)("div",{staticClass:"el-collapse-item",class:{"is-active":e.isActive,"is-disabled":e.disabled}},[t("div",{attrs:{role:"tab","aria-expanded":e.isActive,"aria-controls":"el-collapse-content-"+e.id,"aria-describedby":"el-collapse-content-"+e.id}},[t("div",{staticClass:"el-collapse-item__header",class:{focusing:e.focusing,"is-active":e.isActive},attrs:{role:"button",id:"el-collapse-head-"+e.id,tabindex:e.disabled?void 0:0},on:{click:e.handleHeaderClick,keyup:function(t){return!("button"in t)&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.stopPropagation(),e.handleEnterClick(t))},focus:e.handleFocus,blur:function(t){e.focusing=!1}}},[e._t("title",[e._v(e._s(e.title))]),t("i",{staticClass:"el-collapse-item__arrow el-icon-arrow-right",class:{"is-active":e.isActive}})],2)]),t("el-collapse-transition",[t("div",{directives:[{name:"show",rawName:"v-show",value:e.isActive,expression:"isActive"}],staticClass:"el-collapse-item__wrap",attrs:{role:"tabpanel","aria-hidden":!e.isActive,"aria-labelledby":"el-collapse-head-"+e.id,id:"el-collapse-content-"+e.id}},[t("div",{staticClass:"el-collapse-item__content"},[e._t("default")],2)])])],1)}function Yo(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:function(){return e.toggleDropDownVisible(!1)},expression:"() => toggleDropDownVisible(false)"}],ref:"reference",class:["el-cascader",e.realSize&&"el-cascader--"+e.realSize,{"is-disabled":e.isDisabled}],on:{mouseenter:function(t){e.inputHover=!0},mouseleave:function(t){e.inputHover=!1},click:function(){return e.toggleDropDownVisible(!e.readonly||void 0)},keydown:e.handleKeyDown}},[n("el-input",{ref:"input",class:{"is-focus":e.dropDownVisible},attrs:{size:e.realSize,placeholder:e.placeholder,readonly:e.readonly,disabled:e.isDisabled,"validate-event":!1},on:{focus:e.handleFocus,blur:e.handleBlur,input:e.handleInput},model:{value:e.multiple?e.presentText:e.inputValue,callback:function(t){e.multiple?e.presentText:e.inputValue=t},expression:"multiple ? presentText : inputValue"}},[n("template",{slot:"suffix"},[e.clearBtnVisible?n("i",{key:"clear",staticClass:"el-input__icon el-icon-circle-close",on:{click:function(t){return t.stopPropagation(),e.handleClear(t)}}}):n("i",{key:"arrow-down",class:["el-input__icon","el-icon-arrow-down",e.dropDownVisible&&"is-reverse"],on:{click:function(t){t.stopPropagation(),e.toggleDropDownVisible()}}})])],2),e.multiple?n("div",{staticClass:"el-cascader__tags"},[e._l(e.presentTags,(function(t){return n("el-tag",{key:t.key,attrs:{type:"info",size:e.tagSize,hit:t.hitState,closable:t.closable,"disable-transitions":""},on:{close:function(n){e.deleteTag(t)}}},[n("span",[e._v(e._s(t.text))])])})),e.filterable&&!e.isDisabled?n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.inputValue,expression:"inputValue",modifiers:{trim:!0}}],staticClass:"el-cascader__search-input",attrs:{type:"text",placeholder:e.presentTags.length?"":e.placeholder},domProps:{value:e.inputValue},on:{input:[function(t){t.target.composing||(e.inputValue=t.target.value.trim())},function(t){return e.handleInput(e.inputValue,t)}],click:function(t){t.stopPropagation(),e.toggleDropDownVisible(!0)},keydown:function(t){return"button"in t||!e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"])?e.handleDelete(t):null},blur:function(t){e.$forceUpdate()}}}):e._e()],2):e._e(),n("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":e.handleDropdownLeave}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.dropDownVisible,expression:"dropDownVisible"}],ref:"popper",class:["el-popper","el-cascader__dropdown",e.popperClass]},[n("el-cascader-panel",{directives:[{name:"show",rawName:"v-show",value:!e.filtering,expression:"!filtering"}],ref:"panel",attrs:{options:e.options,props:e.config,border:!1,"render-label":e.$scopedSlots.default},on:{"expand-change":e.handleExpandChange,close:function(t){e.toggleDropDownVisible(!1)}},model:{value:e.checkedValue,callback:function(t){e.checkedValue=t},expression:"checkedValue"}}),e.filterable?n("el-scrollbar",{directives:[{name:"show",rawName:"v-show",value:e.filtering,expression:"filtering"}],ref:"suggestionPanel",staticClass:"el-cascader__suggestion-panel",attrs:{tag:"ul","view-class":"el-cascader__suggestion-list"},nativeOn:{keydown:function(t){return e.handleSuggestionKeyDown(t)}}},[e.suggestions.length?e._l(e.suggestions,(function(t,i){return n("li",{key:t.uid,class:["el-cascader__suggestion-item",t.checked&&"is-checked"],attrs:{tabindex:-1},on:{click:function(t){e.handleSuggestionClick(i)}}},[n("span",[e._v(e._s(t.text))]),t.checked?n("i",{staticClass:"el-icon-check"}):e._e()])})):e._t("empty",[n("li",{staticClass:"el-cascader__empty-text"},[e._v(e._s(e.t("el.cascader.noMatch")))])])],2):e._e()],1)])],1)}function $o(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:["el-cascader-panel",this.border&&"is-bordered"],on:{keydown:this.handleKeyDown}},this._l(this.menus,(function(e,n){return t("cascader-menu",{key:n,ref:"menu",refInFor:!0,attrs:{index:n,nodes:e}})})),1)}function Zo(e){return e.stopPropagation()}var Qo=((Io=r({name:"ElUpload",mixins:[Gl],components:{ElProgress:ro,UploadList:Do,Upload:Io},provide:function(){return{uploader:this}},inject:{elForm:{default:""}},props:{action:{type:String,required:!0},headers:{type:Object,default:function(){return{}}},data:Object,multiple:Boolean,name:{type:String,default:"file"},drag:Boolean,dragger:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:String,type:{type:String,default:"select"},beforeUpload:Function,beforeRemove:Function,onRemove:{type:Function,default:No},onChange:{type:Function,default:No},onPreview:{type:Function},onSuccess:{type:Function,default:No},onProgress:{type:Function,default:No},onError:{type:Function,default:No},fileList:{type:Array,default:function(){return[]}},autoUpload:{type:Boolean,default:!0},listType:{type:String,default:"text"},httpRequest:Function,disabled:Boolean,limit:Number,onExceed:{type:Function,default:No}},data:function(){return{uploadFiles:[],dragOver:!1,draging:!1,tempIndex:1}},computed:{uploadDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},watch:{listType:function(e){"picture-card"!==e&&"picture"!==e||(this.uploadFiles=this.uploadFiles.map((function(e){if(!e.url&&e.raw)try{e.url=URL.createObjectURL(e.raw)}catch(e){console.error("[Element Error][Upload]",e)}return e})))},fileList:{immediate:!0,handler:function(e){var t=this;this.uploadFiles=e.map((function(e){return e.uid=e.uid||Date.now()+t.tempIndex++,e.status=e.status||"success",e}))}}},methods:{handleStart:function(e){e.uid=Date.now()+this.tempIndex++;var t={status:"ready",name:e.name,size:e.size,percentage:0,uid:e.uid,raw:e};if("picture-card"===this.listType||"picture"===this.listType)try{t.url=URL.createObjectURL(e)}catch(e){return void console.error("[Element Error][Upload]",e)}this.uploadFiles.push(t),this.onChange(t,this.uploadFiles)},handleProgress:function(e,t){t=this.getFile(t),this.onProgress(e,t,this.uploadFiles),t.status="uploading",t.percentage=e.percent||0},handleSuccess:function(e,t){(t=this.getFile(t))&&(t.status="success",t.response=e,this.onSuccess(e,t,this.uploadFiles),this.onChange(t,this.uploadFiles))},handleError:function(e,t){t=this.getFile(t);var n=this.uploadFiles;t.status="fail",n.splice(n.indexOf(t),1),this.onError(e,t,this.uploadFiles),this.onChange(t,this.uploadFiles)},handleRemove:function(e,t){function n(){i.abort(e);var t=i.uploadFiles;t.splice(t.indexOf(e),1),i.onRemove(e,t)}var i=this;t&&(e=this.getFile(t)),this.beforeRemove?"function"==typeof this.beforeRemove&&((t=this.beforeRemove(e,this.uploadFiles))&&t.then?t.then((function(){n()}),No):!1!==t&&n()):n()},getFile:function(e){var t=this.uploadFiles,n=void 0;return t.every((function(t){return!(n=e.uid===t.uid?t:null)})),n},abort:function(e){this.$refs["upload-inner"].abort(e)},clearFiles:function(){this.uploadFiles=[]},submit:function(){var e=this;this.uploadFiles.filter((function(e){return"ready"===e.status})).forEach((function(t){e.$refs["upload-inner"].upload(t.raw)}))},getMigratingConfig:function(){return{props:{"default-file-list":"default-file-list is renamed to file-list.","show-upload-list":"show-upload-list is renamed to show-file-list.","thumbnail-mode":"thumbnail-mode has been deprecated, you can implement the same effect according to this case: http://element.eleme.io/#/zh-CN/component/upload#yong-hu-tou-xiang-shang-chuan"}}}},beforeDestroy:function(){this.uploadFiles.forEach((function(e){e.url&&0===e.url.indexOf("blob:")&&URL.revokeObjectURL(e.url)}))},render:function(e){var t=this,n=void 0,i=(this.showFileList&&(n=e(Do,{attrs:{disabled:this.uploadDisabled,listType:this.listType,files:this.uploadFiles,handlePreview:this.onPreview},on:{remove:this.handleRemove}},[function(e){if(t.$scopedSlots.file)return t.$scopedSlots.file({file:e.file})}])),e("upload",{props:{type:this.type,drag:this.drag,action:this.action,multiple:this.multiple,"before-upload":this.beforeUpload,"with-credentials":this.withCredentials,headers:this.headers,name:this.name,data:this.data,accept:this.accept,fileList:this.uploadFiles,autoUpload:this.autoUpload,listType:this.listType,disabled:this.uploadDisabled,limit:this.limit,"on-exceed":this.onExceed,"on-start":this.handleStart,"on-progress":this.handleProgress,"on-success":this.handleSuccess,"on-error":this.handleError,"on-preview":this.onPreview,"on-remove":this.handleRemove,"http-request":this.httpRequest},ref:"upload-inner"},[this.$slots.trigger||this.$slots.default]));return e("div",["picture-card"===this.listType?n:"",this.$slots.trigger?[i,this.$slots.default]:i,this.$slots.tip,"picture-card"!==this.listType?n:""])}},void 0,void 0,!1,null,null,null)).options.__file="packages/upload/src/index.vue",Io.exports),Ko=(Io=(Qo.install=function(e){e.component(Qo.name,Qo)},Qo),(Jo=(Oo._withStripped=!0,r({name:"ElSpinner",props:{type:String,radius:{type:Number,default:100},strokeWidth:{type:Number,default:5},strokeColor:{type:String,default:"#efefef"}}},Oo,[],!1,null,null,null))).options.__file="packages/spinner/src/spinner.vue",Jo.exports),Jo=(Ko.install=function(e){e.component(Ko.name,Ko)},Ko),es=(Fo._withStripped=!0,{success:"success",info:"info",warning:"warning",error:"error"}),ts=((ts=r({data:function(){return{visible:!1,message:"",duration:3e3,type:"info",iconClass:"",customClass:"",onClose:null,showClose:!1,closed:!1,verticalOffset:20,timer:null,dangerouslyUseHTMLString:!1,center:!1}},computed:{typeClass:function(){return this.type&&!this.iconClass?"el-message__icon el-icon-"+es[this.type]:""},positionStyle:function(){return{top:this.verticalOffset+"px"}}},watch:{closed:function(e){e&&(this.visible=!1)}},methods:{handleAfterLeave:function(){this.$destroy(!0),this.$el.parentNode.removeChild(this.$el)},close:function(){this.closed=!0,"function"==typeof this.onClose&&this.onClose(this)},clearTimer:function(){clearTimeout(this.timer)},startTimer:function(){var e=this;0<this.duration&&(this.timer=setTimeout((function(){e.closed||e.close()}),this.duration))},keydown:function(e){27!==e.keyCode||this.closed||this.close()}},mounted:function(){this.startTimer(),document.addEventListener("keydown",this.keydown)},beforeDestroy:function(){document.removeEventListener("keydown",this.keydown)}},Fo,[],!1,null,null,null)).options.__file="packages/message/src/main.vue",ts.exports),ns=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},is=u.a.extend(ts),rs=void 0,as=[],os=1,ss=(["success","warning","info","error"].forEach((function(e){zo[e]=function(t){return f(t)&&!Nr(t)?zo(ns({},t,{type:e})):zo({type:e,message:t})}})),zo.close=function(e,t){for(var n=as.length,i=-1,r=void 0,a=0;a<n;a++)if(e===as[a].id){r=as[a].$el.offsetHeight,i=a,"function"==typeof t&&t(as[a]),as.splice(a,1);break}if(!(n<=1||-1===i||as.length-1<i))for(var o=i;o<n-1;o++){var s=as[o].$el;s.style.top=parseInt(s.style.top,10)-r-16+"px"}},zo.closeAll=function(){for(var e=as.length-1;0<=e;e--)as[e].close()},zo),ls=((ts=(Bo._withStripped=!0,r({name:"ElBadge",props:{value:[String,Number],max:Number,isDot:Boolean,hidden:Boolean,type:{type:String,validator:function(e){return-1<["primary","success","warning","info","danger"].indexOf(e)}}},computed:{content:function(){var e,t;if(!this.isDot)return e=this.value,t=this.max,"number"==typeof e&&"number"==typeof t&&t<e?t+"+":e}}},Bo,[],!1,null,null,null))).options.__file="packages/badge/src/main.vue",ts.exports),cs=(ts=(ls.install=function(e){e.component(ls.name,ls)},ls),(us=(Ho._withStripped=!0,r({name:"ElCard",props:{header:{},bodyStyle:{},shadow:{type:String}}},Ho,[],!1,null,null,null))).options.__file="packages/card/src/main.vue",us.exports),us=(cs.install=function(e){e.component(cs.name,cs)},cs),hs=((ds=(Uo._withStripped=!0,r({name:"ElRate",mixins:[Gl],inject:{elForm:{default:""}},data:function(){return{pointerAtLeftHalf:!0,currentValue:this.value,hoverIndex:-1}},props:{value:{type:Number,default:0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:[Array,Object],default:function(){return["#F7BA2A","#F7BA2A","#F7BA2A"]}},voidColor:{type:String,default:"#C6D1DE"},disabledVoidColor:{type:String,default:"#EFF2F7"},iconClasses:{type:[Array,Object],default:function(){return["el-icon-star-on","el-icon-star-on","el-icon-star-on"]}},voidIconClass:{type:String,default:"el-icon-star-off"},disabledVoidIconClass:{type:String,default:"el-icon-star-on"},disabled:{type:Boolean,default:!1},allowHalf:{type:Boolean,default:!1},showText:{type:Boolean,default:!1},showScore:{type:Boolean,default:!1},textColor:{type:String,default:"#1f2d3d"},texts:{type:Array,default:function(){return["极差","失望","一般","满意","惊喜"]}},scoreTemplate:{type:String,default:"{value}"}},computed:{text:function(){var e="";return this.showScore?e=this.scoreTemplate.replace(/\{\s*value\s*\}/,this.rateDisabled?this.value:this.currentValue):this.showText&&(e=this.texts[Math.ceil(this.currentValue)-1]),e},decimalStyle:function(){var e="";return this.rateDisabled?e=this.valueDecimal+"%":this.allowHalf&&(e="50%"),{color:this.activeColor,width:e}},valueDecimal:function(){return 100*this.value-100*Math.floor(this.value)},classMap:function(){var e;return Array.isArray(this.iconClasses)?((e={})[this.lowThreshold]=this.iconClasses[0],e[this.highThreshold]={value:this.iconClasses[1],excluded:!0},e[this.max]=this.iconClasses[2],e):this.iconClasses},decimalIconClass:function(){return this.getValueFromMap(this.value,this.classMap)},voidClass:function(){return this.rateDisabled?this.disabledVoidIconClass:this.voidIconClass},activeClass:function(){return this.getValueFromMap(this.currentValue,this.classMap)},colorMap:function(){var e;return Array.isArray(this.colors)?((e={})[this.lowThreshold]=this.colors[0],e[this.highThreshold]={value:this.colors[1],excluded:!0},e[this.max]=this.colors[2],e):this.colors},activeColor:function(){return this.getValueFromMap(this.currentValue,this.colorMap)},classes:function(){var e=[],t=0,n=this.currentValue;for(this.allowHalf&&this.currentValue!==Math.floor(this.currentValue)&&n--;t<n;t++)e.push(this.activeClass);for(;t<this.max;t++)e.push(this.voidClass);return e},rateDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},watch:{value:function(e){this.currentValue=e,this.pointerAtLeftHalf=this.value!==Math.floor(this.value)}},methods:{getMigratingConfig:function(){return{props:{"text-template":"text-template is renamed to score-template."}}},getValueFromMap:function(e,t){var n=Object.keys(t).filter((function(n){var i=t[n];return f(i)&&i.excluded?e<n:e<=n})).sort((function(e,t){return e-t}));return f(n=t[n[0]])?n.value:n||""},showDecimalIcon:function(e){var t=this.rateDisabled&&0<this.valueDecimal&&e-1<this.value&&e>this.value;e=this.allowHalf&&this.pointerAtLeftHalf&&e-.5<=this.currentValue&&e>this.currentValue;return t||e},getIconStyle:function(e){var t=this.rateDisabled?this.disabledVoidColor:this.voidColor;return{color:e<=this.currentValue?this.activeColor:t}},selectValue:function(e){this.rateDisabled||(this.allowHalf&&this.pointerAtLeftHalf?(this.$emit("input",this.currentValue),this.$emit("change",this.currentValue)):(this.$emit("input",e),this.$emit("change",e)))},handleKey:function(e){var t,n;this.rateDisabled||(t=this.currentValue,38===(n=e.keyCode)||39===n?(this.allowHalf?t+=.5:t+=1,e.stopPropagation(),e.preventDefault()):37!==n&&40!==n||(this.allowHalf?t-=.5:--t,e.stopPropagation(),e.preventDefault()),t=(t=t<0?0:t)>this.max?this.max:t,this.$emit("input",t),this.$emit("change",t))},setCurrentValue:function(e,t){var n;this.rateDisabled||(this.allowHalf?(re(n=t.target,"el-rate__item")&&(n=n.querySelector(".el-rate__icon")),re(n,"el-rate__decimal")&&(n=n.parentNode),this.pointerAtLeftHalf=2*t.offsetX<=n.clientWidth,this.currentValue=this.pointerAtLeftHalf?e-.5:e):this.currentValue=e,this.hoverIndex=e)},resetCurrentValue:function(){this.rateDisabled||(this.allowHalf&&(this.pointerAtLeftHalf=this.value!==Math.floor(this.value)),this.currentValue=this.value,this.hoverIndex=-1)}},created:function(){this.value||this.$emit("input",0)}},Uo,[],!1,null,null,null))).options.__file="packages/rate/src/main.vue",ds.exports),ds=(hs.install=function(e){e.component(hs.name,hs)},hs),fs=((ps=(Vo._withStripped=!0,r({name:"ElSteps",mixins:[Gl],props:{space:[Number,String],active:Number,direction:{type:String,default:"horizontal"},alignCenter:Boolean,simple:Boolean,finishStatus:{type:String,default:"finish"},processStatus:{type:String,default:"process"}},data:function(){return{steps:[],stepOffset:0}},methods:{getMigratingConfig:function(){return{props:{center:"center is removed."}}}},watch:{active:function(e,t){this.$emit("change",e,t)},steps:function(e){e.forEach((function(e,t){e.index=t}))}}},Vo,[],!1,null,null,null))).options.__file="packages/steps/src/steps.vue",ps.exports),ps=(fs.install=function(e){e.component(fs.name,fs)},fs),ms=((vs=(Go._withStripped=!0,r({name:"ElStep",props:{title:String,icon:String,description:String,status:String},data:function(){return{index:-1,lineStyle:{},internalStatus:""}},beforeCreate:function(){this.$parent.steps.push(this)},beforeDestroy:function(){var e=this.$parent.steps,t=e.indexOf(this);0<=t&&e.splice(t,1)},computed:{currentStatus:function(){return this.status||this.internalStatus},prevStatus:function(){var e=this.$parent.steps[this.index-1];return e?e.currentStatus:"wait"},isCenter:function(){return this.$parent.alignCenter},isVertical:function(){return"vertical"===this.$parent.direction},isSimple:function(){return this.$parent.simple},isLast:function(){var e=this.$parent;return e.steps[e.steps.length-1]===this},stepsCount:function(){return this.$parent.steps.length},space:function(){var e=this.isSimple,t=this.$parent.space;return e?"":t},style:function(){var e={},t=this.$parent.steps.length;t="number"==typeof this.space?this.space+"px":this.space||100/(t-(this.isCenter?0:1))+"%";return e.flexBasis=t,this.isVertical||(this.isLast?e.maxWidth=100/this.stepsCount+"%":e.marginRight=-this.$parent.stepOffset+"px"),e}},methods:{updateStatus:function(e){var t=this.$parent.$children[this.index-1];e>this.index?this.internalStatus=this.$parent.finishStatus:e===this.index&&"error"!==this.prevStatus?this.internalStatus=this.$parent.processStatus:this.internalStatus="wait",t&&t.calcProgress(this.internalStatus)},calcProgress:function(e){var t=100,n={};n.transitionDelay=150*this.index+"ms",e===this.$parent.processStatus?(this.currentStatus,t=0):"wait"===e&&(t=0,n.transitionDelay=-150*this.index+"ms"),n.borderWidth=t&&!this.isSimple?"1px":0,"vertical"===this.$parent.direction?n.height=t+"%":n.width=t+"%",this.lineStyle=n}},mounted:function(){var e=this,t=this.$watch("index",(function(n){e.$watch("$parent.active",e.updateStatus,{immediate:!0}),e.$watch("$parent.processStatus",(function(){var t=e.$parent.active;e.updateStatus(t)}),{immediate:!0}),t()}))}},Go,[],!1,null,null,null))).options.__file="packages/steps/src/step.vue",vs.exports),vs=(ms.install=function(e){e.component(ms.name,ms)},ms),gs=(jo._withStripped=!0,n(4)),ys=n.n(gs),xs=((gs=r({name:"ElCarousel",props:{initialIndex:{type:Number,default:0},height:String,trigger:{type:String,default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:String,indicator:{type:Boolean,default:!0},arrow:{type:String,default:"hover"},type:String,loop:{type:Boolean,default:!0},direction:{type:String,default:"horizontal",validator:function(e){return-1!==["horizontal","vertical"].indexOf(e)}}},data:function(){return{items:[],activeIndex:-1,containerWidth:0,timer:null,hover:!1}},computed:{arrowDisplay:function(){return"never"!==this.arrow&&"vertical"!==this.direction},hasLabel:function(){return this.items.some((function(e){return 0<e.label.toString().length}))},carouselClasses:function(){var e=["el-carousel","el-carousel--"+this.direction];return"card"===this.type&&e.push("el-carousel--card"),e},indicatorsClasses:function(){var e=["el-carousel__indicators","el-carousel__indicators--"+this.direction];return this.hasLabel&&e.push("el-carousel__indicators--labels"),"outside"!==this.indicatorPosition&&"card"!==this.type||e.push("el-carousel__indicators--outside"),e}},watch:{items:function(e){0<e.length&&this.setActiveItem(this.initialIndex)},activeIndex:function(e,t){this.resetItemPosition(t),-1<t&&this.$emit("change",e,t)},autoplay:function(e){e?this.startTimer():this.pauseTimer()},loop:function(){this.setActiveItem(this.activeIndex)},interval:function(){this.pauseTimer(),this.startTimer()}},methods:{handleMouseEnter:function(){this.hover=!0,this.pauseTimer()},handleMouseLeave:function(){this.hover=!1,this.startTimer()},itemInStage:function(e,t){var n=this.items.length;return t===n-1&&e.inStage&&this.items[0].active||e.inStage&&this.items[t+1]&&this.items[t+1].active?"left":!!(0===t&&e.inStage&&this.items[n-1].active||e.inStage&&this.items[t-1]&&this.items[t-1].active)&&"right"},handleButtonEnter:function(e){var t=this;"vertical"!==this.direction&&this.items.forEach((function(n,i){e===t.itemInStage(n,i)&&(n.hover=!0)}))},handleButtonLeave:function(){"vertical"!==this.direction&&this.items.forEach((function(e){e.hover=!1}))},updateItems:function(){this.items=this.$children.filter((function(e){return"ElCarouselItem"===e.$options.name}))},resetItemPosition:function(e){var t=this;this.items.forEach((function(n,i){n.translateItem(i,t.activeIndex,e)}))},playSlides:function(){this.activeIndex<this.items.length-1?this.activeIndex++:this.loop&&(this.activeIndex=0)},pauseTimer:function(){this.timer&&(clearInterval(this.timer),this.timer=null)},startTimer:function(){this.interval<=0||!this.autoplay||this.timer||(this.timer=setInterval(this.playSlides,this.interval))},resetTimer:function(){this.pauseTimer(),this.startTimer()},setActiveItem:function(e){var t,n;"string"==typeof e&&0<(t=this.items.filter((function(t){return t.name===e}))).length&&(e=this.items.indexOf(t[0])),e=Number(e),isNaN(e)||e!==Math.floor(e)?console.warn("[Element Warn][Carousel]index must be an integer."):(t=this.items.length,n=this.activeIndex,this.activeIndex=e<0?this.loop?t-1:0:t<=e?this.loop?0:t-1:e,n===this.activeIndex&&this.resetItemPosition(n),this.resetTimer())},prev:function(){this.setActiveItem(this.activeIndex-1)},next:function(){this.setActiveItem(this.activeIndex+1)},handleIndicatorClick:function(e){this.activeIndex=e},handleIndicatorHover:function(e){"hover"===this.trigger&&e!==this.activeIndex&&(this.activeIndex=e)}},created:function(){var e=this;this.throttledArrowClick=ys()(300,!0,(function(t){e.setActiveItem(t)})),this.throttledIndicatorHover=ys()(300,(function(t){e.handleIndicatorHover(t)}))},mounted:function(){var e=this;this.updateItems(),this.$nextTick((function(){fe(e.$el,e.resetItemPosition),e.initialIndex<e.items.length&&0<=e.initialIndex&&(e.activeIndex=e.initialIndex),e.startTimer()}))},beforeDestroy:function(){this.$el&&pe(this.$el,this.resetItemPosition),this.pauseTimer()}},jo,[],!1,null,null,null)).options.__file="packages/carousel/src/main.vue",gs.exports),bs=(gs=(xs.install=function(e){e.component(xs.name,xs)},xs),(ws=(Wo._withStripped=!0,r({name:"ElCarouselItem",props:{name:String,label:{type:[String,Number],default:""}},data:function(){return{hover:!1,translate:0,scale:1,active:!1,ready:!1,inStage:!1,animating:!1}},methods:{processIndex:function(e,t,n){return 0===t&&e===n-1?-1:t===n-1&&0===e?n:e<t-1&&n/2<=t-e?n+1:t+1<e&&n/2<=e-t?-2:e},calcCardTranslate:function(e,t){var n=this.$parent.$el.offsetWidth;return this.inStage?n*(1.17*(e-t)+1)/4:e<t?-1.83*n/4:3.83*n/4},calcTranslate:function(e,t,n){return this.$parent.$el[n?"offsetHeight":"offsetWidth"]*(e-t)},translateItem:function(e,t,n){var i=this.$parent.type,r=this.parentDirection,a=this.$parent.items.length;"card"!==i&&void 0!==n&&(this.animating=e===t||e===n),e!==t&&2<a&&this.$parent.loop&&(e=this.processIndex(e,t,a)),"card"===i?("vertical"===r&&console.warn("[Element Warn][Carousel]vertical direction is not supported in card mode"),this.inStage=Math.round(Math.abs(e-t))<=1,this.active=e===t,this.translate=this.calcCardTranslate(e,t),this.scale=this.active?1:.83):(this.active=e===t,this.translate=this.calcTranslate(e,t,"vertical"===r),this.scale=1),this.ready=!0},handleItemClick:function(){var e,t=this.$parent;t&&"card"===t.type&&(e=t.items.indexOf(this),t.setActiveItem(e))}},computed:{parentDirection:function(){return this.$parent.direction},itemStyle:function(){return"object"===(void 0===(e={transform:("vertical"===this.parentDirection?"translateY":"translateX")+"("+this.translate+"px) scale("+this.scale+")"})?"undefined":g(e))&&(t=["ms-","webkit-"],["transform","transition","animation"].forEach((function(n){var i=e[n];n&&i&&t.forEach((function(t){e[t+n]=i}))}))),e;var e,t}},created:function(){this.$parent&&this.$parent.updateItems()},destroyed:function(){this.$parent&&this.$parent.updateItems()}},Wo,[],!1,null,null,null))).options.__file="packages/carousel/src/item.vue",ws.exports),ws=(bs.install=function(e){e.component(bs.name,bs)},bs),_s=((Ms=(Xo._withStripped=!0,r({name:"ElCollapse",componentName:"ElCollapse",props:{accordion:Boolean,value:{type:[Array,String,Number],default:function(){return[]}}},data:function(){return{activeNames:[].concat(this.value)}},provide:function(){return{collapse:this}},watch:{value:function(e){this.activeNames=[].concat(e)}},methods:{setActiveNames:function(e){e=[].concat(e);var t=this.accordion?e[0]:e;this.activeNames=e,this.$emit("input",t),this.$emit("change",t)},handleItemClick:function(e){var t,n;this.accordion?this.setActiveNames(!this.activeNames[0]&&0!==this.activeNames[0]||this.activeNames[0]!==e.name?e.name:""):(-1<(n=(t=this.activeNames.slice(0)).indexOf(e.name))?t.splice(n,1):t.push(e.name),this.setActiveNames(t))}},created:function(){this.$on("item-click",this.handleItemClick)}},Xo,[],!1,null,null,null))).options.__file="packages/collapse/src/collapse.vue",Ms.exports),Ms=(_s.install=function(e){e.component(_s.name,_s)},_s),Ss=((Es=(qo._withStripped=!0,r({name:"ElCollapseItem",componentName:"ElCollapseItem",mixins:[l],components:{ElCollapseTransition:At},data:function(){return{contentWrapStyle:{height:"auto",display:"block"},contentHeight:0,focusing:!1,isClick:!1,id:M()}},inject:["collapse"],props:{title:String,name:{type:[String,Number],default:function(){return this._uid}},disabled:Boolean},computed:{isActive:function(){return-1<this.collapse.activeNames.indexOf(this.name)}},methods:{handleFocus:function(){var e=this;setTimeout((function(){e.isClick?e.isClick=!1:e.focusing=!0}),50)},handleHeaderClick:function(){this.disabled||(this.dispatch("ElCollapse","item-click",this),this.focusing=!1,this.isClick=!0)},handleEnterClick:function(){this.dispatch("ElCollapse","item-click",this)}}},qo,[],!1,null,null,null))).options.__file="packages/collapse/src/collapse-item.vue",Es.exports),Es=(Ss.install=function(e){e.component(Ss.name,Ss)},Ss),Ts=((Ts=((Ts=r({inject:["panel"],components:{ElCheckbox:pn,ElRadio:sn},props:{node:{required:$o._withStripped=Yo._withStripped=!0},nodeId:String},computed:{config:function(){return this.panel.config},isLeaf:function(){return this.node.isLeaf},isDisabled:function(){return this.node.isDisabled},checkedValue:function(){return this.panel.checkedValue},isChecked:function(){return this.node.isSameNode(this.checkedValue)},inActivePath:function(){return this.isInPath(this.panel.activePath)},inCheckedPath:function(){var e=this;return!!this.config.checkStrictly&&this.panel.checkedNodePaths.some((function(t){return e.isInPath(t)}))},value:function(){return this.node.getValueByOption()}},methods:{handleExpand:function(){var e=this,t=this.panel,n=this.node,i=this.isDisabled,r=this.config,a=r.multiple;!r.checkStrictly&&i||n.loading||(r.lazy&&!n.loaded?t.lazyLoad(n,(function(){var t=e.isLeaf;t||e.handleExpand(),a&&(t=!!t&&n.checked,e.handleMultiCheckChange(t))})):t.handleExpand(n))},handleCheckChange:function(){var e=this.panel,t=this.value,n=this.node;e.handleCheckChange(t),e.handleExpand(n)},handleMultiCheckChange:function(e){this.node.doCheck(e),this.panel.calculateMultiCheckedValue()},isInPath:function(e){var t=this.node;return(e[t.level-1]||{}).uid===t.uid},renderPrefix:function(e){var t=this.isLeaf,n=this.isChecked,i=this.config,r=i.checkStrictly;return i.multiple?this.renderCheckbox(e):r?this.renderRadio(e):t&&n?this.renderCheckIcon(e):null},renderPostfix:function(e){var t=this.node,n=this.isLeaf;return t.loading?this.renderLoadingIcon(e):n?null:this.renderExpandIcon(e)},renderCheckbox:function(e){var t=this.node,n=this.config,i=this.isDisabled,r={on:{change:this.handleMultiCheckChange},nativeOn:{}};return n.checkStrictly&&(r.nativeOn.click=Zo),e("el-checkbox",Ro()([{attrs:{value:t.checked,indeterminate:t.indeterminate,disabled:i}},r]))},renderRadio:function(e){var t=this.checkedValue,n=this.value,i=this.isDisabled;return e("el-radio",{attrs:{value:t,label:n=P(n,t)?t:n,disabled:i},on:{change:this.handleCheckChange},nativeOn:{click:Zo}},[e("span")])},renderCheckIcon:function(e){return e("i",{class:"el-icon-check el-cascader-node__prefix"})},renderLoadingIcon:function(e){return e("i",{class:"el-icon-loading el-cascader-node__postfix"})},renderExpandIcon:function(e){return e("i",{class:"el-icon-arrow-right el-cascader-node__postfix"})},renderContent:function(e){var t=this.panel,n=this.node;return e("span",{class:"el-cascader-node__label"},[((t=t.renderLabelFn)?t({node:n,data:n.data}):null)||n.label])}},render:function(e){var t=this,n=this.inActivePath,i=this.inCheckedPath,r=this.isChecked,a=this.isLeaf,o=this.isDisabled,s=this.config,l=this.nodeId,c=s.expandTrigger,u=s.checkStrictly,h=(s=s.multiple,!u&&o),d={on:{}};return"click"===c?d.on.click=this.handleExpand:(d.on.mouseenter=function(e){t.handleExpand(),t.$emit("expand",e)},d.on.focus=function(e){t.handleExpand(),t.$emit("expand",e)}),!a||o||u||s||(d.on.click=this.handleCheckChange),e("li",Ro()([{attrs:{role:"menuitem",id:l,"aria-expanded":n,tabindex:h?null:-1},class:{"el-cascader-node":!0,"is-selectable":u,"in-active-path":n,"in-checked-path":i,"is-active":r,"is-disabled":h}},d]),[this.renderPrefix(e),this.renderContent(e),this.renderPostfix(e)])}},void 0,void 0,!1,null,null,null)).options.__file="packages/cascader-panel/src/cascader-node.vue",r({name:"ElCascaderMenu",mixins:[c],inject:["panel"],components:{ElScrollbar:ze,CascaderNode:Ts.exports},props:{nodes:{type:Array,required:!0},index:Number},data:function(){return{activeNode:null,hoverTimer:null,id:M()}},computed:{isEmpty:function(){return!this.nodes.length},menuId:function(){return"cascader-menu-"+this.id+"-"+this.index}},methods:{handleExpand:function(e){this.activeNode=e.target},handleMouseMove:function(e){var t,n,i,r=this.activeNode,a=this.hoverTimer,o=this.$refs.hoverZone;r&&o&&(r.contains(e.target)?(clearTimeout(a),n=this.$el.getBoundingClientRect().left,e=e.clientX-n,t=(n=this.$el).offsetWidth,n=n.offsetHeight,r=(i=r.offsetTop)+r.offsetHeight,o.innerHTML='\n          <path style="pointer-events: auto;" fill="transparent" d="M'+e+" "+i+" L"+t+" 0 V"+i+' Z" />\n          <path style="pointer-events: auto;" fill="transparent" d="M'+e+" "+r+" L"+t+" "+n+" V"+r+' Z" />\n        '):a||(this.hoverTimer=setTimeout(this.clearHoverZone,this.panel.config.hoverThreshold)))},clearHoverZone:function(){var e=this.$refs.hoverZone;e&&(e.innerHTML="")},renderEmptyText:function(e){return e("div",{class:"el-cascader-menu__empty-text"},[this.t("el.cascader.noData")])},renderNodeList:function(e){var t=this.menuId,n=this.panel.isHoverMenu,i={on:{}},r=(n&&(i.on.expand=this.handleExpand),this.nodes.map((function(n,r){var a=n.hasChildren;return e("cascader-node",Ro()([{key:n.uid,attrs:{node:n,"node-id":t+"-"+r,"aria-haspopup":a,"aria-owns":a?t:null}},i]))})));return[].concat(r,[n?e("svg",{ref:"hoverZone",class:"el-cascader-menu__hover-zone"}):null])}},render:function(e){var t=this.isEmpty,n=this.menuId,i={nativeOn:{}};return this.panel.isHoverMenu&&(i.nativeOn.mousemove=this.handleMouseMove),e("el-scrollbar",Ro()([{attrs:{tag:"ul",role:"menu",id:n,"wrap-class":"el-cascader-menu__wrap","view-class":{"el-cascader-menu__list":!0,"is-empty":t}},class:"el-cascader-menu"},i]),[t?this.renderEmptyText(e):this.renderNodeList(e)])}},void 0,void 0,!1,null,null,null))).options.__file="packages/cascader-panel/src/cascader-menu.vue",Ts.exports),Cs=function(e,t,n){return t&&As(e.prototype,t),n&&As(e,n),e};function As(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Ls=0,Ps=(ks.prototype.initState=function(){var e=(t=this.config).value,t=t.label;this.value=this.data[e],this.label=this.data[t],this.pathNodes=this.calculatePathNodes(),this.path=this.pathNodes.map((function(e){return e.value})),this.pathLabels=this.pathNodes.map((function(e){return e.label})),this.loading=!1,this.loaded=!1},ks.prototype.initChildren=function(){var e=this,t=this.config,n=t.children;n=this.data[n];this.hasChildren=Array.isArray(n),this.children=(n||[]).map((function(n){return new ks(n,t,e)}))},ks.prototype.calculatePathNodes=function(){for(var e=[this],t=this.parent;t;)e.unshift(t),t=t.parent;return e},ks.prototype.getPath=function(){return this.path},ks.prototype.getValue=function(){return this.value},ks.prototype.getValueByOption=function(){return this.config.emitPath?this.getPath():this.getValue()},ks.prototype.getText=function(e,t){return e?this.pathLabels.join(t):this.label},ks.prototype.isSameNode=function(e){var t=this.getValueByOption();return this.config.multiple&&Array.isArray(e)?e.some((function(e){return P(e,t)})):P(e,t)},ks.prototype.broadcast=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r="onParent"+A(e);this.children.forEach((function(t){t&&(t.broadcast.apply(t,[e].concat(n)),t[r])&&t[r].apply(t,n)}))},ks.prototype.emit=function(e){var t=this.parent,n="onChild"+A(e);if(t){for(var i=arguments.length,r=Array(1<i?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];t[n]&&t[n].apply(t,r),t.emit.apply(t,[e].concat(r))}},ks.prototype.onParentCheck=function(e){this.isDisabled||this.setCheckState(e)},ks.prototype.onChildCheck=function(){var e=!!(e=this.children.filter((function(e){return!e.isDisabled}))).length&&e.every((function(e){return e.checked}));this.setCheckState(e)},ks.prototype.setCheckState=function(e){var t=this.children.length,n=this.children.reduce((function(e,t){return e+(t.checked?1:t.indeterminate?.5:0)}),0);this.checked=e,this.indeterminate=n!==t&&0<n},ks.prototype.syncCheckState=function(e){var t=this.getValueByOption();e=this.isSameNode(e,t);this.doCheck(e)},ks.prototype.doCheck=function(e){this.checked!==e&&(this.config.checkStrictly?this.checked=e:(this.broadcast("check",e),this.setCheckState(e),this.emit("check")))},Cs(ks,[{key:"isDisabled",get:function(){var e=this.data,t=this.parent,n=(i=this.config).disabled,i=i.checkStrictly;return e[n]||!i&&t&&t.isDisabled}},{key:"isLeaf",get:function(){var e=this.data,t=this.loaded,n=this.hasChildren,i=this.children,r=(a=this.config).lazy,a=a.leaf;return r?(r=X(e[a])?e[a]:!!t&&!i.length,this.hasChildren=!r,r):!n}}]),ks);function ks(e,t,n){if(!(this instanceof ks))throw new TypeError("Cannot call a class as a function");this.data=e,this.config=t,this.parent=n||null,this.level=this.parent?this.parent.level+1:1,this.uid=Ls++,this.initState(),this.initChildren()}function Ds(e){return!e.getAttribute("aria-owns")}function Is(e,t){var n=e.parentNode;return n&&(n=n.querySelectorAll('.el-cascader-node[tabindex="-1"]'))[Array.prototype.indexOf.call(n,e)+t]||null}function Rs(e,t){if(e)return e=e.id.split("-"),Number(e[e.length-2])}function Ns(e){e&&(e.focus(),!Ds(e))&&e.click()}Hs.prototype.initNodes=function(e){var t=this;e=C(e),this.nodes=e.map((function(e){return new Ps(e,t.config)})),this.flattedNodes=this.getFlattedNodes(!1,!1),this.leafNodes=this.getFlattedNodes(!0,!1)},Hs.prototype.appendNode=function(e,t){e=new Ps(e,this.config,t),(t?t.children:this.nodes).push(e)},Hs.prototype.appendNodes=function(e,t){var n=this;(e=C(e)).forEach((function(e){return n.appendNode(e,t)}))},Hs.prototype.getNodes=function(){return this.nodes},Hs.prototype.getFlattedNodes=function(e){var t=e?this.leafNodes:this.flattedNodes;return 1<arguments.length&&void 0!==arguments[1]&&!arguments[1]?function e(t,n){return t.reduce((function(t,i){return i.isLeaf?t.push(i):(n||t.push(i),t=t.concat(e(i.children,n))),t}),[])}(this.nodes,e):t},Hs.prototype.getNodeByValue=function(e){var t=this.getFlattedNodes(!1,!this.config.lazy).filter((function(t){return S(t.path,e)||t.value===e}));return t&&t.length?t[0]:null};var Os=Hs,Fs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},zs=wt.keys,Bs={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:x,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500};function Hs(e,t){if(!(this instanceof Hs))throw new TypeError("Cannot call a class as a function");this.config=t,this.initNodes(e)}function Us(){var e=this,t=e.$createElement;return(t=e._self._c||t)("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.hide,expression:"hide"}],class:["el-color-picker",e.colorDisabled?"is-disabled":"",e.colorSize?"el-color-picker--"+e.colorSize:""]},[e.colorDisabled?t("div",{staticClass:"el-color-picker__mask"}):e._e(),t("div",{staticClass:"el-color-picker__trigger",on:{click:e.handleTrigger}},[t("span",{staticClass:"el-color-picker__color",class:{"is-alpha":e.showAlpha}},[t("span",{staticClass:"el-color-picker__color-inner",style:{backgroundColor:e.displayedColor}}),e.value||e.showPanelColor?e._e():t("span",{staticClass:"el-color-picker__empty el-icon-close"})]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.value||e.showPanelColor,expression:"value || showPanelColor"}],staticClass:"el-color-picker__icon el-icon-arrow-down"})]),t("picker-dropdown",{ref:"dropdown",class:["el-color-picker__panel",e.popperClass||""],attrs:{color:e.color,"show-alpha":e.showAlpha,predefine:e.predefine},on:{pick:e.confirmValue,clear:e.clearValue},model:{value:e.showPicker,callback:function(t){e.showPicker=t},expression:"showPicker"}})],1)}function Vs(e,t,n){return[e,t*n/((e=(2-t)*n)<1?e:2-e)||0,e/2]}function Gs(e,t){var n="string"==typeof(e="string"==typeof(n=e)&&-1!==n.indexOf(".")&&1===parseFloat(n)?"100%":e)&&-1!==e.indexOf("%");return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function js(e){return 2===e.length?16*(tl[e[0].toUpperCase()]||+e[0])+(tl[e[1].toUpperCase()]||+e[1]):tl[e[1].toUpperCase()]||+e[1]}function Ws(e,t,n){e=Gs(e,255),t=Gs(t,255),n=Gs(n,255);var i=Math.max(e,t,n),r=Math.min(e,t,n),a=void 0,o=i,s=i-r,l=0===i?0:s/i;if(i===r)a=0;else{switch(i){case e:a=(t-n)/s+(t<n?6:0);break;case t:a=(n-e)/s+2;break;case n:a=(e-t)/s+4}a/=6}return{h:360*a,s:100*l,v:100*o}}function Xs(e,t,n){e=6*Gs(e,360),t=Gs(t,100);var i=(n=Gs(n,100))*(1-t),r=n*(1-(e-=a=Math.floor(e))*t),a=[e=n*(1-(1-e)*t),n,n,r,i,i][t=a%6],o=[i,i,e,n,n,r][t];return{r:Math.round(255*[n,r,i,i,e,n][t]),g:Math.round(255*a),b:Math.round(255*o)}}function qs(){var e=this,t=e.$createElement;return(t=e._self._c||t)("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":e.doDestroy}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.showPopper,expression:"showPopper"}],staticClass:"el-color-dropdown"},[t("div",{staticClass:"el-color-dropdown__main-wrapper"},[t("hue-slider",{ref:"hue",staticStyle:{float:"right"},attrs:{color:e.color,vertical:""}}),t("sv-panel",{ref:"sl",attrs:{color:e.color}})],1),e.showAlpha?t("alpha-slider",{ref:"alpha",attrs:{color:e.color}}):e._e(),e.predefine?t("predefine",{attrs:{color:e.color,colors:e.predefine}}):e._e(),t("div",{staticClass:"el-color-dropdown__btns"},[t("span",{staticClass:"el-color-dropdown__value"},[t("el-input",{attrs:{"validate-event":!1,size:"mini"},on:{blur:e.handleConfirm},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleConfirm(t):null}},model:{value:e.customInput,callback:function(t){e.customInput=t},expression:"customInput"}})],1),t("el-button",{staticClass:"el-color-dropdown__link-btn",attrs:{size:"mini",type:"text"},on:{click:function(t){e.$emit("clear")}}},[e._v("\n        "+e._s(e.t("el.colorpicker.clear"))+"\n      ")]),t("el-button",{staticClass:"el-color-dropdown__btn",attrs:{plain:"",size:"mini"},on:{click:e.confirmValue}},[e._v("\n        "+e._s(e.t("el.colorpicker.confirm"))+"\n      ")])],1)],1)])}(Cs=r({name:"ElCascaderPanel",components:{CascaderMenu:Ts},props:{value:{},options:Array,props:Object,border:{type:Boolean,default:!0},renderLabel:Function},provide:function(){return{panel:this}},data:function(){return{checkedValue:null,checkedNodePaths:[],store:[],menus:[],activePath:[],loadCount:0}},computed:{config:function(){return W(Fs({},Bs),this.props||{})},multiple:function(){return this.config.multiple},checkStrictly:function(){return this.config.checkStrictly},leafOnly:function(){return!this.checkStrictly},isHoverMenu:function(){return"hover"===this.config.expandTrigger},renderLabelFn:function(){return this.renderLabel||this.$scopedSlots.default}},watch:{value:function(){this.syncCheckedValue(),this.checkStrictly&&this.calculateCheckedNodePaths()},options:{handler:function(){this.initStore()},immediate:!0,deep:!0},checkedValue:function(e){P(e,this.value)||(this.checkStrictly&&this.calculateCheckedNodePaths(),this.$emit("input",e),this.$emit("change",e))}},mounted:function(){this.isEmptyValue(this.value)||this.syncCheckedValue()},methods:{initStore:function(){var e=this.config,t=this.options;e.lazy&&k(t)?this.lazyLoad():(this.store=new Os(t,e),this.menus=[this.store.getNodes()],this.syncMenuState())},syncCheckedValue:function(){var e=this.value;P(e,this.checkedValue)||(this.activePath=[],this.checkedValue=e,this.syncMenuState())},syncMenuState:function(){var e=this.multiple,t=this.checkStrictly;this.syncActivePath(),e&&this.syncMultiCheckState(),t&&this.calculateCheckedNodePaths(),this.$nextTick(this.scrollIntoView)},syncMultiCheckState:function(){var e=this;this.getFlattedNodes(this.leafOnly).forEach((function(t){t.syncCheckState(e.checkedValue)}))},isEmptyValue:function(e){var t=this.multiple,n=this.config.emitPath;return!(!t&&!n)&&k(e)},syncActivePath:function(){var e=this,t=this.store,n=this.multiple,i=this.activePath,r=this.checkedValue;k(i)?this.isEmptyValue(r)?(this.activePath=[],this.menus=[t.getNodes()]):(t=n?r[0]:r,n=((this.getNodeByValue(t)||{}).pathNodes||[]).slice(0,-1),this.expandNodes(n)):(r=i.map((function(t){return e.getNodeByValue(t.getValue())})),this.expandNodes(r))},expandNodes:function(e){var t=this;e.forEach((function(e){return t.handleExpand(e,!0)}))},calculateCheckedNodePaths:function(){var e=this,t=this.checkedValue;t=this.multiple?C(t):[t];this.checkedNodePaths=t.map((function(t){return(t=e.getNodeByValue(t))?t.pathNodes:[]}))},handleKeyDown:function(e){var t,n=e.target;switch(e.keyCode){case zs.up:Ns(i=Is(n,-1));break;case zs.down:Ns(i=Is(n,1));break;case zs.left:var i;(i=this.$refs.menu[Rs(n)-1])&&Ns(i=i.$el.querySelector('.el-cascader-node[aria-expanded="true"]'));break;case zs.right:(i=this.$refs.menu[Rs(n)+1])&&Ns(i=i.$el.querySelector('.el-cascader-node[tabindex="-1"]'));break;case zs.enter:(i=n)&&((t=i.querySelector("input"))?t.click():Ds(i)&&i.click());break;case zs.esc:case zs.tab:this.$emit("close");break;default:return}},handleExpand:function(e,t){var n=this.activePath,i=e.level,r=n.slice(0,i-1);i=this.menus.slice(0,i);e.isLeaf||(r.push(e),i.push(e.children)),this.activePath=r,this.menus=i,t||(e=r.map((function(e){return e.getValue()})),i=n.map((function(e){return e.getValue()})),S(e,i))||(this.$emit("active-item-change",e),this.$emit("expand-change",e))},handleCheckChange:function(e){this.checkedValue=e},lazyLoad:function(e,t){var n=this,i=this.config;e||(e=e||{root:!0,level:0},this.store=new Os([],i),this.menus=[this.store.getNodes()]),e.loading=!0,i.lazyLoad(e,(function(i){var r,a,o,s=e.root?null:e;i&&i.length&&n.store.appendNodes(i,s),e.loading=!1,e.loaded=!0,Array.isArray(n.checkedValue)&&(r=n.checkedValue[n.loadCount++],a=n.config.value,s=n.config.leaf,Array.isArray(i))&&0<i.filter((function(e){return e[a]===r})).length&&((o=n.store.getNodeByValue(r)).data[s]||n.lazyLoad(o,(function(){n.handleExpand(o)})),n.loadCount===n.checkedValue.length)&&n.$parent.computePresentText(),t&&t(i)}))},calculateMultiCheckedValue:function(){this.checkedValue=this.getCheckedNodes(this.leafOnly).map((function(e){return e.getValueByOption()}))},scrollIntoView:function(){this.$isServer||(this.$refs.menu||[]).forEach((function(e){(e=e.$el)&&Xe(e.querySelector(".el-scrollbar__wrap"),e.querySelector(".el-cascader-node.is-active")||e.querySelector(".el-cascader-node.in-active-path"))}))},getNodeByValue:function(e){return this.store.getNodeByValue(e)},getFlattedNodes:function(e){var t=!this.config.lazy;return this.store.getFlattedNodes(e,t)},getCheckedNodes:function(e){var t=this.checkedValue;return this.multiple?this.getFlattedNodes(e).filter((function(e){return e.checked})):this.isEmptyValue(t)?[]:[this.getNodeByValue(t)]},clearCheckedNodes:function(){var e=this.config,t=this.leafOnly,n=e.multiple;e=e.emitPath;n?(this.getCheckedNodes(t).filter((function(e){return!e.isDisabled})).forEach((function(e){return e.doCheck(!1)})),this.calculateMultiCheckedValue()):this.checkedValue=e?[]:null}}},$o,[],!1,null,null,null)).options.__file="packages/cascader-panel/src/cascader-panel.vue";var Ys=Cs.exports,$s=(Ts=(Ys.install=function(e){e.component(Ys.name,Ys)},Ys),wt.keys),Zs={expandTrigger:{newProp:"expandTrigger",type:String},changeOnSelect:{newProp:"checkStrictly",type:Boolean},hoverThreshold:{newProp:"hoverThreshold",type:Number}},Qs=(Cs={props:{placement:{type:String,default:"bottom-start"},appendToBody:Te.props.appendToBody,visibleArrow:{type:Boolean,default:!0},arrowOffset:Te.props.arrowOffset,offset:Te.props.offset,boundariesPadding:Te.props.boundariesPadding,popperOptions:Te.props.popperOptions,transformOrigin:Te.props.transformOrigin},methods:Te.methods,data:Te.data,beforeDestroy:Te.beforeDestroy},{medium:36,small:32,mini:28}),Ks=((Cs=r({name:"ElCascader",directives:{Clickoutside:Be},mixins:[Cs,l,c,Gl],inject:{elForm:{default:""},elFormItem:{default:""}},components:{ElInput:Q,ElTag:ke,ElScrollbar:ze,ElCascaderPanel:Ts},props:{value:{},options:Array,props:Object,size:String,placeholder:{type:String,default:function(){return H("el.cascader.placeholder")}},disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:Function,separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,debounce:{type:Number,default:300},beforeFilter:{type:Function,default:function(){return function(){}}},popperClass:String},data:function(){return{dropDownVisible:!1,checkedValue:this.value,inputHover:!1,inputValue:null,presentText:null,presentTags:[],checkedNodes:[],filtering:!1,suggestions:[],inputInitialHeight:0,pressDeleteCount:0}},computed:{realSize:function(){var e=(this.elFormItem||{}).elFormItemSize;return this.size||e||(this.$ELEMENT||{}).size},tagSize:function(){return-1<["small","mini"].indexOf(this.realSize)?"mini":"small"},isDisabled:function(){return this.disabled||(this.elForm||{}).disabled},config:function(){var e=this.props||{},t=this.$attrs;return Object.keys(Zs).forEach((function(n){var i=(r=Zs[n]).newProp,r=r.type,a=t[n]||t[(a=/([^-])([A-Z])/g,n.replace(a,"$1-$2").replace(a,"$1-$2").toLowerCase())];X(n)&&!X(e[i])&&(r===Boolean&&""===a&&(a=!0),e[i]=a)})),e},multiple:function(){return this.config.multiple},leafOnly:function(){return!this.config.checkStrictly},readonly:function(){return!this.filterable||this.multiple},clearBtnVisible:function(){return!(!this.clearable||this.isDisabled||this.filtering||!this.inputHover||(this.multiple?!this.checkedNodes.filter((function(e){return!e.isDisabled})).length:!this.presentText))},panel:function(){return this.$refs.panel}},watch:{disabled:function(){this.computePresentContent()},value:function(e){P(e,this.checkedValue)||(this.checkedValue=e,this.computePresentContent())},checkedValue:function(e){var t=this.value,n=this.dropDownVisible,i=(r=this.config).checkStrictly,r=r.multiple;P(e,t)&&!m(t)||(this.computePresentContent(),r||i||!n||this.toggleDropDownVisible(!1),this.$emit("input",e),this.$emit("change",e),this.dispatch("ElFormItem","el.form.change",[e]))},options:{handler:function(){this.$nextTick(this.computePresentContent)},deep:!0},presentText:function(e){this.inputValue=e},presentTags:function(e,t){this.multiple&&(e.length||t.length)&&this.$nextTick(this.updateStyle)},filtering:function(e){this.$nextTick(this.updatePopper)}},mounted:function(){var e=this,t=this.$refs.input;t&&t.$el&&(this.inputInitialHeight=t.$el.offsetHeight||Qs[this.realSize]||40),this.isEmptyValue(this.value)||this.computePresentContent(),this.filterHandler=He()(this.debounce,(function(){var t=e.inputValue;t?(t=e.beforeFilter(t))&&t.then?t.then(e.getSuggestions):!1!==t?e.getSuggestions():e.filtering=!1:e.filtering=!1})),fe(this.$el,this.updateStyle)},beforeDestroy:function(){pe(this.$el,this.updateStyle)},methods:{getMigratingConfig:function(){return{props:{"expand-trigger":"expand-trigger is removed, use `props.expandTrigger` instead.","change-on-select":"change-on-select is removed, use `props.checkStrictly` instead.","hover-threshold":"hover-threshold is removed, use `props.hoverThreshold` instead"},events:{"active-item-change":"active-item-change is renamed to expand-change"}}},toggleDropDownVisible:function(e){var t,n,i=this;this.isDisabled||(t=this.dropDownVisible,n=this.$refs.input,(e=X(e)?e:!t)!==t&&((this.dropDownVisible=e)&&this.$nextTick((function(){i.updatePopper(),i.panel.scrollIntoView()})),n.$refs.input.setAttribute("aria-expanded",e),this.$emit("visible-change",e)))},handleDropdownLeave:function(){this.filtering=!1,this.inputValue=this.presentText,this.doDestroy()},handleKeyDown:function(e){switch(e.keyCode){case $s.enter:this.toggleDropDownVisible();break;case $s.down:this.toggleDropDownVisible(!0),this.focusFirstNode(),e.preventDefault();break;case $s.esc:case $s.tab:this.toggleDropDownVisible(!1)}},handleFocus:function(e){this.$emit("focus",e)},handleBlur:function(e){this.$emit("blur",e)},handleInput:function(e,t){this.dropDownVisible||this.toggleDropDownVisible(!0),t&&t.isComposing||(e?this.filterHandler():this.filtering=!1)},handleClear:function(){this.presentText="",this.panel.clearCheckedNodes()},handleExpandChange:function(e){this.$nextTick(this.updatePopper.bind(this)),this.$emit("expand-change",e),this.$emit("active-item-change",e)},focusFirstNode:function(){var e=this;this.$nextTick((function(){var t=e.filtering,n=(i=e.$refs).popper,i=i.suggestionPanel,r=null;(r=t&&i?i.$el.querySelector(".el-cascader__suggestion-item"):n.querySelector(".el-cascader-menu").querySelector('.el-cascader-node[tabindex="-1"]'))&&(r.focus(),!t)&&r.click()}))},computePresentContent:function(){var e=this;this.$nextTick((function(){e.config.multiple?(e.computePresentTags(),e.presentText=e.presentTags.length?" ":null):e.computePresentText()}))},isEmptyValue:function(e){var t=this.multiple,n=this.panel.config.emitPath;return!(!t&&!n)&&k(e)},computePresentText:function(){var e=this.checkedValue,t=this.config;this.isEmptyValue(e)||!(e=this.panel.getNodeByValue(e))||!t.checkStrictly&&!e.isLeaf?this.presentText=null:this.presentText=e.getText(this.showAllLevels,this.separator)},computePresentTags:function(){function e(e){return{node:e,key:e.uid,text:e.getText(o,s),hitState:!1,closable:!r&&!e.isDisabled}}var t,n,i,r=this.isDisabled,a=this.leafOnly,o=this.showAllLevels,s=this.separator,l=this.collapseTags,c=(a=this.getCheckedNodes(a),[]);a.length&&(t=a[0],i=(n=a.slice(1)).length,c.push(e(t)),i)&&(l?c.push({key:-1,text:"+ "+i,closable:!1}):n.forEach((function(t){return c.push(e(t))}))),this.checkedNodes=a,this.presentTags=c},getSuggestions:function(){var e=this,t=this.filterMethod,n=(v(t)||(t=function(e,t){return e.text.includes(t)}),this.panel.getFlattedNodes(this.leafOnly).filter((function(n){return!n.isDisabled&&(n.text=n.getText(e.showAllLevels,e.separator)||"",t(n,e.inputValue))})));this.multiple?this.presentTags.forEach((function(e){e.hitState=!1})):n.forEach((function(t){t.checked=P(e.checkedValue,t.getValueByOption())})),this.filtering=!0,this.suggestions=n,this.$nextTick(this.updatePopper)},handleSuggestionKeyDown:function(e){var t=e.keyCode,n=e.target;switch(t){case $s.enter:n.click();break;case $s.up:var i=n.previousElementSibling;i&&i.focus();break;case $s.down:(i=n.nextElementSibling)&&i.focus();break;case $s.esc:case $s.tab:this.toggleDropDownVisible(!1)}},handleDelete:function(){var e=this.inputValue,t=this.pressDeleteCount,n=(n=this.presentTags)[n.length-1];this.pressDeleteCount=e?0:t+1,n&&this.pressDeleteCount&&(n.hitState?this.deleteTag(n):n.hitState=!0)},handleSuggestionClick:function(e){var t=this.multiple;e=this.suggestions[e];t?(t=e.checked,e.doCheck(!t),this.panel.calculateMultiCheckedValue()):(this.checkedValue=e.getValueByOption(),this.toggleDropDownVisible(!1))},deleteTag:function(e){var t=this.checkedValue,n=e.node.getValueByOption();e=t.find((function(e){return P(e,n)}));this.checkedValue=t.filter((function(e){return!P(e,n)})),this.$emit("remove-tag",e)},updateStyle:function(){var e,t,n,i=this.$el,r=this.inputInitialHeight;!this.$isServer&&i&&(t=this.$refs.suggestionPanel,e=i.querySelector(".el-input__inner"))&&(i=i.querySelector(".el-cascader__tags"),n=null,t&&(n=t.$el)&&(n.querySelector(".el-cascader__suggestion-list").style.minWidth=e.offsetWidth+"px"),i)&&(t=Math.round(i.getBoundingClientRect().height),n=Math.max(t+6,r)+"px",e.style.height=n,this.dropDownVisible)&&this.updatePopper()},getCheckedNodes:function(e){return this.panel.getCheckedNodes(e)}}},Yo,[],!1,null,null,null)).options.__file="packages/cascader/src/cascader.vue",Cs.exports),Js=(Cs=(Ks.install=function(e){e.component(Ks.name,Ks)},Ks),Us._withStripped=!0,"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}),el={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},tl={A:10,B:11,C:12,D:13,E:14,F:15},nl=(il.prototype.set=function(e,t){if(1!==arguments.length||"object"!==(void 0===e?"undefined":Js(e)))this["_"+e]=t,this.doOnChange();else for(var n in e)e.hasOwnProperty(n)&&this.set(n,e[n])},il.prototype.get=function(e){return this["_"+e]},il.prototype.toRgb=function(){return Xs(this._hue,this._saturation,this._value)},il.prototype.fromString=function(e){var t,n,i,r,a,o,s,l=this;e?(n=function(e,t,n){l._hue=Math.max(0,Math.min(360,e)),l._saturation=Math.max(0,Math.min(100,t)),l._value=Math.max(0,Math.min(100,n)),l.doOnChange()},-1!==e.indexOf("hsl")?(4===(a=e.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter((function(e){return""!==e})).map((function(e,t){return 2<t?parseFloat(e):parseInt(e,10)}))).length?this._alpha=Math.floor(100*parseFloat(a[3])):3===a.length&&(this._alpha=100),3<=a.length&&(i=a[0],r=a[1],a=a[2],a/=100,o=r/=100,s=Math.max(a,.01),r*=(a*=2)<=1?a:2-a,o*=s<=1?s:2-s,n((i={h:i,s:100*(0==a?2*o/(s+o):2*r/(a+r)),v:(a+r)/2*100}).h,i.s,i.v))):-1!==e.indexOf("hsv")?(4===(s=e.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter((function(e){return""!==e})).map((function(e,t){return 2<t?parseFloat(e):parseInt(e,10)}))).length?this._alpha=Math.floor(100*parseFloat(s[3])):3===s.length&&(this._alpha=100),3<=s.length&&n(s[0],s[1],s[2])):-1!==e.indexOf("rgb")?(4===(o=e.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter((function(e){return""!==e})).map((function(e,t){return 2<t?parseFloat(e):parseInt(e,10)}))).length?this._alpha=Math.floor(100*parseFloat(o[3])):3===o.length&&(this._alpha=100),3<=o.length&&n((a=Ws(o[0],o[1],o[2])).h,a.s,a.v)):-1!==e.indexOf("#")&&(r=e.replace("#","").trim(),/^(?:[0-9a-fA-F]{3}){1,2}|[0-9a-fA-F]{8}$/.test(r))&&(t=e=i=void 0,3===r.length?(i=js(r[0]+r[0]),e=js(r[1]+r[1]),t=js(r[2]+r[2])):6!==r.length&&8!==r.length||(i=js(r.substring(0,2)),e=js(r.substring(2,4)),t=js(r.substring(4,6))),8===r.length?this._alpha=Math.floor(js(r.substring(6))/255*100):3!==r.length&&6!==r.length||(this._alpha=100),n((n=Ws(i,e,t)).h,n.s,n.v))):(this._hue=0,this._saturation=100,this._value=100,this.doOnChange())},il.prototype.compare=function(e){return Math.abs(e._hue-this._hue)<2&&Math.abs(e._saturation-this._saturation)<1&&Math.abs(e._value-this._value)<1&&Math.abs(e._alpha-this._alpha)<1},il.prototype.doOnChange=function(){var e=this._hue,t=this._saturation,n=this._value,i=this._alpha,r=this.format;if(this.enableAlpha)switch(r){case"hsl":var a=Vs(e,t/100,n/100);this.value="hsla("+e+", "+Math.round(100*a[1])+"%, "+Math.round(100*a[2])+"%, "+i/100+")";break;case"hsv":this.value="hsva("+e+", "+Math.round(t)+"%, "+Math.round(n)+"%, "+i/100+")";break;default:var o=(a=Xs(e,t,n)).r,s=a.g;a=a.b;this.value="rgba("+o+", "+s+", "+a+", "+i/100+")"}else switch(r){case"hsl":var l=Vs(e,t/100,n/100);this.value="hsl("+e+", "+Math.round(100*l[1])+"%, "+Math.round(100*l[2])+"%)";break;case"hsv":this.value="hsv("+e+", "+Math.round(t)+"%, "+Math.round(n)+"%)";break;case"rgb":var c=(l=Xs(e,t,n)).r,u=l.g;l=l.b;this.value="rgb("+c+", "+u+", "+l+")";break;default:this.value=(u=(c=Xs(e,t,n)).r,l=c.g,c=c.b,isNaN(u)||isNaN(l)||isNaN(c)?"":"#"+h(u)+h(l)+h(c))}function h(e){e=Math.min(Math.round(e),255);var t=Math.floor(e/16);return""+(el[t]||t)+(el[e=e%16]||e)}},il);function il(e){if(!(this instanceof il))throw new TypeError("Cannot call a class as a function");for(var t in this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="",e=e||{})e.hasOwnProperty(t)&&(this[t]=e[t]);this.doOnChange()}function rl(){var e=this.$createElement;return(e=this._self._c||e)("div",{staticClass:"el-color-svpanel",style:{backgroundColor:this.background}},[e("div",{staticClass:"el-color-svpanel__white"}),e("div",{staticClass:"el-color-svpanel__black"}),e("div",{staticClass:"el-color-svpanel__cursor",style:{top:this.cursorTop+"px",left:this.cursorLeft+"px"}},[e("div")])])}function al(e,t){var n,i;u.a.prototype.$isServer||(n=function(e){t.drag&&t.drag(e)},i=function e(i){document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",e),document.onselectstart=null,document.ondragstart=null,Nl=!1,t.end&&t.end(i)},e.addEventListener("mousedown",(function(e){Nl||(document.onselectstart=function(){return!1},document.ondragstart=function(){return!1},document.addEventListener("mousemove",n),document.addEventListener("mouseup",i),Nl=!0,t.start&&t.start(e))})))}function ol(){var e=this.$createElement;return(e=this._self._c||e)("div",{staticClass:"el-color-hue-slider",class:{"is-vertical":this.vertical}},[e("div",{ref:"bar",staticClass:"el-color-hue-slider__bar",on:{click:this.handleClick}}),e("div",{ref:"thumb",staticClass:"el-color-hue-slider__thumb",style:{left:this.thumbLeft+"px",top:this.thumbTop+"px"}})])}function sl(){var e=this.$createElement;return(e=this._self._c||e)("div",{staticClass:"el-color-alpha-slider",class:{"is-vertical":this.vertical}},[e("div",{ref:"bar",staticClass:"el-color-alpha-slider__bar",style:{background:this.background},on:{click:this.handleClick}}),e("div",{ref:"thumb",staticClass:"el-color-alpha-slider__thumb",style:{left:this.thumbLeft+"px",top:this.thumbTop+"px"}})])}function ll(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"el-color-predefine"},[n("div",{staticClass:"el-color-predefine__colors"},e._l(e.rgbaColors,(function(t,i){return n("div",{key:e.colors[i],staticClass:"el-color-predefine__color-selector",class:{selected:t.selected,"is-alpha":t._alpha<100},on:{click:function(t){e.handleSelect(i)}}},[n("div",{style:{"background-color":t.value}})])})),0)])}function cl(){var e=this,t=e.$createElement;return(t=e._self._c||t)("div",{staticClass:"el-transfer"},[t("transfer-panel",e._b({ref:"leftPanel",attrs:{data:e.sourceData,title:e.titles[0]||e.t("el.transfer.titles.0"),"default-checked":e.leftDefaultChecked,placeholder:e.filterPlaceholder||e.t("el.transfer.filterPlaceholder")},on:{"checked-change":e.onSourceCheckedChange}},"transfer-panel",e.$props,!1),[e._t("left-footer")],2),t("div",{staticClass:"el-transfer__buttons"},[t("el-button",{class:["el-transfer__button",e.hasButtonTexts?"is-with-texts":""],attrs:{type:"primary",disabled:0===e.rightChecked.length},nativeOn:{click:function(t){return e.addToLeft(t)}}},[t("i",{staticClass:"el-icon-arrow-left"}),void 0!==e.buttonTexts[0]?t("span",[e._v(e._s(e.buttonTexts[0]))]):e._e()]),t("el-button",{class:["el-transfer__button",e.hasButtonTexts?"is-with-texts":""],attrs:{type:"primary",disabled:0===e.leftChecked.length},nativeOn:{click:function(t){return e.addToRight(t)}}},[void 0!==e.buttonTexts[1]?t("span",[e._v(e._s(e.buttonTexts[1]))]):e._e(),t("i",{staticClass:"el-icon-arrow-right"})])],1),t("transfer-panel",e._b({ref:"rightPanel",attrs:{data:e.targetData,title:e.titles[1]||e.t("el.transfer.titles.1"),"default-checked":e.rightDefaultChecked,placeholder:e.filterPlaceholder||e.t("el.transfer.filterPlaceholder")},on:{"checked-change":e.onTargetCheckedChange}},"transfer-panel",e.$props,!1),[e._t("right-footer")],2)],1)}function ul(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"el-transfer-panel"},[n("p",{staticClass:"el-transfer-panel__header"},[n("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleAllCheckedChange},model:{value:e.allChecked,callback:function(t){e.allChecked=t},expression:"allChecked"}},[e._v("\n      "+e._s(e.title)+"\n      "),n("span",[e._v(e._s(e.checkedSummary))])])],1),n("div",{class:["el-transfer-panel__body",e.hasFooter?"is-with-footer":""]},[e.filterable?n("el-input",{staticClass:"el-transfer-panel__filter",attrs:{size:"small",placeholder:e.placeholder},nativeOn:{mouseenter:function(t){e.inputHover=!0},mouseleave:function(t){e.inputHover=!1}},model:{value:e.query,callback:function(t){e.query=t},expression:"query"}},[n("i",{class:["el-input__icon","el-icon-"+e.inputIcon],attrs:{slot:"prefix"},on:{click:e.clearQuery},slot:"prefix"})]):e._e(),n("el-checkbox-group",{directives:[{name:"show",rawName:"v-show",value:!e.hasNoMatch&&0<e.data.length,expression:"!hasNoMatch && data.length > 0"}],staticClass:"el-transfer-panel__list",class:{"is-filterable":e.filterable},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},e._l(e.filteredData,(function(t){return n("el-checkbox",{key:t[e.keyProp],staticClass:"el-transfer-panel__item",attrs:{label:t[e.keyProp],disabled:t[e.disabledProp]}},[n("option-content",{attrs:{option:t}})],1)})),1),n("p",{directives:[{name:"show",rawName:"v-show",value:e.hasNoMatch,expression:"hasNoMatch"}],staticClass:"el-transfer-panel__empty"},[e._v(e._s(e.t("el.transfer.noMatch")))]),n("p",{directives:[{name:"show",rawName:"v-show",value:0===e.data.length&&!e.hasNoMatch,expression:"data.length === 0 && !hasNoMatch"}],staticClass:"el-transfer-panel__empty"},[e._v(e._s(e.t("el.transfer.noData")))])],1),e.hasFooter?n("p",{staticClass:"el-transfer-panel__footer"},[e._t("default")],2):e._e()])}function hl(){var e=this.$createElement;return(this._self._c||e)("section",{staticClass:"el-container",class:{"is-vertical":this.isVertical}},[this._t("default")],2)}function dl(){var e=this.$createElement;return(this._self._c||e)("header",{staticClass:"el-header",style:{height:this.height}},[this._t("default")],2)}function fl(){var e=this.$createElement;return(this._self._c||e)("aside",{staticClass:"el-aside",style:{width:this.width}},[this._t("default")],2)}function pl(){var e=this.$createElement;return(this._self._c||e)("main",{staticClass:"el-main"},[this._t("default")],2)}function ml(){var e=this.$createElement;return(this._self._c||e)("footer",{staticClass:"el-footer",style:{height:this.height}},[this._t("default")],2)}function vl(){var e=this,t=e.$createElement;return(t=e._self._c||t)("li",{staticClass:"el-timeline-item"},[t("div",{staticClass:"el-timeline-item__tail"}),e.$slots.dot?e._e():t("div",{staticClass:"el-timeline-item__node",class:["el-timeline-item__node--"+(e.size||""),"el-timeline-item__node--"+(e.type||"")],style:{backgroundColor:e.color}},[e.icon?t("i",{staticClass:"el-timeline-item__icon",class:e.icon}):e._e()]),e.$slots.dot?t("div",{staticClass:"el-timeline-item__dot"},[e._t("dot")],2):e._e(),t("div",{staticClass:"el-timeline-item__wrapper"},[e.hideTimestamp||"top"!==e.placement?e._e():t("div",{staticClass:"el-timeline-item__timestamp is-top"},[e._v("\n      "+e._s(e.timestamp)+"\n    ")]),t("div",{staticClass:"el-timeline-item__content"},[e._t("default")],2),e.hideTimestamp||"bottom"!==e.placement?e._e():t("div",{staticClass:"el-timeline-item__timestamp is-bottom"},[e._v("\n      "+e._s(e.timestamp)+"\n    ")])])])}function gl(){var e=this,t=e.$createElement;return(t=e._self._c||t)("a",e._b({class:["el-link",e.type?"el-link--"+e.type:"",e.disabled&&"is-disabled",e.underline&&!e.disabled&&"is-underline"],attrs:{href:e.disabled?null:e.href},on:{click:e.handleClick}},"a",e.$attrs,!1),[e.icon?t("i",{class:e.icon}):e._e(),e.$slots.default?t("span",{staticClass:"el-link--inner"},[e._t("default")],2):e._e(),e.$slots.icon?[e.$slots.icon?e._t("icon"):e._e()]:e._e()],2)}function yl(e,t){var n=t._c;return n("div",t._g(t._b({class:[t.data.staticClass,"el-divider","el-divider--"+t.props.direction]},"div",t.data.attrs,!1),t.listeners),[t.slots().default&&"vertical"!==t.props.direction?n("div",{class:["el-divider__text","is-"+t.props.contentPosition]},[t._t("default")],2):t._e()])}function xl(){var e=this,t=e.$createElement;return(t=e._self._c||t)("div",{staticClass:"el-image"},[e.loading?e._t("placeholder",[t("div",{staticClass:"el-image__placeholder"})]):e.error?e._t("error",[t("div",{staticClass:"el-image__error"},[e._v(e._s(e.t("el.image.error")))])]):t("img",e._g(e._b({staticClass:"el-image__inner",class:{"el-image__inner--center":e.alignCenter,"el-image__preview":e.preview},style:e.imageStyle,attrs:{src:e.src},on:{click:e.clickHandler}},"img",e.$attrs,!1),e.$listeners)),e.preview?[e.showViewer?t("image-viewer",{attrs:{"z-index":e.zIndex,"initial-index":e.imageIndex,"on-close":e.closeViewer,"url-list":e.previewSrcList}}):e._e()]:e._e()],2)}function bl(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"viewer-fade"}},[n("div",{ref:"el-image-viewer__wrapper",staticClass:"el-image-viewer__wrapper",style:{"z-index":e.viewerZIndex},attrs:{tabindex:"-1"}},[n("div",{staticClass:"el-image-viewer__mask",on:{click:function(t){return t.target!==t.currentTarget?null:e.handleMaskClick(t)}}}),n("span",{staticClass:"el-image-viewer__btn el-image-viewer__close",on:{click:e.hide}},[n("i",{staticClass:"el-icon-close"})]),e.isSingle?e._e():[n("span",{staticClass:"el-image-viewer__btn el-image-viewer__prev",class:{"is-disabled":!e.infinite&&e.isFirst},on:{click:e.prev}},[n("i",{staticClass:"el-icon-arrow-left"})]),n("span",{staticClass:"el-image-viewer__btn el-image-viewer__next",class:{"is-disabled":!e.infinite&&e.isLast},on:{click:e.next}},[n("i",{staticClass:"el-icon-arrow-right"})])],n("div",{staticClass:"el-image-viewer__btn el-image-viewer__actions"},[n("div",{staticClass:"el-image-viewer__actions__inner"},[n("i",{staticClass:"el-icon-zoom-out",on:{click:function(t){e.handleActions("zoomOut")}}}),n("i",{staticClass:"el-icon-zoom-in",on:{click:function(t){e.handleActions("zoomIn")}}}),n("i",{staticClass:"el-image-viewer__actions__divider"}),n("i",{class:e.mode.icon,on:{click:e.toggleMode}}),n("i",{staticClass:"el-image-viewer__actions__divider"}),n("i",{staticClass:"el-icon-refresh-left",on:{click:function(t){e.handleActions("anticlocelise")}}}),n("i",{staticClass:"el-icon-refresh-right",on:{click:function(t){e.handleActions("clocelise")}}})])]),n("div",{staticClass:"el-image-viewer__canvas"},e._l(e.urlList,(function(t,i){return i===e.index?n("img",{key:t,ref:"img",refInFor:!0,staticClass:"el-image-viewer__img",style:e.imgStyle,attrs:{src:e.currentImg},on:{load:e.handleImgLoad,error:e.handleImgError,mousedown:e.handleMouseDown}}):e._e()})),0)],2)])}function wl(){return void 0!==document.documentElement.style.objectFit}function _l(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"el-calendar"},[n("div",{staticClass:"el-calendar__header"},[n("div",{staticClass:"el-calendar__title"},[e._v("\n      "+e._s(e.i18nDate)+"\n    ")]),0===e.validatedRange.length?n("div",{staticClass:"el-calendar__button-group"},[n("el-button-group",[n("el-button",{attrs:{type:"plain",size:"mini"},on:{click:function(t){e.selectDate("prev-month")}}},[e._v("\n          "+e._s(e.t("el.datepicker.prevMonth"))+"\n        ")]),n("el-button",{attrs:{type:"plain",size:"mini"},on:{click:function(t){e.selectDate("today")}}},[e._v("\n          "+e._s(e.t("el.datepicker.today"))+"\n        ")]),n("el-button",{attrs:{type:"plain",size:"mini"},on:{click:function(t){e.selectDate("next-month")}}},[e._v("\n          "+e._s(e.t("el.datepicker.nextMonth"))+"\n        ")])],1)],1):e._e()]),0===e.validatedRange.length?n("div",{key:"no-range",staticClass:"el-calendar__body"},[n("date-table",{attrs:{date:e.date,"selected-day":e.realSelectedDay,"first-day-of-week":e.realFirstDayOfWeek},on:{pick:e.pickDay}})],1):n("div",{key:"has-range",staticClass:"el-calendar__body"},e._l(e.validatedRange,(function(t,i){return n("date-table",{key:i,attrs:{date:t[0],"selected-day":e.realSelectedDay,range:t,"hide-header":0!==i,"first-day-of-week":e.realFirstDayOfWeek},on:{pick:e.pickDay}})})),1)])}function Ml(){var e=this,t=e.$createElement;return(t=e._self._c||t)("transition",{attrs:{name:"el-fade-in"}},[e.visible?t("div",{staticClass:"el-backtop",style:{right:e.styleRight,bottom:e.styleBottom},on:{click:function(t){return t.stopPropagation(),e.handleClick(t)}}},[e._t("default",[t("el-icon",{attrs:{name:"caret-top"}})])],2):e._e()])}function Sl(e){return Math.pow(e,3)}function El(e){return pc(e,"offsetHeight")}function Tl(e,t){return p(e)?(n=vc,Object.keys(n).map((function(e){return[e,n[e]]})).reduce((function(n,i){var r=i[0],a=(i=i[1]).type,o=i.default,s=e.getAttribute("infinite-scroll-"+r);s=m(t[s])?s:t[s];switch(a){case Number:s=Number(s),s=Number.isNaN(s)?o:s;break;case Boolean:s=null!=s?"false"!==s&&Boolean(s):o;break;default:s=a(s)}return n[r]=s,n}),{})):{};var n}function Cl(e){return e.getBoundingClientRect().top}function Al(){var e=this,t=e.$createElement;return(t=e._self._c||t)("div",{staticClass:"el-page-header"},[t("div",{staticClass:"el-page-header__left",on:{click:function(t){e.$emit("back")}}},[t("i",{staticClass:"el-icon-back"}),t("div",{staticClass:"el-page-header__title"},[e._t("title",[e._v(e._s(e.title))])],2)]),t("div",{staticClass:"el-page-header__content"},[e._t("content",[e._v(e._s(e.content))])],2)])}function Ll(){var e=this,t=e.$createElement;return(t=e._self._c||t)("transition",{attrs:{name:"el-drawer-fade"},on:{"after-enter":e.afterEnter,"after-leave":e.afterLeave}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-drawer__wrapper",attrs:{tabindex:"-1"}},[t("div",{staticClass:"el-drawer__container",class:e.visible&&"el-drawer__open",attrs:{role:"document",tabindex:"-1"},on:{click:function(t){return t.target!==t.currentTarget?null:e.handleWrapperClick(t)}}},[t("div",{ref:"drawer",staticClass:"el-drawer",class:[e.direction,e.customClass],style:e.isHorizontal?"width: "+e.drawerSize:"height: "+e.drawerSize,attrs:{"aria-modal":"true","aria-labelledby":"el-drawer__title","aria-label":e.title,role:"dialog",tabindex:"-1"}},[e.withHeader?t("header",{staticClass:"el-drawer__header",attrs:{id:"el-drawer__title"}},[e._t("title",[t("span",{attrs:{role:"heading",title:e.title}},[e._v(e._s(e.title))])]),e.showClose?t("button",{staticClass:"el-drawer__close-btn",attrs:{"aria-label":"close "+(e.title||"drawer"),type:"button"},on:{click:e.closeDrawer}},[t("i",{staticClass:"el-dialog__close el-icon el-icon-close"})]):e._e()],2):e._e(),e.rendered?t("section",{staticClass:"el-drawer__body"},[e._t("default")],2):e._e()])])])])}function Pl(){var e=this,t=e.$createElement;return(t=e._self._c||t)("div",{staticClass:"el-statistic"},[t("div",{staticClass:"head"},[e._t("title",[t("span",{staticClass:"title"},[e._v("\n        "+e._s(e.title)+"\n      ")])])],2),t("div",{staticClass:"con"},[t("span",{staticClass:"prefix"},[e._t("prefix",[e._v("\n        "+e._s(e.prefix)+"\n      ")])],2),t("span",{staticClass:"number",style:e.valueStyle},[e._t("formatter",[e._v(" "+e._s(e.disposeValue))])],2),t("span",{staticClass:"suffix"},[e._t("suffix",[e._v("\n        "+e._s(e.suffix)+"\n      ")])],2)])])}function kl(){var e=this,t=e.$createElement;return(t=e._self._c||t)("el-popover",e._b({attrs:{trigger:"click"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},"el-popover",e.$attrs,!1),[t("div",{staticClass:"el-popconfirm"},[t("p",{staticClass:"el-popconfirm__main"},[e.hideIcon?e._e():t("i",{staticClass:"el-popconfirm__icon",class:e.icon,style:{color:e.iconColor}}),e._v("\n      "+e._s(e.title)+"\n    ")]),t("div",{staticClass:"el-popconfirm__action"},[t("el-button",{attrs:{size:"mini",type:e.cancelButtonType},on:{click:e.cancel}},[e._v("\n        "+e._s(e.displayCancelButtonText)+"\n      ")]),t("el-button",{attrs:{size:"mini",type:e.confirmButtonType},on:{click:e.confirm}},[e._v("\n        "+e._s(e.displayConfirmButtonText)+"\n      ")])],1)]),e._t("reference",null,{slot:"reference"})],2)}function Dl(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.uiLoading?[n("div",e._b({class:["el-skeleton",e.animated?"is-animated":""]},"div",e.$attrs,!1),[e._l(e.count,(function(t){return[e.loading?e._t("template",e._l(e.rows,(function(i){return n("el-skeleton-item",{key:t+"-"+i,class:{"el-skeleton__paragraph":1!==i,"is-first":1===i,"is-last":i===e.rows&&1<e.rows},attrs:{variant:"p"}})}))):e._e()]}))],2)]:[e._t("default",null,null,e.$attrs)]],2)}function Il(){var e=this.$createElement;return(e=this._self._c||e)("div",{class:["el-skeleton__item","el-skeleton__"+this.variant]},["image"===this.variant?e("img-placeholder"):this._e()],1)}function Rl(){var e=this.$createElement;return(e=this._self._c||e)("svg",{attrs:{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M64 896V128h896v768H64z m64-128l192-192 116.352 116.352L640 448l256 307.2V192H128v576z m224-480a96 96 0 1 1-0.064 192.064A96 96 0 0 1 352 288z"}})])}var Nl=!(rl._withStripped=qs._withStripped=!0),Ol=((Ol=r({name:"el-sl-panel",props:{color:{required:!0}},computed:{colorValue:function(){return{hue:this.color.get("hue"),value:this.color.get("value")}}},watch:{colorValue:function(){this.update()}},methods:{update:function(){var e=this.color.get("saturation"),t=this.color.get("value"),n=(i=this.$el).clientWidth,i=i.clientHeight;this.cursorLeft=e*n/100,this.cursorTop=(100-t)*i/100,this.background="hsl("+this.color.get("hue")+", 100%, 50%)"},handleDrag:function(e){var t=this.$el.getBoundingClientRect(),n=e.clientX-t.left;e=e.clientY-t.top,n=Math.max(0,n);n=Math.min(n,t.width),e=Math.max(0,e),e=Math.min(e,t.height),this.cursorLeft=n,this.cursorTop=e,this.color.set({saturation:n/t.width*100,value:100-e/t.height*100})}},mounted:function(){var e=this;al(this.$el,{drag:function(t){e.handleDrag(t)},end:function(t){e.handleDrag(t)}}),this.update()},data:function(){return{cursorTop:0,cursorLeft:0,background:"hsl(0, 100%, 50%)"}}},rl,[],!1,null,null,null)).options.__file="packages/color-picker/src/components/sv-panel.vue",Ol.exports),Fl=((Fl=r({name:"el-color-hue-slider",props:{color:{required:ol._withStripped=!0},vertical:Boolean},data:function(){return{thumbLeft:0,thumbTop:0}},computed:{hueValue:function(){return this.color.get("hue")}},watch:{hueValue:function(){this.update()}},methods:{handleClick:function(e){var t=this.$refs.thumb;e.target!==t&&this.handleDrag(e)},handleDrag:function(e){var t,n=this.$el.getBoundingClientRect(),i=this.$refs.thumb,r=this.vertical?(t=e.clientY-n.top,t=Math.min(t,n.height-i.offsetHeight/2),t=Math.max(i.offsetHeight/2,t),Math.round((t-i.offsetHeight/2)/(n.height-i.offsetHeight)*360)):(t=e.clientX-n.left,t=Math.min(t,n.width-i.offsetWidth/2),t=Math.max(i.offsetWidth/2,t),Math.round((t-i.offsetWidth/2)/(n.width-i.offsetWidth)*360));this.color.set("hue",r)},getThumbLeft:function(){var e,t,n;return!this.vertical&&(e=this.$el,t=this.color.get("hue"),e)?(n=this.$refs.thumb,Math.round(t*(e.offsetWidth-n.offsetWidth/2)/360)):0},getThumbTop:function(){var e,t,n;return this.vertical&&(e=this.$el,t=this.color.get("hue"),e)?(n=this.$refs.thumb,Math.round(t*(e.offsetHeight-n.offsetHeight/2)/360)):0},update:function(){this.thumbLeft=this.getThumbLeft(),this.thumbTop=this.getThumbTop()}},mounted:function(){var e=this,t=(n=this.$refs).bar,n=n.thumb,i={drag:function(t){e.handleDrag(t)},end:function(t){e.handleDrag(t)}};al(t,i),al(n,i),this.update()}},ol,[],!1,null,null,null)).options.__file="packages/color-picker/src/components/hue-slider.vue",Fl.exports),zl=((zl=r({name:"el-color-alpha-slider",props:{color:{required:sl._withStripped=!0},vertical:Boolean},watch:{"color._alpha":function(){this.update()},"color.value":function(){this.update()}},methods:{handleClick:function(e){var t=this.$refs.thumb;e.target!==t&&this.handleDrag(e)},handleDrag:function(e){var t,n=this.$el.getBoundingClientRect(),i=this.$refs.thumb;this.vertical?(t=e.clientY-n.top,t=Math.max(i.offsetHeight/2,t),t=Math.min(t,n.height-i.offsetHeight/2),this.color.set("alpha",Math.round((t-i.offsetHeight/2)/(n.height-i.offsetHeight)*100))):(t=e.clientX-n.left,t=Math.max(i.offsetWidth/2,t),t=Math.min(t,n.width-i.offsetWidth/2),this.color.set("alpha",Math.round((t-i.offsetWidth/2)/(n.width-i.offsetWidth)*100)))},getThumbLeft:function(){var e,t,n;return!this.vertical&&(e=this.$el,t=this.color._alpha,e)?(n=this.$refs.thumb,Math.round(t*(e.offsetWidth-n.offsetWidth/2)/100)):0},getThumbTop:function(){var e,t,n;return this.vertical&&(e=this.$el,t=this.color._alpha,e)?(n=this.$refs.thumb,Math.round(t*(e.offsetHeight-n.offsetHeight/2)/100)):0},getBackground:function(){var e,t,n;return this.color&&this.color.value?"linear-gradient(to right, rgba("+(e=(n=this.color.toRgb()).r)+", "+(t=n.g)+", "+(n=n.b)+", 0) 0%, rgba("+e+", "+t+", "+n+", 1) 100%)":null},update:function(){this.thumbLeft=this.getThumbLeft(),this.thumbTop=this.getThumbTop(),this.background=this.getBackground()}},data:function(){return{thumbLeft:0,thumbTop:0,background:null}},mounted:function(){var e=this,t=(n=this.$refs).bar,n=n.thumb,i={drag:function(t){e.handleDrag(t)},end:function(t){e.handleDrag(t)}};al(t,i),al(n,i),this.update()}},sl,[],!1,null,null,null)).options.__file="packages/color-picker/src/components/alpha-slider.vue",zl.exports),Bl=((Bl=(ll._withStripped=!0,r({props:{colors:{type:Array,required:!0},color:{required:!0}},data:function(){return{rgbaColors:this.parseColors(this.colors,this.color)}},methods:{handleSelect:function(e){this.color.fromString(this.colors[e])},parseColors:function(e,t){return e.map((function(e){var n=new nl;return n.enableAlpha=!0,n.format="rgba",n.fromString(e),n.selected=n.value===t.value,n}))}},watch:{"$parent.currentColor":function(e){var t=new nl;t.fromString(e),this.rgbaColors.forEach((function(e){e.selected=t.compare(e)}))},colors:function(e){this.rgbaColors=this.parseColors(e,this.color)},color:function(e){this.rgbaColors=this.parseColors(this.colors,e)}}},ll,[],!1,null,null,null))).options.__file="packages/color-picker/src/components/predefine.vue",Bl.exports),Hl=(Fl=((Ol=r({name:"el-color-picker-dropdown",mixins:[Te,c],components:{SvPanel:Ol,HueSlider:Fl,AlphaSlider:zl,ElInput:Q,ElButton:dt,Predefine:Bl},props:{color:{required:!0},showAlpha:Boolean,predefine:Array},data:function(){return{customInput:""}},computed:{currentColor:function(){var e=this.$parent;return e.value||e.showPanelColor?e.color.value:""}},methods:{confirmValue:function(){this.$emit("pick")},handleConfirm:function(){this.color.fromString(this.customInput)}},mounted:function(){this.$parent.popperElm=this.popperElm=this.$el,this.referenceElm=this.$parent.$el},watch:{showPopper:function(e){var t=this;!0===e&&this.$nextTick((function(){var e=(i=t.$refs).sl,n=i.hue,i=i.alpha;e&&e.update(),n&&n.update(),i&&i.update()}))},currentColor:{immediate:!0,handler:function(e){this.customInput=e}}}},qs,[],!1,null,null,null)).options.__file="packages/color-picker/src/components/picker-dropdown.vue",Ol.exports),(zl=r({name:"ElColorPicker",mixins:[l],props:{value:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:String,popperClass:String,predefine:Array},inject:{elForm:{default:""},elFormItem:{default:""}},directives:{Clickoutside:Be},computed:{displayedColor:function(){return this.value||this.showPanelColor?this.displayedRgb(this.color,this.showAlpha):"transparent"},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},colorSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},colorDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},watch:{value:function(e){e?e!==this.color.value&&this.color.fromString(e):this.showPanelColor=!1},color:{deep:!0,handler:function(){this.showPanelColor=!0}},displayedColor:function(e){var t;this.showPicker&&((t=new nl({enableAlpha:this.showAlpha,format:this.colorFormat})).fromString(this.value),e!==this.displayedRgb(t,this.showAlpha))&&this.$emit("active-change",e)}},methods:{handleTrigger:function(){this.colorDisabled||(this.showPicker=!this.showPicker)},confirmValue:function(){var e=this.color.value;this.$emit("input",e),this.$emit("change",e),this.dispatch("ElFormItem","el.form.change",e),this.showPicker=!1},clearValue:function(){this.$emit("input",null),this.$emit("change",null),null!==this.value&&this.dispatch("ElFormItem","el.form.change",null),this.showPanelColor=!1,this.showPicker=!1,this.resetColor()},hide:function(){this.showPicker=!1,this.resetColor()},resetColor:function(){var e=this;this.$nextTick((function(t){e.value?e.color.fromString(e.value):e.showPanelColor=!1}))},displayedRgb:function(e,t){var n,i,r;if(e instanceof nl)return n=(r=e.toRgb()).r,i=r.g,r=r.b,t?"rgba("+n+", "+i+", "+r+", "+e.get("alpha")/100+")":"rgb("+n+", "+i+", "+r+")";throw Error("color should be instance of Color Class")}},mounted:function(){var e=this.value;e&&this.color.fromString(e),this.popperElm=this.$refs.dropdown.$el},data:function(){return{color:new nl({enableAlpha:this.showAlpha,format:this.colorFormat}),showPicker:!1,showPanelColor:!1}},components:{PickerDropdown:Fl}},Us,[],!1,null,null,null)).options.__file="packages/color-picker/src/main.vue",zl.exports),Ul=(Bl=(Hl.install=function(e){e.component(Hl.name,Hl)},Hl),(Be=((Ol=(ul._withStripped=cl._withStripped=!0,r({mixins:[c],name:"ElTransferPanel",componentName:"ElTransferPanel",components:{ElCheckboxGroup:yn,ElCheckbox:pn,ElInput:Q,OptionContent:{props:{option:Object},render:function(e){var t=function e(t){return"ElTransferPanel"!==t.$options.componentName&&t.$parent?e(t.$parent):t}(this),n=t.$parent||t;return t.renderContent?t.renderContent(e,this.option):n.$scopedSlots.default?n.$scopedSlots.default({option:this.option}):e("span",[this.option[t.labelProp]||this.option[t.keyProp]])}}},props:{data:{type:Array,default:function(){return[]}},renderContent:Function,placeholder:String,title:String,filterable:Boolean,format:Object,filterMethod:Function,defaultChecked:Array,props:Object},data:function(){return{checked:[],allChecked:!1,query:"",inputHover:!1,checkChangeByUser:!0}},watch:{checked:function(e,t){var n;this.updateAllChecked(),this.checkChangeByUser?(n=e.concat(t).filter((function(n){return-1===e.indexOf(n)||-1===t.indexOf(n)})),this.$emit("checked-change",e,n)):(this.$emit("checked-change",e),this.checkChangeByUser=!0)},data:function(){var e=this,t=[],n=this.filteredData.map((function(t){return t[e.keyProp]}));this.checked.forEach((function(e){-1<n.indexOf(e)&&t.push(e)})),this.checkChangeByUser=!1,this.checked=t},checkableData:function(){this.updateAllChecked()},defaultChecked:{immediate:!0,handler:function(e,t){var n,i,r=this;t&&e.length===t.length&&e.every((function(e){return-1<t.indexOf(e)}))||(n=[],i=this.checkableData.map((function(e){return e[r.keyProp]})),e.forEach((function(e){-1<i.indexOf(e)&&n.push(e)})),this.checkChangeByUser=!1,this.checked=n)}}},computed:{filteredData:function(){var e=this;return this.data.filter((function(t){return"function"==typeof e.filterMethod?e.filterMethod(e.query,t):-1<(t[e.labelProp]||t[e.keyProp].toString()).toLowerCase().indexOf(e.query.toLowerCase())}))},checkableData:function(){var e=this;return this.filteredData.filter((function(t){return!t[e.disabledProp]}))},checkedSummary:function(){var e=this.checked.length,t=this.data.length,n=(i=this.format).noChecked,i=i.hasChecked;return n&&i?(0<e?i.replace(/\${checked}/g,e):n).replace(/\${total}/g,t):e+"/"+t},isIndeterminate:function(){var e=this.checked.length;return 0<e&&e<this.checkableData.length},hasNoMatch:function(){return 0<this.query.length&&0===this.filteredData.length},inputIcon:function(){return 0<this.query.length&&this.inputHover?"circle-close":"search"},labelProp:function(){return this.props.label||"label"},keyProp:function(){return this.props.key||"key"},disabledProp:function(){return this.props.disabled||"disabled"},hasFooter:function(){return!!this.$slots.default}},methods:{updateAllChecked:function(){var e=this,t=this.checkableData.map((function(t){return t[e.keyProp]}));this.allChecked=0<t.length&&t.every((function(t){return-1<e.checked.indexOf(t)}))},handleAllCheckedChange:function(e){var t=this;this.checked=e?this.checkableData.map((function(e){return e[t.keyProp]})):[]},clearQuery:function(){"circle-close"===this.inputIcon&&(this.query="")}}},ul,[],!1,null,null,null))).options.__file="packages/transfer/src/transfer-panel.vue",r({name:"ElTransfer",mixins:[l,c,Gl],components:{TransferPanel:Ol.exports,ElButton:dt},props:{data:{type:Array,default:function(){return[]}},titles:{type:Array,default:function(){return[]}},buttonTexts:{type:Array,default:function(){return[]}},filterPlaceholder:{type:String,default:""},filterMethod:Function,leftDefaultChecked:{type:Array,default:function(){return[]}},rightDefaultChecked:{type:Array,default:function(){return[]}},renderContent:Function,value:{type:Array,default:function(){return[]}},format:{type:Object,default:function(){return{}}},filterable:Boolean,props:{type:Object,default:function(){return{label:"label",key:"key",disabled:"disabled"}}},targetOrder:{type:String,default:"original"}},data:function(){return{leftChecked:[],rightChecked:[]}},computed:{dataObj:function(){var e=this.props.key;return this.data.reduce((function(t,n){return(t[n[e]]=n)&&t}),{})},sourceData:function(){var e=this;return this.data.filter((function(t){return-1===e.value.indexOf(t[e.props.key])}))},targetData:function(){var e=this;return"original"===this.targetOrder?this.data.filter((function(t){return-1<e.value.indexOf(t[e.props.key])})):this.value.reduce((function(t,n){return(n=e.dataObj[n])&&t.push(n),t}),[])},hasButtonTexts:function(){return 2===this.buttonTexts.length}},watch:{value:function(e){this.dispatch("ElFormItem","el.form.change",e)}},methods:{getMigratingConfig:function(){return{props:{"footer-format":"footer-format is renamed to format."}}},onSourceCheckedChange:function(e,t){this.leftChecked=e,void 0!==t&&this.$emit("left-check-change",e,t)},onTargetCheckedChange:function(e,t){this.rightChecked=e,void 0!==t&&this.$emit("right-check-change",e,t)},addToLeft:function(){var e=this.value.slice();this.rightChecked.forEach((function(t){-1<(t=e.indexOf(t))&&e.splice(t,1)})),this.$emit("input",e),this.$emit("change",e,"left",this.rightChecked)},addToRight:function(){var e=this,t=this.value.slice(),n=[],i=this.props.key;this.data.forEach((function(t){t=t[i],-1<e.leftChecked.indexOf(t)&&-1===e.value.indexOf(t)&&n.push(t)})),t="unshift"===this.targetOrder?n.concat(t):t.concat(n),this.$emit("input",t),this.$emit("change",t,"right",this.leftChecked)},clearQuery:function(e){"left"===e?this.$refs.leftPanel.query="":"right"===e&&(this.$refs.rightPanel.query="")}}},cl,[],!1,null,null,null))).options.__file="packages/transfer/src/main.vue",Be.exports),Vl=(Fl=(Ul.install=function(e){e.component(Ul.name,Ul)},Ul),(zl=(hl._withStripped=!0,r({name:"ElContainer",componentName:"ElContainer",props:{direction:String},computed:{isVertical:function(){return"vertical"===this.direction||"horizontal"!==this.direction&&!(!this.$slots||!this.$slots.default)&&this.$slots.default.some((function(e){return"el-header"===(e=e.componentOptions&&e.componentOptions.tag)||"el-footer"===e}))}}},hl,[],!1,null,null,null))).options.__file="packages/container/src/main.vue",zl.exports),Gl=(Vl.install=function(e){e.component(Vl.name,Vl)},Vl),jl=((Ol=(dl._withStripped=!0,r({name:"ElHeader",componentName:"ElHeader",props:{height:{type:String,default:"60px"}}},dl,[],!1,null,null,null))).options.__file="packages/header/src/main.vue",Ol.exports),Wl=(Be=(jl.install=function(e){e.component(jl.name,jl)},jl),(zl=(fl._withStripped=!0,r({name:"ElAside",componentName:"ElAside",props:{width:{type:String,default:"300px"}}},fl,[],!1,null,null,null))).options.__file="packages/aside/src/main.vue",zl.exports),Xl=(Ol=(Wl.install=function(e){e.component(Wl.name,Wl)},Wl),(zl=(pl._withStripped=!0,r({name:"ElMain",componentName:"ElMain"},pl,[],!1,null,null,null))).options.__file="packages/main/src/main.vue",zl.exports),ql=(zl=(Xl.install=function(e){e.component(Xl.name,Xl)},Xl),(Yl=(ml._withStripped=!0,r({name:"ElFooter",componentName:"ElFooter",props:{height:{type:String,default:"60px"}}},ml,[],!1,null,null,null))).options.__file="packages/footer/src/main.vue",Yl.exports),Yl=(ql.install=function(e){e.component(ql.name,ql)},ql),$l=((Zl=r({name:"ElTimeline",props:{reverse:{type:Boolean,default:!1}},provide:function(){return{timeline:this}},render:function(){var e=arguments[0],t=this.reverse,n=this.$slots.default||[];return e("ul",{class:{"el-timeline":!0,"is-reverse":t}},[n=t?n.reverse():n])}},void 0,void 0,!1,null,null,null)).options.__file="packages/timeline/src/main.vue",Zl.exports),Zl=($l.install=function(e){e.component($l.name,$l)},$l),Ql=((Kl=(vl._withStripped=!0,r({name:"ElTimelineItem",inject:["timeline"],props:{timestamp:String,hideTimestamp:{type:Boolean,default:!1},placement:{type:String,default:"bottom"},type:String,color:String,size:{type:String,default:"normal"},icon:String}},vl,[],!1,null,null,null))).options.__file="packages/timeline/src/item.vue",Kl.exports),Kl=(Ql.install=function(e){e.component(Ql.name,Ql)},Ql),Jl=((ec=(gl._withStripped=!0,r({name:"ElLink",props:{type:{type:String,default:"default"},underline:{type:Boolean,default:!0},disabled:Boolean,href:String,icon:String},methods:{handleClick:function(e){this.disabled||this.href||this.$emit("click",e)}}},gl,[],!1,null,null,null))).options.__file="packages/link/src/main.vue",ec.exports),ec=(Jl.install=function(e){e.component(Jl.name,Jl)},Jl),tc=((nc=(yl._withStripped=!0,r({name:"ElDivider",props:{direction:{type:String,default:"horizontal",validator:function(e){return-1!==["horizontal","vertical"].indexOf(e)}},contentPosition:{type:String,default:"center",validator:function(e){return-1!==["left","center","right"].indexOf(e)}}}},yl,[],!0,null,null,null))).options.__file="packages/divider/src/main.vue",nc.exports),nc=(tc.install=function(e){e.component(tc.name,tc)},tc),ic=(bl._withStripped=xl._withStripped=!0,Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}),rc={CONTAIN:{name:"contain",icon:"el-icon-full-screen"},ORIGINAL:{name:"original",icon:"el-icon-c-scale-to-original"}},ac=!u.a.prototype.$isServer&&window.navigator.userAgent.match(/firefox/i)?"DOMMouseScroll":"mousewheel",oc=((oc=r({name:"elImageViewer",props:{urlList:{type:Array,default:function(){return[]}},zIndex:{type:Number,default:2e3},onSwitch:{type:Function,default:function(){}},onClose:{type:Function,default:function(){}},initialIndex:{type:Number,default:0},appendToBody:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:!0}},data:function(){return{index:this.initialIndex,isShow:!1,infinite:!0,loading:!1,mode:rc.CONTAIN,transform:{scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}},computed:{isSingle:function(){return this.urlList.length<=1},isFirst:function(){return 0===this.index},isLast:function(){return this.index===this.urlList.length-1},currentImg:function(){return this.urlList[this.index]},imgStyle:function(){var e=this.transform,t=e.scale,n=e.deg,i=e.offsetX,r=e.offsetY;t={transform:"scale("+t+") rotate("+n+"deg)",transition:e.enableTransition?"transform .3s":"","margin-left":i+"px","margin-top":r+"px"};return this.mode===rc.CONTAIN&&(t.maxWidth=t.maxHeight="100%"),t},viewerZIndex:function(){var e=_e.nextZIndex();return this.zIndex>e?this.zIndex:e}},watch:{index:{handler:function(e){this.reset(),this.onSwitch(e)}},currentImg:function(e){var t=this;this.$nextTick((function(e){t.$refs.img[0].complete||(t.loading=!0)}))}},methods:{hide:function(){this.deviceSupportUninstall(),this.onClose()},deviceSupportInstall:function(){var e=this;this._keyDownHandler=function(t){switch(t.stopPropagation(),t.keyCode){case 27:e.hide();break;case 32:e.toggleMode();break;case 37:e.prev();break;case 38:e.handleActions("zoomIn");break;case 39:e.next();break;case 40:e.handleActions("zoomOut")}},this._mouseWheelHandler=D((function(t){0<(t.wheelDelta||-t.detail)?e.handleActions("zoomIn",{zoomRate:.015,enableTransition:!1}):e.handleActions("zoomOut",{zoomRate:.015,enableTransition:!1})})),ne(document,"keydown",this._keyDownHandler),ne(document,ac,this._mouseWheelHandler)},deviceSupportUninstall:function(){ie(document,"keydown",this._keyDownHandler),ie(document,ac,this._mouseWheelHandler),this._keyDownHandler=null,this._mouseWheelHandler=null},handleImgLoad:function(e){this.loading=!1},handleImgError:function(e){this.loading=!1,e.target.alt="加载失败"},handleMouseDown:function(e){var t,n,i,r,a,o=this;this.loading||0!==e.button||(t=this.transform,n=t.offsetX,i=t.offsetY,r=e.pageX,a=e.pageY,this._dragHandler=D((function(e){o.transform.offsetX=n+e.pageX-r,o.transform.offsetY=i+e.pageY-a})),ne(document,"mousemove",this._dragHandler),ne(document,"mouseup",(function(e){ie(document,"mousemove",o._dragHandler)})),e.preventDefault())},handleMaskClick:function(){this.maskClosable&&this.hide()},reset:function(){this.transform={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}},toggleMode:function(){var e,t;this.loading||(e=Object.keys(rc),t=(Object.values(rc).indexOf(this.mode)+1)%e.length,this.mode=rc[e[t]],this.reset())},prev:function(){var e;this.isFirst&&!this.infinite||(e=this.urlList.length,this.index=(this.index-1+e)%e)},next:function(){var e;this.isLast&&!this.infinite||(e=this.urlList.length,this.index=(this.index+1)%e)},handleActions:function(e){if(!this.loading){var t=(i=ic({zoomRate:.2,rotateDeg:90,enableTransition:!0},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{})).zoomRate,n=i.rotateDeg,i=i.enableTransition,r=this.transform;switch(e){case"zoomOut":.2<r.scale&&(r.scale=parseFloat((r.scale-t).toFixed(3)));break;case"zoomIn":r.scale=parseFloat((r.scale+t).toFixed(3));break;case"clocelise":r.deg+=n;break;case"anticlocelise":r.deg-=n}r.enableTransition=i}}},mounted:function(){this.deviceSupportInstall(),this.appendToBody&&document.body.appendChild(this.$el),this.$refs["el-image-viewer__wrapper"].focus()},destroyed:function(){this.appendToBody&&this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)}},bl,[],!1,null,null,null)).options.__file="packages/image/src/image-viewer.vue",oc.exports),sc="",lc=((oc=r({name:"ElImage",mixins:[c],inheritAttrs:!1,components:{ImageViewer:oc},props:{src:String,fit:String,lazy:Boolean,scrollContainer:{},previewSrcList:{type:Array,default:function(){return[]}},zIndex:{type:Number,default:2e3}},data:function(){return{loading:!0,error:!1,show:!this.lazy,imageWidth:0,imageHeight:0,showViewer:!1}},computed:{imageStyle:function(){var e=this.fit;return!this.$isServer&&e?wl()?{"object-fit":e}:this.getImageStyle(e):{}},alignCenter:function(){return!this.$isServer&&!wl()&&"fill"!==this.fit},preview:function(){var e=this.previewSrcList;return Array.isArray(e)&&0<e.length},imageIndex:function(){var e=0,t=this.previewSrcList.indexOf(this.src);return 0<=t?t:e}},watch:{src:function(e){this.show&&this.loadImage()},show:function(e){e&&this.loadImage()}},mounted:function(){this.lazy?this.addLazyLoadListener():this.loadImage()},beforeDestroy:function(){this.lazy&&this.removeLazyLoadListener()},methods:{loadImage:function(){var e,t=this;this.$isServer||(this.loading=!0,this.error=!1,(e=new Image).onload=function(n){return t.handleLoad(n,e)},e.onerror=this.handleError.bind(this),Object.keys(this.$attrs).forEach((function(n){var i=t.$attrs[n];e.setAttribute(n,i)})),e.src=this.src)},handleLoad:function(e,t){this.imageWidth=t.width,this.imageHeight=t.height,this.loading=!1,this.error=!1},handleError:function(e){this.loading=!1,this.error=!0,this.$emit("error",e)},handleLazyLoad:function(){!function(e,t){var n;if(!K&&e&&t)return e=e.getBoundingClientRect(),void 0,n=[window,document,document.documentElement,null,void 0].includes(t)?{top:0,right:window.innerWidth,bottom:window.innerHeight,left:0}:t.getBoundingClientRect(),e.top<n.bottom&&e.bottom>n.top&&e.right>n.left&&e.left<n.right}(this.$el,this._scrollContainer)||(this.show=!0,this.removeLazyLoadListener())},addLazyLoadListener:function(){var e,t;!this.$isServer&&(t=null,t=p(e=this.scrollContainer)?e:d(e)?document.querySelector(e):se(this.$el))&&(this._scrollContainer=t,this._lazyLoadHandler=ys()(200,this.handleLazyLoad),ne(t,"scroll",this._lazyLoadHandler),this.handleLazyLoad())},removeLazyLoadListener:function(){var e=this._scrollContainer,t=this._lazyLoadHandler;!this.$isServer&&e&&t&&(ie(e,"scroll",t),this._scrollContainer=null,this._lazyLoadHandler=null)},getImageStyle:function(e){var t=this.imageWidth,n=this.imageHeight,i=(r=this.$el).clientWidth,r=r.clientHeight;if(!(t&&n&&i&&r))return{};var a=t/n,o=i/r;switch(e="scale-down"===e?t<i&&n<r?"none":"contain":e){case"none":return{width:"auto",height:"auto"};case"contain":return a<o?{width:"auto"}:{height:"auto"};case"cover":return a<o?{height:"auto"}:{width:"auto"};default:return{}}},clickHandler:function(){this.preview&&(sc=document.body.style.overflow,document.body.style.overflow="hidden",this.showViewer=!0)},closeViewer:function(){document.body.style.overflow=sc,this.showViewer=!1}}},xl,[],!1,null,null,null)).options.__file="packages/image/src/main.vue",oc.exports),cc=(oc=(lc.install=function(e){e.component(lc.name,lc)},lc),(cc=(_l._withStripped=!0,r({props:{selectedDay:String,range:{type:Array,validator:function(e){return!e||!e.length||Pi(e[0],e=e[1])}},date:Date,hideHeader:Boolean,firstDayOfWeek:Number},inject:["elCalendar"],methods:{toNestedArr:function(e){return vi(e.length/7).map((function(t,n){return n*=7,e.slice(n,7+n)}))},getFormateDate:function(e,t){var n;if(e&&-1!==["prev","current","next"].indexOf(t))return n=this.curMonthDatePrefix,"prev"===t?n=this.prevMonthDatePrefix:"next"===t&&(n=this.nextMonthDatePrefix),n+"-"+("00"+e).slice(-2);throw new Error("invalid day or type")},getCellClass:function(e){var t=e.text,n=[e=e.type];return"current"===e&&((t=this.getFormateDate(t,e))===this.selectedDay&&n.push("is-selected"),t===this.formatedToday)&&n.push("is-today"),n},pickDay:function(e){var t=e.text;e=e.type,t=this.getFormateDate(t,e);this.$emit("pick",t)},cellRenderProxy:function(e){var t,n=e.text,i=(e=e.type,this.$createElement),r=this.elCalendar.$scopedSlots.dateCell;return r?(t=this.getFormateDate(n,e),r({date:new Date(t),data:{isSelected:this.selectedDay===t,type:e+"-month",day:t}})):i("span",[n])}},computed:{WEEK_DAYS:function(){return fi().dayNames},prevMonthDatePrefix:function(){var e=new Date(this.date.getTime());return e.setDate(0),ui.a.format(e,"yyyy-MM")},curMonthDatePrefix:function(){return ui.a.format(this.date,"yyyy-MM")},nextMonthDatePrefix:function(){var e=new Date(this.date.getFullYear(),this.date.getMonth()+1,1);return ui.a.format(e,"yyyy-MM")},formatedToday:function(){return this.elCalendar.formatedToday},isInRange:function(){return this.range&&this.range.length},rows:function(){var e,t,n,i,r,a,o=[];return o=this.isInRange?(n=this.range,e=n[0],t=(n=vi((n=n[1]).getDate()-e.getDate()+1).map((function(t,n){return{text:e.getDate()+n,type:"current"}}))).length%7,t=vi(t=0==t?0:7-t).map((function(e,t){return{text:t+1,type:"next"}})),n.concat(t)):(t=ii(n=this.date),i=n,i=((r=(7+(t=0===t?7:t)-("number"==typeof this.firstDayOfWeek?this.firstDayOfWeek:1))%7)<=0?[]:((i=new Date(i.getTime())).setDate(0),a=i.getDate(),vi(r).map((function(e,t){return a-(r-t-1)})))).map((function(e){return{text:e,type:"prev"}})),n=function(e){return vi(e=new Date(e.getFullYear(),e.getMonth()+1,0).getDate()).map((function(e,t){return t+1}))}(n).map((function(e){return{text:e,type:"current"}})),i=vi(42-(o=[].concat(i,n)).length).map((function(e,t){return{text:t+1,type:"next"}})),o.concat(i)),this.toNestedArr(o)},weekDays:function(){var e=this.firstDayOfWeek,t=this.WEEK_DAYS;return"number"!=typeof e||0===e?t.slice():t.slice(e).concat(t.slice(0,e))}},render:function(){var e=this,t=arguments[0],n=this.hideHeader?null:t("thead",[this.weekDays.map((function(e){return t("th",{key:e},[e])}))]);return t("table",{class:{"el-calendar-table":!0,"is-range":this.isInRange},attrs:{cellspacing:"0",cellpadding:"0"}},[n,t("tbody",[this.rows.map((function(n,i){return t("tr",{class:{"el-calendar-table__row":!0,"el-calendar-table__row--hide-border":0===i&&e.hideHeader},key:i},[n.map((function(n,i){return t("td",{key:i,class:e.getCellClass(n),on:{click:e.pickDay.bind(e,n)}},[t("div",{class:"el-calendar-day"},[e.cellRenderProxy(n)])])}))])}))])])}},void 0,void 0,!1,null,null,null))).options.__file="packages/calendar/src/date-table.vue",cc.exports),uc=["prev-month","today","next-month"],hc=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dc=((c=r({name:"ElCalendar",mixins:[c],components:{DateTable:cc,ElButton:dt,ElButtonGroup:it},props:{value:[Date,String,Number],range:{type:Array,validator:function(e){return!Array.isArray(e)||2===e.length&&e.every((function(e){return"string"==typeof e||"number"==typeof e||e instanceof Date}))}},firstDayOfWeek:{type:Number,default:1}},provide:function(){return{elCalendar:this}},methods:{pickDay:function(e){this.realSelectedDay=e},selectDate:function(e){if(-1===uc.indexOf(e))throw new Error("invalid type "+e);(e="prev-month"===e?this.prevMonthDatePrefix+"-01":"next-month"===e?this.nextMonthDatePrefix+"-01":this.formatedToday)!==this.formatedDate&&this.pickDay(e)},toDate:function(e){if(e)return e instanceof Date?e:new Date(e);throw new Error("invalid val")},rangeValidator:function(e,t){var n=this.realFirstDayOfWeek;t=(t?"start":"end")+" of range should be "+hc[n=t?n:0===n?6:n-1]+".";return e.getDay()===n||(console.warn("[ElementCalendar]",t,"Invalid range will be ignored."),!1)}},computed:{prevMonthDatePrefix:function(){var e=new Date(this.date.getTime());return e.setDate(0),ui.a.format(e,"yyyy-MM")},curMonthDatePrefix:function(){return ui.a.format(this.date,"yyyy-MM")},nextMonthDatePrefix:function(){var e=new Date(this.date.getFullYear(),this.date.getMonth()+1,1);return ui.a.format(e,"yyyy-MM")},formatedDate:function(){return ui.a.format(this.date,"yyyy-MM-dd")},i18nDate:function(){var e=this.date.getFullYear(),t=this.date.getMonth()+1;return e+" "+this.t("el.datepicker.year")+" "+this.t("el.datepicker.month"+t)},formatedToday:function(){return ui.a.format(this.now,"yyyy-MM-dd")},realSelectedDay:{get:function(){return this.value?this.formatedDate:this.selectedDay},set:function(e){this.selectedDay=e,e=new Date(e),this.$emit("input",e)}},date:function(){var e;return this.value?this.toDate(this.value):this.realSelectedDay?(e=this.selectedDay.split("-"),new Date(e[0],e[1]-1,e[2])):this.validatedRange.length?this.validatedRange[0][0]:this.now},validatedRange:function(){var e=this;if(!(t=this.range))return[];if(2!==(t=t.reduce((function(t,n,i){return n=e.toDate(n),e.rangeValidator(n,0===i)?t.concat(n):t}),[])).length)return[];var t,n=t[0];if((t=t[1])<n)return console.warn("[ElementCalendar]end time should be greater than start time"),[];if(Pi(n,t))return[[n,t]];var i=[],r=new Date(n.getFullYear(),n.getMonth()+1,1),a=this.toDate(r.getTime()-864e5);if(!Pi(r,t))return console.warn("[ElementCalendar]start time and end time interval must not exceed two months"),[];i.push([n,a]);n=this.realFirstDayOfWeek;var o=0;return(a=r.getDay())!==n&&(o=0===n?7-a:0<(o=n-a)?o:7+o),(r=this.toDate(r.getTime()+864e5*o)).getDate()<t.getDate()&&i.push([r,t]),i},realFirstDayOfWeek:function(){return this.firstDayOfWeek<1||6<this.firstDayOfWeek?0:Math.floor(this.firstDayOfWeek)}},data:function(){return{selectedDay:"",now:new Date}}},_l,[],!1,null,null,null)).options.__file="packages/calendar/src/main.vue",c.exports),fc=(cc=(dc.install=function(e){e.component(dc.name,dc)},dc),(c=(Ml._withStripped=!0,r({name:"ElBacktop",props:{visibilityHeight:{type:Number,default:200},target:[String],right:{type:Number,default:40},bottom:{type:Number,default:40}},data:function(){return{el:null,container:null,visible:!1}},computed:{styleBottom:function(){return this.bottom+"px"},styleRight:function(){return this.right+"px"}},mounted:function(){this.init(),this.throttledScrollHandler=ys()(300,this.onScroll),this.container.addEventListener("scroll",this.throttledScrollHandler)},methods:{init:function(){if(this.container=document,this.el=document.documentElement,this.target){if(this.el=document.querySelector(this.target),!this.el)throw new Error("target is not existed: "+this.target);this.container=this.el}},onScroll:function(){var e=this.el.scrollTop;this.visible=e>=this.visibilityHeight},handleClick:function(e){this.scrollToTop(),this.$emit("click",e)},scrollToTop:function(){var e=this.el,t=Date.now(),n=e.scrollTop,i=window.requestAnimationFrame||function(e){return setTimeout(e,16)};i((function r(){var a=(Date.now()-t)/500;a<1?(e.scrollTop=n*(1-((a=a)<.5?Sl(2*a)/2:1-Sl(2*(1-a))/2)),i(r)):e.scrollTop=0}))}},beforeDestroy:function(){this.container.removeEventListener("scroll",this.throttledScrollHandler)}},Ml,[],!1,null,null,null))).options.__file="packages/backtop/src/main.vue",c.exports),pc=(c=(fc.install=function(e){e.component(fc.name,fc)},fc),function(e,t){return(e===window||e===document?document.documentElement:e)[t]}),mc="ElInfiniteScroll",vc={delay:{type:Number,default:200},distance:{type:Number,default:0},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},gc={name:"InfiniteScroll",inserted:function(e,t,n){t=t.value,n=n.context;var i=se(e,!0),r=(a=Tl(e,n)).delay,a=a.immediate;r=He()(r,function(e){var t=(r=this[mc]).el,n=r.vm,i=r.container,r=r.observer,a=Tl(t,n),o=a.distance;a.disabled||!(a=i.getBoundingClientRect()).width&&!a.height||((i===t?(a=i.scrollTop+pc(i,"clientHeight"),i.scrollHeight-a<=o):El(t)+Cl(t)-Cl(i)-El(i)+Number.parseFloat((a="borderBottomWidth",1!==(t=(t=i)===window?document.documentElement:t).nodeType?[]:window.getComputedStyle(t,null)[a]))<=o)&&v(e)?e.call(n):r&&(r.disconnect(),this[mc].observer=null))}.bind(e,t));e[mc]={el:e,vm:n,container:i,onScroll:r},i&&(i.addEventListener("scroll",r),a)&&((e[mc].observer=new MutationObserver(r)).observe(i,{childList:!0,subtree:!0}),r())},unbind:function(e){var t=(e=e[mc]).container;e=e.onScroll;t&&t.removeEventListener("scroll",e)},install:function(e){e.directive(gc.name,gc)}},yc=gc,xc=((bc=(Al._withStripped=!0,r({name:"ElPageHeader",props:{title:{type:String,default:function(){return H("el.pageHeader.title")}},content:String}},Al,[],!1,null,null,null))).options.__file="packages/page-header/src/main.vue",bc.exports),bc=(xc.install=function(e){e.component(xc.name,xc)},xc),wc=((_c=r({name:"ElAvatar",props:{size:{type:[Number,String],validator:function(e){return"string"==typeof e?["large","medium","small"].includes(e):"number"==typeof e}},shape:{type:String,default:"circle",validator:function(e){return["circle","square"].includes(e)}},icon:String,src:String,alt:String,srcSet:String,error:Function,fit:{type:String,default:"cover"}},data:function(){return{isImageExist:!0}},computed:{avatarClass:function(){var e=this.size,t=this.icon,n=this.shape,i=["el-avatar"];return e&&"string"==typeof e&&i.push("el-avatar--"+e),t&&i.push("el-avatar--icon"),n&&i.push("el-avatar--"+n),i.join(" ")}},methods:{handleError:function(){var e=this.error;!1!==(e?e():void 0)&&(this.isImageExist=!1)},renderAvatar:function(){var e=this.$createElement,t=this.icon,n=this.src,i=this.alt,r=this.isImageExist,a=this.srcSet,o=this.fit;return r&&n?e("img",{attrs:{src:n,alt:i,srcSet:a},on:{error:this.handleError},style:{"object-fit":o}}):t?e("i",{class:t}):this.$slots.default}},render:function(){var e=arguments[0],t=this.avatarClass,n=this.size;return e("span",{class:t,style:"number"==typeof n?{height:n+"px",width:n+"px",lineHeight:n+"px"}:{}},[this.renderAvatar()])}},void 0,void 0,!1,null,null,null)).options.__file="packages/avatar/src/main.vue",_c.exports),_c=(wc.install=function(e){e.component(wc.name,wc)},wc),Mc=((te=(Ll._withStripped=!0,r({name:"ElDrawer",mixins:[te,l],props:{appendToBody:{type:Boolean,default:!1},beforeClose:{type:Function},customClass:{type:String,default:""},closeOnPressEscape:{type:Boolean,default:!0},destroyOnClose:{type:Boolean,default:!1},modal:{type:Boolean,default:!0},direction:{type:String,default:"rtl",validator:function(e){return-1!==["ltr","rtl","ttb","btt"].indexOf(e)}},modalAppendToBody:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},size:{type:[Number,String],default:"30%"},title:{type:String,default:""},visible:{type:Boolean},wrapperClosable:{type:Boolean,default:!0},withHeader:{type:Boolean,default:!0}},computed:{isHorizontal:function(){return"rtl"===this.direction||"ltr"===this.direction},drawerSize:function(){return"number"==typeof this.size?this.size+"px":this.size}},data:function(){return{closed:!1,prevActiveElement:null}},watch:{visible:function(e){var t=this;e?(this.closed=!1,this.$emit("open"),this.appendToBody&&document.body.appendChild(this.$el),this.prevActiveElement=document.activeElement):(this.closed||(this.$emit("close"),!0===this.destroyOnClose&&(this.rendered=!1)),this.$nextTick((function(){t.prevActiveElement&&t.prevActiveElement.focus()})))}},methods:{afterEnter:function(){this.$emit("opened")},afterLeave:function(){this.$emit("closed")},hide:function(e){!1!==e&&(this.$emit("update:visible",!1),this.$emit("close"),!0===this.destroyOnClose&&(this.rendered=!1),this.closed=!0)},handleWrapperClick:function(){this.wrapperClosable&&this.closeDrawer()},closeDrawer:function(){"function"==typeof this.beforeClose?this.beforeClose(this.hide):this.hide()},handleClose:function(){this.closeDrawer()}},mounted:function(){this.visible&&(this.rendered=!0,this.open(),this.appendToBody)&&document.body.appendChild(this.$el)},destroyed:function(){this.appendToBody&&this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)}},Ll,[],!1,null,null,null))).options.__file="packages/drawer/src/main.vue",te.exports),Sc=(l=(Mc.install=function(e){e.component(Mc.name,Mc)},Mc),te=(Pl._withStripped=!0,n(5)),n.n(te)),Ec=((n=r({name:"ElStatistic",data:function(){return{disposeValue:"",timeTask:void 0,REFRESH_INTERVAL:1e3/30}},props:{decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:""},precision:{type:Number,default:0},value:{type:[String,Number],default:""},prefix:{type:String,default:""},suffix:{type:String,default:""},title:{type:[String,Number],default:""},timeIndices:{type:Boolean,default:!1},valueStyle:{type:Object,default:function(){return{}}},format:{type:String,default:"HH:mm:ss:SSS"},rate:{type:Number,default:1e3}},created:function(){this.branch()},watch:{value:function(){this.branch()}},methods:{branch:function(){this.timeIndices?(clearInterval(this.timeTask),this.countDown()):this.dispose()},magnification:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1e3,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:",";t=String(t).length-1,t=new RegExp("\\d{1,"+t+"}(?=(\\d{"+t+"})+$)","g");return String(e).replace(t,"$&,").split(",").join(n)},dispose:function(){var e=this.value,t=this.precision,n=this.groupSeparator,i=this.rate;if(!Sc.a.isNumber(e))return!1;t&&(e=Sc.a.ceil(e,t));var r=String(e).split(".")[0];e=String(e).split(".")[1]||(t?Sc.a.fill(Array(t),0).join(""):""),t=[r=n?this.magnification(r,i,n):r,e].join(e?this.decimalSeparator||".":"");return this.disposeValue=t},diffDate:function(e,t){return Sc.a.subtract(e,t)},suspend:function(e){return e?clearInterval(this.timeTask):this.branch(),this.disposeValue},countDown:function(){var e=this.format,t=this.value,n=this.REFRESH_INTERVAL,i=this.diffDate,r=this.suspend,a=i(t,Date.now()),o=this;this.timeTask=setInterval((function(){var i,s=a,l=!0;t>Date.now()?(o.$emit("change",s),l=!1):o.$emit("finish",l=!0),l&&clearInterval(o.timeTask),a=a<n?0:a-n,o.disposeValue=(i=a,Sc.a.reduce([["Y",31536e6],["M",2592e6],["D",864e5],["H",36e5],["m",6e4],["s",1e3],["S",1]],(function(e,t){var n=t[0];return e.replace(new RegExp(n+"+","g"),(function(e){var n=Sc.a.chain(i).divide(t[1]).floor().value();return i-=Sc.a.multiply(n,t[1]),(n=Sc.a.padStart(String(n),String(e).length,0))||r(),n}))}),e))}),n)}}},Pl,[],!1,null,null,null)).options.__file="packages/statistic/src/main.vue",n.exports),Tc=(te=(Ec.install=function(e){e.component(Ec.name,Ec)},Ec),(n=(kl._withStripped=!0,r({name:"ElPopconfirm",props:{title:{type:String},confirmButtonText:{type:String},cancelButtonText:{type:String},confirmButtonType:{type:String,default:"primary"},cancelButtonType:{type:String,default:"text"},icon:{type:String,default:"el-icon-question"},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1}},components:{ElPopover:Un,ElButton:dt},data:function(){return{visible:!1}},computed:{displayConfirmButtonText:function(){return this.confirmButtonText||H("el.popconfirm.confirmButtonText")},displayCancelButtonText:function(){return this.cancelButtonText||H("el.popconfirm.cancelButtonText")}},methods:{confirm:function(){this.visible=!1,this.$emit("confirm")},cancel:function(){this.visible=!1,this.$emit("cancel")}}},kl,[],!1,null,null,null))).options.__file="packages/popconfirm/src/main.vue",n.exports),Cc=(n=(Tc.install=function(e){e.component(Tc.name,Tc)},Tc),(Ac=(Dl._withStripped=!0,r({name:"ElSkeleton",props:{animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:4},loading:{type:Boolean,default:!0},throttle:{type:Number,default:0}},watch:{loading:{handler:function(e){var t=this;this.throttle<=0||!e?this.uiLoading=e:(clearTimeout(this.timeoutHandle),this.timeoutHandle=setTimeout((function(){t.uiLoading=t.loading}),this.throttle))},immediate:!0}},data:function(){return{uiLoading:this.throttle<=0&&this.loading}}},Dl,[],!1,null,null,null))).options.__file="packages/skeleton/src/index.vue",Ac.exports),Ac=(Cc.install=function(e){e.component(Cc.name,Cc)},Cc);function Lc(){var e=this,t=e.$createElement;return(t=e._self._c||t)("div",{staticClass:"el-empty"},[t("div",{staticClass:"el-empty__image",style:e.imageStyle},[e.image?t("img",{attrs:{src:e.image,ondragstart:"return false"}}):e._t("image",[t("img-empty")])],2),t("div",{staticClass:"el-empty__description"},[e.$slots.description?e._t("description"):t("p",[e._v(e._s(e.emptyDescription))])],2),e.$slots.default?t("div",{staticClass:"el-empty__bottom"},[e._t("default")],2):e._e()])}function Pc(){var e=this,t=e.$createElement;return(t=e._self._c||t)("svg",{attrs:{viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[t("defs",[t("linearGradient",{attrs:{id:"linearGradient-1-"+e.id,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"}},[t("stop",{attrs:{"stop-color":"#FCFCFD",offset:"0%"}}),t("stop",{attrs:{"stop-color":"#EEEFF3",offset:"100%"}})],1),t("linearGradient",{attrs:{id:"linearGradient-2-"+e.id,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"}},[t("stop",{attrs:{"stop-color":"#FCFCFD",offset:"0%"}}),t("stop",{attrs:{"stop-color":"#E9EBEF",offset:"100%"}})],1),t("rect",{attrs:{id:"path-3-"+e.id,x:"0",y:"0",width:"17",height:"36"}})],1),t("g",{attrs:{id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"}},[t("g",{attrs:{id:"B-type",transform:"translate(-1268.000000, -535.000000)"}},[t("g",{attrs:{id:"Group-2",transform:"translate(1268.000000, 535.000000)"}},[t("path",{attrs:{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:"#F7F8FC"}}),t("polygon",{attrs:{id:"Rectangle-Copy-14",fill:"#E5E7E9",transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"}}),t("g",{attrs:{id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"}},[t("polygon",{attrs:{id:"Rectangle-Copy-10",fill:"#E5E7E9",transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"}}),t("polygon",{attrs:{id:"Rectangle-Copy-11",fill:"#EDEEF2",points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"}}),t("rect",{attrs:{id:"Rectangle-Copy-12",fill:"url(#linearGradient-1-"+e.id+")",transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"}}),t("polygon",{attrs:{id:"Rectangle-Copy-13",fill:"#F8F9FB",transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"}})]),t("rect",{attrs:{id:"Rectangle-Copy-15",fill:"url(#linearGradient-2-"+e.id+")",x:"13",y:"45",width:"40",height:"36"}}),t("g",{attrs:{id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"}},[t("mask",{attrs:{id:"mask-4-"+e.id,fill:"white"}},[t("use",{attrs:{"xlink:href":"#path-3-"+e.id}})]),t("use",{attrs:{id:"Mask",fill:"#E0E3E9",transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":"#path-3-"+e.id}}),t("polygon",{attrs:{id:"Rectangle-Copy",fill:"#D5D7DE",mask:"url(#mask-4-"+e.id+")",transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 -1.70530257e-13 16"}})]),t("polygon",{attrs:{id:"Rectangle-Copy-18",fill:"#F8F9FB",transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"}})])])])])}(kc=(Rl._withStripped=Il._withStripped=!0,r({name:"ImgPlaceholder"},Rl,[],!1,null,null,null))).options.__file="packages/skeleton/src/img-placeholder.vue";var kc=kc.exports,Dc=((kc=r({name:"ElSkeletonItem",props:{variant:{type:String,default:"text"}},components:((Ic={})[kc.name]=kc,Ic)},Il,[],!1,null,null,null)).options.__file="packages/skeleton/src/item.vue",kc.exports),Ic=(Dc.install=function(e){e.component(Dc.name,Dc)},Dc),Rc=(Pc._withStripped=Lc._withStripped=!0,0);(kc=r({name:"ImgEmpty",data:function(){return{id:++Rc}}},Pc,[],!1,null,null,null)).options.__file="packages/empty/src/img-empty.vue";var Nc=((kc=r({name:"ElEmpty",components:((Uc={})[(kc=kc.exports).name]=kc,Uc),props:{image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}},computed:{emptyDescription:function(){return this.description||H("el.empty.description")},imageStyle:function(){return{width:this.imageSize?this.imageSize+"px":""}}}},Lc,[],!1,null,null,null)).options.__file="packages/empty/src/index.vue",kc.exports);function Oc(){var e=this,t=e.$createElement;return(t=e._self._c||t)("div",{staticClass:"el-result"},[t("div",{staticClass:"el-result__icon"},[e._t("icon",[t(e.iconElement,{tag:"component",class:e.iconElement})])],2),e.title||e.$slots.title?t("div",{staticClass:"el-result__title"},[e._t("title",[t("p",[e._v(e._s(e.title))])])],2):e._e(),e.subTitle||e.$slots.subTitle?t("div",{staticClass:"el-result__subtitle"},[e._t("subTitle",[t("p",[e._v(e._s(e.subTitle))])])],2):e._e(),e.$slots.extra?t("div",{staticClass:"el-result__extra"},[e._t("extra")],2):e._e()])}function Fc(){var e=this.$createElement;return(e=this._self._c||e)("svg",{attrs:{viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M24,4 C35.045695,4 44,12.954305 44,24 C44,35.045695 35.045695,44 24,44 C12.954305,44 4,35.045695 4,24 C4,12.954305 12.954305,4 24,4 Z M34.5548098,16.4485711 C33.9612228,15.8504763 32.9988282,15.8504763 32.4052412,16.4485711 L32.4052412,16.4485711 L21.413757,27.5805811 L21.413757,27.5805811 L21.4034642,27.590855 C21.0097542,27.9781674 20.3766105,27.9729811 19.9892981,27.5792711 L19.9892981,27.5792711 L15.5947588,23.1121428 C15.0011718,22.514048 14.0387772,22.514048 13.4451902,23.1121428 C12.8516033,23.7102376 12.8516033,24.6799409 13.4451902,25.2780357 L13.4451902,25.2780357 L19.6260786,31.5514289 C20.2196656,32.1495237 21.1820602,32.1495237 21.7756472,31.5514289 L21.7756472,31.5514289 L34.5548098,18.614464 C35.1483967,18.0163692 35.1483967,17.0466659 34.5548098,16.4485711 Z"}})])}function zc(){var e=this.$createElement;return(e=this._self._c||e)("svg",{attrs:{viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M24,4 C35.045695,4 44,12.954305 44,24 C44,35.045695 35.045695,44 24,44 C12.954305,44 4,35.045695 4,24 C4,12.954305 12.954305,4 24,4 Z M32.57818,15.42182 C32.0157534,14.8593933 31.1038797,14.8593933 30.541453,15.42182 L30.541453,15.42182 L24.0006789,21.9625941 L17.458547,15.42182 C16.8961203,14.8593933 15.9842466,14.8593933 15.42182,15.42182 C14.8593933,15.9842466 14.8593933,16.8961203 15.42182,17.458547 L15.42182,17.458547 L21.9639519,23.9993211 L15.42182,30.541453 C14.8593933,31.1038797 14.8593933,32.0157534 15.42182,32.57818 C15.9842466,33.1406067 16.8961203,33.1406067 17.458547,32.57818 L17.458547,32.57818 L24.0006789,26.0360481 L30.541453,32.57818 C31.1038797,33.1406067 32.0157534,33.1406067 32.57818,32.57818 C33.1406067,32.0157534 33.1406067,31.1038797 32.57818,30.541453 L32.57818,30.541453 L26.0374059,23.9993211 L32.57818,17.458547 C33.1406067,16.8961203 33.1406067,15.9842466 32.57818,15.42182 Z"}})])}function Bc(){var e=this.$createElement;return(e=this._self._c||e)("svg",{attrs:{viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M24,4 C35.045695,4 44,12.954305 44,24 C44,35.045695 35.045695,44 24,44 C12.954305,44 4,35.045695 4,24 C4,12.954305 12.954305,4 24,4 Z M24,31 C22.8954305,31 22,31.8954305 22,33 C22,34.1045695 22.8954305,35 24,35 C25.1045695,35 26,34.1045695 26,33 C26,31.8954305 25.1045695,31 24,31 Z M24,14 C23.1715729,14 22.5,14.6715729 22.5,15.5 L22.5,15.5 L22.5,27.5 C22.5,28.3284271 23.1715729,29 24,29 C24.8284271,29 25.5,28.3284271 25.5,27.5 L25.5,27.5 L25.5,15.5 C25.5,14.6715729 24.8284271,14 24,14 Z"}})])}function Hc(){var e=this.$createElement;return(e=this._self._c||e)("svg",{attrs:{viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M24,4 C35.045695,4 44,12.954305 44,24 C44,35.045695 35.045695,44 24,44 C12.954305,44 4,35.045695 4,24 C4,12.954305 12.954305,4 24,4 Z M24,19 L21,19 C20.1715729,19 19.5,19.6715729 19.5,20.5 C19.5,21.3284271 20.1715729,22 21,22 L21,22 L22.5,22 L22.5,31 L21,31 C20.1715729,31 19.5,31.6715729 19.5,32.5 C19.5,33.3284271 20.1715729,34 21,34 L21,34 L27,34 C27.8284271,34 28.5,33.3284271 28.5,32.5 C28.5,31.6715729 27.8284271,31 27,31 L27,31 L25.5,31 L25.5,20.5 C25.5,19.6715729 24.8284271,19 24,19 L24,19 Z M24,13 C22.8954305,13 22,13.8954305 22,15 C22,16.1045695 22.8954305,17 24,17 C25.1045695,17 26,16.1045695 26,15 C26,13.8954305 25.1045695,13 24,13 Z"}})])}Nc.install=function(e){e.component(Nc.name,Nc)};var Uc=Nc,Vc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Gc={name:"ElDescriptionsRow",props:{row:{type:Array}},inject:["elDescriptions"],render:function(e){var t=this.elDescriptions,n=(this.row||[]).map((function(e){return Vc({},e,{label:e.slots.label||e.props.label},["labelClassName","contentClassName","labelStyle","contentStyle"].reduce((function(n,i){return n[i]=e.props[i]||t[i],n}),{}))}));return"vertical"===t.direction?e("tbody",[e("tr",{class:"el-descriptions-row"},[n.map((function(n){var i;return e("th",{class:((i={"el-descriptions-item__cell":!0,"el-descriptions-item__label":!0,"has-colon":!t.border&&t.colon,"is-bordered-label":t.border})[n.labelClassName]=!0,i),style:n.labelStyle,attrs:{colSpan:n.props.span}},[n.label])}))]),e("tr",{class:"el-descriptions-row"},[n.map((function(t){return e("td",{class:["el-descriptions-item__cell","el-descriptions-item__content",t.contentClassName],style:t.contentStyle,attrs:{colSpan:t.props.span}},[t.slots.default])}))])]):t.border?e("tbody",[e("tr",{class:"el-descriptions-row"},[n.map((function(n){var i;return[e("th",{class:((i={"el-descriptions-item__cell":!0,"el-descriptions-item__label":!0,"is-bordered-label":t.border})[n.labelClassName]=!0,i),style:n.labelStyle,attrs:{colSpan:"1"}},[n.label]),e("td",{class:["el-descriptions-item__cell","el-descriptions-item__content",n.contentClassName],style:n.contentStyle,attrs:{colSpan:2*n.props.span-1}},[n.slots.default])]}))])]):e("tbody",[e("tr",{class:"el-descriptions-row"},[n.map((function(n){var i;return e("td",{class:"el-descriptions-item el-descriptions-item__cell",attrs:{colSpan:n.props.span}},[e("div",{class:"el-descriptions-item__container"},[e("span",{class:((i={"el-descriptions-item__label":!0,"has-colon":t.colon})[n.labelClassName]=!0,i),style:n.labelStyle},[n.label]),e("span",{class:["el-descriptions-item__content",n.contentClassName],style:n.contentStyle},[n.slots.default])])])}))])])}},jc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Wc={name:"ElDescriptions",components:((kc={})[Gc.name]=Gc,kc),props:{border:{type:Boolean,default:!1},column:{type:Number,default:3},direction:{type:String,default:"horizontal"},size:{type:String},title:{type:String,default:""},extra:{type:String,default:""},labelStyle:{type:Object},contentStyle:{type:Object},labelClassName:{type:String,default:""},contentClassName:{type:String,default:""},colon:{type:Boolean,default:!0}},computed:{descriptionsSize:function(){return this.size||(this.$ELEMENT||{}).size}},provide:function(){return{elDescriptions:this}},methods:{getOptionProps:function(e){if(e.componentOptions){var t,n,i=void 0===(i=(n=e.componentOptions).propsData)?{}:i,r=((void 0===(n=n.Ctor)?{}:n).options||{}).props||{},a={};for(t in r){var o=r[t].default;void 0!==o&&(a[t]=v(o)?o.call(e):o)}return jc({},a,i)}return{}},getSlots:function(e){var t=this,n=e.componentOptions||{},i=(e=e.children||n.children||[],{});return e.forEach((function(e){var n;t.isEmptyElement(e)||(n=e.data&&e.data.slot||"default",i[n]=i[n]||[],"template"===e.tag?i[n].push(e.children):i[n].push(e))})),jc({},i)},isEmptyElement:function(e){return!(e.tag||e.text&&""!==e.text.trim())},filledNode:function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]&&arguments[3];return e.props||(e.props={}),n<t&&(e.props.span=n),i&&(e.props.span=n),e},getRows:function(){var e=this,t=(this.$slots.default||[]).filter((function(e){return e.tag&&e.componentOptions&&"ElDescriptionsItem"===e.componentOptions.Ctor.options.name})),n=t.map((function(t){return{props:e.getOptionProps(t),slots:e.getSlots(t),vnode:t}})),i=[],r=[],a=this.column;return n.forEach((function(n,o){var s=n.props.span||1;o===t.length-1?(r.push(e.filledNode(n,s,a,!0)),i.push(r)):s<a?(a-=s,r.push(n)):(r.push(e.filledNode(n,s,a)),i.push(r),a=e.column,r=[])})),i}},render:function(){var e=arguments[0],t=this.title,n=this.extra,i=this.border,r=this.descriptionsSize,a=this.$slots,o=this.getRows();return e("div",{class:"el-descriptions"},[t||n||a.title||a.extra?e("div",{class:"el-descriptions__header"},[e("div",{class:"el-descriptions__title"},[a.title||t]),e("div",{class:"el-descriptions__extra"},[a.extra||n])]):null,e("div",{class:"el-descriptions__body"},[e("table",{class:["el-descriptions__table",{"is-bordered":i},r?"el-descriptions--"+r:""]},[o.map((function(t){return e(Gc,{attrs:{row:t}})}))])])])},install:function(e){e.component(Wc.name,Wc)}},Xc=(kc=Wc,{name:"ElDescriptionsItem",props:{label:{type:String,default:""},span:{type:Number,default:1},contentClassName:{type:String,default:""},contentStyle:{type:Object},labelClassName:{type:String,default:""},labelStyle:{type:Object}},render:function(){return null},install:function(e){e.component(Xc.name,Xc)}}),qc=Xc,Yc=((Yc=(Fc._withStripped=Oc._withStripped=!0,r({name:"IconSuccess"},Fc,[],!1,null,null,null))).options.__file="packages/result/src/icon-success.vue",Yc.exports),$c=(($c=(zc._withStripped=!0,r({name:"IconError"},zc,[],!1,null,null,null))).options.__file="packages/result/src/icon-error.vue",$c.exports),Zc=((Zc=(Bc._withStripped=!0,r({name:"IconWarning"},Bc,[],!1,null,null,null))).options.__file="packages/result/src/icon-warning.vue",Zc.exports);function Qc(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};U.use(t.locale),U.i18n(t.i18n),nu.forEach((function(t){e.component(t.name,t)})),e.use(yc),e.use(So.directive),e.prototype.$ELEMENT={size:t.size||"",zIndex:t.zIndex||2e3},e.prototype.$loading=So.service,e.prototype.$msgbox=$r,e.prototype.$alert=$r.alert,e.prototype.$confirm=$r.confirm,e.prototype.$prompt=$r.prompt,e.prototype.$notify=vo,e.prototype.$message=ss}(Jc=(Hc._withStripped=!0,r({name:"IconInfo"},Hc,[],!1,null,null,null))).options.__file="packages/result/src/icon-info.vue";var Kc,Jc=Jc.exports,eu={success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},tu=((Yc=r({name:"ElResult",components:((Kc={})[Yc.name]=Yc,Kc[$c.name]=$c,Kc[Zc.name]=Zc,Kc[Jc.name]=Jc,Kc),props:{title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,default:"info"}},computed:{iconElement:function(){var e=this.icon;return e&&eu[e]?eu[e]:"icon-info"}}},Oc,[],!1,null,null,null)).options.__file="packages/result/src/index.vue",Yc.exports),nu=($c=(tu.install=function(e){e.component(tu.name,tu)},tu),[s,lt,ct,mt,gt,xt,Tt,Zt,Lt,tn,Q,an,sn,un,dn,pn,vn,yn,bn,Ce,at,_n,dt,it,Wn,On,nn,vr,Mn,Un,Kt,Xn,Kr,ea,ta,Ma,Da,ke,Ra,lo,go,uo,Co,Po,Io,ro,Jo,ts,us,ds,ps,vs,gs,ze,ws,Ms,Es,Cs,Bl,Fl,Gl,Be,Ol,zl,Yl,Zl,Kl,ec,nc,oc,cc,c,bc,Ts,_c,l,te,n,Ac,Ic,Uc,kc,qc,$c,At]);"undefined"!=typeof window&&window.Vue&&Qc(window.Vue),t.default={version:"2.15.12",locale:U.use,i18n:U.i18n,install:Qc,CollapseTransition:At,Loading:So,Pagination:s,Dialog:lt,Autocomplete:ct,Dropdown:mt,DropdownMenu:gt,DropdownItem:xt,Menu:Tt,Submenu:Zt,MenuItem:Lt,MenuItemGroup:tn,Input:Q,InputNumber:an,Radio:sn,RadioGroup:un,RadioButton:dn,Checkbox:pn,CheckboxButton:vn,CheckboxGroup:yn,Switch:bn,Select:Ce,Option:at,OptionGroup:_n,Button:dt,ButtonGroup:it,Table:Wn,TableColumn:On,DatePicker:nn,TimeSelect:vr,TimePicker:Mn,Popover:Un,Tooltip:Kt,MessageBox:$r,Breadcrumb:Xn,BreadcrumbItem:Kr,Form:ea,FormItem:ta,Tabs:Ma,TabPane:Da,Tag:ke,Tree:Ra,Alert:lo,Notification:vo,Slider:go,Icon:uo,Row:Co,Col:Po,Upload:Io,Progress:ro,Spinner:Jo,Message:ss,Badge:ts,Card:us,Rate:ds,Steps:ps,Step:vs,Carousel:gs,Scrollbar:ze,CarouselItem:ws,Collapse:Ms,CollapseItem:Es,Cascader:Cs,ColorPicker:Bl,Transfer:Fl,Container:Gl,Header:Be,Aside:Ol,Main:zl,Footer:Yl,Timeline:Zl,TimelineItem:Kl,Link:ec,Divider:nc,Image:oc,Calendar:cc,Backtop:c,InfiniteScroll:yc,PageHeader:bc,CascaderPanel:Ts,Avatar:_c,Drawer:l,Statistic:te,Popconfirm:n,Skeleton:Ac,SkeletonItem:Ic,Empty:Uc,Descriptions:kc,DescriptionsItem:qc,Result:$c}}]).default)},function(e,t,n){e.exports=n(615)},function(e,t,n){n(180),n(80),n(263),n(269),n(270),n(271),n(272),n(195),n(273),n(274),n(275),n(276),n(277),n(278),n(196),n(279),n(280),n(281),n(282),n(283),n=n(24),e.exports=n.Symbol},function(e,t,n){var i=n(43),r=n(34),a=n(129),o=n(154),s=n(258),l=(n=n(35),TypeError),c=n("toPrimitive");e.exports=function(e,t){if(!r(e)||a(e))return e;var n=o(e,c);if(n){if(n=i(n,e,t=void 0===t?"default":t),!r(n)||a(n))return n;throw l("Can't convert object to primitive value")}return s(e,t=void 0===t?"number":t)}},function(e,t,n){var i=n(43),r=n(38),a=n(34),o=TypeError;e.exports=function(e,t){var n,s;if("string"===t&&r(n=e.toString)&&!a(s=i(n,e)))return s;if(r(n=e.valueOf)&&!a(s=i(n,e)))return s;if("string"!==t&&r(n=e.toString)&&!a(s=i(n,e)))return s;throw o("Can't convert object to primitive value")}},function(e,t,n){var i=n(29),r=Object.defineProperty;e.exports=function(e,t){try{r(i,e,{value:t,configurable:!0,writable:!0})}catch(n){i[e]=t}return t}},function(e,t,n){var i=n(99),r=Math.min;e.exports=function(e){return 0<e?r(i(e),9007199254740991):0}},function(e,t){var n=Math.ceil,i=Math.floor;e.exports=Math.trunc||function(e){return(0<(e=+e)?i:n)(e)}},function(e,t,n){var i=n(90),r=n(131),a=n(34),o=n(35)("species"),s=Array;e.exports=function(e){var t;return void 0===(t=i(e)&&(t=e.constructor,r(t)&&(t===s||i(t.prototype))||a(t)&&null===(t=t[o]))?void 0:t)?s:t}},function(e,t,n){n(264),n(266),n(267),n(194),n(268)},function(e,t,n){"use strict";function i(e,t){var n=re[e]=E(Q);return Y(n,{type:q,tag:e,description:t}),m||(n.description=t),n}function r(e,t,n){return e===Z&&r(ae,t,n),b(e),t=_(t),b(n),(y(re,t)?(n.enumerable?(y(e,X)&&e[X][t]&&(e[X][t]=!1),n=E(n,{enumerable:S(0,!1)})):(y(e,X)||ee(e,X,S(1,{})),e[X][t]=!0),se):ee)(e,t,n)}function a(e,t){b(e);var n=w(t);t=T(n).concat(c(n));return W(t,(function(t){m&&!d(o,n,t)||r(e,t,n[t])})),e}function o(e){e=_(e);var t=d(ne,this,e);return!(this===Z&&y(re,e)&&!y(ae,e))&&(!(t||!y(this,e)||!y(re,e)||y(this,X)&&this[X][e])||t)}function s(e,t){var n;e=w(e),t=_(t);if(e!==Z||!y(re,t)||y(ae,t))return!(n=J(e,t))||!y(re,t)||y(e,X)&&e[X][t]||(n.enumerable=!0),n}function l(e){e=te(w(e));var t=[];return W(e,(function(e){y(re,e)||y(F,e)||ie(t,e)})),t}function c(e){var t=e===Z,n=(e=te(t?ae:w(e)),[]);return W(e,(function(e){!y(re,e)||t&&!y(Z,e)||ie(n,re[e])})),n}var u=n(17),h=n(29),d=n(43),f=n(26),p=n(62),m=n(42),v=n(96),g=n(22),y=n(39),x=n(33),b=n(50),w=n(64),_=n(128),M=n(56),S=n(78),E=n(81),T=n(132),C=n(134),A=n(190),L=n(135),P=n(93),k=n(54),D=n(159),I=n(153),R=n(65),N=n(109),O=n(133),F=n(113),z=n(130),B=n(35),H=n(136),U=n(40),V=n(191),G=n(72),j=n(66),W=n(73).forEach,X=O("hidden"),q="Symbol",Y=(n="prototype",j.set),$=j.getterFor(q),Z=Object[n],Q=(O=h.Symbol)&&O[n],K=h.TypeError,J=(j=h.QObject,P.f),ee=k.f,te=A.f,ne=I.f,ie=f([].push),re=N("symbols"),ae=N("op-symbols"),oe=(h=N("wks"),!j||!j[n]||!j[n].findChild),se=m&&g((function(){return 7!=E(ee({},"a",{get:function(){return ee(this,"a",{value:7}).a}})).a}))?function(e,t,n){var i=J(Z,t);i&&delete Z[t],ee(e,t,n),i&&e!==Z&&ee(Z,t,i)}:ee;v||(R(Q=(O=function(){if(x(Q,this))throw K("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?M(arguments[0]):void 0,t=z(e),n=function(e){this===Z&&d(n,ae,e),y(this,X)&&y(this[X],t)&&(this[X][t]=!1),se(this,t,S(1,e))};return m&&oe&&se(Z,t,{configurable:!0,set:n}),i(t,e)})[n],"toString",(function(){return $(this).tag})),R(O,"withoutSetter",(function(e){return i(z(e),e)})),I.f=o,k.f=r,D.f=a,P.f=s,C.f=A.f=l,L.f=c,H.f=function(e){return i(B(e),e)},m&&(ee(Q,"description",{configurable:!0,get:function(){return $(this).description}}),p||R(Z,"propertyIsEnumerable",o,{unsafe:!0}))),u({global:!0,constructor:!0,wrap:!0,forced:!v,sham:!v},{Symbol:O}),W(T(h),(function(e){U(e)})),u({target:q,stat:!0,forced:!v},{useSetter:function(){oe=!0},useSimple:function(){oe=!1}}),u({target:"Object",stat:!0,forced:!v,sham:!m},{create:function(e,t){return void 0===t?E(e):a(E(e),t)},defineProperty:r,defineProperties:a,getOwnPropertyDescriptor:s}),u({target:"Object",stat:!0,forced:!v},{getOwnPropertyNames:l}),V(),G(O,q),F[X]=!0},function(e,t,n){"use strict";var i=n(158),r=n(71);e.exports=i?{}.toString:function(){return"[object "+r(this)+"]"}},function(e,t,n){var i=n(17),r=n(52),a=n(39),o=n(56),s=n(109),l=(n=n(193),s("string-to-symbol-registry")),c=s("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!n},{for:function(e){var t;e=o(e);return a(l,e)?l[e]:(t=r("Symbol")(e),l[e]=t,c[t]=e,t)}})},function(e,t,n){var i=n(17),r=n(39),a=n(129),o=n(98),s=n(109),l=(n=n(193),s("symbol-to-string-registry"));i({target:"Symbol",stat:!0,forced:!n},{keyFor:function(e){if(!a(e))throw TypeError(o(e)+" is not a symbol");if(r(l,e))return l[e]}})},function(e,t,n){var i=n(17),r=n(96),a=n(22),o=n(135),s=n(55);i({target:"Object",stat:!0,forced:!r||a((function(){o.f(1)}))},{getOwnPropertySymbols:function(e){var t=o.f;return t?t(s(e)):[]}})},function(e,t,n){n(40)("asyncIterator")},function(e,t){},function(e,t,n){n(40)("hasInstance")},function(e,t,n){n(40)("isConcatSpreadable")},function(e,t,n){n(40)("match")},function(e,t,n){n(40)("matchAll")},function(e,t,n){n(40)("replace")},function(e,t,n){n(40)("search")},function(e,t,n){n(40)("species")},function(e,t,n){n(40)("split")},function(e,t,n){var i=n(52),r=n(40);n=n(72);r("toStringTag"),n(i("Symbol"),"Symbol")},function(e,t,n){n(40)("unscopables")},function(e,t,n){var i=n(29);n(72)(i.JSON,"JSON",!0)},function(e,t){},function(e,t){},function(e,t,n){var i=n(38),r=String,a=TypeError;e.exports=function(e){if("object"==typeof e||i(e))return e;throw a("Can't set "+r(e)+" as a prototype")}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){e.exports=n(287)},function(e,t,n){n=n(288),e.exports=n},function(e,t,n){n=n(289),e.exports=n},function(e,t,n){var i=n(290);n(67),e.exports=i},function(e,t,n){n(68),n(91),n=n(117),e.exports=n},function(e,t,n){n(292),n=n(24),e.exports=n.Array.isArray},function(e,t,n){n(17)({target:"Array",stat:!0},{isArray:n(90)})},function(e,t,n){var i=n(33),r=n(294),a=Array.prototype;e.exports=function(e){var t=e.slice;return e===a||i(a,e)&&t===a.slice?r:t}},function(e,t,n){n(295),n=n(41),e.exports=n("Array").slice},function(e,t,n){"use strict";var i=n(17),r=n(90),a=n(131),o=n(34),s=n(112),l=n(61),c=n(64),u=n(110),h=n(35),d=n(111),f=n(114),p=(n=d("slice"),h("species")),m=Array,v=Math.max;i({target:"Array",proto:!0,forced:!n},{slice:function(e,t){var n,i,h,d=c(this),g=l(d),y=s(e,g),x=s(void 0===t?g:t,g);if(r(d)&&(n=d.constructor,(n=a(n)&&(n===m||r(n.prototype))||o(n)&&null===(n=n[p])?void 0:n)===m||void 0===n))return f(d,y,x);for(i=new(void 0===n?m:n)(v(x-y,0)),h=0;y<x;y++,h++)y in d&&u(i,h,d[y]);return i.length=h,i}})},function(e,t,n){n(91),n(297),n=n(24),e.exports=n.Array.from},function(e,t,n){var i=n(17),r=n(205);i({target:"Array",stat:!0,forced:!n(208)((function(e){Array.from(e)}))},{from:r})},function(e,t,n){var i=n(50),r=n(206);e.exports=function(e,t,n,a){try{return a?t(i(n)[0],n[1]):t(n)}catch(t){r(e,"throw",t)}}},function(e,t,n){n(209),n=n(24),e.exports=n.setTimeout},function(e,t,n){var i=n(17),r=n(29);n=n(210)(r.setInterval,!0);i({global:!0,bind:!0,forced:r.setInterval!==n},{setInterval:n})},function(e,t){e.exports="function"==typeof Bun&&Bun&&"string"==typeof Bun.version},function(e,t,n){var i=n(17),r=n(29);n=n(210)(r.setTimeout,!0);i({global:!0,bind:!0,forced:r.setTimeout!==n},{setTimeout:n})},function(e,t,n){n=n(304),e.exports=n},function(e,t,n){var i=n(33),r=n(305),a=Array.prototype;e.exports=function(e){var t=e.findIndex;return e===a||i(a,e)&&t===a.findIndex?r:t}},function(e,t,n){n(306),n=n(41),e.exports=n("Array").findIndex},function(e,t,n){"use strict";var i=n(17),r=n(73).findIndex,a=(n=n(115),"findIndex"),o=!0;a in[]&&Array(1)[a]((function(){o=!1})),i({target:"Array",proto:!0,forced:o},{findIndex:function(e){return r(this,e,1<arguments.length?arguments[1]:void 0)}}),n(a)},function(e,t,n){n=n(308),e.exports=n},function(e,t,n){var i=n(33),r=n(309),a=Array.prototype;e.exports=function(e){var t=e.filter;return e===a||i(a,e)&&t===a.filter?r:t}},function(e,t,n){n(310),n=n(41),e.exports=n("Array").filter},function(e,t,n){"use strict";var i=n(17),r=n(73).filter;i({target:"Array",proto:!0,forced:!n(111)("filter")},{filter:function(e){return r(this,e,1<arguments.length?arguments[1]:void 0)}})},function(e,t,n){n=n(312),e.exports=n},function(e,t,n){var i=n(33),r=n(313),a=Array.prototype;e.exports=function(e){var t=e.map;return e===a||i(a,e)&&t===a.map?r:t}},function(e,t,n){n(314),n=n(41),e.exports=n("Array").map},function(e,t,n){"use strict";var i=n(17),r=n(73).map;i({target:"Array",proto:!0,forced:!n(111)("map")},{map:function(e){return r(this,e,1<arguments.length?arguments[1]:void 0)}})},function(e,t,n){n=n(316),e.exports=n},function(e,t,n){var i=n(33),r=n(317),a=Array.prototype;e.exports=function(e){var t=e.splice;return e===a||i(a,e)&&t===a.splice?r:t}},function(e,t,n){n(318),n=n(41),e.exports=n("Array").splice},function(e,t,n){"use strict";var i=n(17),r=n(55),a=n(112),o=n(99),s=n(61),l=n(319),c=n(186),u=n(157),h=n(110),d=n(211),f=(n=n(111)("splice"),Math.max),p=Math.min;i({target:"Array",proto:!0,forced:!n},{splice:function(e,t){var n,i,m,v,g,y,x=r(this),b=s(x),w=a(e,b);for(0===(e=arguments.length)?n=i=0:i=1===e?(n=0,b-w):(n=e-2,p(f(o(t),0),b-w)),c(b+n-i),m=u(x,i),v=0;v<i;v++)(g=w+v)in x&&h(m,v,x[g]);if(n<(m.length=i)){for(v=w;v<b-i;v++)y=v+n,(g=v+i)in x?x[y]=x[g]:d(x,y);for(v=b;b-i+n<v;v--)d(x,v-1)}else if(i<n)for(v=b-i;w<v;v--)y=v+n-1,(g=v+i-1)in x?x[y]=x[g]:d(x,y);for(v=0;v<n;v++)x[v+w]=arguments[v+2];return l(x,b-i+n),m}})},function(e,t,n){"use strict";var i=n(42),r=n(90),a=TypeError,o=Object.getOwnPropertyDescriptor;n=i&&!function(){if(void 0!==this)return 1;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=n?function(e,t){if(r(e)&&!o(e,"length").writable)throw a("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},function(e,t,n){n=n(321),e.exports=n},function(e,t,n){var i=n(33),r=n(322),a=Array.prototype;e.exports=function(e){var t=e.concat;return e===a||i(a,e)&&t===a.concat?r:t}},function(e,t,n){n(180),n=n(41),e.exports=n("Array").concat},function(e,t,n){n=n(324),e.exports=n},function(e,t,n){n(325),n=n(41),e.exports=n("Array").forEach},function(e,t,n){"use strict";var i=n(17);n=n(326);i({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},function(e,t,n){"use strict";var i=n(73).forEach;n=n(101)("forEach");e.exports=n?[].forEach:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}},function(e,t,n){n=n(328),e.exports=n},function(e,t,n){n(329),n=n(24),e.exports=n.Reflect.construct},function(e,t,n){var i=n(17),r=n(52),a=n(89),o=n(213),s=n(214),l=n(50),c=n(34),u=n(81),h=(n=n(22),r("Reflect","construct")),d=Object.prototype,f=[].push,p=n((function(){function e(){}return!(h((function(){}),[],e)instanceof e)})),m=!n((function(){h((function(){}))}));i({target:"Reflect",stat:!0,forced:r=p||m,sham:r},{construct:function(e,t){s(e),l(t);var n=arguments.length<3?e:s(arguments[2]);if(m&&!p)return h(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var i=[null];return a(f,i,t),new(a(o,e,i))}return i=n.prototype,n=u(c(i)?i:d),i=a(e,n,t),c(i)?i:n}})},function(e,t,n){e.exports=n(331)},function(e,t,n){var i=n(332);n(355),n(356),n(357),n(358),e.exports=i},function(e,t,n){n=n(216),e.exports=n},function(e,t,n){n(217),n(68),n(80),n(341),n(225),n(226),n(354),n(91),n=n(24),e.exports=n.Promise},function(e,t,n){"use strict";function i(e,t){var n,i=2<arguments.length?arguments[2]:void 0,r=a(w,this);return s?n=s(x(),r?o(this):w):(n=r?this:c(w),u(n,y,"Error")),void 0!==t&&u(n,"message",m(t)),g&&u(n,"stack",d(n.stack,1)),f(n,i),p(e,b,{that:r=[]}),u(n,"errors",r),n}var r=n(17),a=n(33),o=n(116),s=n(137),l=n(335),c=n(81),u=n(70),h=n(78),d=n(337),f=n(338),p=n(82),m=n(339),v=n(35),g=n(340),y=v("toStringTag"),x=Error,b=[].push,w=(s?s(i,x):l(i,x,{name:!0}),i.prototype=c(x.prototype,{constructor:h(1,i),message:h(1,""),name:h(1,"AggregateError")}));r({global:!0,constructor:!0,arity:2},{AggregateError:i})},function(e,t,n){var i=n(39),r=n(336),a=n(93),o=n(54);e.exports=function(e,t,n){for(var s=r(t),l=o.f,c=a.f,u=0;u<s.length;u++){var h=s[u];i(e,h)||n&&i(n,h)||l(e,h,c(t,h))}}},function(e,t,n){var i=n(52),r=n(26),a=n(134),o=n(135),s=n(50),l=r([].concat);e.exports=i("Reflect","ownKeys")||function(e){var t=a.f(s(e)),n=o.f;return n?l(t,n(e)):t}},function(e,t,n){n=n(26);var i=Error,r=n("".replace),a=(n=String(i("zxcasd").stack),/\n\s*at [^:]*:[^\n]*/),o=a.test(n);e.exports=function(e,t){if(o&&"string"==typeof e&&!i.prepareStackTrace)for(;t--;)e=r(e,a,"");return e}},function(e,t,n){var i=n(34),r=n(70);e.exports=function(e,t){i(t)&&"cause"in t&&r(e,"cause",t.cause)}},function(e,t,n){var i=n(56);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:i(e)}},function(e,t,n){var i=n(22),r=n(78);e.exports=!i((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",r(1,7)),7!==e.stack)}))},function(e,t,n){n(342),n(349),n(350),n(351),n(352),n(353)},function(e,t,n){"use strict";function i(e,t){var n,i,r,a,o=t.value,s=t.state==j,l=s?e.ok:e.fail,d=e.resolve,f=e.reject,p=e.domain;try{l?(s||(t.rejection===X&&(a=t,h(w,u,(function(){var e=a.facade;c?z.emit("rejectionHandled",e):$(G,e,a.value)}))),t.rejection=W),!0===l?n=o:(p&&p.enter(),n=l(o),p&&(p.exit(),r=!0)),n===e.promise?f(O("Promise-chain cycle")):(i=q(n))?h(i,n,d,f):d(n)):f(o)}catch(e){p&&!r&&p.exit(),f(e)}}var r,a,o,s=n(17),l=n(62),c=n(118),u=n(29),h=n(43),d=n(65),f=n(137),p=n(72),m=n(218),v=n(60),g=n(38),y=n(34),x=n(102),b=n(219),w=n(220).set,_=n(343),M=n(346),S=n(103),E=n(347),T=n(66),C=n(104),A=n(119),L=(n=n(83),"Promise"),P=A.CONSTRUCTOR,k=A.REJECTION_EVENT,D=(A=A.SUBCLASSING,T.getterFor(L)),I=T.set,R=(T=C&&C.prototype,C),N=T,O=u.TypeError,F=u.document,z=u.process,B=n.f,H=B,U=!!(F&&F.createEvent&&u.dispatchEvent),V="unhandledrejection",G="rejectionhandled",j=1,W=1,X=2,q=function(e){var t;return!(!y(e)||!g(t=e.then))&&t},Y=function(e,t){e.notified||(e.notified=!0,_((function(){for(var n,r,a=e.reactions;n=a.get();)i(n,e);e.notified=!1,t&&!e.rejection&&(r=e,h(w,u,(function(){var e=r.facade,t=r.value,n=Z(r);if(n&&(n=S((function(){c?z.emit("unhandledRejection",t,e):$(V,e,t)})),r.rejection=c||Z(r)?X:W,n.error))throw n.value})))})))},$=function(e,t,n){var i;U?((i=F.createEvent("Event")).promise=t,i.reason=n,i.initEvent(e,!1,!0),u.dispatchEvent(i)):i={promise:t,reason:n},!k&&(t=u["on"+e])?t(i):e===V&&M("Unhandled promise rejection",n)},Z=function(e){return e.rejection!==W&&!e.parent},Q=function(e,t,n){return function(i){e(t,i,n)}},K=function(e,t,n){e.done||(e.done=!0,(e=n||e).value=t,e.state=2,Y(e,!0))},J=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw O("Promise can't be resolved itself");var i=q(t);i?_((function(){var n={done:!1};try{h(i,t,Q(J,n,e),Q(K,n,e))}catch(t){K(n,t,e)}})):(e.value=t,e.state=j,Y(e,!1))}catch(t){K({done:!1},t,e)}}};if(P&&(N=(R=function(e){x(this,N),v(e),h(r,this);var t=D(this);try{e(Q(J,t),Q(K,t))}catch(e){K(t,e)}}).prototype,(r=function(e){I(this,{type:L,done:!1,notified:!1,parent:!1,reactions:new E,rejection:!1,state:0,value:void 0})}).prototype=d(N,"then",(function(e,t){var n=D(this),r=B(b(this,R));return n.parent=!0,r.ok=!g(e)||e,r.fail=g(t)&&t,r.domain=c?z.domain:void 0,0==n.state?n.reactions.add(r):_((function(){i(r,n)})),r.promise})),a=function(){var e=new r,t=D(e);this.promise=e,this.resolve=Q(J,t),this.reject=Q(K,t)},n.f=B=function(e){return e===R||void 0===e?new a:H(e)},!l)&&g(C)&&T!==Object.prototype){o=T.then,A||d(T,"then",(function(e,t){var n=this;return new R((function(e,t){h(o,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete T.constructor}catch(n){}f&&f(T,N)}s({global:!0,constructor:!0,wrap:!0,forced:P},{Promise:R}),p(R,L,!1,!0),m(L)},function(e,t,n){var i,r,a,o,s,l,c,u=n(29),h=n(69),d=n(93).f,f=n(220).set,p=n(221),m=n(344),v=n(345),g=n(118),y=(n=u.MutationObserver||u.WebKitMutationObserver,u.document),x=u.process,b=u.Promise;(d=(d=d(u,"queueMicrotask"))&&d.value)||(i=function(){var e,t;for(g&&(e=x.domain)&&e.exit();r;){t=r.fn,r=r.next;try{t()}catch(e){throw r?o():a=void 0,e}}a=void 0,e&&e.enter()},o=p||g||v||!n||!y?!m&&b&&b.resolve?((p=b.resolve(void 0)).constructor=b,c=h(p.then,p),function(){c(i)}):g?function(){x.nextTick(i)}:(f=h(f,u),function(){f(i)}):(s=!0,l=y.createTextNode(""),new n(i).observe(l,{characterData:!0}),function(){l.data=s=!s})),e.exports=d||function(e){e={fn:e,next:void 0},a&&(a.next=e),r||(r=e,o()),a=e}},function(e,t,n){var i=n(79);n=n(29);e.exports=/ipad|iphone|ipod/i.test(i)&&void 0!==n.Pebble},function(e,t,n){n=n(79),e.exports=/web0s(?!.*chrome)/i.test(n)},function(e,t,n){var i=n(29);e.exports=function(e,t){var n=i.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))}},function(e,t){function n(){this.head=null,this.tail=null}n.prototype={add:function(e){e={item:e,next:null},this.head?this.tail.next=e:this.head=e,this.tail=e},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}},e.exports=n},function(e,t,n){var i=n(222);n=n(118);e.exports=!i&&!n&&"object"==typeof window&&"object"==typeof document},function(e,t,n){"use strict";var i=n(17),r=n(43),a=n(60),o=n(83),s=n(103),l=n(82);i({target:"Promise",stat:!0,forced:n(223)},{all:function(e){var t=this,n=o.f(t),i=n.resolve,c=n.reject,u=s((function(){var n=a(t.resolve),o=[],s=0,u=1;l(e,(function(e){var a=s++,l=!1;u++,r(n,t,e).then((function(e){l||(l=!0,o[a]=e,--u)||i(o)}),c)})),--u||i(o)}));return u.error&&c(u.value),n.promise}})},function(e,t,n){"use strict";var i=n(17),r=n(62),a=n(119).CONSTRUCTOR,o=n(104),s=n(52),l=n(38),c=(n=n(65),o&&o.prototype);i({target:"Promise",proto:!0,forced:a,real:!0},{catch:function(e){return this.then(void 0,e)}}),!r&&l(o)&&(i=s("Promise").prototype.catch,c.catch!==i)&&n(c,"catch",i,{unsafe:!0})},function(e,t,n){"use strict";var i=n(17),r=n(43),a=n(60),o=n(83),s=n(103),l=n(82);i({target:"Promise",stat:!0,forced:n(223)},{race:function(e){var t=this,n=o.f(t),i=n.reject,c=s((function(){var o=a(t.resolve);l(e,(function(e){r(o,t,e).then(n.resolve,i)}))}));return c.error&&i(c.value),n.promise}})},function(e,t,n){"use strict";var i=n(17),r=n(43),a=n(83);i({target:"Promise",stat:!0,forced:n(119).CONSTRUCTOR},{reject:function(e){var t=a.f(this);return r(t.reject,void 0,e),t.promise}})},function(e,t,n){"use strict";var i=n(17),r=n(52),a=n(62),o=n(104),s=n(119).CONSTRUCTOR,l=n(224),c=r("Promise"),u=a&&!s;i({target:"Promise",stat:!0,forced:a||s},{resolve:function(e){return l(u&&this===c?o:this,e)}})},function(e,t,n){"use strict";var i=n(17),r=n(62),a=n(104),o=n(22),s=n(52),l=n(38),c=n(219),u=n(224),h=(n=n(65),a&&a.prototype);i({target:"Promise",proto:!0,real:!0,forced:!!a&&o((function(){h.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=c(this,s("Promise")),n=l(e);return this.then(n?function(n){return u(t,e()).then((function(){return n}))}:e,n?function(n){return u(t,e()).then((function(){throw n}))}:e)}}),!r&&l(a)&&(i=s("Promise").prototype.finally,h.finally!==i)&&n(h,"finally",i,{unsafe:!0})},function(e,t,n){n(217)},function(e,t,n){n(225)},function(e,t,n){"use strict";var i=n(17),r=n(83),a=n(103);i({target:"Promise",stat:!0,forced:!0},{try:function(e){var t=r.f(this);return((e=a(e)).error?t.reject:t.resolve)(e.value),t.promise}})},function(e,t,n){n(226)},function(e,t,n){e.exports=n(360)},function(e,t,n){n=n(361),e.exports=n},function(e,t,n){n=n(227),e.exports=n},function(e,t,n){n(363);var i=n(24).Object;n=e.exports=function(e,t,n){return i.defineProperty(e,t,n)};i.defineProperty.sham&&(n.sham=!0)},function(e,t,n){var i=n(17),r=n(42);n=n(54).f;i({target:"Object",stat:!0,forced:Object.defineProperty!==n,sham:!r},{defineProperty:n})},function(e,t,n){e.exports=n(365)},function(e,t,n){var i=n(366);n(368),n(369),n(370),n(371),n(372),n(373),n(374),e.exports=i},function(e,t,n){var i=n(179);n(367),e.exports=i},function(e,t,n){n(40)("dispose")},function(e,t,n){n(40)("asyncDispose")},function(e,t,n){n(40)("matcher")},function(e,t,n){n(40)("metadataKey")},function(e,t,n){n(40)("observable")},function(e,t,n){n(40)("metadata")},function(e,t,n){n(40)("patternMatch")},function(e,t,n){n(40)("replaceAll")},function(e,t,n){e.exports=n(376)},function(e,t,n){e.exports=n(377)},function(e,t,n){n=n(378),e.exports=n},function(e,t,n){n=n(379),e.exports=n},function(e,t,n){var i=n(380);n(67),e.exports=i},function(e,t,n){n(68),n(80),n(91),n(195),n=n(136),e.exports=n.f("iterator")},function(e,t,n){var i=n(382),r=n(92).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[i];if(void 0===n)return("string"===t?String:Number)(e);if(n=n.call(e,t||"default"),"object"!==r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){e.exports=n(383)},function(e,t,n){e.exports=n(384)},function(e,t,n){n=n(385),e.exports=n},function(e,t,n){n=n(386),e.exports=n},function(e,t,n){n=n(387),e.exports=n},function(e,t,n){n(388),n(196),n=n(136),e.exports=n.f("toPrimitive")},function(e,t){},function(e,t,n){var i=n(229);e.exports=function(e){if(i(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){e.exports=n(391)},function(e,t,n){n=n(392),e.exports=n},function(e,t,n){n=n(202),e.exports=n},function(e,t,n){var i=n(140),r=n(13);e.exports=function(e,t){var n=null==e?null:void 0!==i&&r(e)||e["@@iterator"];if(null!=n){var a,o,s,l,c=[],u=!0,h=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(a=s.call(n)).done)&&(c.push(a.value),c.length!==t);u=!0);}catch(e){h=!0,o=e}finally{try{if(!u&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw o}}return c}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){e.exports=n(395)},function(e,t,n){n=n(396),e.exports=n},function(e,t,n){n=n(203),e.exports=n},function(e,t,n){e.exports=n(398)},function(e,t,n){n=n(399),e.exports=n},function(e,t,n){n=n(204),e.exports=n},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){e.exports=n(402)},function(e,t,n){e.exports=n(403)},function(e,t,n){n=n(404),e.exports=n},function(e,t,n){n=n(405),e.exports=n},function(e,t,n){n=n(406),e.exports=n},function(e,t,n){n(407),n=n(24),e.exports=n.Reflect.get},function(e,t,n){var i=n(17),r=n(43),a=n(34),o=n(50),s=n(408),l=n(93),c=n(116);i({target:"Reflect",stat:!0},{get:function e(t,n){var i,u=arguments.length<3?t:arguments[2];return o(t)===u?t[n]:(i=l.f(t,n))?s(i)?i.value:void 0===i.get?void 0:r(i.get,u):a(i=c(t))?e(i,n,u):void 0}})},function(e,t,n){var i=n(39);e.exports=function(e){return void 0!==e&&(i(e,"value")||i(e,"writable"))}},function(e,t,n){e.exports=n(410)},function(e,t,n){n=n(411),e.exports=n},function(e,t,n){n=n(234),e.exports=n},function(e,t,n){var i=n(33),r=n(413),a=Function.prototype;e.exports=function(e){var t=e.bind;return e===a||i(a,e)&&t===a.bind?r:t}},function(e,t,n){n(414),n=n(41),e.exports=n("Function").bind},function(e,t,n){var i=n(17);n=n(213);i({target:"Function",proto:!0,forced:Function.bind!==n},{bind:n})},function(e,t,n){e.exports=n(416)},function(e,t,n){e.exports=n(417)},function(e,t,n){n=n(418),e.exports=n},function(e,t,n){n=n(419),e.exports=n},function(e,t,n){n=n(420),e.exports=n},function(e,t,n){n(421);var i=n(24).Object;n=e.exports=function(e,t){return i.getOwnPropertyDescriptor(e,t)};i.getOwnPropertyDescriptor.sham&&(n.sham=!0)},function(e,t,n){var i=n(17),r=n(22),a=n(64),o=n(93).f;n=n(42),r=r((function(){o(1)}));i({target:"Object",stat:!0,forced:!n||r,sham:!n},{getOwnPropertyDescriptor:function(e,t){return o(a(e),t)}})},function(e,t,n){var i=n(12);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){e.exports=n(424)},function(e,t,n){n=n(425),e.exports=n},function(e,t,n){n=n(426),e.exports=n},function(e,t,n){n=n(427),e.exports=n},function(e,t,n){n(428),n=n(24),e.exports=n.Object.setPrototypeOf},function(e,t,n){n(17)({target:"Object",stat:!0},{setPrototypeOf:n(137)})},function(e,t,n){e.exports=n(430)},function(e,t,n){n=n(431),e.exports=n},function(e,t,n){n=n(432),e.exports=n},function(e,t,n){n=n(433),e.exports=n},function(e,t,n){n(434),n=n(24),e.exports=n.Object.getPrototypeOf},function(e,t,n){var i=n(17),r=n(22),a=n(55),o=n(116);n=n(200);i({target:"Object",stat:!0,forced:r((function(){o(1)})),sham:!n},{getPrototypeOf:function(e){return o(a(e))}})},function(e,t,n){e.exports=n(436)},function(e,t,n){n=n(437),e.exports=n},function(e,t,n){n=n(237),e.exports=n},function(e,t,n){n(439);var i=n(24).Object;e.exports=function(e,t){return i.create(e,t)}},function(e,t,n){n(17)({target:"Object",stat:!0,sham:!n(42)},{create:n(81)})},function(e,t,n){var i=n(167),r=n(166);function a(t,n){var o;return e.exports=a=i?r(o=i).call(o):function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,a(t,n)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var i=n(92).default,r=n(139),a=n(140),o=n(236),s=n(235),l=n(442),c=n(167),u=n(215),h=n(446),d=n(231);e.exports=function(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */e.exports=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,f=n.hasOwnProperty,p=r||function(e,t,n){e[t]=n.value},m="function"==typeof a?a:{},v=m.iterator||"@@iterator",g=m.asyncIterator||"@@asyncIterator",y=m.toStringTag||"@@toStringTag";function x(e,t,n){return r(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{x({},"")}catch(n){x=function(e,t,n){return e[t]=n}}function b(e,t,n,i){var r,a,s,l;t=t&&t.prototype instanceof M?t:M,t=o(t.prototype),i=new D(i||[]);return p(t,"_invoke",{value:(r=e,a=n,s=i,l="suspendedStart",function(e,t){if("executing"===l)throw new Error("Generator is already running");if("completed"===l){if("throw"===e)throw t;return{value:void 0,done:!0}}for(s.method=e,s.arg=t;;){var n=s.delegate;if(n&&(n=function e(t,n){var i=n.method,r=t.iterator[i];return void 0===r?(n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=void 0,e(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),_):"throw"===(i=w(r,t.iterator,n.arg)).type?(n.method="throw",n.arg=i.arg,n.delegate=null,_):(r=i.arg)?r.done?(n[t.resultName]=r.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,_):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,_)}(n,s))){if(n===_)continue;return n}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if("suspendedStart"===l)throw l="completed",s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);if(l="executing","normal"===(n=w(r,a,s)).type){if(l=s.done?"completed":"suspendedYield",n.arg===_)continue;return{value:n.arg,done:s.done}}"throw"===n.type&&(l="completed",s.method="throw",s.arg=n.arg)}})}),t}function w(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=b;var _={};function M(){}function S(){}function E(){}x(m={},v,(function(){return this}));var T=s&&s(s(I([]))),C=(T&&T!==n&&f.call(T,v)&&(m=T),E.prototype=M.prototype=o(m));function A(e){var t;l(t=["next","throw","return"]).call(t,(function(t){x(e,t,(function(e){return this._invoke(t,e)}))}))}function L(e,t){var n;p(this,"_invoke",{value:function(r,a){function o(){return new t((function(n,o){!function n(r,a,o,s){var l;if("throw"!==(r=w(e[r],e,a)).type)return(a=(l=r.arg).value)&&"object"==i(a)&&f.call(a,"__await")?t.resolve(a.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(a).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,s)}));s(r.arg)}(r,a,n,o)}))}return n=n?n.then(o,o):o()}})}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],l(e).call(e,P,this),this.reset(!0)}function I(e){if(e){var t,n=e[v];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return t=-1,(n=function n(){for(;++t<e.length;)if(f.call(e,t))return n.value=e[t],n.done=!1,n;return n.value=void 0,n.done=!0,n}).next=n}return{next:R}}function R(){return{value:void 0,done:!0}}return p(C,"constructor",{value:S.prototype=E,configurable:!0}),p(E,"constructor",{value:S,configurable:!0}),S.displayName=x(E,y,"GeneratorFunction"),t.isGeneratorFunction=function(e){return!!(e="function"==typeof e&&e.constructor)&&(e===S||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(e){return c?c(e,E):(e.__proto__=E,x(e,y,"GeneratorFunction")),e.prototype=o(C),e},t.awrap=function(e){return{__await:e}},A(L.prototype),x(L.prototype,g,(function(){return this})),t.AsyncIterator=L,t.async=function(e,n,i,r,a){void 0===a&&(a=u);var o=new L(b(e,n,i,r),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},A(C),x(C,y,"Generator"),x(C,v,(function(){return this})),x(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t,n=Object(e),i=[];for(t in n)i.push(t);return h(i).call(i),function e(){for(;i.length;){var t=i.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},t.values=I,D.prototype={constructor:D,reset:function(e){var t;if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,l(t=this.tryEntries).call(t,k),!e)for(var n in this)"t"===n.charAt(0)&&f.call(this,n)&&!isNaN(+d(n).call(n,1))&&(this[n]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,i){return a.type="throw",a.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var i=this.tryEntries.length-1;0<=i;--i){var r=this.tryEntries[i],a=r.completion;if("root"===r.tryLoc)return n("end");if(r.tryLoc<=this.prev){var o=f.call(r,"catchLoc"),s=f.call(r,"finallyLoc");if(o&&s){if(this.prev<r.catchLoc)return n(r.catchLoc,!0);if(this.prev<r.finallyLoc)return n(r.finallyLoc)}else if(o){if(this.prev<r.catchLoc)return n(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return n(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&f.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}var a=(r=r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc?null:r)?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,_):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),_},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),_}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,i,r=this.tryEntries[t];if(r.tryLoc===e)return"throw"===(n=r.completion).type&&(i=n.arg,k(r)),i}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),_}},t},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){e.exports=n(443)},function(e,t,n){e.exports=n(444)},function(e,t,n){n=n(445),e.exports=n},function(e,t,n){n=n(212),e.exports=n},function(e,t,n){e.exports=n(447)},function(e,t,n){e.exports=n(448)},function(e,t,n){n=n(449),e.exports=n},function(e,t,n){n=n(238),e.exports=n},function(e,t,n){var i=n(33),r=n(451),a=Array.prototype;e.exports=function(e){var t=e.reverse;return e===a||i(a,e)&&t===a.reverse?r:t}},function(e,t,n){n(452),n=n(41),e.exports=n("Array").reverse},function(e,t,n){"use strict";var i=n(17),r=n(26),a=n(90),o=r([].reverse);n=[1,2];i({target:"Array",proto:!0,forced:String(n)===String(n.reverse())},{reverse:function(){return a(this)&&(this.length=this.length),o(this)}})},function(e,t,n){n=n(454),e.exports=n},function(e,t,n){n(455),n=n(24),e.exports=n.Object.assign},function(e,t,n){var i=n(17);n=n(239);i({target:"Object",stat:!0,arity:2,forced:Object.assign!==n},{assign:n})},function(e,t,n){n=n(457),e.exports=n},function(e,t,n){var i=n(33),r=n(458),a=Array.prototype;e.exports=function(e){var t=e.indexOf;return e===a||i(a,e)&&t===a.indexOf?r:t}},function(e,t,n){n(459),n=n(41),e.exports=n("Array").indexOf},function(e,t,n){"use strict";var i=n(17),r=n(152),a=n(160).indexOf,o=(n=n(101),r([].indexOf)),s=!!o&&1/o([1],1,-0)<0;r=n("indexOf");i({target:"Array",proto:!0,forced:s||!r},{indexOf:function(e){var t=1<arguments.length?arguments[1]:void 0;return s?o(this,e,t)||0:a(this,e,t)}})},function(e,t,n){n=n(461),e.exports=n},function(e,t,n){var i=n(33),r=n(462),a=String.prototype;e.exports=function(e){var t=e.repeat;return"string"==typeof e||e===a||i(a,e)&&t===a.repeat?r:t}},function(e,t,n){n(463),n=n(41),e.exports=n("String").repeat},function(e,t,n){n(17)({target:"String",proto:!0},{repeat:n(464)})},function(e,t,n){"use strict";var i=n(99),r=n(56),a=n(94),o=RangeError;e.exports=function(e){var t=r(a(this)),n="",s=i(e);if(s<0||s==1/0)throw o("Wrong number of repetitions");for(;0<s;(s>>>=1)&&(t+=t))1&s&&(n+=t);return n}},function(e,t,n){n=n(466),e.exports=n},function(e,t,n){n(467),e.exports=Math.pow(2,-52)},function(e,t,n){n(17)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{EPSILON:Math.pow(2,-52)})},function(e,t,n){n=n(469),e.exports=n},function(e,t,n){n(470);var i=n(24).Object;n=e.exports=function(e,t){return i.defineProperties(e,t)};i.defineProperties.sham&&(n.sham=!0)},function(e,t,n){var i=n(17),r=n(42);n=n(159).f;i({target:"Object",stat:!0,forced:Object.defineProperties!==n,sham:!r},{defineProperties:n})},function(e,t,n){n=n(472),e.exports=n},function(e,t,n){n(194);var i=n(24),r=n(89);i.JSON||(i.JSON={stringify:JSON.stringify}),e.exports=function(e,t,n){return r(i.JSON.stringify,null,arguments)}},function(e,t,n){n=n(474),e.exports=n},function(e,t,n){n(475),n=n(24),e.exports=n.parseFloat},function(e,t,n){var i=n(17);n=n(476);i({global:!0,forced:parseFloat!=n},{parseFloat:n})},function(e,t,n){var i=n(29),r=n(22),a=n(26),o=n(56),s=n(168).trim,l=(n=n(141),a("".charAt)),c=i.parseFloat,u=(a=i.Symbol)&&a.iterator;i=1/c(n+"-0")!=-1/0||u&&!r((function(){c(Object(u))}));e.exports=i?function(e){e=s(o(e));var t=c(e);return 0===t&&"-"==l(e,0)?-0:t}:c},function(e,t,n){n=n(478),e.exports=n},function(e,t,n){n(479),n=n(24),e.exports=n.parseInt},function(e,t,n){var i=n(17);n=n(480);i({global:!0,forced:parseInt!=n},{parseInt:n})},function(e,t,n){var i=n(29),r=n(22),a=n(26),o=n(56),s=n(168).trim,l=(n=n(141),i.parseInt),c=(i=i.Symbol)&&i.iterator,u=/^[+-]?0x/i,h=a(u.exec);i=8!==l(n+"08")||22!==l(n+"0x16")||c&&!r((function(){l(Object(c))}));e.exports=i?function(e,t){return e=s(o(e)),l(e,t>>>0||(h(u,e)?16:10))}:l},function(e,t,n){n=n(482),e.exports=n},function(e,t,n){n(483),n=n(24),e.exports=n.Object.keys},function(e,t,n){var i=n(17),r=n(55),a=n(132);i({target:"Object",stat:!0,forced:n(22)((function(){a(1)}))},{keys:function(e){return a(r(e))}})},function(e,t,n){n=n(485),e.exports=n},function(e,t,n){n(486),n=n(24),e.exports=n.Number.isInteger},function(e,t,n){n(17)({target:"Number",stat:!0},{isInteger:n(487)})},function(e,t,n){var i=n(34),r=Math.floor;e.exports=Number.isInteger||function(e){return!i(e)&&isFinite(e)&&r(e)===e}},function(e,t,n){var i=n(489);n(67),e.exports=i},function(e,t,n){n(68),n(80),n(490),n=n(24),e.exports=n.WeakMap},function(e,t,n){n(491)},function(e,t,n){"use strict";function i(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}var r,a,o,s,l=n(169),c=n(29),u=n(26),h=n(142),d=n(120),f=n(170),p=n(494),m=n(34),v=n(66).enforce,g=n(22),y=(n=n(192),Object),x=Array.isArray,b=y.isExtensible,w=y.isFrozen,_=y.isSealed,M=y.freeze,S=y.seal,E={},T={},C=(y=!c.ActiveXObject&&"ActiveXObject"in c,f("WeakMap",i,p)),A=u((c=C.prototype).set);n&&(y?(r=p.getConstructor(i,"WeakMap",!0),d.enable(),a=u(c.delete),o=u(c.has),s=u(c.get),h(c,{delete:function(e){var t;return m(e)&&!b(e)?((t=v(this)).frozen||(t.frozen=new r),a(this,e)||t.frozen.delete(e)):a(this,e)},has:function(e){var t;return m(e)&&!b(e)?((t=v(this)).frozen||(t.frozen=new r),o(this,e)||t.frozen.has(e)):o(this,e)},get:function(e){var t;return!m(e)||b(e)||((t=v(this)).frozen||(t.frozen=new r),o(this,e))?s(this,e):t.frozen.get(e)},set:function(e,t){var n;return!m(e)||b(e)||((n=v(this)).frozen||(n.frozen=new r),o(this,e))?A(this,e,t):n.frozen.set(e,t),this}})):l&&g((function(){var e=M([]);return A(new C,e,1),!w(e)}))&&h(c,{set:function(e,t){var n;return x(e)&&(w(e)?n=E:_(e)&&(n=T)),A(this,e,t),n==E&&M(e),n==T&&S(e),this}}))},function(e,t,n){var i=n(22),r=n(34),a=n(77),o=n(493),s=Object.isExtensible;n=i((function(){s(1)}));e.exports=n||o?function(e){return!(!r(e)||o&&"ArrayBuffer"==a(e))&&(!s||s(e))}:s},function(e,t,n){n=n(22),e.exports=n((function(){var e;"function"==typeof ArrayBuffer&&(e=new ArrayBuffer(8),Object.isExtensible(e))&&Object.defineProperty(e,"a",{value:8})}))},function(e,t,n){"use strict";function i(e){return e.frozen||(e.frozen=new r)}function r(){this.entries=[]}function a(e,t){return y(e.entries,(function(e){return e[0]===t}))}var o=n(26),s=n(142),l=n(120).getWeakData,c=n(102),u=n(50),h=n(95),d=n(34),f=n(82),p=n(73),m=n(39),v=(n=n(66)).set,g=n.getterFor,y=p.find,x=p.findIndex,b=o([].splice),w=0;r.prototype={get:function(e){if(e=a(this,e))return e[1]},has:function(e){return!!a(this,e)},set:function(e,t){var n=a(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=x(this.entries,(function(t){return t[0]===e}));return~t&&b(this.entries,t,1),!!~t}},e.exports={getConstructor:function(e,t,n,r){function a(e,t,n){var r=p(e),a=l(u(t),!0);return!0===a?i(r).set(t,n):a[r.id]=n,e}var o=(e=e((function(e,i){c(e,o),v(e,{type:t,id:w++,frozen:void 0}),h(i)||f(i,e[r],{that:e,AS_ENTRIES:n})}))).prototype,p=g(t);return s(o,{delete:function(e){var t,n=p(this);return!!d(e)&&(!0===(t=l(e))?i(n).delete(e):t&&m(t,n.id)&&delete t[n.id])},has:function(e){var t,n=p(this);return!!d(e)&&(!0===(t=l(e))?i(n).has(e):t&&m(t,n.id))}}),s(o,n?{get:function(e){var t,n=p(this);if(d(e))return!0===(t=l(e))?i(n).get(e):t?t[n.id]:void 0},set:function(e,t){return a(this,e,t)}}:{add:function(e){return a(this,e,!0)}}),e}}},function(e,t,n){n=n(496),e.exports=n},function(e,t,n){var i=n(33),r=n(497),a=Array.prototype;e.exports=function(e){var t=e.sort;return e===a||i(a,e)&&t===a.sort?r:t}},function(e,t,n){n(498),n=n(41),e.exports=n("Array").sort},function(e,t,n){"use strict";var i=n(17),r=n(26),a=n(60),o=n(55),s=n(61),l=n(211),c=n(56),u=n(22),h=n(240),d=n(101),f=n(499),p=n(500),m=n(97),v=n(501),g=[],y=r(g.sort),x=r(g.push),b=(n=u((function(){g.sort(void 0)})),r=u((function(){g.sort(null)})),d=d("sort"),!u((function(){if(m)return m<70;if(!(f&&3<f)){if(p)return!0;if(v)return v<603;for(var e,t,n,i="",r=65;r<76;r++){switch(e=String.fromCharCode(r),r){case 66:case 69:case 70:case 72:t=3;break;case 68:case 71:t=4;break;default:t=2}for(n=0;n<47;n++)g.push({k:e+n,v:t})}for(g.sort((function(e,t){return t.v-e.v})),n=0;n<g.length;n++)e=g[n].k.charAt(0),i.charAt(i.length-1)!==e&&(i+=e);return"DGBEFHACIJK"!==i}})));i({target:"Array",proto:!0,forced:n||!r||!d||!b},{sort:function(e){void 0!==e&&a(e);var t=o(this);if(b)return void 0===e?y(t):y(t,e);for(var n,i,r=[],u=s(t),d=0;d<u;d++)d in t&&x(r,t[d]);for(h(r,(i=e,function(e,t){return void 0===t?-1:void 0===e?1:void 0!==i?+i(e,t)||0:c(e)>c(t)?1:-1})),n=s(r),d=0;d<n;)t[d]=r[d++];for(;d<u;)l(t,d++);return t}})},function(e,t,n){n=n(79).match(/firefox\/(\d+)/i),e.exports=!!n&&+n[1]},function(e,t,n){n=n(79),e.exports=/MSIE|Trident/.test(n)},function(e,t,n){n=n(79).match(/AppleWebKit\/(\d+)\./),e.exports=!!n&&+n[1]},function(e,t,n){n=n(503),e.exports=n},function(e,t,n){n(504),e.exports=9007199254740991},function(e,t,n){n(17)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){n=n(506),e.exports=n},function(e,t,n){var i=n(33),r=n(507),a=String.prototype;e.exports=function(e){var t=e.trim;return"string"==typeof e||e===a||i(a,e)&&t===a.trim?r:t}},function(e,t,n){n(508),n=n(41),e.exports=n("String").trim},function(e,t,n){"use strict";var i=n(17),r=n(168).trim;i({target:"String",proto:!0,forced:n(509)("trim")},{trim:function(){return r(this)}})},function(e,t,n){var i=n(197).PROPER,r=n(22),a=n(141);e.exports=function(e){return r((function(){return!!a[e]()||"​᠎"!=="​᠎"[e]()||i&&a[e].name!==e}))}},function(e,t,n){n=n(511),e.exports=n},function(e,t,n){n(512),n=n(24),e.exports=n.Math.log2},function(e,t,n){n=n(17);var i=Math.log,r=Math.LN2;n({target:"Math",stat:!0},{log2:function(e){return i(e)/r}})},function(e,t,n){n(67);var i=n(71),r=n(39),a=n(33),o=n(514),s=Array.prototype,l={DOMTokenList:!0,NodeList:!0};e.exports=function(e){var t=e.values;return e===s||a(s,e)&&t===s.values||r(l,i(e))?o:t}},function(e,t,n){n=n(515),e.exports=n},function(e,t,n){n(68),n(80),n=n(41),e.exports=n("Array").values},function(e,t,n){var i=n(517);n(67),e.exports=i},function(e,t,n){n(68),n(518),n(80),n(91),n=n(24),e.exports=n.Map},function(e,t,n){n(519)},function(e,t,n){"use strict";n(170)("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(241))},function(e,t,n){n=n(521),e.exports=n},function(e,t,n){n(522),n=n(24),e.exports=n.Math.sign},function(e,t,n){n(17)({target:"Math",stat:!0},{sign:n(523)})},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t,n){n=n(525),e.exports=n},function(e,t,n){n(526),n=n(24),e.exports=n.Object.freeze},function(e,t,n){var i=n(17),r=n(169),a=n(22),o=n(34),s=n(120).onFreeze,l=Object.freeze;i({target:"Object",stat:!0,forced:a((function(){l(1)})),sham:!r},{freeze:function(e){return l&&o(e)?l(s(e)):e}})},function(e,t,n){n=n(528),e.exports=n},function(e,t,n){var i=n(33),r=n(529),a=Array.prototype;e.exports=function(e){var t=e.find;return e===a||i(a,e)&&t===a.find?r:t}},function(e,t,n){n(530),n=n(41),e.exports=n("Array").find},function(e,t,n){"use strict";var i=n(17),r=n(73).find,a=(n=n(115),!0);"find"in[]&&Array(1).find((function(){a=!1})),i({target:"Array",proto:!0,forced:a},{find:function(e){return r(this,e,1<arguments.length?arguments[1]:void 0)}}),n("find")},function(e,t,n){n(67);var i=n(71),r=n(39),a=n(33),o=n(532),s=Array.prototype,l={DOMTokenList:!0,NodeList:!0};e.exports=function(e){var t=e.keys;return e===s||a(s,e)&&t===s.keys||r(l,i(e))?o:t}},function(e,t,n){n=n(533),e.exports=n},function(e,t,n){n(68),n(80),n=n(41),e.exports=n("Array").keys},function(e,t,n){n=n(535),e.exports=n},function(e,t,n){var i=n(33),r=n(536),a=Array.prototype;e.exports=function(e){var t=e.lastIndexOf;return e===a||i(a,e)&&t===a.lastIndexOf?r:t}},function(e,t,n){n(537),n=n(41),e.exports=n("Array").lastIndexOf},function(e,t,n){n(17)({target:"Array",proto:!0,forced:(n=n(538))!==[].lastIndexOf},{lastIndexOf:n})},function(e,t,n){"use strict";var i=n(89),r=n(64),a=n(99),o=n(61),s=(n=n(101),Math.min),l=[].lastIndexOf,c=!!l&&1/[1].lastIndexOf(1,-0)<0;n=n("lastIndexOf");e.exports=c||!n?function(e){if(c)return i(l,this,arguments)||0;var t=r(this),n=o(t),u=n-1;for((u=1<arguments.length?s(u,a(arguments[1])):u)<0&&(u=n+u);0<=u;u--)if(u in t&&t[u]===e)return u||0;return-1}:l},function(e,t,n){n=n(540),e.exports=n},function(e,t,n){var i=n(33),r=n(541),a=n(543),o=Array.prototype,s=String.prototype;e.exports=function(e){var t=e.includes;return e===o||i(o,e)&&t===o.includes?r:"string"==typeof e||e===s||i(s,e)&&t===s.includes?a:t}},function(e,t,n){n(542),n=n(41),e.exports=n("Array").includes},function(e,t,n){"use strict";var i=n(17),r=n(160).includes,a=n(22);n=n(115);i({target:"Array",proto:!0,forced:a((function(){return!Array(1).includes()}))},{includes:function(e){return r(this,e,1<arguments.length?arguments[1]:void 0)}}),n("includes")},function(e,t,n){n(544),n=n(41),e.exports=n("String").includes},function(e,t,n){"use strict";var i=n(17),r=n(26),a=n(545),o=n(94),s=n(56),l=(n=n(547),r("".indexOf));i({target:"String",proto:!0,forced:!n("includes")},{includes:function(e){return!!~l(s(o(this)),s(a(e)),1<arguments.length?arguments[1]:void 0)}})},function(e,t,n){var i=n(546),r=TypeError;e.exports=function(e){if(i(e))throw r("The method doesn't accept regular expressions");return e}},function(e,t,n){var i=n(34),r=n(77),a=n(35)("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==r(e))}},function(e,t,n){var i=n(35)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(e){}}return!1}},function(e,t,n){"use strict";t.byteLength=function(e){return 3*((e=c(e))[0]+(e=e[1]))/4-e},t.toByteArray=function(e){var t,n,i=(o=c(e))[0],o=o[1],s=new a(function(e,t){return 3*(e+t)/4-t}(i,o)),l=0,u=0<o?i-4:i;for(n=0;n<u;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],s[l++]=t>>16&255,s[l++]=t>>8&255,s[l++]=255&t;return 2===o&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,s[l++]=255&t),1===o&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,s[l++]=t>>8&255,s[l++]=255&t),s},t.fromByteArray=function(e){for(var t,n=e.length,r=n%3,a=[],o=0,s=n-r;o<s;o+=16383)a.push(function(e,t,n){for(var r,a=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),a.push(function(e){return i[e>>18&63]+i[e>>12&63]+i[e>>6&63]+i[63&e]}(r));return a.join("")}(e,o,s<o+16383?s:o+16383));return 1==r?(t=e[n-1],a.push(i[t>>2]+i[t<<4&63]+"==")):2==r&&(t=(e[n-2]<<8)+e[n-1],a.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+"=")),a.join("")};for(var i=[],r=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=o.length;s<l;++s)i[s]=o[s],r[o.charCodeAt(s)]=s;function c(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");return t=(e=-1===(e=e.indexOf("="))?t:e)===t?0:4-e%4,[e,t]}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,n,i,r){var a,o,s=8*r-i-1,l=(1<<s)-1,c=l>>1,u=-7,h=n?r-1:0,d=n?-1:1;r=e[t+h];for(h+=d,a=r&(1<<-u)-1,r>>=-u,u+=s;0<u;a=256*a+e[t+h],h+=d,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=i;0<u;o=256*o+e[t+h],h+=d,u-=8);if(0===a)a=1-c;else{if(a===l)return o?NaN:1/0*(r?-1:1);o+=Math.pow(2,i),a-=c}return(r?-1:1)*o*Math.pow(2,a-i)},t.write=function(e,t,n,i,r,a){var o,s,l=8*a-r-1,c=(1<<l)-1,u=c>>1,h=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,d=i?0:a-1,f=i?1:-1;a=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(i=Math.pow(2,-o))<1&&(o--,i*=2),2<=(t+=1<=o+u?h/i:h*Math.pow(2,1-u))*i&&(o++,i/=2),c<=o+u?(s=0,o=c):1<=o+u?(s=(t*i-1)*Math.pow(2,r),o+=u):(s=t*Math.pow(2,u-1)*Math.pow(2,r),o=0));8<=r;e[n+d]=255&s,d+=f,s/=256,r-=8);for(o=o<<r|s,l+=r;0<l;e[n+d]=255&o,d+=f,o/=256,l-=8);e[n+d-f]|=128*a}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){(function(e,t){!function(e,n){"use strict";var i,r,a,o,s,l,c,u;function h(e){delete r[e]}function d(e){if(a)setTimeout(d,0,e);else{var t=r[e];if(t){a=!0;try{var n=t,i=n.callback,o=n.args;switch(o.length){case 0:i();break;case 1:i(o[0]);break;case 2:i(o[0],o[1]);break;case 3:i(o[0],o[1],o[2]);break;default:i.apply(void 0,o)}}finally{h(e),a=!1}}}}e.setImmediate||(i=1,a=!(r={}),o=e.document,u=(u=Object.getPrototypeOf&&Object.getPrototypeOf(e))&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?s=function(e){t.nextTick((function(){d(e)}))}:function(){var t,n;if(e.postMessage&&!e.importScripts)return t=!0,n=e.onmessage,e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}()?function(){function t(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(n)&&d(+t.data.slice(n.length))}var n="setImmediate$"+Math.random()+"$";e.addEventListener?e.addEventListener("message",t,!1):e.attachEvent("onmessage",t),s=function(t){e.postMessage(n+t,"*")}}():s=e.MessageChannel?((c=new MessageChannel).port1.onmessage=function(e){d(e.data)},function(e){c.port2.postMessage(e)}):o&&"onreadystatechange"in o.createElement("script")?(l=o.documentElement,function(e){var t=o.createElement("script");t.onreadystatechange=function(){d(e),t.onreadystatechange=null,l.removeChild(t),t=null},l.appendChild(t)}):function(e){setTimeout(d,0,e)},u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];return r[i]={callback:e,args:t},s(i),i++},u.clearImmediate=h)}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(88),n(143))},function(e,t,n){var i={"./MobileStyle/SvgIcon.scss":623,"./PCStyle/SvgIcon.scss":625};function r(e){return e=a(e),n(e)}function a(e){if(n.o(i,e))return i[e];throw(e=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",e}r.keys=function(){return Object.keys(i)},r.resolve=a,(e.exports=r).id=552},function(e,t,n){"use strict";t.__esModule=!0,t.PopupManager=void 0;var i=l(n(57)),r=l(n(554)),a=l(n(555)),o=l(n(556)),s=n(244);function l(e){return e&&e.__esModule?e:{default:e}}var c,u=1;t.default={props:{visible:{type:Boolean,default:!1},openDelay:{},closeDelay:{},zIndex:{},modal:{type:Boolean,default:!1},modalFade:{type:Boolean,default:!0},modalClass:{},modalAppendToBody:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!1}},beforeMount:function(){this._popupId="popup-"+u++,a.default.register(this._popupId,this)},beforeDestroy:function(){a.default.deregister(this._popupId),a.default.closeModal(this._popupId),this.restoreBodyStyle()},data:function(){return{opened:!1,bodyPaddingRight:null,computedBodyPaddingRight:0,withoutHiddenClass:!0,rendered:!1}},watch:{visible:function(e){var t=this;e?this._opening||(this.rendered?this.open():(this.rendered=!0,i.default.nextTick((function(){t.open()})))):this.close()}},methods:{open:function(e){var t=this,n=(this.rendered||(this.rendered=!0),(0,r.default)({},this.$props||this,e));0<(e=(this._closeTimer&&(clearTimeout(this._closeTimer),this._closeTimer=null),clearTimeout(this._openTimer),Number(n.openDelay)))?this._openTimer=setTimeout((function(){t._openTimer=null,t.doOpen(n)}),e):this.doOpen(n)},doOpen:function(e){var t,n,i;this.$isServer||this.willOpen&&!this.willOpen()||this.opened||(this._opening=!0,t=this.$el,i=e.modal,(n=e.zIndex)&&(a.default.zIndex=n),i&&(this._closing&&(a.default.closeModal(this._popupId),this._closing=!1),a.default.openModal(this._popupId,a.default.nextZIndex(),this.modalAppendToBody?void 0:t,e.modalClass,e.modalFade),e.lockScroll)&&(this.withoutHiddenClass=!(0,s.hasClass)(document.body,"el-popup-parent--hidden"),this.withoutHiddenClass&&(this.bodyPaddingRight=document.body.style.paddingRight,this.computedBodyPaddingRight=parseInt((0,s.getStyle)(document.body,"paddingRight"),10)),c=(0,o.default)(),n=document.documentElement.clientHeight<document.body.scrollHeight,i=(0,s.getStyle)(document.body,"overflowY"),0<c&&(n||"scroll"===i)&&this.withoutHiddenClass&&(document.body.style.paddingRight=this.computedBodyPaddingRight+c+"px"),(0,s.addClass)(document.body,"el-popup-parent--hidden")),"static"===getComputedStyle(t).position&&(t.style.position="absolute"),t.style.zIndex=a.default.nextZIndex(),this.opened=!0,this.onOpen&&this.onOpen(),this.doAfterOpen())},doAfterOpen:function(){this._opening=!1},close:function(){var e,t=this;this.willClose&&!this.willClose()||(null!==this._openTimer&&(clearTimeout(this._openTimer),this._openTimer=null),clearTimeout(this._closeTimer),0<(e=Number(this.closeDelay))?this._closeTimer=setTimeout((function(){t._closeTimer=null,t.doClose()}),e):this.doClose())},doClose:function(){this._closing=!0,this.onClose&&this.onClose(),this.lockScroll&&setTimeout(this.restoreBodyStyle,200),this.opened=!1,this.doAfterClose()},doAfterClose:function(){a.default.closeModal(this._popupId),this._closing=!1},restoreBodyStyle:function(){this.modal&&this.withoutHiddenClass&&(document.body.style.paddingRight=this.bodyPaddingRight,(0,s.removeClass)(document.body,"el-popup-parent--hidden")),this.withoutHiddenClass=!0}}},t.PopupManager=a.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){for(var t=1,n=arguments.length;t<n;t++){var i,r,a=arguments[t]||{};for(i in a)a.hasOwnProperty(i)&&void 0!==(r=a[i])&&(e[i]=r)}return e}},function(e,t,n){"use strict";t.__esModule=!0;var i=n(57),r=(i=i)&&i.__esModule?i:{default:i},a=n(244);function o(){var e;if(!r.default.prototype.$isServer)return(e=h.modalDom)?s=!0:(s=!1,e=document.createElement("div"),(h.modalDom=e).addEventListener("touchmove",(function(e){e.preventDefault(),e.stopPropagation()})),e.addEventListener("click",(function(){h.doOnModalClick&&h.doOnModalClick()}))),e}var s=!1,l=!1,c=void 0,u={},h={modalFade:!0,getInstance:function(e){return u[e]},register:function(e,t){e&&t&&(u[e]=t)},deregister:function(e){e&&(u[e]=null,delete u[e])},nextZIndex:function(){return h.zIndex++},modalStack:[],doOnModalClick:function(){var e=h.modalStack[h.modalStack.length-1];e&&(e=h.getInstance(e.id))&&e.closeOnClickModal&&e.close()},openModal:function(e,t,n,i,l){if(!r.default.prototype.$isServer&&e&&void 0!==t){this.modalFade=l;for(var c=this.modalStack,u=0,h=c.length;u<h;u++)if(c[u].id===e)return;var d=o();(0,a.addClass)(d,"v-modal"),this.modalFade&&!s&&(0,a.addClass)(d,"v-modal-enter"),i&&i.trim().split(/\s+/).forEach((function(e){return(0,a.addClass)(d,e)})),setTimeout((function(){(0,a.removeClass)(d,"v-modal-enter")}),200),(n&&n.parentNode&&11!==n.parentNode.nodeType?n.parentNode:document.body).appendChild(d),t&&(d.style.zIndex=t),d.tabIndex=0,d.style.display="",this.modalStack.push({id:e,zIndex:t,modalClass:i})}},closeModal:function(e){var t=this.modalStack,n=o();if(0<t.length){var i=t[t.length-1];if(i.id===e)i.modalClass&&i.modalClass.trim().split(/\s+/).forEach((function(e){return(0,a.removeClass)(n,e)})),t.pop(),0<t.length&&(n.style.zIndex=t[t.length-1].zIndex);else for(var r=t.length-1;0<=r;r--)if(t[r].id===e){t.splice(r,1);break}}0===t.length&&(this.modalFade&&(0,a.addClass)(n,"v-modal-leave"),setTimeout((function(){0===t.length&&(n.parentNode&&n.parentNode.removeChild(n),n.style.display="none",h.modalDom=void 0),(0,a.removeClass)(n,"v-modal-leave")}),200))}};Object.defineProperty(h,"zIndex",{configurable:!0,get:function(){return l||(c=c||(r.default.prototype.$ELEMENT||{}).zIndex||2e3,l=!0),c},set:function(e){c=e}}),r.default.prototype.$isServer||window.addEventListener("keydown",(function(e){27===e.keyCode&&(e=function(){if(!r.default.prototype.$isServer&&0<h.modalStack.length){var e=h.modalStack[h.modalStack.length-1];if(e)return h.getInstance(e.id)}}())&&e.closeOnPressEscape&&(e.handleClose?e.handleClose():e.handleAction?e.handleAction("cancel"):e.close())})),t.default=h},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(){var e,t,n;return i.default.prototype.$isServer?0:(void 0===r&&((e=document.createElement("div")).className="el-scrollbar__wrap",e.style.visibility="hidden",e.style.width="100px",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e),t=e.offsetWidth,e.style.overflow="scroll",(n=document.createElement("div")).style.width="100%",e.appendChild(n),n=n.offsetWidth,e.parentNode.removeChild(e),r=t-n),r)};t=n(57);var i=(n=t)&&n.__esModule?n:{default:n},r=void 0},function(e,t,n){"use strict";t.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=(t.isVNode=function(e){return null!==e&&"object"===(void 0===e?"undefined":i(e))&&(0,r.hasOwn)(e,"componentOptions")},n(558))},function(e,t,n){"use strict";t.__esModule=!0,t.isEmpty=t.isEqual=t.arrayEquals=t.looseEqual=t.capitalize=t.kebabCase=t.autoprefixer=t.isFirefox=t.isEdge=t.isIE=t.coerceTruthyValueToArray=t.arrayFind=t.arrayFindIndex=t.escapeRegexpString=t.valueEquals=t.generateId=t.getValueByPath=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=(t.noop=function(){},t.hasOwn=function(e,t){return s.call(e,t)},t.toObject=function(e){for(var t={},n=0;n<e.length;n++)e[n]&&function(e,t){for(var n in t)e[n]=t[n]}(t,e[n]);return t},t.getPropByPath=function(e,t,n){for(var i=e,r=(t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),a=0,o=r.length;a<o-1&&(i||n);++a){var s=r[a];if(!(s in i)){if(n)throw new Error("please transfer a valid prop path to form item!");break}i=i[s]}return{o:i,k:r[a],v:i?i[r[a]]:null}},t.rafThrottle=function(e){var t=!1;return function(){for(var n=this,i=arguments.length,r=Array(i),a=0;a<i;a++)r[a]=arguments[a];t||(t=!0,window.requestAnimationFrame((function(i){e.apply(n,r),t=!1})))}},t.objToArray=function(e){return Array.isArray(e)?e:h(e)?[]:[e]},n(57)),a=(r=r)&&r.__esModule?r:{default:r},o=n(245),s=Object.prototype.hasOwnProperty;t.getValueByPath=function(e,t){for(var n=(t=t||"").split("."),i=e,r=null,a=0,o=n.length;a<o;a++){var s=n[a];if(!i)break;if(a===o-1){r=i[s];break}i=i[s]}return r},t.generateId=function(){return Math.floor(1e4*Math.random())},t.valueEquals=function(e,t){if(e!==t){if(!(e instanceof Array))return!1;if(!(t instanceof Array))return!1;if(e.length!==t.length)return!1;for(var n=0;n!==e.length;++n)if(e[n]!==t[n])return!1}return!0},t.escapeRegexpString=function(){return String(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")};var l=t.arrayFindIndex=function(e,t){for(var n=0;n!==e.length;++n)if(t(e[n]))return n;return-1},c=(t.arrayFind=function(e,t){return-1!==(t=l(e,t))?e[t]:void 0},t.coerceTruthyValueToArray=function(e){return Array.isArray(e)?e:e?[e]:[]},t.isIE=function(){return!a.default.prototype.$isServer&&!isNaN(Number(document.documentMode))},t.isEdge=function(){return!a.default.prototype.$isServer&&-1<navigator.userAgent.indexOf("Edge")},t.isFirefox=function(){return!a.default.prototype.$isServer&&!!window.navigator.userAgent.match(/firefox/i)},t.autoprefixer=function(e){var t;return"object"===(void 0===e?"undefined":i(e))&&(t=["ms-","webkit-"],["transform","transition","animation"].forEach((function(n){var i=e[n];n&&i&&t.forEach((function(t){e[t+n]=i}))}))),e},t.kebabCase=function(e){var t=/([^-])([A-Z])/g;return e.replace(t,"$1-$2").replace(t,"$1-$2").toLowerCase()},t.capitalize=function(e){return(0,o.isString)(e)?e.charAt(0).toUpperCase()+e.slice(1):e},t.looseEqual=function(e,t){var n=(0,o.isObject)(e),i=(0,o.isObject)(t);return n&&i?JSON.stringify(e)===JSON.stringify(t):!n&&!i&&String(e)===String(t)}),u=t.arrayEquals=function(e,t){if((e=e||[]).length!==(t=t||[]).length)return!1;for(var n=0;n<e.length;n++)if(!c(e[n],t[n]))return!1;return!0},h=(t.isEqual=function(e,t){return(Array.isArray(e)&&Array.isArray(t)?u:c)(e,t)},t.isEmpty=function(e){if(null==e)return!0;if("boolean"!=typeof e){if("number"==typeof e)return!e;if(e instanceof Error)return""===e.message;switch(Object.prototype.toString.call(e)){case"[object String]":case"[object Array]":return!e.length;case"[object File]":case"[object Map]":case"[object Set]":return!e.size;case"[object Object]":return!Object.keys(e).length}}return!1})},function(e,t,n){var i=n(0);i.AnaglyphEffect=function(e,t,n){this.colorMatrixLeft=(new i.Matrix3).fromArray([.4561,-.0400822,-.0152161,.500484,-.0378246,-.0205971,.176381,-.0157589,-.00546856]),this.colorMatrixRight=(new i.Matrix3).fromArray([-.0434706,.378476,-.0721527,-.0879388,.73364,-.112961,-.00155529,-.0184503,1.2264]);var r=new i.OrthographicCamera(-1,1,1,-1,0,1),a=new i.Scene,o=new i.StereoCamera,s={minFilter:i.LinearFilter,magFilter:i.NearestFilter,format:i.RGBAFormat},l=new i.WebGLRenderTarget(t=void 0===t?512:t,n=void 0===n?512:n,s),c=new i.WebGLRenderTarget(t,n,s),u=new i.ShaderMaterial({uniforms:{mapLeft:{value:l.texture},mapRight:{value:c.texture},colorMatrixLeft:{value:this.colorMatrixLeft},colorMatrixRight:{value:this.colorMatrixRight}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = vec2( uv.x, uv.y );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D mapLeft;","uniform sampler2D mapRight;","varying vec2 vUv;","uniform mat3 colorMatrixLeft;","uniform mat3 colorMatrixRight;","float lin( float c ) {","\treturn c <= 0.04045 ? c * 0.0773993808 :","\t\t\tpow( c * 0.9478672986 + 0.0521327014, 2.4 );","}","vec4 lin( vec4 c ) {","\treturn vec4( lin( c.r ), lin( c.g ), lin( c.b ), c.a );","}","float dev( float c ) {","\treturn c <= 0.0031308 ? c * 12.92","\t\t\t: pow( c, 0.41666 ) * 1.055 - 0.055;","}","void main() {","\tvec2 uv = vUv;","\tvec4 colorL = lin( texture2D( mapLeft, uv ) );","\tvec4 colorR = lin( texture2D( mapRight, uv ) );","\tvec3 color = clamp(","\t\t\tcolorMatrixLeft * colorL.rgb +","\t\t\tcolorMatrixRight * colorR.rgb, 0., 1. );","\tgl_FragColor = vec4(","\t\t\tdev( color.r ), dev( color.g ), dev( color.b ),","\t\t\tmax( colorL.a, colorR.a ) );","}"].join("\n")}),h=new i.Mesh(new i.PlaneGeometry(2,2),u);a.add(h),this.setSize=function(t,n){e.setSize(t,n);var i=e.getPixelRatio();l.setSize(t*i,n*i),c.setSize(t*i,n*i)},this.render=function(t,n){var i=e.getRenderTarget();t.updateMatrixWorld(),null===n.parent&&n.updateMatrixWorld(),o.update(n),e.setRenderTarget(l),e.clear(),e.render(t,o.cameraL),e.setRenderTarget(c),e.clear(),e.render(t,o.cameraR),e.setRenderTarget(null),e.render(a,r),e.setRenderTarget(i)},this.dispose=function(){l&&l.dispose(),c&&c.dispose(),h&&h.geometry.dispose(),u&&u.dispose()}}},function(e,t,n){n=n(561),e.exports=n},function(e,t,n){var i=n(33),r=n(562),a=Array.prototype;e.exports=function(e){var t=e.some;return e===a||i(a,e)&&t===a.some?r:t}},function(e,t,n){n(563),n=n(41),e.exports=n("Array").some},function(e,t,n){"use strict";var i=n(17),r=n(73).some;i({target:"Array",proto:!0,forced:!n(101)("some")},{some:function(e){return r(this,e,1<arguments.length?arguments[1]:void 0)}})},function(e,t,n){var i=n(565);n(67),e.exports=i},function(e,t,n){n(68),n(80),n(566),n(91),n=n(24),e.exports=n.Set},function(e,t,n){n(567)},function(e,t,n){"use strict";n(170)("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(241))},function(e,t,n){n=n(569),e.exports=n},function(e,t,n){var i=n(33),r=n(570),a=Array.prototype;e.exports=function(e){var t=e.fill;return e===a||i(a,e)&&t===a.fill?r:t}},function(e,t,n){n(571),n=n(41),e.exports=n("Array").fill},function(e,t,n){var i=n(17),r=n(572);n=n(115);i({target:"Array",proto:!0},{fill:r}),n("fill")},function(e,t,n){"use strict";var i=n(55),r=n(112),a=n(61);e.exports=function(e){for(var t,n=i(this),o=a(n),s=r(1<(t=arguments.length)?arguments[1]:void 0,o),l=void 0===(t=2<t?arguments[2]:void 0)?o:r(t,o);s<l;)n[s++]=e;return n}},function(e,t,n){n=n(574),e.exports=n},function(e,t,n){n(575),n=n(24),e.exports=n.Math.log10},function(e,t,n){n(17)({target:"Math",stat:!0},{log10:n(576)})},function(e,t){var n=Math.log,i=Math.LOG10E;e.exports=Math.log10||function(e){return n(e)*i}},function(e,t,n){var i=n(229),r=n(233);e.exports=function(e){if(i(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var i=n(140),r=n(13),a=n(232);e.exports=function(e){if(void 0!==i&&null!=r(e)||null!=e["@@iterator"])return a(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){n=n(581),e.exports=n},function(e,t,n){var i=n(33),r=n(582),a=Array.prototype;e.exports=function(e){var t=e.reduce;return e===a||i(a,e)&&t===a.reduce?r:t}},function(e,t,n){n(583),n=n(41),e.exports=n("Array").reduce},function(e,t,n){"use strict";var i=n(17),r=n(584).left,a=n(101),o=n(97);n=n(118);i({target:"Array",proto:!0,forced:!a("reduce")||!n&&79<o&&o<83},{reduce:function(e){var t=arguments.length;return r(this,e,t,1<t?arguments[1]:void 0)}})},function(e,t,n){function i(e){return function(t,n,i,c){r(n);var u=a(t),h=o(u),d=s(u),f=e?d-1:0,p=e?-1:1;if(i<2)for(;;){if(f in h){c=h[f],f+=p;break}if(f+=p,e?f<0:d<=f)throw l("Reduce of empty array with no initial value")}for(;e?0<=f:f<d;f+=p)f in h&&(c=n(c,h[f],f,u));return c}}var r=n(60),a=n(55),o=n(127),s=n(61),l=TypeError;e.exports={left:i(!1),right:i(!0)}},function(e,t,n){var i={"./MobileStyle/selectBox.scss":627,"./PCStyle/selectBox.scss":629};function r(e){return e=a(e),n(e)}function a(e){if(n.o(i,e))return i[e];throw(e=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",e}r.keys=function(){return Object.keys(i)},r.resolve=a,(e.exports=r).id=585},function(e,t,n){"use strict";n(631)},function(e,t,n){var i={"./MobileStyle/mainstyle.scss":640,"./PCStyle/mainstyle.scss":642};function r(e){return e=a(e),n(e)}function a(e){if(n.o(i,e))return i[e];throw(e=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",e}r.keys=function(){return Object.keys(i)},r.resolve=a,(e.exports=r).id=587},function(e,t,n){e.exports=n.p+"image/b26896ddb3fc8e9b610af082e95c0409.png"},function(e,t,n){e.exports=n.p+"image/c06a03d63efdb83115eb4ca2b0dea743.png"},function(e,t,n){e.exports=n.p+"image/41e746f17516af2b9892597f022beb54.png"},function(e,t,n){e.exports=n.p+"image/77803e5afb68120abb1f50e3de1a696e.png"},function(e,t,n){e.exports=n.p+"image/e451dde70d67865276872615151fabd6.png"},function(e,t,n){e.exports=n.p+"image/519ebe579825ec22be4b13ffaaa75679.png"},function(e,t,n){n=n(595),e.exports=n},function(e,t,n){n(596),n=n(24),e.exports=n.Date.now},function(e,t,n){var i=n(17),r=(n=n(26),Date),a=n(r.prototype.getTime);i({target:"Date",stat:!0},{now:function(){return a(new r)}})},function(e,t,n){var i={"./MobileStyle/multiview.scss":648,"./PCStyle/multiview.scss":650};function r(e){return e=a(e),n(e)}function a(e){if(n.o(i,e))return i[e];throw(e=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",e}r.keys=function(){return Object.keys(i)},r.resolve=a,(e.exports=r).id=597},function(e,t,n){"use strict";n(652)},function(e,t,n){var i={"./MobileStyle/minMap.scss":654,"./PCStyle/minMap.scss":656};function r(e){return e=a(e),n(e)}function a(e){if(n.o(i,e))return i[e];throw(e=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",e}r.keys=function(){return Object.keys(i)},r.resolve=a,(e.exports=r).id=599},function(e,t,n){"use strict";n(662)},function(e,t,n){var i={"./MobileStyle/FirstPersonRoaming.scss":664,"./PCStyle/FirstPersonRoaming.scss":666};function r(e){return e=a(e),n(e)}function a(e){if(n.o(i,e))return i[e];throw(e=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",e}r.keys=function(){return Object.keys(i)},r.resolve=a,(e.exports=r).id=601},function(e,t,n){"use strict";n(668)},function(e,t,n){var i={"./MobileStyle/TopMenu.scss":670,"./PCStyle/TopMenu.scss":672};function r(e){return e=a(e),n(e)}function a(e){if(n.o(i,e))return i[e];throw(e=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",e}r.keys=function(){return Object.keys(i)},r.resolve=a,(e.exports=r).id=603},function(e,t,n){var i={"./MobileStyle/CaptureMark.scss":674,"./PCStyle/CaptureMark.scss":676};function r(e){return e=a(e),n(e)}function a(e){if(n.o(i,e))return i[e];throw(e=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",e}r.keys=function(){return Object.keys(i)},r.resolve=a,(e.exports=r).id=604},function(e,t,n){n=n(606),e.exports=n},function(e,t,n){n(607),n(611),n(612),n=n(24),e.exports=n.URL},function(e,t,n){n(608)},function(e,t,n){"use strict";function i(e){var t,n,i,r;if("number"==typeof e){for(t=[],n=0;n<4;n++)Y(t,e%256),e=N(e/256);return B(t,".")}if("object"!=typeof e)return e;for(t="",i=function(e){for(var t=null,n=1,i=null,r=0,a=0;a<8;a++)0!==e[a]?(n<r&&(t=i,n=r),i=null,r=0):(null===i&&(i=a),++r);return n<r&&(t=i,n=r),t}(e),n=0;n<8;n++)r&&0===e[n]||(r=r&&!1,i===n?(t+=n?":":"::",r=!0):(t+=H(e[n],16),n<7&&(t+=":")));return"["+t+"]"}function r(e,t){var n=M(e,0);return 32<n&&n<127&&!x(t,e)?e:encodeURIComponent(e)}function a(e,t){return 2==e.length&&z(K,F(e,0))&&(":"==(e=F(e,1))||!t&&"|"==e)}function o(e){return 1<e.length&&a(X(e,0,2))&&(2==e.length||"/"===(e=F(e,2))||"\\"===e||"?"===e||"#"===e)}function s(e,t,n){var i,r;e=E(e);if(t){if(r=this.parse(e))throw I(r);this.searchParams=null}else{if(void 0!==n&&(i=new s(n,!0)),r=this.parse(e,null,i))throw I(r);(t=D(new k)).bindURL(this),this.searchParams=t}}function l(e,t){return{get:function(){return P(this)[e]()},set:t&&function(e){return P(this)[t](e)},configurable:!0,enumerable:!0}}n(91);var c,u=n(17),h=n(42),d=n(246),f=n(29),p=n(69),m=n(26),v=n(65),g=n(609),y=n(102),x=n(39),b=n(239),w=n(205),_=n(162),M=n(201).codeAt,S=n(610),E=n(56),T=n(72),C=n(138),A=n(247),L=(n=n(66)).set,P=n.getterFor("URL"),k=A.URLSearchParams,D=A.getState,I=(n=f.URL,f.TypeError),R=f.parseInt,N=Math.floor,O=Math.pow,F=m("".charAt),z=m(/./.exec),B=m([].join),H=m(1..toString),U=m([].pop),V=m([].push),G=m("".replace),j=m([].shift),W=m("".split),X=m("".slice),q=m("".toLowerCase),Y=m([].unshift),$="Invalid scheme",Z="Invalid host",Q="Invalid port",K=/[a-z]/i,J=/[\d+-.a-z]/i,ee=/\d/,te=/^0x/i,ne=/^[0-7]+$/,ie=/^\d+$/,re=/^[\da-f]+$/i,ae=/[\0\t\n\r #%/:<>?@[\\\]^|]/,oe=/[\0\t\n\r #/:<>?@[\\\]^|]/,se=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,le=/[\t\n\r]/g,ce={},ue=b({},ce,{" ":1,'"':1,"<":1,">":1,"`":1}),he=b({},ue,{"#":1,"?":1,"{":1,"}":1}),de=b({},he,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),fe={ftp:21,file:null,http:80,https:443,ws:80,wss:443},pe={},me={},ve={},ge={},ye={},xe={},be={},we={},_e={},Me={},Se={},Ee={},Te={},Ce={},Ae={},Le={},Pe={},ke={},De={},Ie={},Re={},Ne=(s.prototype={type:"URL",parse:function(e,t,n){var i,s,l,u,h=this,d=t||pe,f=0,p="",m=!1,v=!1,g=!1;for(e=E(e),t||(h.scheme="",h.username="",h.password="",h.host=null,h.port=null,h.path=[],h.query=null,h.fragment=null,h.cannotBeABaseURL=!1,e=G(e,se,"")),e=G(e,le,""),i=w(e);f<=i.length;){switch(s=i[f],d){case pe:if(!s||!z(K,s)){if(t)return $;d=ve;continue}p+=q(s),d=me;break;case me:if(s&&(z(J,s)||"+"==s||"-"==s||"."==s))p+=q(s);else{if(":"!=s){if(t)return $;p="",d=ve,f=0;continue}if(t&&(h.isSpecial()!=x(fe,p)||"file"==p&&(h.includesCredentials()||null!==h.port)||"file"==h.scheme&&!h.host))return;if(h.scheme=p,t)return void(h.isSpecial()&&fe[h.scheme]==h.port&&(h.port=null));p="","file"==h.scheme?d=Ce:h.isSpecial()&&n&&n.scheme==h.scheme?d=ge:h.isSpecial()?d=we:"/"==i[f+1]?(d=ye,f++):(h.cannotBeABaseURL=!0,V(h.path,""),d=De)}break;case ve:if(!n||n.cannotBeABaseURL&&"#"!=s)return $;if(n.cannotBeABaseURL&&"#"==s){h.scheme=n.scheme,h.path=_(n.path),h.query=n.query,h.fragment="",h.cannotBeABaseURL=!0,d=Re;break}d="file"==n.scheme?Ce:xe;continue;case ge:if("/"!=s||"/"!=i[f+1]){d=xe;continue}d=_e,f++;break;case ye:if("/"==s){d=Me;break}d=ke;continue;case xe:if(h.scheme=n.scheme,s==c)h.username=n.username,h.password=n.password,h.host=n.host,h.port=n.port,h.path=_(n.path),h.query=n.query;else if("/"==s||"\\"==s&&h.isSpecial())d=be;else if("?"==s)h.username=n.username,h.password=n.password,h.host=n.host,h.port=n.port,h.path=_(n.path),h.query="",d=Ie;else{if("#"!=s){h.username=n.username,h.password=n.password,h.host=n.host,h.port=n.port,h.path=_(n.path),h.path.length--,d=ke;continue}h.username=n.username,h.password=n.password,h.host=n.host,h.port=n.port,h.path=_(n.path),h.query=n.query,h.fragment="",d=Re}break;case be:if(!h.isSpecial()||"/"!=s&&"\\"!=s){if("/"!=s){h.username=n.username,h.password=n.password,h.host=n.host,h.port=n.port,d=ke;continue}d=Me}else d=_e;break;case we:if(d=_e,"/"!=s||"/"!=F(p,f+1))continue;f++;break;case _e:if("/"==s||"\\"==s)break;d=Me;continue;case Me:if("@"==s){m&&(p="%40"+p);m=!0;for(var y=w(p),b=0;b<y.length;b++){var M=y[b];":"!=M||g?(M=r(M,de),g?h.password+=M:h.username+=M):g=!0}p=""}else if(s==c||"/"==s||"?"==s||"#"==s||"\\"==s&&h.isSpecial()){if(m&&""==p)return"Invalid authority";f-=w(p).length+1,p="",d=Se}else p+=s;break;case Se:case Ee:if(t&&"file"==h.scheme){d=Le;continue}if(":"!=s||v){if(s==c||"/"==s||"?"==s||"#"==s||"\\"==s&&h.isSpecial()){if(h.isSpecial()&&""==p)return Z;if(t&&""==p&&(h.includesCredentials()||null!==h.port))return;if(l=h.parseHost(p))return l;if(p="",d=Pe,t)return;continue}"["==s?v=!0:"]"==s&&(v=!1),p+=s}else{if(""==p)return Z;if(l=h.parseHost(p))return l;if(p="",d=Te,t==Ee)return}break;case Te:if(!z(ee,s)){if(s==c||"/"==s||"?"==s||"#"==s||"\\"==s&&h.isSpecial()||t){if(""!=p){var S=R(p,10);if(65535<S)return Q;h.port=h.isSpecial()&&S===fe[h.scheme]?null:S,p=""}if(t)return;d=Pe;continue}return Q}p+=s;break;case Ce:if(h.scheme="file","/"==s||"\\"==s)d=Ae;else{if(!n||"file"!=n.scheme){d=ke;continue}if(s==c)h.host=n.host,h.path=_(n.path),h.query=n.query;else if("?"==s)h.host=n.host,h.path=_(n.path),h.query="",d=Ie;else{if("#"!=s){o(B(_(i,f),""))||(h.host=n.host,h.path=_(n.path),h.shortenPath()),d=ke;continue}h.host=n.host,h.path=_(n.path),h.query=n.query,h.fragment="",d=Re}}break;case Ae:if("/"==s||"\\"==s){d=Le;break}n&&"file"==n.scheme&&!o(B(_(i,f),""))&&(a(n.path[0],!0)?V(h.path,n.path[0]):h.host=n.host),d=ke;continue;case Le:if(s==c||"/"==s||"\\"==s||"?"==s||"#"==s){if(!t&&a(p))d=ke;else{if(""==p){if(h.host="",t)return}else{if(l=h.parseHost(p))return l;if("localhost"==h.host&&(h.host=""),t)return;p=""}d=Pe}continue}p+=s;break;case Pe:if(h.isSpecial()){if(d=ke,"/"!=s&&"\\"!=s)continue}else if(t||"?"!=s)if(t||"#"!=s){if(s!=c&&(d=ke,"/"!=s))continue}else h.fragment="",d=Re;else h.query="",d=Ie;break;case ke:if(s==c||"/"==s||"\\"==s&&h.isSpecial()||!t&&("?"==s||"#"==s)){if(".."===(S=q(S=p))||"%2e."===S||".%2e"===S||"%2e%2e"===S?(h.shortenPath(),"/"==s||"\\"==s&&h.isSpecial()||V(h.path,"")):"."===(u=p)||"%2e"===q(u)?"/"==s||"\\"==s&&h.isSpecial()||V(h.path,""):("file"==h.scheme&&!h.path.length&&a(p)&&(h.host&&(h.host=""),p=F(p,0)+":"),V(h.path,p)),p="","file"==h.scheme&&(s==c||"?"==s||"#"==s))for(;1<h.path.length&&""===h.path[0];)j(h.path);"?"==s?(h.query="",d=Ie):"#"==s&&(h.fragment="",d=Re)}else p+=r(s,he);break;case De:"?"==s?(h.query="",d=Ie):"#"==s?(h.fragment="",d=Re):s!=c&&(h.path[0]+=r(s,ce));break;case Ie:t||"#"!=s?s!=c&&("'"==s&&h.isSpecial()?h.query+="%27":h.query+="#"==s?"%23":r(s,ce)):(h.fragment="",d=Re);break;case Re:s!=c&&(h.fragment+=r(s,ue))}f++}},parseHost:function(e){var t,n,i;if("["==F(e,0))return"]"==F(e,e.length-1)&&(t=function(e){function t(){return F(e,d)}var n,i,r,a,o,s,l,c=[0,0,0,0,0,0,0,0],u=0,h=null,d=0;if(":"==t()){if(":"!=F(e,1))return;d+=2,h=++u}for(;t();){if(8==u)return;if(":"==t()){if(null!==h)return;d++,h=++u}else{for(n=i=0;i<4&&z(re,t());)n=16*n+R(t(),16),d++,i++;if("."==t()){if(0==i)return;if(d-=i,6<u)return;for(r=0;t();){if(a=null,0<r){if(!("."==t()&&r<4))return;d++}if(!z(ee,t()))return;for(;z(ee,t());){if(o=R(t(),10),null===a)a=o;else{if(0==a)return;a=10*a+o}if(255<a)return;d++}c[u]=256*c[u]+a,2!=++r&&4!=r||u++}if(4!=r)return;break}if(":"==t()){if(d++,!t())return}else if(t())return;c[u++]=n}}if(null!==h)for(s=u-h,u=7;0!=u&&0<s;)l=c[u],c[u--]=c[h+s-1],c[h+--s]=l;else if(8!=u)return;return c}(X(e,1,-1)))?void(this.host=t):Z;if(this.isSpecial())return e=S(e),z(ae,e)||null===(t=function(e){var t,n,i,r,a,o,s,l=W(e,".");if(l.length&&""==l[l.length-1]&&l.length--,4<(t=l.length))return e;for(n=[],i=0;i<t;i++){if(""==(r=l[i]))return e;if(a=10,1<r.length&&"0"==F(r,0)&&(a=z(te,r)?16:8,r=X(r,8==a?1:2)),""===r)o=0;else{if(!z(10==a?ie:8==a?ne:re,r))return e;o=R(r,a)}V(n,o)}for(i=0;i<t;i++)if(o=n[i],i==t-1){if(o>=O(256,5-t))return null}else if(255<o)return null;for(s=U(n),i=0;i<n.length;i++)s+=n[i]*O(256,3-i);return s}(e))?Z:void(this.host=t);if(z(oe,e))return Z;for(t="",n=w(e),i=0;i<n.length;i++)t+=r(n[i],ce);this.host=t},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return x(fe,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&a(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,r=e.password,a=e.host,o=e.port,s=e.path,l=e.query,c=e.fragment,u=t+":";return null!==a?(u+="//",e.includesCredentials()&&(u+=n+(r?":"+r:"")+"@"),u+=i(a),null!==o&&(u+=":"+o)):"file"==t&&(u+="//"),u+=e.cannotBeABaseURL?s[0]:s.length?"/"+B(s,"/"):"",null!==l&&(u+="?"+l),null!==c&&(u+="#"+c),u},setHref:function(e){if(e=this.parse(e))throw I(e);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new Ne(e.path[0]).origin}catch(e){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+i(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(E(e)+":",pe)},getUsername:function(){return this.username},setUsername:function(e){var t=w(E(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=r(t[n],de)}},getPassword:function(){return this.password},setPassword:function(e){var t=w(E(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=r(t[n],de)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?i(e):i(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Se)},getHostname:function(){var e=this.host;return null===e?"":i(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Ee)},getPort:function(){var e=this.port;return null===e?"":E(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=E(e))?this.port=null:this.parse(e,Te))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+B(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Pe))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""==(e=E(e))?this.query=null:("?"==F(e,0)&&(e=X(e,1)),this.query="",this.parse(e,Ie)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""==(e=E(e))?this.fragment=null:("#"==F(e,0)&&(e=X(e,1)),this.fragment="",this.parse(e,Re))},update:function(){this.query=this.searchParams.serialize()||null}},function(e){var t=y(this,Oe),n=1<C(arguments.length,1)?arguments[1]:void 0;e=L(t,new s(e,!1,n));h||(t.href=e.serialize(),t.origin=e.getOrigin(),t.protocol=e.getProtocol(),t.username=e.getUsername(),t.password=e.getPassword(),t.host=e.getHost(),t.hostname=e.getHostname(),t.port=e.getPort(),t.pathname=e.getPathname(),t.search=e.getSearch(),t.searchParams=e.getSearchParams(),t.hash=e.getHash())}),Oe=Ne.prototype;h&&(g(Oe,"href",l("serialize","setHref")),g(Oe,"origin",l("getOrigin")),g(Oe,"protocol",l("getProtocol","setProtocol")),g(Oe,"username",l("getUsername","setUsername")),g(Oe,"password",l("getPassword","setPassword")),g(Oe,"host",l("getHost","setHost")),g(Oe,"hostname",l("getHostname","setHostname")),g(Oe,"port",l("getPort","setPort")),g(Oe,"pathname",l("getPathname","setPathname")),g(Oe,"search",l("getSearch","setSearch")),g(Oe,"searchParams",l("getSearchParams")),g(Oe,"hash",l("getHash","setHash"))),v(Oe,"toJSON",(function(){return P(this).serialize()}),{enumerable:!0}),v(Oe,"toString",(function(){return P(this).serialize()}),{enumerable:!0}),n&&(A=n.createObjectURL,f=n.revokeObjectURL,A&&v(Ne,"createObjectURL",p(A,n)),f)&&v(Ne,"revokeObjectURL",p(f,n)),T(Ne,"URL"),u({global:!0,constructor:!0,forced:!d,sham:!h},{URL:Ne})},function(e,t,n){var i=n(54);e.exports=function(e,t,n){return i.f(e,t,n)}},function(e,t,n){"use strict";function i(e){return e+22+75*(e<26)}function r(e){var t,n=[],r=(e=function(e){for(var t=[],n=0,i=e.length;n<i;){var r,a=y(e,n++);55296<=a&&a<=56319&&n<i?56320==(64512&(r=y(e,n++)))?b(t,((1023&a)<<10)+(1023&r)+65536):(b(t,a),n--):b(t,a)}return t}(e)).length,u=128,h=0,m=72;for(S=0;S<e.length;S++)(t=e[S])<128&&b(n,g(t));var w=n.length,_=w;for(w&&b(n,"-");_<r;){for(var M=a,S=0;S<e.length;S++)u<=(t=e[S])&&t<M&&(M=t);var E=_+1;if(M-u>v((a-h)/E))throw p(d);for(h+=(M-u)*E,u=M,S=0;S<e.length;S++){if((t=e[S])<u&&++h>a)throw p(d);if(t==u){for(var T=h,C=o;;){var A=C<=m?1:m+s<=C?s:C-m;if(T<A)break;var L=T-A,P=o-A;b(n,g(i(A+L%P))),T=v(L/P),C+=o}b(n,g(i(T))),m=function(e,t,n){var i=0;for(e=n?v(e/c):e>>1,e+=v(e/t);f*s>>1<e;)e=v(e/f),i+=o;return v(i+(f+1)*e/(e+l))}(h,E,_==w),h=0,_++}}h++,u++}return x(n,"")}n=n(26);var a=2147483647,o=36,s=26,l=38,c=700,u=/[^\0-\u007E]/,h=/[.\u3002\uFF0E\uFF61]/g,d="Overflow: input needs wider integers to process",f=o-1,p=RangeError,m=n(h.exec),v=Math.floor,g=String.fromCharCode,y=n("".charCodeAt),x=n([].join),b=n([].push),w=n("".replace),_=n("".split),M=n("".toLowerCase);e.exports=function(e){for(var t,n=[],i=_(w(M(e),h,"."),"."),a=0;a<i.length;a++)t=i[a],b(n,m(u,t)?"xn--"+r(t):t);return x(n,".")}},function(e,t){},function(e,t,n){n(247)},function(e,t,n){"use strict";n(682)},function(e,t,n){"use strict";n(684)},function(e,t,n){n(209),n=n(24),e.exports=n.setInterval},function(e,t,n){var i={"./MobileStyle/loading.scss":686,"./PCStyle/loading.scss":688};function r(e){return e=a(e),n(e)}function a(e){if(n.o(i,e))return i[e];throw(e=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",e}r.keys=function(){return Object.keys(i)},r.resolve=a,(e.exports=r).id=616},function(e,t,n){"use strict";n.r(t);var r=n(27),a=n.n(r),o=(r=n(8),n.n(r)),s=(r=n(4),n.n(r)),l=(r=n(1),n.n(r)),c=(r=n(18),n.n(r)),u=(r=n(20),n.n(r)),h=(r=n(32),n.n(r)),d=(r=n(9),n.n(r)),f=(r=n(6),n.n(r)),p=(r=n(10),n.n(r)),m=(r=n(15),n.n(r)),v=(r=n(13),n.n(r)),g=(r=n(31),n.n(r)),y=(r=n(145),n.n(r)),x=n(618);function b(e,t){var n;window.XMLHttpRequest?n=new XMLHttpRequest:window.ActiveXObject?n=new window.ActiveXObject:alert("请升级至最新版本的浏览器"),null!=n&&(e=e+"?timestamp="+(new Date).getTime(),n.open("GET",e,!0),n.send(null),n.onreadystatechange=function(){var e;4==n.readyState&&200==n.status&&(g()(e=n.responseText).call(e,"</html>",0)&&g()(e=n.responseText).call(e,"</body>",0)&&g()(e=n.responseText).call(e,"</head>",0)?t(null):t(n.responseText))},n.onloadend=function(){4==n.readyState&&404==n.status&&502==n.status&&t(null)})}function w(e,t){Object(x.a)({method:"get",responseType:"blob",url:e+"?timestamp="+(new Date).getTime()}).then((function(e){e=new window.File([e.data],"semantics",{type:"zip"}),y.a.loadAsync(e).then((function(e){for(var n in e.files)e.file(e.files[n].name).async("blob").then((function(e){var n,i,r;n=e,i=function(n,i){e=null,t(i)},r=new FileReader,n=new Blob([n]),r.onload=function(e){i(0,e.target.result)},r.onerror=function(e){i(e.error,null)},r.readAsText(n,"utf-8")}))}))})).catch((function(){t(null)}))}r=n(11);var _=n.n(r),M=(r=n(16),r=n.n(r),n(19)),S=n.n(M),E=(M=n(51),n.n(M)),T=(M=n(44),n.n(M)),C=n(0),A=function(e){C.DataTextureLoader.call(this,e),this.type=C.UnsignedByteType},L=(A.prototype=_()(r()(C.DataTextureLoader.prototype),{constructor:A,parse:function(e){var t,n,i,r,a,o,s,l,c,u,h=function(e,t){switch(e){case 1:console.error("THREE.RGBELoader Read Error: "+(t||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(t||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(t||""));break;default:console.error("THREE.RGBELoader: Error: "+(t||""))}return-1},d=function(e,t,n){t=t||1024;for(var i=e.pos,r=-1,a=0,o="",s=String.fromCharCode.apply(null,new Uint16Array(e.subarray(i,i+128)));(r=S()(s).call(s,"\n"))<0&&a<t&&i<e.byteLength;)o+=s,a+=s.length,i+=128,s+=String.fromCharCode.apply(null,new Uint16Array(e.subarray(i,i+128)));return-1<r&&(!1!==n&&(e.pos+=a+r+1),o+f()(s).call(s,0,r))},p=((e=new Uint8Array(e)).pos=0,function(e){var t,n,i=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,r=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,a=/^\s*FORMAT=(\S+)\s*$/,o=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,s={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};if(e.pos>=e.byteLength||!(t=d(e)))return h(1,"no header found");if(!(n=t.match(/^#\?(\S+)/)))return h(3,"bad initial token");for(s.valid|=1,s.programtype=n[1],s.string+=t+"\n";!1!==(t=d(e));)if(s.string+=t+"\n","#"===t.charAt(0))s.comments+=t+"\n";else if((n=t.match(i))&&(s.gamma=E()(n[1],10)),(n=t.match(r))&&(s.exposure=E()(n[1],10)),(n=t.match(a))&&(s.valid|=2,s.format=n[1]),(n=t.match(o))&&(s.valid|=4,s.height=T()(n[1],10),s.width=T()(n[2],10)),2&s.valid&&4&s.valid)break;return 2&s.valid?4&s.valid?s:h(3,"missing image size specifier"):h(3,"missing format specifier")}(e));if(-1!==p){var m=p.width,v=p.height,g=function(e,t,n){var i,r,a,o,s,l,c,u,d,f,p,m,v,g=t,y=n;if(g<8||32767<g||2!==e[0]||2!==e[1]||128&e[2])return new Uint8Array(e);if(g!==(e[2]<<8|e[3]))return h(3,"wrong scanline width");if(!(i=new Uint8Array(4*t*n)).length)return h(4,"unable to allocate buffer space");for(a=r=0,u=4*g,v=new Uint8Array(4),l=new Uint8Array(u);0<y&&a<e.byteLength;){if(a+4>e.byteLength)return h(1);if(v[0]=e[a++],v[1]=e[a++],v[2]=e[a++],v[3]=e[a++],2!=v[0]||2!=v[1]||(v[2]<<8|v[3])!=g)return h(3,"bad rgbe scanline format");for(c=0;c<u&&a<e.byteLength;){if((m=128<(o=e[a++]))&&(o-=128),0===o||u<c+o)return h(3,"bad scanline data");if(m)for(s=e[a++],d=0;d<o;d++)l[c++]=s;else l.set(e.subarray(a,a+o),c),c+=o,a+=o}for(f=g,d=0;d<f;d++)i[r]=l[d+(p=0)],p+=g,i[r+1]=l[d+p],p+=g,i[r+2]=l[d+p],p+=g,i[r+3]=l[d+p],r+=4;y--}return i}(e.subarray(e.pos),m,v);if(-1!==g){switch(this.type){case C.UnsignedByteType:var y=g,x=C.RGBEFormat,b=C.UnsignedByteType;break;case C.FloatType:for(var w=g.length/4*3,_=new Float32Array(w),M=0;M<w;M++)l=_,c=3*M,u=void 0,u=(o=g)[3+(s=4*M)],u=Math.pow(2,u-128)/255,l[c+0]=o[s+0]*u,l[c+1]=o[s+1]*u,l[c+2]=o[s+2]*u;y=_,x=C.RGBFormat,b=C.FloatType;break;case C.HalfFloatType:w=g.length/4*3;var A=new Uint16Array(w);for(M=0;M<w;M++)i=A,r=3*M,a=void 0,a=(t=g)[3+(n=4*M)],a=Math.pow(2,a-128)/255,i[r+0]=C.DataUtils.toHalfFloat(t[n+0]*a),i[r+1]=C.DataUtils.toHalfFloat(t[n+1]*a),i[r+2]=C.DataUtils.toHalfFloat(t[n+2]*a);y=A,x=C.RGBFormat,b=C.HalfFloatType;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type)}return{width:m,height:v,data:y,header:p.string,gamma:p.gamma,exposure:p.exposure,format:x,type:b}}}return null},setDataType:function(e){return this.type=e,this},load:function(e,t,n,i){return C.DataTextureLoader.prototype.load.call(this,e,(function(e,n){switch(e.type){case C.UnsignedByteType:e.encoding=C.RGBEEncoding,e.minFilter=C.NearestFilter,e.magFilter=C.NearestFilter,e.generateMipmaps=!1,e.flipY=!0;break;case C.FloatType:case C.HalfFloatType:e.encoding=C.LinearEncoding,e.minFilter=C.LinearFilter,e.magFilter=C.LinearFilter,e.generateMipmaps=!1,e.flipY=!0}t&&t(e,n)}),n,i)}}),n(0));function P(){return new L.Scene}function k(e,t){e.appendChild(t.domElement)}M=n(21);var D,I,R,N,O,F=n.n(M),z=(M=n(25),n.n(M)),B=(M=n(87),n.n(M)),H=(M=n(63),n.n(M)),U=(M=n(46),n.n(M)),V=(M=n(58),n.n(M));function G(e){return e.split("][")[1].split("]")[0]}function j(){i=navigator.userAgent,/(?:Windows Phone)/.test(i),/(?:SymbianOS)/.test(i),e=/(?:Android)/.test(i),n=/(?:Firefox)/.test(i),/(?:Chrome|CriOS)/.test(i);var e,t,n={isAndroid:e,isPhone:/(?:iPhone)/.test(i)&&!t,isTablet:t=/(?:iPad|PlayBook)/.test(i)||e&&!/(?:Mobile)/.test(i)||n&&/(?:Tablet)/.test(i),isTouch:"ontouchstart"in document.documentElement},i=n.isAndroid||n.isPhone?"Phone":n.isTablet||n.isTouch?"Pad":"PC";return i}function W(){return"Phone"===j()?"MobileStyle":"PCStyle"}n(74),window._iconfont_svg_string_3854110='<svg><symbol id="icon-camera" viewBox="0 0 1024 1024"><path d="M830.65614 158.252982l-319.946246 0c0-52.980346-43.003528-95.983874-95.983874-95.983874l-63.989249 0c-52.980346 0-95.983874 43.003528-95.983874 95.983874L158.769024 158.252982c-52.980346 0-95.983874 43.003528-95.983874 95.983874l0 511.913993c0 52.980346 43.003528 95.983874 95.983874 95.983874l417.822274 0c9.116748 0 17.717453-3.956325 23.909961-10.664875 6.020494-6.70855 8.944734-15.825298 7.912649-24.942046-0.860071-8.428691-1.548127-16.857383-1.548127-25.458088 0-141.567613 132.106837-254.580884 279.866958-216.565765 9.63279 2.408198 19.781623 0.344028 27.522258-5.676466 7.740635-6.020494 12.385016-15.309256 12.385016-25.286074l0-299.304552C926.640013 201.256509 883.636486 158.252982 830.65614 158.252982zM478.71527 702.161599c-105.960692 0-191.967747-86.179069-191.967747-191.967747S372.754578 318.226104 478.71527 318.226104s191.967747 86.007055 191.967747 191.967747S584.503948 702.161599 478.71527 702.161599zM782.664203 382.215354c-26.490173 0-47.991937-21.501764-47.991937-47.991937s21.501764-47.991937 47.991937-47.991937c26.490173 0 47.991937 21.501764 47.991937 47.991937S809.154376 382.215354 782.664203 382.215354z" ></path><path d="M830.65614 640.064505c-88.415253 0-159.973123 71.55787-159.973123 159.973123 0 88.415253 71.55787 159.973123 159.973123 159.973123s159.973123-71.55787 159.973123-159.973123C990.629263 711.622375 919.071393 640.064505 830.65614 640.064505zM894.645389 830.140097l-31.994625 0 0 31.994625c0 17.717453-14.277171 31.994625-31.994625 31.994625s-31.994625-14.277171-31.994625-31.994625l0-31.994625-31.994625 0c-17.717453 0-31.994625-14.277171-31.994625-31.994625s14.277171-31.994625 31.994625-31.994625l31.994625 0 0-31.994625c0-17.717453 14.277171-31.994625 31.994625-31.994625s31.994625 14.277171 31.994625 31.994625l0 31.994625 31.994625 0c17.717453 0 31.994625 14.277171 31.994625 31.994625C926.640013 815.862926 912.362842 830.140097 894.645389 830.140097z" ></path></symbol><symbol id="icon-share" viewBox="0 0 1024 1024"><path d="M782.791111 643.982222c-47.786667 0-91.022222 22.755556-118.328889 59.164445l-282.168889-147.911111c4.551111-13.653333 4.551111-27.306667 4.551111-40.96 0-15.928889-2.275556-29.582222-6.826666-43.235556L614.4 304.924444c20.48 13.653333 43.235556 22.755556 70.542222 22.755556 65.991111 0 118.328889-52.337778 118.328889-118.328889S750.933333 93.297778 684.942222 93.297778s-118.328889 52.337778-118.328889 118.328889c0 11.377778 2.275556 22.755556 6.826667 34.133333L343.608889 409.6c-27.306667-25.031111-61.44-40.96-102.4-40.96-81.92 0-147.911111 65.991111-147.911111 147.911111s65.991111 147.911111 147.911111 147.911111c40.96 0 77.368889-15.928889 104.675555-43.235555L637.155556 773.688889c0 6.826667-2.275556 13.653333-2.275556 20.48 0 81.92 65.991111 147.911111 147.911111 147.911111s147.911111-65.991111 147.911111-147.911111-65.991111-150.186667-147.911111-150.186667z" ></path></symbol><symbol id="icon-delete" viewBox="0 0 1024 1024"><path d="M742.4 944H281.6c-49.4 0-89.6-43.1-89.6-96V368h64v480c0 17.3 11.7 32 25.6 32h460.8c13.9 0 25.6-14.7 25.6-32V368h64v480c0 52.9-40.2 96-89.6 96z"  ></path><path d="M384 368h64v416h-64zM592 368h64v416h-64zM64 224h896v64H64z"  ></path><path d="M768 288H256V160c0-52.9 43.1-96 96-96h320c52.9 0 96 43.1 96 96v128z m-448-64h384v-64c0-17.6-14.4-32-32-32H352c-17.6 0-32 14.4-32 32v64z"  ></path></symbol><symbol id="icon-textbook-fill" viewBox="0 0 1024 1024"><path d="M808 64H216a40 40 0 0 0-40 40v748a108.1 108.1 0 0 0 108 108h560a3.6 3.6 0 0 0 2.8-1.2h0.1a3.7 3.7 0 0 0 1.1-2.8V104a40 40 0 0 0-40-40zM352 276a4 4 0 0 1 4-4h312a4 4 0 0 1 4 4v56a4 4 0 0 1-4 4H356a4 4 0 0 1-4-4z m0 136a4 4 0 0 1 4-4h312a4 4 0 0 1 4 4v56a4 4 0 0 1-4 4H356a4 4 0 0 1-4-4z m0 136a4 4 0 0 1 4-4h312a4 4 0 0 1 4 4v56a4 4 0 0 1-4 4H356a4 4 0 0 1-4-4zM248 852.9a36.1 36.1 0 0 1 36-36.9h492v72H284.7c-19.7 0-36.2-15.5-36.7-35.1z"  ></path></symbol><symbol id="icon-window-restore" viewBox="0 0 1170 1024"><path d="M146.285714 877.714286h438.857143v-292.571429H146.285714v292.571429z m585.142857-292.571429h292.571429V146.285714H585.142857v146.285715h54.857143c50.285714 0 91.428571 41.142857 91.428571 91.428571V585.142857zM1170.285714 91.428571v548.571429c0 50.285714-41.142857 91.428571-91.428571 91.428571H731.428571v201.142858c0 50.285714-41.142857 91.428571-91.428571 91.428571h-548.571429A91.684571 91.684571 0 0 1 0 932.571429v-548.571429C0 333.714286 41.142857 292.571429 91.428571 292.571429H438.857143V91.428571C438.857143 41.142857 480 0 530.285714 0h548.571429C1129.142857 0 1170.285714 41.142857 1170.285714 91.428571z" fill="" ></path></symbol><symbol id="icon-lock-screen" viewBox="0 0 1024 1024"><path d="M812.8 396.8h-80c0-128-99.2-227.2-224-227.2s-224 99.2-224 227.2h-80c0-153.6 137.6-307.2 304-307.2s304 150.4 304 307.2zM915.2 528c0-44.8-35.2-80-80-80H192c-44.8 0-80 35.2-80 80v380.8c0 44.8 35.2 80 80 80h643.2c44.8 0 80-35.2 80-80V528zM576 825.6c0 32-25.6 60.8-60.8 60.8h-9.6c-32 0-60.8-25.6-60.8-60.8V662.4c0-32 25.6-60.8 60.8-60.8h9.6c32 0 60.8 25.6 60.8 60.8v163.2z"  ></path></symbol><symbol id="icon-close-btn" viewBox="0 0 1024 1024"><path d="M514.133333 85.333333c-238.933333 0-426.666667 187.733333-426.666666 426.666667C87.466667 746.666667 277.333333 938.666667 512 938.666667c234.666667 0 426.666667-192 426.666667-426.666667 0-236.8-192-426.666667-424.533334-426.666667z m162.133334 558.933334c8.533333 8.533333 8.533333 21.333333 0 29.866666-4.266667 4.266667-10.666667 6.4-14.933334 6.4-6.4 0-10.666667-2.133333-14.933333-6.4L512 539.733333l-136.533333 134.4c-4.266667 4.266667-10.666667 6.4-14.933334 6.4-6.4 0-10.666667-2.133333-14.933333-6.4-8.533333-8.533333-8.533333-21.333333 0-29.866666l134.4-134.4-134.4-134.4c-8.533333-8.533333-8.533333-21.333333 0-29.866667 8.533333-8.533333 21.333333-8.533333 29.866667 0l134.4 134.4 134.4-134.4c8.533333-8.533333 21.333333-8.533333 29.866666 0 8.533333 8.533333 8.533333 21.333333 0 29.866667l-134.4 134.4 136.533334 134.4z" fill="" ></path></symbol><symbol id="icon-biaogao" viewBox="0 0 1024 1024"><path d="M938.666667 565.333333a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32H85.333333A32 32 0 0 1 53.333333 853.333333V597.333333A32 32 0 0 1 85.333333 565.333333z m-32 64h-789.333334v192h789.333334v-192z m32-448a32 32 0 0 1 3.072 63.850667L938.666667 245.333333H567.893333L342.613333 470.613333a32 32 0 0 1-45.226666 0l-234.666667-234.666666-0.512-0.512a32.213333 32.213333 0 0 1-0.917333-1.002667l1.408 1.536a34.176 34.176 0 0 1-2.645334-2.986667L59.733333 232.533333a31.274667 31.274667 0 0 1-5.205333-27.925333l0.085333-0.256 0.426667-1.365333 0.341333-0.938667 0.576-1.450667 0.533334-1.130666a31.381333 31.381333 0 0 1 25.557333-17.984h0.213333A31.36 31.36 0 0 1 85.333333 181.333333h853.333334z m-461.248 64H162.56L320 402.752l157.418667-157.418667z" fill="" ></path></symbol><symbol id="icon-baxin" viewBox="0 0 1024 1024"><path d="M512 802.1C352 802.1 221.9 672 221.9 512S352 221.9 512 221.9 802.1 352 802.1 512 672 802.1 512 802.1z m0-486.3c-108.2 0-196.2 88-196.2 196.2s88 196.2 196.2 196.2 196.2-88 196.2-196.2S620.2 315.8 512 315.8z" fill="#dbdbdb" ></path><path d="M512 609.4c-53.7 0-97.4-43.7-97.4-97.4S458.3 414.6 512 414.6s97.4 43.7 97.4 97.4-43.7 97.4-97.4 97.4z m0-100.9c-1.9 0-3.5 1.5-3.5 3.5 0 1.9 1.5 3.4 3.5 3.4s3.5-1.5 3.5-3.4-1.6-3.5-3.5-3.5z" fill="#409EFF" ></path><path d="M512 315.8c-25.9 0-47-21-47-47v-112.2c0-25.9 21-47 47-47s47 21 47 47v112.2c0 26-21.1 47-47 47z" fill="#dbdbdb" ></path><path d="M512 914.3c-25.9 0-47-21-47-47V755.2c0-25.9 21-47 47-47s47 21 47 47v112.1c0 25.9-21.1 47-47 47z" fill="#dbdbdb" ></path><path d="M867.3 559H755.1c-25.9 0-47-21-47-47s21-47 47-47h112.2c25.9 0 47 21 47 47s-21 47-47 47z" fill="#dbdbdb" ></path><path d="M268.9 559H156.7c-25.9 0-47-21-47-47s21-47 47-47h112.2c25.9 0 47 21 47 47s-21.1 47-47 47z" fill="#dbdbdb" ></path></symbol><symbol id="icon-View-East" viewBox="0 0 1026 1024"><path d="M690.154718 0H269.46237L0 269.46237v754.53763h757.063504L1026.472132 754.483888V0h-336.317414zM269.46237 76.259893v193.202477H76.259893l193.202477-193.202477zM53.741996 323.365593h215.720374v393.015219L53.741996 931.93996zM703.160281 970.043036H91.952556l215.451664-215.61289h395.756061v215.61289z m0-269.462371H323.311851V323.365593h379.84843z m15.800147-431.118295H323.311851V53.741996h611.207725l-215.559148 215.720374z m38.103076 678.170253v-193.471187h193.094993l-193.094993 193.471187z m215.505405-247.213184h-215.612889v-392.853993L972.730135 91.952556v608.628109z" fill="" ></path><path d="M972.730135 91.952556l1.934712 638.616143-217.440117 217.063924V307.565446z" fill="" opacity=".7" ></path></symbol><symbol id="icon-View-North" viewBox="0 0 1026 1024"><path d="M690.154718 0H269.46237L0 269.46237v754.53763h757.063504L1026.472132 754.483888V0h-336.317414zM269.46237 76.259893v193.202477H76.259893l193.202477-193.202477zM53.741996 323.365593h215.720374v393.015219L53.741996 931.93996zM703.160281 970.043036H91.952556l215.451664-215.61289h395.756061v215.61289z m0-269.462371H323.311851V323.365593h379.84843z m15.800147-431.118295H323.311851V53.741996h611.207725l-215.559148 215.720374z m38.103076 678.170253v-193.471187h193.094993l-193.094993 193.471187z m215.505405-247.213184h-215.612889v-392.853993L972.730135 91.952556v608.628109z" fill="" ></path><path d="M322.451979 51.968511h650.278156v650.815576H322.451979z" fill="" opacity=".7" ></path></symbol><symbol id="icon-View-West" viewBox="0 0 1026 1024"><path d="M690.154718 0H269.46237L0 269.46237v754.53763h757.063504L1026.472132 754.483888V0h-336.317414zM269.46237 76.259893v193.202477H76.259893l193.202477-193.202477zM53.741996 323.365593h215.720374v393.015219L53.741996 931.93996zM703.160281 970.043036H91.952556l215.451664-215.61289h395.756061v215.61289z m0-269.462371H323.311851V323.365593h379.84843z m15.800147-431.118295H323.311851V53.741996h611.207725l-215.559148 215.720374z m38.103076 678.170253v-193.471187h193.094993l-193.094993 193.471187z m215.505405-247.213184h-215.612889v-392.853993L972.730135 91.952556v608.628109z" fill="" ></path><path d="M269.46237 716.380812V76.259893L53.741996 290.797943v641.142017z" fill="" opacity=".7" ></path></symbol><symbol id="icon-View-South" viewBox="0 0 1026 1024"><path d="M690.154718 0H269.46237L0 269.46237v754.53763h757.063504L1026.472132 754.483888V0h-336.317414zM269.46237 76.259893v193.202477H76.259893l193.202477-193.202477zM53.741996 323.365593h215.720374v393.015219L53.741996 931.93996zM703.160281 970.043036H91.952556l215.451664-215.61289h395.756061v215.61289z m0-269.462371H323.311851V323.365593h379.84843z m15.800147-431.118295H323.311851V53.741996h611.207725l-215.559148 215.720374z m38.103076 678.170253v-193.471187h193.094993l-193.094993 193.471187z m215.505405-247.213184h-215.612889v-392.853993L972.730135 91.952556v608.628109z" fill="" ></path><path d="M53.741996 323.365593h649.472027V970.043036H53.741996z" fill="" opacity=".7" ></path></symbol><symbol id="icon-View-Bottom" viewBox="0 0 1026 1024"><path d="M690.154718 0H269.46237L0 269.46237v754.53763h757.063504L1026.472132 754.483888V0h-336.317414zM269.46237 76.259893v193.202477H76.259893l193.202477-193.202477zM53.741996 323.365593h215.720374v393.015219L53.741996 931.93996zM703.160281 970.043036H91.952556l215.451664-215.61289h395.756061v215.61289z m0-269.462371H323.311851V323.365593h379.84843z m15.800147-431.118295H323.311851V53.741996h611.207725l-215.559148 215.720374z m38.103076 678.170253v-193.471187h193.094993l-193.094993 193.471187z m215.505405-247.213184h-215.612889v-392.853993L972.730135 91.952556v608.628109z" fill="" ></path><path d="M308.962737 752.38795l641.625696 1.934712-215.559148 215.559148H92.32875z" fill="" opacity=".7" ></path></symbol><symbol id="icon-View-All" viewBox="0 0 1026 1024"><path d="M690.154718 0H269.46237L0 269.46237v754.53763h757.063504L1026.472132 754.483888V0h-336.317414zM269.46237 76.259893v193.202477H76.259893l193.202477-193.202477zM53.741996 323.365593h215.720374v393.015219L53.741996 931.93996zM703.160281 970.043036H91.952556l215.451664-215.61289h395.756061v215.61289z m0-269.462371H323.311851V323.365593h379.84843z m15.800147-431.118295H323.311851V53.741996h611.207725l-215.559148 215.720374z m38.103076 678.170253v-193.471187h193.094993l-193.094993 193.471187z m215.505405-247.213184h-215.612889v-392.853993L972.730135 91.952556v608.628109z" fill="" ></path></symbol><symbol id="icon-View-Top" viewBox="0 0 1026 1024"><path d="M690.154718 0H269.46237L0 269.46237v754.53763h757.063504L1026.472132 754.483888V0h-336.317414zM269.46237 76.259893v193.202477H76.259893l193.202477-193.202477zM53.741996 323.365593h215.720374v393.015219L53.741996 931.93996zM703.160281 970.043036H91.952556l215.451664-215.61289h395.756061v215.61289z m0-269.462371H323.311851V323.365593h379.84843z m15.800147-431.118295H323.311851V53.741996h611.207725l-215.559148 215.720374z m38.103076 678.170253v-193.471187h193.094993l-193.094993 193.471187z m215.505405-247.213184h-215.612889v-392.853993L972.730135 91.952556v608.628109z" fill="" ></path><path d="M292.893881 51.968511l641.625695 1.773485-215.559148 215.720374H76.259893z" fill="" opacity=".7" ></path></symbol><symbol id="icon-roam-left" viewBox="0 0 1024 1024"><path d="M919.6 935.4c7.7-6.8 10.5-17.6 7-27.3L783.1 512l143-398.8c3.5-9.7 0.7-20.5-7.1-27.3-7.8-6.8-18.9-8.1-28-3.3l-781.4 407.6c-8.29999999 4.3-13.4 12.9-13.4 22.2 0 9.30000001 5.2 17.9 13.49999999 22.2l781.80000001 404.2c9.3 4.7 20.4 3.4 28.1-3.4z" fill="" ></path></symbol><symbol id="icon-roam-right" viewBox="0 0 1024 1024"><path d="M104.4 88.6c-7.7 6.8-10.5 17.6-7 27.3L240.9 512l-143 398.8c-3.5 9.7-0.7 20.5 7.1 27.3 7.8 6.8 18.9 8.1 28 3.3l781.4-407.6c8.29999999-4.3 13.4-12.9 13.4-22.2 0-9.30000001-5.2-17.9-13.49999999-22.2l-781.80000001-404.2c-9.3-4.7-20.4-3.4-28.1 3.4z" fill="" ></path></symbol><symbol id="icon-roam-up" viewBox="0 0 1024 1024"><path d="M88.6 919.6c6.8 7.7 17.6 10.5 27.3 7L512 783.1l398.8 143c9.7 3.5 20.5 0.7 27.3-7.1 6.8-7.8 8.1-18.9 3.3-28l-407.6-781.4c-4.3-8.29999999-12.9-13.4-22.2-13.4-9.30000001 0-17.9 5.2-22.2 13.49999999l-404.2 781.80000001c-4.7 9.3-3.4 20.4 3.4 28.1z" fill="" ></path></symbol><symbol id="icon-roam-down" viewBox="0 0 1024 1024"><path d="M935.4 104.4c-6.8-7.7-17.6-10.5-27.3-7L512 240.9l-398.8-143c-9.7-3.5-20.5-0.7-27.3 7.1-6.8 7.8-8.1 18.9-3.3 28l407.6 781.4c4.3 8.29999999 12.9 13.4 22.2 13.4 9.30000001 0 17.9-5.2 22.2-13.49999999l404.2-781.80000001c4.7-9.3 3.4-20.4-3.4-28.1z" fill="" ></path></symbol><symbol id="icon-point-roam" viewBox="0 0 1026 1024"><path d="M519.672328 627.084915q-6.137862-1.022977-11.252747 3.068931t-9.206793 9.206793q-5.114885 7.160839-7.672328 19.948052t-2.557443 26.085914 2.557443 25.062937 8.695305 17.902098q6.137862 7.160839 17.390609 9.206793 9.206793-2.045954 17.390609 1.022977 7.160839 2.045954 14.321678 8.695305t12.275724 20.971029q8.183816 22.505495 1.022977 41.942058t-20.45954 30.689311q-9.206793 8.183816-11.764236 14.833167t-1.534466 12.787213q2.045954 6.137862 6.137862 13.298701t9.206793 15.344655l-33.758242 65.470529-87.976024-343.72028-364.17982-98.205794 958.529471-520.695305-191.296703 363.156843q-17.390609-4.091908-39.896104-3.58042t-34.781219 11.764236q-4.091908 3.068931-5.114885 8.183816l-2.045954 10.22977q-1.022977 8.183816-6.137862 20.45954t-28.643357 21.482517q-11.252747 4.091908-19.948052 10.22977t-16.367632 10.22977-15.344655 4.603397-15.856144-7.672328q-10.22977-10.22977-20.45954-9.206793-8.183816 1.022977-16.879121 6.649351t-17.390609 13.298701-15.344655 16.879121-9.718282 17.390609q-4.091908 8.183816-3.58042 16.879121t5.626374 12.787213l0 1.022977 12.275724 12.275724q4.091908 4.091908 4.603397 8.183816t-2.045954 10.22977-6.649351 17.390609q-9.206793 21.482517-19.436563 38.361638t-32.735265 15.856144zM1020.931069 645.498501q4.091908 9.206793 4.091908 23.016983t-4.091908 27.108891q-2.045954 7.160839-6.649351 9.718282t-9.718282 2.557443q-14.321678-1.022977-28.643357 6.649351t-20.45954 21.994006-3.068931 28.643357 13.298701 24.551449q2.045954 2.045954 4.091908 5.114885 4.091908 5.114885 2.045954 13.298701-2.045954 10.22977-15.856144 24.03996t-26.085914 14.833167q-6.137862 1.022977-9.718282-1.022977t-7.672328-5.114885q-8.183816-7.160839-22.505495-13.298701t-28.643357 0q-14.321678 5.114885-21.994006 18.413586t-7.672328 27.62038q0 11.252747-8.183816 16.367632t-25.574426 5.114885-28.643357-5.114885q-10.22977-5.114885-8.183816-15.344655l-1.022977 0q1.022977-14.321678-6.137862-28.643357t-21.482517-20.45954-30.177822-2.045954-26.085914 15.344655q-6.137862 7.160839-19.436563 3.068931-6.137862-3.068931-12.787213-8.183816t-12.275724-11.764236-10.22977-13.298701-5.626374-11.764236q-2.045954-8.183816 9.206793-17.390609 8.183816-8.183816 12.787213-20.971029t-0.511489-27.108891q-3.068931-9.206793-10.22977-14.321678t-15.344655-8.183816q-9.206793-4.091908-19.436563-5.114885-8.183816-1.022977-12.275724-6.137862-7.160839-8.183816-6.649351-28.131868t6.649351-30.177822q6.137862-9.206793 13.298701-8.183816 14.321678 0 29.666334-7.160839t21.482517-21.482517 1.022977-29.666334-16.367632-25.574426l0-1.022977q-3.068931-2.045954-3.068931-8.183816t2.045954-11.252747q5.114885-11.252747 16.879121-22.505495t21.994006-13.298701q5.114885-1.022977 7.672328 1.022977t5.626374 5.114885q11.252747 10.22977 25.574426 13.81019t28.643357-1.534466q7.160839-3.068931 12.787213-9.206793t9.718282-13.298701 6.137862-12.787213 2.045954-8.695305q0-8.183816 4.091908-12.275724 5.114885-5.114885 13.81019-6.649351t17.390609-1.534466 16.367632 2.045954 11.764236 3.068931q5.114885 2.045954 7.160839 7.160839t2.045954 9.206793q-1.022977 14.321678 6.137862 27.108891t21.482517 18.925075 29.154845 3.58042 25.062937-13.81019q8.183816-8.183816 17.390609-5.114885 11.252747 5.114885 23.528472 17.902098t14.321678 27.108891q0 3.068931-2.045954 7.160839t-4.091908 5.114885q-11.252747 10.22977-14.833167 24.551449t2.557443 28.643357q5.114885 14.321678 19.948052 21.994006t29.154845 6.649351q5.114885 0 9.206793 2.045954t6.137862 7.160839zM798.945055 765.186813q19.436563 0 37.338661-7.672328t30.689311-20.45954 20.45954-30.177822 7.672328-37.85015q0-19.436563-7.672328-37.338661t-20.45954-30.689311-30.689311-20.45954-37.338661-7.672328-36.827173 7.672328-30.177822 20.45954-20.45954 30.689311-7.672328 37.338661q0 20.45954 7.672328 37.85015t20.45954 30.177822 30.177822 20.45954 36.827173 7.672328z"  ></path></symbol><symbol id="icon-attribute" viewBox="0 0 1025 1024"><path d="M225.536 256.768c-17.664 0-32 14.336-32 32s14.336 32 32 32l384 0c17.664 0 32-14.336 32-32s-14.336-32-32-32L225.536 256.768zM353.536 704.768c17.664 0 32-14.336 32-32s-14.336-32-32-32l-128 0c-17.664 0-32 14.336-32 32s14.336 32 32 32L353.536 704.768zM417.536 832.768l-288 0c-35.392 0-64-28.608-64-64l0-576c0-35.392 28.608-64 64-64l576 0c35.392 0 64 28.608 64 64l0 160c0 17.664 14.336 32 32 32s32-14.336 32-32l0-160c0-70.656-57.344-128-128-128l-576 0c-70.656 0-128 57.344-128 128l0 576c0 70.656 57.344 128 128 128l288 0c17.664 0 32-14.336 32-32S435.264 832.768 417.536 832.768zM417.536 448.768l-192 0c-17.664 0-32 14.336-32 32s14.336 32 32 32l192 0c17.664 0 32-14.336 32-32S435.264 448.768 417.536 448.768zM1014.272 902.4l-97.024-97.024c27.52-37.248 44.352-82.816 44.352-132.608 0-123.712-100.288-224-224-224s-224 100.288-224 224 100.288 224 224 224c49.792 0 95.424-16.832 132.608-44.288l97.024 97.024c12.992 12.992 34.048 12.992 47.04 0S1027.264 915.392 1014.272 902.4zM737.536 832.768c-88.384 0-160-71.616-160-160s71.616-160 160-160 160 71.616 160 160S825.92 832.768 737.536 832.768z"  ></path></symbol><symbol id="icon-point-roam-view" viewBox="0 0 1024 1024"><path d="M752.570589 101.250008c0-22.273283-15.231913-36.681434-38.072107-36.681433-22.144346 0-38.071084 14.169721-38.108946 36.681433 0 24.409946 38.108946 75.740008 38.108946 75.740009s38.072107-51.54905 38.072107-75.740009z m-52.462862-4.352121c0-7.479345 5.467525-13.661138 12.57848-14.646581a12.261255 12.261255 0 0 1 2.727111-0.293689c7.642051 0 13.840216 6.198166 13.840216 13.827936 0 0.127913-0.016373 0.218988-0.016373 0.309039 0.016373 0.290619 0.016373 0.547469 0.016373 0.804319 0 8.157797-6.509251 14.793938-14.569834 14.793937-8.027837-0.001023-14.575973-6.620791-14.575973-14.794961zM653.663952 322.56965c67.654866 0 122.514311-54.859445 122.514311-122.498962 0-25.933649-8.082072-50.01409-21.834284-69.838601-4.27742 9.640568-9.782807 19.695574-15.325034 29.003567h12.692067a105.869213 105.869213 0 0 1 7.825222 32.676214h-32.513507c-0.181125-4.166903-0.440022-8.206916-0.874927-12.253069-6.820336 10.285251-11.850909 17.102516-11.850909 17.102517s-1.369184-1.866511-3.621481-5.02955v0.198521h-48.825009v-32.694633h27.633361c-3.14462-5.281283-6.268774-10.785647-9.179057-16.350386h-18.4717V95.068216c1.409093 0.420579 2.816139 0.954745 4.228301 1.572821 0.436952-6.639211 2.025123-12.634762 4.585436-17.920138a123.516128 123.516128 0 0 0-16.983813-1.168615c-67.682495 0-122.521474 54.857399-122.521475 122.518404 0.001023 67.639516 54.841026 122.498962 122.522498 122.498962z m73.359798-114.309442h32.513508c-0.861624 11.249205-3.471055 22.218024-7.826246 32.639374h-28.745694c2.191922-10.292414 3.603061-21.284769 4.058432-32.639374z m-8.341992 48.993854h24.487717c-4.130064 6.432503-8.960069 12.396331-14.44499 17.896602a104.774275 104.774275 0 0 1-29.296233 20.756743c7.93574-10.496052 14.46955-23.661909 19.253506-38.653345z m-56.847729-48.993854h48.819892c-0.450255 11.249205-1.947352 22.218024-4.400217 32.639374h-44.419675v-32.639374z m0 48.993854h39.628555c-2.728134 7.699356-6.018064 14.753005-9.803273 21.047362-5.52176 9.175987-11.996219 16.526395-18.793018 21.300118-3.622504 2.560312-7.30436 4.357238-11.031241 5.465479v-47.812959z m-16.364713 47.812959v-0.00307c-3.722788-1.11438-7.413853-2.90926-11.025101-5.462409-6.789637-4.773723-13.280468-12.125155-18.761296-21.300118-3.807722-6.310729-7.079232-13.348006-9.844206-21.047362h39.631626v47.810912c0.00614 0.00307 0.00921 0.00307 0.017396 0.00307h-0.018419z m0.016373-64.168462h-44.438095c-2.449795-10.42135-3.908006-21.389146-4.403287-32.639375h48.841382v32.639375z m0-48.983621h-48.841382c0.494257-11.289114 1.953492-22.236444 4.403287-32.679284h44.438095v32.679284z m-11.028171-91.358731c3.624551-2.562359 7.297197-4.370541 11.047614-5.468548v47.817052h-39.643906c2.742461-7.67889 6.031367-14.739702 9.831926-21.048386 5.491061-9.16166 11.979846-16.510022 18.764366-21.300118z m-55.877635 24.430412a106.300025 106.300025 0 0 1 29.291116-20.756743c-7.919367 10.515494-14.481829 23.661909-19.253506 38.674835h-24.486694a106.153692 106.153692 0 0 1 14.449084-17.918092z m-22.972201 34.250059h28.728298c-2.193968 10.330276-3.563152 21.267373-4.003174 32.679283H547.77939c0.842181-11.283997 3.479241-22.25691 7.828292-32.679283z m-7.839549 49.02353h32.545231c0.438998 11.354606 1.829671 22.346961 4.006243 32.639374H555.607682a105.229646 105.229646 0 0 1-7.839549-32.639374z m40.866757 48.993854c4.771677 14.991436 11.335163 28.158317 19.237133 38.653345a105.232716 105.232716 0 0 1-29.291117-20.756743 107.805308 107.805308 0 0 1-14.43271-17.896602h24.486694z m312.419475 89.814561c-35.746132-57.669444-158.298306-3.908006-287.198048 76.807317l-142.822846-72.900333 3.387144-1.980098c6.984065-4.075829 9.389858-13.113669 5.344728-20.200064-4.016477-7.076162-12.958126-9.496282-19.940144-5.406127l-19.967774 11.672854-141.29198-72.122621c-13.969153-8.15882-30.589692-4.558829-38.672788 9.606799-8.058536 14.139022-1.957585 28.206412 9.454326 41.653678l185.888687 218.507596c-77.260641 56.874335-143.295614 110.343107-176.776146 137.993864a28.894074 28.894074 0 0 0-2.156106-0.761339L153.253918 632.248711c-15.670911-4.79112-31.41243 4.408403-35.147498 20.557199 0 0 55.013965 55.277978 75.40641 91.064018 20.345374 35.682687 39.963177 111.314225 39.963177 111.314225 15.691377 4.811586 31.408337-4.3951 35.146475-20.553105l18.608823-80.484056a75.317383 75.317383 0 0 0 9.836019-4.839215c0.005117 0.00614 672.01746-292.479331 603.987041-402.239154zM688.813496 753.246483l7.927554-139.139967c-49.152467 35.715433-101.298104 70.012563-150.077064 100.453876l73.699536 215.343533c5.870708 17.801435 13.031804 29.53978 29.167296 29.526477 16.136515-0.014326 29.217439-13.250792 29.217439-29.562293L686.795537 788.54236l16.007578-9.347902c6.976902-4.087085 9.384741-13.125949 5.345752-20.215414-3.923356-6.864338-12.435217-9.320273-19.335371-5.732561z"  ></path></symbol><symbol id="icon-file-tree" viewBox="0 0 1024 1024"><path d="M128 128h256v170.666667H128V128m512 298.666667h256v170.666666h-256v-170.666666m0 298.666666h256v170.666667h-256v-170.666667m-85.333333-170.666666H298.666667v213.333333h256v85.333333H213.333333V384h85.333334v85.333333h256v85.333334z" fill="" ></path></symbol><symbol id="icon-model-view" viewBox="0 0 1104 1024"><path d="M722.565521 1024H33.162646L28.976573 1020.535664l-1.876515-0.866084a17.89907 17.89907 0 0 1-2.886947-1.443473l-2.309558-1.299126a45.180716 45.180716 0 0 1-6.351282-4.763463L14.541839 1011.153087V1010.43135l-1.876515-1.876515a10.104314 10.104314 0 0 1-1.154779-1.443473l-1.154778-1.443474a20.06428 20.06428 0 0 1-2.598252-3.897378 5.340851 5.340851 0 0 1-0.866084-1.443473 9.671271 9.671271 0 0 1-0.866085-1.732168 5.340851 5.340851 0 0 1 0-1.587821 7.794756 7.794756 0 0 1 0-1.58782 9.815619 9.815619 0 0 1-1.154778-3.175642 6.639977 6.639977 0 0 1 0-1.876515 32.333803 32.333803 0 0 1-4.763462-6.062588 4.474767 4.474767 0 0 1 0-1.443474 33.344235 33.344235 0 0 1 0-5.340851V340.515365v-2.886947a21.6521 21.6521 0 0 1 0-3.175641v-2.020863a8.516493 8.516493 0 0 1 0-1.876515 36.086834 36.086834 0 0 0 1.010431-3.753031l1.154779-2.742599a32.045109 32.045109 0 0 1 1.58782-3.608684 46.191147 46.191147 0 0 1 2.453905-4.33042 28.869467 28.869467 0 0 1 2.16521-3.031294 21.6521 21.6521 0 0 1 2.886947-3.319988l1.443473-1.299126 1.154779-1.154779 1.443473-1.299126L382.338851 10.248661a46.0468 46.0468 0 0 1 28.869467-10.248661H1066.11218l2.16521 1.443473 3.608684 1.010432 2.453905 0.866084 4.186072 1.876515 3.031294 1.876515-10.681702 18.909501L1082.712124 7.939103l1.299126 0.866084 1.876515 1.443474 2.598252 2.16521 1.154779 1.154779 1.299126 1.299126 1.732168 2.020862 1.732168 2.453905a6.49563 6.49563 0 0 1 0.866084 1.154779l0.866084 1.299126a14.434734 14.434734 0 0 1 1.443474 2.453904 3.175641 3.175641 0 0 1 0.721736 1.154779 18.765154 18.765154 0 0 1 1.732168 3.464336v1.732168s0 2.16521 1.010432 2.7426a19.48689 19.48689 0 0 1 1.010431 4.474767v1.010431a5.196504 5.196504 0 0 0 0 1.443474 26.415562 26.415562 0 0 1 0 5.773893v1.587821a10.970398 10.970398 0 0 1 0 2.16521v635.128277a19.342543 19.342543 0 0 1 0 2.886947 17.754722 17.754722 0 0 1 0 2.886947V695.609811c0 0.866084 0 1.732168-0.721737 2.742599a11.259092 11.259092 0 0 1 0 2.020863 23.81731 23.81731 0 0 1-1.299126 3.031294 8.805187 8.805187 0 0 1 0 1.732168L1097.146858 707.301945a15.73386 15.73386 0 0 1-0.866084 1.587821c0 1.010431-1.876515 2.598252-2.886947 3.753031a8.372145 8.372145 0 0 1-1.443473 1.732168l-1.299126 1.299126-1.154779 1.154778-1.299126 1.154779-1.443474 1.154779L760.817565 1004.368762a47.634621 47.634621 0 0 1-38.252044 19.631238zM24.646153 1018.081759l2.886947 1.587821a12.413871 12.413871 0 0 1-2.7426-1.587821z m17.32168-32.766845l-7.361714 13.712997 8.805187-13.712997z m2.598252-3.753031v-0.866084z m2.453905 0h675.545531a4.041725 4.041725 0 0 0 3.464336-1.876515 28.869467 28.869467 0 0 1 4.186073-5.196504l328.823231-287.251198a1.876515 1.876515 0 0 1 0-0.866084V46.912884a4.186073 4.186073 0 0 1 0-1.299126V44.747674l-0.288695-1.443473H411.208318a2.598252 2.598252 0 0 0-1.732168 0L45.576516 337.051029l-0.866084 0.721737v0.866084H43.411306v637.726529h1.010432z m-2.16521 0z m0 0z m0 0z m0 0z m0 0z m0 0z m-1.443474-2.886946z m0-2.7426z m0 0z m0 0z m1044.497322-257.659994l1.299126-1.010432zM1080.258219 692.867212zM1059.472203 43.304201z m0 0z m5.629546-9.382577v0.721737l1.010431-1.299126 4.619115-8.372146z m27.281647-18.765154l1.010431 1.154779z" fill="" ></path><path d="M364.295434 148.389061s3.031294 0 3.031294 2.886947v138.71779a2.886947 2.886947 0 0 1-2.886947 2.886946h-173.216803a2.309557 2.309557 0 0 1-2.598252-1.876515 2.598252 2.598252 0 0 1 0.866084-3.319989l173.216803-139.006484a2.742599 2.742599 0 0 1 1.587821-0.721737m0-21.6521a23.961658 23.961658 0 0 0-15.15647 5.485199l-173.216803 139.150831a24.539047 24.539047 0 0 0 15.300817 43.304201h173.216803a24.3947 24.3947 0 0 0 24.3947-24.3947v-138.573442a24.539047 24.539047 0 0 0-24.683394-24.539047zM922.919623 94.114463a2.598252 2.598252 0 0 1 2.7426 1.876515 2.453905 2.453905 0 0 1-0.866084 3.175642L702.789936 291.870313H464.328138a2.886947 2.886947 0 0 1-2.886947-2.886947V97.00141a2.886947 2.886947 0 0 1 2.886947-2.886947h458.591485m0-21.6521H464.328138a24.3947 24.3947 0 0 0-24.3947 24.539047v192.559346a24.3947 24.3947 0 0 0 24.3947 24.539047l246.400902-0.721737L938.364788 115.477869a24.539047 24.539047 0 0 0-16.022554-43.304201zM679.694363 953.847195H110.244123a36.664223 36.664223 0 0 1-36.664223-36.664223V388.149986a36.808571 36.808571 0 0 1 36.664223-36.808571h569.45024a36.808571 36.808571 0 0 1 36.80857 36.808571v529.032986a36.808571 36.808571 0 0 1-36.80857 36.664223zM110.244123 372.993516a14.434734 14.434734 0 0 0-14.434734 15.15647v529.032986a14.434734 14.434734 0 0 0 14.434734 14.434733h569.45024a14.434734 14.434734 0 0 0 15.15647-14.434733V388.149986a14.434734 14.434734 0 0 0-15.15647-15.15647z" fill="" ></path><path d="M86.715507 516.186073a10.537356 10.537356 0 0 1-5.052157-1.299126 10.681703 10.681703 0 0 1-4.474767-14.434734l75.638004-141.171694a10.82605 10.82605 0 0 1 14.434734-4.474768 10.681703 10.681703 0 0 1 4.474767 14.434734l-75.782351 141.171694a11.114745 11.114745 0 0 1-9.23823 5.773894zM84.550297 612.321398a10.537356 10.537356 0 0 1-5.052157-1.299126 10.681703 10.681703 0 0 1-4.474767-14.434733l124.427403-237.30702a10.82605 10.82605 0 0 1 14.434734-4.474768 10.681703 10.681703 0 0 1 4.474767 14.434734L94.077221 606.25881a10.82605 10.82605 0 0 1-9.526924 6.062588zM88.447675 697.197632a10.537356 10.537356 0 0 1-5.052157-1.299126 10.82605 10.82605 0 0 1-4.474767-14.434734l165.566394-317.564139a10.82605 10.82605 0 0 1 19.198196 9.959967l-165.710742 317.564138a10.82605 10.82605 0 0 1-9.526924 5.773894zM89.458107 782.073865a10.537356 10.537356 0 0 1-5.052157-1.299126 10.82605 10.82605 0 0 1-4.474768-14.434733l219.840993-408.214266a10.970398 10.970398 0 0 1 14.434733-4.474767 10.681703 10.681703 0 0 1 4.33042 14.434733L98.985031 776.299972a10.681703 10.681703 0 0 1-9.526924 5.773893zM85.416381 873.012687a11.547787 11.547787 0 0 1-5.196504-1.299126 10.681703 10.681703 0 0 1-4.33042-14.434734l264.877361-490.780941a10.82605 10.82605 0 0 1 19.053848 10.24866l-264.877361 490.780942a10.970398 10.970398 0 0 1-9.526924 5.485199zM101.150241 942.876797a10.393008 10.393008 0 0 1-5.052157-1.154778 10.82605 10.82605 0 0 1-4.474767-14.434734L387.102313 366.642233a10.82605 10.82605 0 0 1 19.053848 10.104313L110.244123 937.247251a10.681703 10.681703 0 0 1-9.093882 5.629546zM140.557063 951.826332a11.40344 11.40344 0 0 1-5.052156-1.299126 10.82605 10.82605 0 0 1-4.474768-14.434733L434.736934 360.868339a10.970398 10.970398 0 0 1 14.434733-4.474767 10.82605 10.82605 0 0 1 4.619115 14.434734l-303.129405 575.801522a10.82605 10.82605 0 0 1-10.104314 5.196504zM191.65602 953.847195a10.393008 10.393008 0 0 1-4.907809-1.299126 10.82605 10.82605 0 0 1-4.619115-14.434734l301.685932-574.646744a10.82605 10.82605 0 0 1 19.198196 9.959967l-301.685932 574.646743a11.114745 11.114745 0 0 1-9.671272 5.773894zM242.899324 953.847195a10.82605 10.82605 0 0 1-9.526924-15.878207l303.129405-575.801523a10.82605 10.82605 0 1 1 19.053849 10.104314l-303.129405 575.801522a10.82605 10.82605 0 0 1-9.526925 5.773894zM305.257374 949.805469a10.537356 10.537356 0 0 1-5.052157-1.299126 10.82605 10.82605 0 0 1-4.474768-14.434733L598.426813 360.868339a10.82605 10.82605 0 0 1 14.434733-4.474767 10.681703 10.681703 0 0 1 4.474768 14.434734L314.784298 944.031576a10.82605 10.82605 0 0 1-9.526924 5.773893zM372.09019 949.805469a10.970398 10.970398 0 0 1-4.763462-1.154778 10.82605 10.82605 0 0 1-4.907809-14.434734l282.920778-570.749366a10.82605 10.82605 0 0 1 14.434733-4.907809 10.970398 10.970398 0 0 1 4.90781 14.434734l-282.920778 570.749365a10.970398 10.970398 0 0 1-9.671272 6.062588zM437.190838 948.795038a10.970398 10.970398 0 0 1-4.763462-1.154779 10.82605 10.82605 0 0 1-4.907809-14.434733L692.974317 396.955173a10.82605 10.82605 0 1 1 19.342543 9.526925L447.583847 942.73245a10.970398 10.970398 0 0 1-10.393009 6.062588zM496.084551 953.847195A11.547787 11.547787 0 0 1 490.888047 952.692416a10.681703 10.681703 0 0 1-4.763462-14.434733L694.417791 519.650409a10.82605 10.82605 0 1 1 19.342543 9.671271L505.322781 947.928954a11.114745 11.114745 0 0 1-9.23823 5.918241zM553.823486 952.692416a11.692134 11.692134 0 0 1-4.90781-1.154779 10.681703 10.681703 0 0 1-4.763462-14.434733L694.417791 635.128277a10.82605 10.82605 0 0 1 14.434733-4.907809 10.681703 10.681703 0 0 1 4.90781 14.434734L563.061715 946.774175a10.681703 10.681703 0 0 1-9.238229 5.918241zM616.325882 952.692416a10.248661 10.248661 0 0 1-4.619115-1.010431 10.82605 10.82605 0 0 1-5.052156-14.434734L692.974317 759.411334a10.681703 10.681703 0 1 1 19.342543 9.382576l-86.175359 177.835918a10.82605 10.82605 0 0 1-9.815619 6.062588zM1007.507162 140.30561s2.742599 0 2.742599 3.319989V663.997745L770.921879 885.426558V354.084015a3.753031 3.753031 0 0 1 1.154778-2.7426L1006.352383 140.883h1.154779m0-21.940795a23.384268 23.384268 0 0 0-15.878207 6.206935L757.353229 335.030166a25.405131 25.405131 0 0 0-8.372145 19.053849v534.085142a24.827742 24.827742 0 0 0 24.539047 25.260784l258.670426-239.616578V144.347336a24.827742 24.827742 0 0 0-24.683395-25.982521z" fill="" ></path><path d="M761.683649 450.21934a10.82605 10.82605 0 0 1-4.763462-1.010431 10.681703 10.681703 0 0 1-4.907809-14.434734l82.422329-168.45334a10.82605 10.82605 0 0 1 14.434733-4.90781 10.681703 10.681703 0 0 1 4.90781 14.434734l-82.422329 168.308993a10.681703 10.681703 0 0 1-9.671272 6.062588zM760.240176 571.03806a9.526924 9.526924 0 0 1-4.33042-1.010431 10.82605 10.82605 0 0 1-5.485199-14.434734l160.225543-356.682266a10.82605 10.82605 0 0 1 14.434733-5.485199 10.970398 10.970398 0 0 1 5.485199 14.434734L770.200142 564.686778a11.114745 11.114745 0 0 1-9.959966 6.351282zM761.683649 671.070764a10.248661 10.248661 0 0 1-4.619114-1.010431 10.82605 10.82605 0 0 1-5.196505-14.434734L998.701975 129.912602a10.681703 10.681703 0 0 1 19.48689 9.093882l-246.833944 525.857345a10.537356 10.537356 0 0 1-9.671272 6.206935zM762.261039 791.745137a12.558218 12.558218 0 0 1-4.474768-1.010432 10.681703 10.681703 0 0 1-5.196504-14.434733L1010.538456 222.872286a10.681703 10.681703 0 0 1 19.48689 9.093883L772.076657 785.538201a10.681703 10.681703 0 0 1-9.815618 6.206936zM767.746237 899.283902a12.558218 12.558218 0 0 1-4.474767-1.010431 10.970398 10.970398 0 0 1-5.340851-14.434734L1010.538456 343.402312a10.82605 10.82605 0 0 1 19.631238 9.093882l-252.607838 540.436425a10.82605 10.82605 0 0 1-9.815619 6.351283zM859.839838 829.419791a11.547787 11.547787 0 0 1-4.33042-0.866084 10.82605 10.82605 0 0 1-5.485199-14.434733L1011.548888 447.476741a10.970398 10.970398 0 0 1 14.434733-5.629546 10.970398 10.970398 0 0 1 5.485199 14.434733L869.655456 822.779814a10.681703 10.681703 0 0 1-9.815618 6.639977zM951.933438 739.491401a14.434734 14.434734 0 0 1-4.186073 0 10.970398 10.970398 0 0 1-5.918241-14.434733l69.575416-171.340288a10.82605 10.82605 0 1 1 20.06428 8.227798l-69.575416 170.907246a10.82605 10.82605 0 0 1-9.959966 6.639977z" fill="" ></path></symbol><symbol id="icon-list" viewBox="0 0 1024 1024"><path d="M896 256l-288 0c-17.696 0-32-14.336-32-32s14.304-32 32-32l288 0c17.696 0 32 14.336 32 32S913.696 256 896 256zM896 416l-288 0c-17.696 0-32-14.336-32-32s14.304-32 32-32l288 0c17.696 0 32 14.336 32 32S913.696 416 896 416zM896 672l-288 0c-17.696 0-32-14.304-32-32s14.304-32 32-32l288 0c17.696 0 32 14.304 32 32S913.696 672 896 672zM896 832l-288 0c-17.696 0-32-14.304-32-32s14.304-32 32-32l288 0c17.696 0 32 14.304 32 32S913.696 832 896 832zM384 480 192 480c-52.928 0-96-43.072-96-96L96 192c0-52.928 43.072-96 96-96l192 0c52.928 0 96 43.072 96 96l0 192C480 436.928 436.928 480 384 480zM192 160C174.368 160 160 174.368 160 192l0 192c0 17.632 14.368 32 32 32l192 0c17.632 0 32-14.368 32-32L416 192c0-17.632-14.368-32-32-32L192 160zM384 928 192 928c-52.928 0-96-43.072-96-96l0-192c0-52.928 43.072-96 96-96l192 0c52.928 0 96 43.072 96 96l0 192C480 884.928 436.928 928 384 928zM192 608c-17.632 0-32 14.336-32 32l0 192c0 17.664 14.368 32 32 32l192 0c17.632 0 32-14.336 32-32l0-192c0-17.664-14.368-32-32-32L192 608z" fill="" ></path></symbol><symbol id="icon-jiahao" viewBox="0 0 1024 1024"><path d="M469.333333 469.333333V170.666667h85.333334v298.666666h298.666666v85.333334h-298.666666v298.666666h-85.333334v-298.666666H170.666667v-85.333334h298.666666z" fill="" ></path></symbol><symbol id="icon-jianhao" viewBox="0 0 1024 1024"><path d="M170.666667 469.333333h682.666666v85.333334H170.666667z" fill="" ></path></symbol><symbol id="icon-guanlishitu" viewBox="0 0 1024 1024"><path d="M339.781818 549.236364h-162.909091c-69.818182 0-130.327273 60.509091-130.327272 130.327272v162.909091c0 69.818182 60.509091 130.327273 130.327272 130.327273h162.909091c74.472727 0 130.327273-55.854545 130.327273-130.327273v-162.909091c0-69.818182-60.509091-130.327273-130.327273-130.327272z m55.854546 293.236363c0 32.581818-23.272727 55.854545-55.854546 55.854546h-162.909091c-32.581818 0-55.854545-23.272727-55.854545-55.854546v-162.909091c0-32.581818 23.272727-55.854545 55.854545-55.854545h162.909091c32.581818 0 55.854545 23.272727 55.854546 55.854545v162.909091zM339.781818 51.2h-162.909091c-69.818182 0-130.327273 60.509091-130.327272 130.327273v162.909091c0 69.818182 60.509091 130.327273 130.327272 130.327272h162.909091c74.472727 0 130.327273-55.854545 130.327273-130.327272v-162.909091c0-69.818182-60.509091-130.327273-130.327273-130.327273z m55.854546 293.236364c0 32.581818-23.272727 55.854545-55.854546 55.854545h-162.909091c-32.581818 0-55.854545-23.272727-55.854545-55.854545v-162.909091c0-32.581818 23.272727-55.854545 55.854545-55.854546h162.909091c32.581818 0 55.854545 23.272727 55.854546 55.854546v162.909091zM847.127273 549.236364h-162.909091c-69.818182 0-130.327273 60.509091-130.327273 130.327272v162.909091c0 69.818182 60.509091 130.327273 130.327273 130.327273h162.909091c69.818182 0 130.327273-60.509091 130.327272-130.327273v-162.909091c0-69.818182-60.509091-130.327273-130.327272-130.327272z m55.854545 293.236363c0 32.581818-23.272727 55.854545-55.854545 55.854546h-162.909091c-32.581818 0-55.854545-23.272727-55.854546-55.854546v-162.909091c0-32.581818 23.272727-55.854545 55.854546-55.854545h162.909091c32.581818 0 55.854545 23.272727 55.854545 55.854545v162.909091zM847.127273 51.2h-162.909091c-69.818182 0-130.327273 60.509091-130.327273 130.327273v162.909091c0 69.818182 60.509091 130.327273 130.327273 130.327272h162.909091c69.818182 0 130.327273-60.509091 130.327272-130.327272v-162.909091c0-69.818182-60.509091-130.327273-130.327272-130.327273z m55.854545 293.236364c0 32.581818-23.272727 55.854545-55.854545 55.854545h-162.909091c-32.581818 0-55.854545-23.272727-55.854546-55.854545v-162.909091c0-32.581818 23.272727-55.854545 55.854546-55.854546h162.909091c32.581818 0 55.854545 23.272727 55.854545 55.854546v162.909091z"  ></path></symbol><symbol id="icon-setting" viewBox="0 0 1024 1024"><path d="M238.765 196.903c15.986 47.357 12.182 101.21-14.998 148.057-27.397 47.218-72.867 77.53-122.534 87.184-5.095 25.97-7.765 52.802-7.765 80.254 0 26.005 2.395 51.453 6.977 76.137 49.975 9.486 95.78 39.869 123.322 87.336 27.766 47.856 31.137 103.026 13.937 151.109 39.66 34.275 85.866 61.246 136.502 78.808 33.248-38.99 82.852-63.734 138.263-63.734 55.292 0 104.802 24.637 138.048 63.483 50.186-17.51 96.003-44.268 135.387-78.22-17.339-48.162-14.016-103.477 13.815-151.445 27.64-47.638 73.672-78.067 123.853-87.436 4.57-24.654 6.958-50.068 6.958-76.038 0-27.416-2.661-54.215-7.743-80.153-49.876-9.54-95.572-39.9-123.068-87.287C772.473 298 768.716 244 784.837 196.56c-39.144-33.514-84.587-59.948-134.32-77.299-33.246 38.844-82.756 63.482-138.048 63.482-55.411 0-105.015-24.744-138.263-63.734-50.185 17.406-96.019 44.053-135.44 77.892v0.001z m-61.053-70.423c48.672-41.778 104.857-74.18 165.733-95.294 36.485-12.654 77.034-1.665 102.032 27.651 16.658 19.534 40.794 30.901 66.993 30.901 26.144 0 50.232-11.318 66.888-30.778 25.053-29.271 65.623-40.186 102.085-27.465 60.332 21.049 116.036 53.194 164.36 94.567 28.868 24.72 39.777 64.393 27.578 100.292-8.069 23.744-5.67 49.771 7.285 72.101 13.075 22.534 34.805 37.682 59.766 42.457 37.468 7.166 66.798 36.275 74.098 73.54 6.283 32.07 9.47 64.832 9.47 97.947 0 31.38-2.862 62.445-8.51 92.909-7.01 37.82-36.691 67.445-74.678 74.54-25.112 4.688-47.004 19.876-60.146 42.527-13.233 22.808-15.443 49.48-6.768 73.58 13.01 36.141 2.368 76.524-26.791 101.66-48.62 41.913-104.785 74.45-165.664 95.69-36.462 12.721-77.032 1.806-102.085-27.465-16.656-19.461-40.744-30.778-66.888-30.778-26.2 0-50.336 11.367-66.993 30.9-24.998 29.317-65.547 40.306-102.032 27.652-61.42-21.303-118.063-54.095-167.03-96.412-29.045-25.101-39.669-65.346-26.767-101.411 8.608-24.062 6.377-50.661-6.826-73.416-13.096-22.571-34.88-37.732-59.89-42.48-37.855-7.185-67.399-36.754-74.4-74.465C2.87 574.928 0 543.822 0 512.4c0-33.16 3.196-65.963 9.495-98.075 7.289-37.154 36.48-66.205 73.818-73.463 24.858-4.831 46.48-19.953 59.508-42.407 12.926-22.277 15.342-48.232 7.34-71.935-12.091-35.82-1.202-75.358 27.55-100.04z m334.287 575.39c104.965 0 190.053-84.674 190.053-189.122 0-104.449-85.088-189.122-190.053-189.122-104.964 0-190.052 84.673-190.052 189.122 0 104.448 85.088 189.122 190.052 189.122z m0-93.006c-53.34 0-96.584-43.032-96.584-96.116 0-53.083 43.243-96.115 96.584-96.115 53.342 0 96.585 43.03 96.585 96.115 0 53.084-43.243 96.115-96.585 96.115z"  ></path></symbol><symbol id="icon-celiang" viewBox="0 0 1024 1024"><path d="M43.933358 473.011011l938.177933 0.061398-0.01842 285.520849-938.178956-0.060375L43.933358 473.011011zM941.305285 717.802226l0.013304-203.943902-101.975618-0.00614-0.007163 122.366955c-0.001023 11.271718-9.134405 20.392446-20.397375 20.391423-11.262969 0-20.394305-9.122775-20.394305-20.394493l0.008187-122.366955-61.185985-0.004093-0.004093 61.182454c0 11.272741-9.133382 20.394493-20.396352 20.393469-11.262969 0-20.394305-9.123798-20.393281-20.396539l0.00307-61.182454-61.185985-0.004093-0.007163 122.367979c-0.001023 11.271718-9.133382 20.392446-20.397375 20.391423-11.263993 0-20.395328-9.122775-20.394305-20.394493l0.008187-122.366955-61.185985-0.004093-0.00307 61.182454c-0.001023 11.272741-9.133382 20.394493-20.398398 20.393469-11.260923 0-20.392258-9.123798-20.392258-20.396539l0.004093-61.182454-61.185985-0.004093-0.008187 122.366955c-0.001023 11.271718-9.133382 20.393469-20.397375 20.392446-11.263993 0-20.394305-9.122775-20.393281-20.394493l0.007163-122.366955-61.185985-0.004093-0.00307 61.182454c-0.001023 11.272741-9.132359 20.394493-20.396352 20.394493-11.262969-0.001023-20.395328-9.124821-20.394305-20.397562l0.00307-61.182454-61.184961-0.004093-0.008187 122.366955c0 11.271718-9.131335 20.392446-20.395328 20.391423-11.262969 0-20.396352-9.121751-20.395328-20.393469l0.008187-122.366955-101.975618-0.007163L84.706618 717.746968 941.305285 717.802226z"  ></path><path d="M41.376011 335.577918l940.921529 0 0 53.721529-940.921529 0 0-53.721529Z"  ></path></symbol><symbol id="icon-dingwei" viewBox="0 0 1024 1024"><path d="M960 480h-65.6C879.2 293.6 730.4 144.8 544 129.6V64h-64v65.6C293.6 144.8 144.8 293.6 129.6 480H64v64h65.6c15.2 186.4 164 335.2 350.4 350.4v65.6h64v-65.6c186.4-15.2 335.2-164 350.4-350.4h65.6v-64z m-448 352c-176.8 0-320-143.2-320-320s143.2-320 320-320 320 143.2 320 320-143.2 320-320 320z m128-320c0 70.4-57.6 128-128 128s-128-57.6-128-128 57.6-128 128-128 128 57.6 128 128z"  ></path></symbol><symbol id="icon-codepen" viewBox="0 0 1024 1024"><path d="M123.428571 668l344.571429 229.714286v-205.142857L277.142857 565.142857z m-35.428571-82.285714l110.285714-73.714286-110.285714-73.714286v147.428572z m468 312l344.571429-229.714286-153.714286-102.857143-190.857143 127.428572v205.142857z m-44-281.714286l155.428571-104-155.428571-104-155.428571 104zM277.142857 458.857143l190.857143-127.428572V126.285714L123.428571 356z m548.571429 53.142857l110.285714 73.714286V438.285714z m-78.857143-53.142857l153.714286-102.857143-344.571429-229.714286v205.142857z m277.142857-102.857143v312q0 23.428571-19.428571 36.571429l-468 312q-12 7.428571-24.571429 7.428571t-24.571429-7.428571L19.428571 704.571429q-19.428571-13.142857-19.428571-36.571429V356q0-23.428571 19.428571-36.571429L487.428571 7.428571q12-7.428571 24.571429-7.428571t24.571429 7.428571l468 312q19.428571 13.142857 19.428571 36.571429z"  ></path></symbol><symbol id="icon-arrowsh" viewBox="0 0 1024 1024"><path d="M1024 512q0 14.857143-10.857143 25.714286l-146.285714 146.285714q-10.857143 10.857143-25.714286 10.857143t-25.714286-10.857143-10.857143-25.714286l0-73.142857-585.142857 0 0 73.142857q0 14.857143-10.857143 25.714286t-25.714286 10.857143-25.714286-10.857143l-146.285714-146.285714q-10.857143-10.857143-10.857143-25.714286t10.857143-25.714286l146.285714-146.285714q10.857143-10.857143 25.714286-10.857143t25.714286 10.857143 10.857143 25.714286l0 73.142857 585.142857 0 0-73.142857q0-14.857143 10.857143-25.714286t25.714286-10.857143 25.714286 10.857143l146.285714 146.285714q10.857143 10.857143 10.857143 25.714286z"  ></path></symbol><symbol id="icon-arrowsv" viewBox="0 0 1024 1024"><path d="M694.857143 182.857143q0 14.857143-10.857143 25.714286t-25.714286 10.857143l-73.142857 0 0 585.142857 73.142857 0q14.857143 0 25.714286 10.857143t10.857143 25.714286-10.857143 25.714286l-146.285714 146.285714q-10.857143 10.857143-25.714286 10.857143t-25.714286-10.857143l-146.285714-146.285714q-10.857143-10.857143-10.857143-25.714286t10.857143-25.714286 25.714286-10.857143l73.142857 0 0-585.142857-73.142857 0q-14.857143 0-25.714286-10.857143t-10.857143-25.714286 10.857143-25.714286l146.285714-146.285714q10.857143-10.857143 25.714286-10.857143t25.714286 10.857143l146.285714 146.285714q10.857143 10.857143 10.857143 25.714286z"  ></path></symbol><symbol id="icon-kuangxuan" viewBox="0 0 1024 1024"><path d="M832 1024H192a192 192 0 0 1-192-192V192a192 192 0 0 1 192-192h640a192 192 0 0 1 192 192v640a192 192 0 0 1-192 192zM192 128a64 64 0 0 0-64 64v640a64 64 0 0 0 64 64h640a64 64 0 0 0 64-64V192a64 64 0 0 0-64-64z" fill="" ></path></symbol><symbol id="icon-pouqie" viewBox="0 0 1024 1024"><path d="M60.30222221 170.66666667L337.92 170.66666667l0 68.26666666-249.17333334 0a17.06666667 17.06666667 0 0 0-17.06666666 17.06666667L71.68 768a17.06666667 17.06666667 0 0 0 17.06666666 17.06666667L337.92 785.06666667l0 68.26666666-277.61777779 0a56.88888889 56.88888889 0 0 1-56.88888888-56.88888888l0-568.8888889a56.88888889 56.88888889 0 0 1 56.88888888-56.88888888zM440.32 3.41333332a34.13333333 34.13333333 0 0 1 34.13333334 34.13333335L474.45333334 986.45333333a34.13333333 34.13333333 0 0 1-68.26666668 0l0-948.90666666a34.13333333 34.13333333 0 0 1 34.13333334-34.13333335zM610.98666667 238.93333333l-68.26666667 0 0-68.26666666 68.26666667 0 0 68.26666666z m0 614.4l-68.26666667 0 0-68.26666666 68.26666667 0 0 68.26666666zM747.52 238.93333333l-68.26666667 0 0-68.26666666 68.26666667 0 0 68.26666666z m0 614.4l-68.26666667 0 0-68.26666666 68.26666667 0 0 68.26666666zM884.05333333 238.93333333l-68.26666666 0 0-68.26666666 68.26666666 0 0 68.26666666z m0 614.4l-68.26666666 0 0-68.26666666 68.26666666 0 0 68.26666666zM1020.58666667 227.55555555l0 45.51111112-68.26666667 0 0-102.40000001 11.37777779 1e-8a56.88888889 56.88888889 0 0 1 56.88888888 56.88888888z m0 182.04444445l-68.26666667 0 0-68.26666667L1020.58666667 341.33333333l0 68.26666667z m0 136.53333334l-68.26666668-1e-8 0-68.26666666L1020.58666667 477.86666666l0 68.26666668z m0 136.53333333l-68.26666667 0 0-68.26666667L1020.58666667 614.4l0 68.26666667z m0 113.77777778a56.88888889 56.88888889 0 0 1-56.88888888 56.88888888l-11.37777779 1e-8 0-102.40000001L1020.58666667 750.93333333l0 45.51111112z" fill="" ></path></symbol><symbol id="icon-xalxe" viewBox="0 0 1024 1024"><path d="M968.533333 665.6c-8.533333-34.133333-38.4-55.466667-72.533333-46.933333-34.133333 8.533333-55.466667 38.4-46.933333 72.533333l4.266666 12.8-42.666666-29.866667V337.066667c0-8.533333-4.266667-17.066667-8.533334-25.6-4.266667-8.533333-12.8-17.066667-21.333333-21.333334l-332.8-179.2c-17.066667-8.533333-34.133333-8.533333-46.933333 0L68.266667 290.133333l-12.8 12.8-4.266667 4.266667c-4.266667 12.8-8.533333 21.333333-8.533333 29.866667v349.866666c0 21.333333 8.533333 38.4 25.6 46.933334l332.8 179.2c8.533333 4.266667 17.066667 4.266667 25.6 4.266666h4.266666c8.533333 0 17.066667-4.266667 21.333334-4.266666l268.8-145.066667 59.733333 42.666667h-8.533333c-34.133333 8.533333-55.466667 38.4-51.2 72.533333 8.533333 34.133333 38.4 55.466667 72.533333 51.2l213.333333-42.666667-38.4-226.133333z m-537.6 179.2v-341.333333L742.4 341.333333h4.266667v281.6l-119.466667-81.066666c-29.866667-21.333333-68.266667-12.8-89.6 17.066666s-12.8 68.266667 17.066667 89.6l102.4 68.266667-226.133334 128z m358.4 46.933333c-12.8 4.266667-21.333333-4.266667-25.6-17.066666s4.266667-21.333333 17.066667-25.6l106.666667-21.333334-128-85.333333-64-42.666667-123.733334-81.066666c-8.533333-8.533333-12.8-21.333333-4.266666-29.866667s21.333333-12.8 29.866666-4.266667l140.8 93.866667 59.733334 38.4 110.933333 72.533333-21.333333-110.933333c0-8.533333 4.266667-21.333333 17.066666-21.333333s21.333333 4.266667 21.333334 17.066666l34.133333 187.733334-170.666667 29.866666z"  ></path></symbol><symbol id="icon-yaxle" viewBox="0 0 1024 1024"><path d="M42.666667 891.733333l213.333333 42.666667c34.133333 8.533333 68.266667-17.066667 72.533333-51.2 8.533333-34.133333-17.066667-68.266667-51.2-72.533333h-8.533333l59.733333-42.666667 268.8 145.066667c8.533333 4.266667 12.8 4.266667 21.333334 4.266666h4.266666c8.533333 0 17.066667 0 25.6-4.266666l332.8-179.2c17.066667-8.533333 25.6-25.6 25.6-46.933334V337.066667c0-8.533333-4.266667-21.333333-8.533333-25.6l-4.266667-4.266667-12.8-12.8-332.8-179.2c-17.066667-8.533333-34.133333-8.533333-46.933333 0L273.066667 290.133333c-8.533333 4.266667-17.066667 12.8-21.333334 21.333334-4.266667 8.533333-8.533333 17.066667-8.533333 25.6v337.066666l-38.4 25.6 4.266667-12.8c8.533333-34.133333-17.066667-68.266667-46.933334-72.533333-34.133333-4.266667-68.266667 17.066667-76.8 51.2l-42.666666 226.133333zM396.8 725.333333l102.4-68.266666c29.866667-21.333333 38.4-59.733333 17.066667-89.6-21.333333-29.866667-59.733333-38.4-89.6-17.066667l-119.466667 81.066667V345.6h4.266667l311.466666 162.133333v341.333334L396.8 725.333333z m-302.933333 132.266667l34.133333-183.466667c0-8.533333 12.8-17.066667 21.333333-17.066666s17.066667 12.8 17.066667 21.333333l-21.333333 110.933333L256 716.8l59.733333-38.4 140.8-93.866667c8.533333-8.533333 21.333333-4.266667 29.866667 4.266667s4.266667 21.333333-4.266667 29.866667l-123.733333 81.066666-64 42.666667-128 85.333333 106.666667 21.333334c12.8 4.266667 17.066667 12.8 17.066666 25.6s-12.8 17.066667-25.6 17.066666l-170.666666-34.133333z"  ></path></symbol><symbol id="icon-zaxle" viewBox="0 0 1024 1024"><path d="M878.933333 435.2l-12.8-12.8-285.866666-153.6v-29.866667l8.533333 8.533334c21.333333 21.333333 59.733333 21.333333 85.333333 0 12.8-12.8 17.066667-25.6 17.066667-42.666667s-4.266667-29.866667-17.066667-42.666667L516.266667 4.266667 362.666667 149.333333c-12.8 12.8-21.333333 29.866667-21.333334 42.666667 0 17.066667 4.266667 29.866667 17.066667 42.666667 21.333333 21.333333 64 21.333333 85.333333 0l4.266667-4.266667v42.666667L179.2 422.4c-8.533333 0-12.8 4.266667-17.066667 8.533333-8.533333 8.533333-12.8 21.333333-12.8 34.133334v337.066666c0 17.066667 8.533333 34.133333 25.6 42.666667l320 170.666667c8.533333 4.266667 12.8 4.266667 21.333334 4.266666h8.533333c8.533333 0 12.8 0 21.333333-4.266666l320-170.666667c17.066667-8.533333 25.6-25.6 25.6-42.666667v-337.066666c-4.266667-12.8-8.533333-21.333333-12.8-29.866667zM418.133333 209.066667c-8.533333 8.533333-21.333333 8.533333-29.866666 0-4.266667-8.533333-4.266667-21.333333 0-29.866667l119.466666-119.466667L640 192c4.266667 4.266667 4.266667 8.533333 4.266667 12.8 0 4.266667 0 8.533333-4.266667 12.8-8.533333 8.533333-17.066667 8.533333-25.6 0l-81.066667-81.066667v320c0 12.8-8.533333 21.333333-21.333333 21.333334s-21.333333-8.533333-21.333333-21.333334V132.266667L418.133333 209.066667z m102.4 413.866666L230.4 469.333333l226.133333-119.466666v110.933333c0 34.133333 25.6 59.733333 59.733334 59.733333s59.733333-25.6 59.733333-59.733333V341.333333l238.933333 128-294.4 153.6z"  ></path></symbol><symbol id="icon-celianggongju" viewBox="0 0 1024 1024"><path d="M953.9 718.7l-246-246 201.5-204.5c25.2-25.5 25.2-66.9 0-92.5l-58.7-59.6c-25.2-25.5-66-25.5-91.2 0L557 321.8 305.1 69.9c-3.5-3.5-8.2-5.5-13.2-5.5s-9.7 2-13.2 5.5L69.9 278.7c-3.5 3.5-5.5 8.2-5.5 13.2s2 9.7 5.5 13.2l94.7 94.7 159 159L217.8 666l-0.2-0.2-0.2 0.7-0.2 0.2 0.1 0.1-47 147.2-0.3 0.3-65 66c-7.2 7.3-7.2 18.9 0 26.2l22.6 23c3.5 3.6 8.3 5.6 13.3 5.6s9.8-2 13.3-5.6l59.9-60.8 152.6-50.2 0.3 0.3 0.7-0.7 106.8-108.4 157.9 157.9 86.3 86.3c3.6 3.6 8.4 5.5 13.2 5.5 4.8 0 9.5-1.8 13.2-5.5l208.8-208.8c7.3-7.3 7.3-19.1 0-26.4zM731.8 914.4l-60-60 48.1-48.1c7.3-7.3 7.3-19.1 0-26.4-7.3-7.3-19.1-7.3-26.4 0l-48 48.1-90.6-90.6 75.9-75.9c7.3-7.3 7.3-19.1 0-26.4-7.3-7.3-19.1-7.3-26.4 0L528.5 711 438 620.5l48.1-48.1c7.3-7.3 7.3-19.1 0-26.4-7.3-7.3-19.1-7.3-26.4 0l-48.1 48.1-90.6-90.6 70.4-70.4c7.3-7.3 7.3-19.1 0-26.4-7.3-7.3-19.1-7.3-26.4 0l-70.4 70.4-90.6-90.6 48.1-48.1c7.3-7.3 7.3-19.1 0-26.4-7.3-7.3-19.1-7.3-26.4 0l-48.1 48.1-68.3-68.3 182.5-182.5 622.4 622.4-182.4 182.7z"  ></path></symbol><symbol id="icon-roam" viewBox="0 0 1024 1024"><path d="M512 269.27407445c72.81777778 0 131.072-53.39970333 131.072-121.36296334S584.81777778 26.54814777 512 26.54814777 380.928 79.94785223 380.928 147.91111111 439.18222222 269.27407445 512 269.27407445z m165.05363001 116.50844445c-4.8545189-29.12711111-29.12711111-53.39970333-63.10874112-53.39970447h-33.98163001c-9.70903666 0-14.56355555 4.8545189-24.27259221 9.7090378l-43.69066667 33.98162887-43.69066667-38.83614777c-4.8545189-4.8545189-14.56355555-9.70903666-24.27259221-9.70903666h-33.98163001c-33.98163001 0-63.10874112 24.27259221-63.10874112 53.39970333L317.81925888 599.38133333c0 9.70903666 0 19.41807445 9.70903779 24.27259222 4.8545189 4.8545189 14.56355555 9.70903666 24.27259222 9.70903779h33.98163001l29.12711111 310.68918443c4.8545189 29.12711111 29.12711111 53.39970333 63.10873998 53.39970446h72.81777778c33.98163001 0 63.10874112-24.27259221 63.10874112-53.39970446l29.12711111-310.68918443h33.98163001c9.70903666 0 19.41807445-4.8545189 24.27259221-9.70903779 4.8545189-9.70903666 4.8545189-14.56355555 4.8545189-24.27259222l-29.12711111-213.59881443z"  ></path></symbol></svg>';var X=window,q=(q=document.getElementsByTagName("script"))[q.length-1];M=q.getAttribute("data-injectcss");if(!(q=q.getAttribute("data-disable-injectsvg"))){if(M&&!X.__iconfont__svg__cssinject__){X.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(q){console&&console.log(q)}}D=function(){var e,t,n,i=document.createElement("div");i.innerHTML=X._iconfont_svg_string_3854110,(i=i.getElementsByTagName("svg")[0])&&(i.setAttribute("aria-hidden","true"),i.style.position="absolute",i.style.width=0,i.style.height=0,i.style.overflow="hidden",(e=document.body).firstChild?(t=i,(n=e.firstChild).parentNode.insertBefore(t,n)):e.appendChild(i))},document.addEventListener?~S()(M=["complete","loaded","interactive"]).call(M,document.readyState)?a()(D,0):(I=function(){document.removeEventListener("DOMContentLoaded",I,!1),D()},document.addEventListener("DOMContentLoaded",I,!1)):document.attachEvent&&(R=D,N=X.document,O=!1,function e(){try{N.documentElement.doScroll("left")}catch(t){return void a()(e,50)}Y()}(),N.onreadystatechange=function(){"complete"==N.readyState&&(N.onreadystatechange=null,Y())})}function Y(){O||(O=!0,R())}var $=n(36);function Z(e){return Object($.a)({url:"/api/BIMModel/SaveModelJsonFile",method:"post",data:e})}function Q(e,t){var n,i,r,a,o=void 0!==m.a&&v()(e)||e["@@iterator"];if(o)return i=!(n=!0),{s:function(){o=o.call(e)},n:function(){var e=o.next();return n=e.done,e},e:function(e){i=!0,r=e},f:function(){try{n||null==o.return||o.return()}finally{if(i)throw r}}};if(d()(e)||(o=function(e,t){var n;if(e)return"string"==typeof e?K(e,t):"Map"===(n="Object"===(n=f()(n=Object.prototype.toString.call(e)).call(n,8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?p()(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return o&&(e=o),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function J(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=s()(e=e.scene.children).call(e,(function(e){return"rootModel"==e.name})),r=null,a=null,o=null,l=null,c=null,u=null;if(t){var h,d=Q(t);try{for(d.s();!(h=d.n()).done;){var f,p=h.value,m=Q(i);try{for(m.s();!(f=m.n()).done;){var v=f.value;if(v.index===p[0]){var g,y=Q(v.ElementInfos);try{for(y.s();!(g=y.n()).done;){var x=g.value;if(!n&&x.dbid===p[1]){(!r||x.min.x<r)&&(r=x.min.x),(!a||x.min.y<a)&&(a=x.min.y),(!o||x.min.z<o)&&(o=x.min.z),(!l||x.max.x>l)&&(l=x.max.x),(!c||x.max.y>c)&&(c=x.max.y),(!u||x.max.z>u)&&(u=x.max.z);break}}}catch(e){y.e(e)}finally{y.f()}break}}}catch(e){m.e(e)}finally{m.f()}}}catch(e){d.e(e)}finally{d.f()}}else{var b,w=Q(i);try{for(w.s();!(b=w.n()).done;){var _,M=Q(b.value.ElementInfos);try{for(M.s();!(_=M.n()).done;){var S=_.value;(!r||S.min.x<r)&&(r=S.min.x),(!a||S.min.y<a)&&(a=S.min.y),(!o||S.min.z<o)&&(o=S.min.z),(!l||S.max.x>l)&&(l=S.max.x),(!c||S.max.y>c)&&(c=S.max.y),(!u||S.max.z>u)&&(u=S.max.z)}}catch(e){M.e(e)}finally{M.f()}}}catch(e){w.e(e)}finally{w.f()}}e=new THREE.Vector3(r,a,o),t=new THREE.Vector3(l,c,u);var E=e.clone().add(t.clone()).multiplyScalar(.5);return{min:e,max:t,center:E}}function ee(e,t){var n=new THREE.Vector3,i=(n=t.getWorldDirection(n).clone(),e.clone().sub(t.position.clone())),r=1;n.clone().dot(i.clone())<0&&(r=-1),n=e.project(t),i=window.innerWidth,e=window.innerHeight,t.viewport&&(i=t.viewport.z,e=t.viewport.w,window.innerHeight,window.devicePixelRatio,t.viewport.x,t.viewport.y),t=i/2,i=e/2;return{x:Math.round(n.x*t+t)*r,y:Math.round(-n.y*i+i)*r}}function te(e,t){var n=!0;e=e.clone().applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix);return!(1<Math.abs(e.x)||1<Math.abs(e.y)||1<Math.abs(e.z))&&n}function ne(e){n(552)("./"+W()+"/SvgIcon.scss");var t="http://www.w3.org/2000/svg",i=document.createElementNS(t,"svg");return(t=(i.setAttribute("aria-hidden",!0),i.setAttribute("class","Svg-Icon"),document.createElementNS(t,"use"))).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+e),i.appendChild(t),i}var ie=n(0),re=(M=(ie.OrbitControls=function(e,t,n){void 0===n&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),n===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=t,this.domElement=n,this.enabled=!0,this.target=new ie.Vector3,this.origin=new ie.Vector3(0,0,0),this.showOriginIcon=!0,this.originPosition={x:0,y:0},this.auto=!1,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:ie.MOUSE.ROTATE,MIDDLE:ie.MOUSE.DOLLY,RIGHT:ie.MOUSE.PAN},this.touches={ONE:ie.TOUCH.ROTATE,TWO:ie.TOUCH.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.moveWheel1=!0,this.moveWheel2=!1,this.wheelClock,this.getPolarAngle=function(){return x.phi},this.getAzimuthalAngle=function(){return x.theta},this.listenToKeyEvents=function(e){e.addEventListener("keydown",le),this._domElementKeyEvents=e},this.saveState=function(){d.target0.copy(d.target),d.position0.copy(d.object.position),d.zoom0=d.object.zoom},this.reset=function(){d.target.copy(d.target0),d.object.position.copy(d.position0),d.object.zoom=d.zoom0,d.object.updateProjectionMatrix(),d.dispatchEvent(f),d.update(),g=v.NONE},this.update=(i=new ie.Vector3,r=new ie.Vector3(0,0,0),o=new ie.Vector3,s=(new ie.Quaternion).setFromUnitVectors(t.up,new ie.Vector3(0,1,0)),l=s.clone().invert(),c=new ie.Vector3,u=new ie.Quaternion,h=2*Math.PI,function(){var t,n=d.object.position,a=(o.copy(n).sub(d.target),o.applyQuaternion(s),x.setFromVector3(o),d.autoRotate&&g===v.NONE&&R(2*Math.PI/60/60*d.autoRotateSpeed),d.enableDamping?(x.theta+=b.theta*d.dampingFactor,x.phi+=b.phi*d.dampingFactor):(x.theta+=b.theta,x.phi+=b.phi),d.minAzimuthAngle),p=d.maxAzimuthAngle;isFinite(a)&&isFinite(p)&&(a<-Math.PI?a+=h:a>Math.PI&&(a-=h),p<-Math.PI?p+=h:p>Math.PI&&(p-=h),x.theta=a<=p?Math.max(a,Math.min(p,x.theta)):x.theta>(a+p)/2?Math.max(a,x.theta):Math.min(p,x.theta)),x.phi=Math.max(d.minPolarAngle,Math.min(d.maxPolarAngle,x.phi)),x.makeSafe(),x.radius*=w,x.radius=Math.max(d.minDistance,Math.min(d.maxDistance,x.radius)),!0===d.enableDamping?d.target.addScaledVector(_,d.dampingFactor):d.target.add(_),o.setFromSpherical(x),o.applyQuaternion(l),a=(r=d.origin.x!=d.target.x&&d.origin.y!=d.target.y&&d.origin.z!=d.target.z?d.origin.clone().sub(d.target):r).clone().sub(i);return g==v.TOUCH_DOLLY_PAN&&(p=e.scene.camera,t=new ie.Vector3,n.add(p.getWorldDirection(t).multiplyScalar(d.object.zoomdir*x.radius*.05)),console.log("缩放")),0!=a.x||0!=a.y||0!=a.z||0==b.theta&&0==b.phi?(p=new ie.Vector3,0==_.x&&0==_.y&&0==_.z?0==b.phi&&0==b.theta&&(this.auto?(n.copy(d.target).add(o),d.object.lookAt(d.target)):null!=e&&(t=e.scene.camera,.01<n.distanceTo(d.target.clone().add(o)))&&n.add(t.getWorldDirection(p).multiplyScalar(d.object.zoomdir*x.radius*.05))):(n.copy(d.target).add(o),this.auto&&d.object.lookAt(d.target))):(t=(a=e.scene.camera).position.distanceTo(d.origin.clone()),p=a.position.clone().sub(d.origin.clone()),a.position.copy(d.origin.clone()),a.rotateOnWorldAxis(new ie.Vector3(0,1,0),Math.PI*b.theta*d.dampingFactor*3),a.rotateOnAxis(new ie.Vector3(1,0,0),Math.PI*b.phi*d.dampingFactor*3),n=p.clone(),p=new ie.Vector3,a.getWorldDirection(p),n.applyAxisAngle(new ie.Vector3(0,1,0),Math.PI*b.theta*d.dampingFactor*3),n.applyAxisAngle(p.clone().cross(new ie.Vector3(0,1,0)).normalize(),Math.PI*b.phi*d.dampingFactor*3),a.position.copy(d.origin.clone().add(n.clone().normalize().multiplyScalar(t)))),i=r,!0===d.enableDamping?(b.theta*=1-d.dampingFactor,b.phi*=1-d.dampingFactor,_.multiplyScalar(1-d.dampingFactor)):(b.set(0,0,0),_.set(0,0,0)),w=1,!(!(M||c.distanceToSquared(d.object.position)>y||8*(1-u.dot(d.object.quaternion))>y)||(d.dispatchEvent(f),c.copy(d.object.position),u.copy(d.object.quaternion),M=!1))}),this.dispose=function(){d.domElement.removeEventListener("contextmenu",de),d.domElement.removeEventListener("pointerdown",J),d.domElement.removeEventListener("wheel",se),d.domElement.removeEventListener("touchstart",ce),d.domElement.removeEventListener("touchend",he),d.domElement.removeEventListener("touchmove",ue),d.domElement.ownerDocument.removeEventListener("pointermove",te),d.domElement.ownerDocument.removeEventListener("pointerup",re),null!==d._domElementKeyEvents&&d._domElementKeyEvents.removeEventListener("keydown",le)};var i,r,o,s,l,c,u,h,d=this,f={type:"change"},p={type:"start"},m={type:"end"},v={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},g=v.NONE,y=1e-6,x=new ie.Spherical,b=new ie.Spherical,w=1,_=new ie.Vector3,M=!1,S=new ie.Vector2,E=new ie.Vector2,T=new ie.Vector2,C=new ie.Vector2,A=new ie.Vector2,L=new ie.Vector2,P=new ie.Vector2,k=new ie.Vector2,D=new ie.Vector2;function I(){return Math.pow(.8,1/d.zoomSpeed)}function R(e){b.theta-=e}function N(e){b.phi-=e}O=new ie.Vector3;var O,F,z,H=function(e,t){O.setFromMatrixColumn(t,0),O.multiplyScalar(-e),_.add(O)},U=(F=new ie.Vector3,function(e,t){!0===d.screenSpacePanning?F.setFromMatrixColumn(t,1):(F.setFromMatrixColumn(t,0),F.crossVectors(d.object.up,F)),F.multiplyScalar(e),_.add(F)}),V=(z=new ie.Vector3,function(e,t){var n,i=d.domElement;d.object.isPerspectiveCamera?(n=d.object.position,z.copy(n).sub(d.target),n=z.length(),n*=Math.tan(d.object.fov/2*Math.PI/180),H(2*e*n/i.clientHeight,d.object.matrix),U(2*t*n/i.clientHeight,d.object.matrix)):d.object.isOrthographicCamera?(H(e*(d.object.right-d.object.left)/d.object.zoom/i.clientWidth,d.object.matrix),U(t*(d.object.top-d.object.bottom)/d.object.zoom/i.clientHeight,d.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),d.enablePan=!1)});function G(e){d.object.zoomdir=-1,d.object.isPerspectiveCamera?w*=e:d.object.isOrthographicCamera?(d.object.zoom=Math.max(d.minZoom,Math.min(d.maxZoom,d.object.zoom*e)),d.object.updateProjectionMatrix(),M=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),d.enableZoom=!1)}function j(e){d.object.zoomdir=1,d.object.isPerspectiveCamera?w*=e:d.object.isOrthographicCamera?(d.object.zoom=Math.max(d.minZoom,Math.min(d.maxZoom,d.object.zoom/e)),d.object.updateProjectionMatrix(),M=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),d.enableZoom=!1)}function W(e){S.set(e.clientX,e.clientY)}function X(e){C.set(e.clientX,e.clientY)}function q(e){var t;1==e.touches.length?S.set(e.touches[0].pageX,e.touches[0].pageY):(t=.5*(e.touches[0].pageX+e.touches[1].pageX),e=.5*(e.touches[0].pageY+e.touches[1].pageY),S.set(t,e))}function Y(e){var t;1==e.touches.length?C.set(e.touches[0].pageX,e.touches[0].pageY):(t=.5*(e.touches[0].pageX+e.touches[1].pageX),e=.5*(e.touches[0].pageY+e.touches[1].pageY),C.set(t,e))}function $(e){var t=e.touches[0].pageX-e.touches[1].pageX;e=e.touches[0].pageY-e.touches[1].pageY,t=Math.sqrt(t*t+e*e);P.set(0,t)}function Z(e){1==e.touches.length?E.set(e.touches[0].pageX,e.touches[0].pageY):(t=.5*(e.touches[0].pageX+e.touches[1].pageX),e=.5*(e.touches[0].pageY+e.touches[1].pageY),E.set(t,e)),T.subVectors(E,S).multiplyScalar(d.rotateSpeed);var t=d.domElement;R(2*Math.PI*T.x/t.clientHeight),N(2*Math.PI*T.y/t.clientHeight),S.copy(E)}function Q(e){var t;1==e.touches.length?A.set(e.touches[0].pageX,e.touches[0].pageY):(t=.5*(e.touches[0].pageX+e.touches[1].pageX),e=.5*(e.touches[0].pageY+e.touches[1].pageY),A.set(t,e)),L.subVectors(A,C).multiplyScalar(d.panSpeed),V(L.x,L.y),C.copy(A)}function K(e){var t=e.touches[0].pageX-e.touches[1].pageX;e=e.touches[0].pageY-e.touches[1].pageY,t=Math.sqrt(t*t+e*e);k.set(0,t),D.set(0,Math.pow(k.y/P.y,.05*d.zoomSpeed)),D.y=2-D.y,D.y=D.y*D.y,(1-D.y<0?G:j)(.1*D.y),d.update(),P.copy(k)}function J(t){if(!1!==d.enabled)switch(t.pointerType){case"mouse":case"pen":!function(t){var n;switch(t.preventDefault(),d.showOriginIcon&&(d.originPosition=ee(d.origin.clone(),e.scene.camera)),(d.domElement.focus?d.domElement:window).focus(),t.button){case 0:n=d.mouseButtons.LEFT;break;case 1:n=d.mouseButtons.MIDDLE;break;case 2:n=d.mouseButtons.RIGHT;break;default:n=-1}switch(n){case ie.MOUSE.DOLLY:if(!1===d.enableZoom)return;!function(e){P.set(e.clientX,e.clientY)}(t),g=v.DOLLY;break;case ie.MOUSE.ROTATE:if(t.ctrlKey||t.metaKey||t.shiftKey){if(!1===d.enablePan)return;X(t),g=v.PAN}else{if(!1===d.enableRotate)return;W(t),g=v.ROTATE}break;case ie.MOUSE.PAN:if(t.ctrlKey||t.metaKey||t.shiftKey){if(!1===d.enableRotate)return;W(t),g=v.ROTATE}else{if(!1===d.enablePan)return;X(t),g=v.PAN}break;default:g=v.NONE}g!==v.NONE&&(d.domElement.ownerDocument.addEventListener("pointermove",te),d.domElement.ownerDocument.addEventListener("pointerup",re),d.dispatchEvent(p))}(t)}}function te(t){if(!1!==d.enabled)switch(t.pointerType){case"mouse":case"pen":var n,i=t;if(!1!==d.enabled)switch(i.preventDefault(),g){case v.ROTATE:!1!==d.enableRotate&&(e.Measures.isActive||(d.domElement.style.cursor="alias"),function(e){E.set(e.clientX,e.clientY),T.subVectors(E,S).multiplyScalar(d.rotateSpeed),e=d.domElement,R(2*Math.PI*T.x/e.clientHeight),N(2*Math.PI*T.y/e.clientHeight),S.copy(E),d.update()}(i),d.showOriginIcon&&(n=ae()))&&(n.style.top=d.originPosition.y-n.clientWidth/2+"px",n.style.left=d.originPosition.x-n.clientHeight/2+"px",n.style.display="block");break;case v.DOLLY:!1!==d.enableZoom&&function(t){k.set(t.clientX,t.clientY),D.subVectors(k,P),0<D.y?(e.Measures.isActive||(d.domElement.style.cursor="zoom-out"),G(I())):D.y<0&&(e.Measures.isActive||(d.domElement.style.cursor="zoom-in"),j(I())),P.copy(k),d.update()}(i);break;case v.PAN:!1!==d.enablePan&&(e.Measures.isActive||(d.domElement.style.cursor="move"),function(e){A.set(e.clientX,e.clientY),L.subVectors(A,C).multiplyScalar(d.panSpeed),V(L.x,L.y),C.copy(A),d.update()}(i))}}}function re(t){switch(e.Measures.isActive||(d.domElement.style.cursor="auto"),t.pointerType){case"mouse":case"pen":var n;e.Measures.isActive||(d.domElement.style.cursor="auto"),d.showOriginIcon&&(n=ae())&&(n.style.top=0-n.clientWidth/2+"px",n.style.left=0-n.clientHeight/2+"px",n.style.display="none"),d.domElement.ownerDocument.removeEventListener("pointermove",te),d.domElement.ownerDocument.removeEventListener("pointerup",re),!1!==d.enabled&&(d.dispatchEvent(m),g=v.NONE)}}function ae(){var e,t;return d.domElement.parentElement?((e=d.domElement.parentElement.getElementsByClassName("Three_OrbitControls_OriginIcon")[0])||((e=document.createElement("div")).className="Three_OrbitControls_OriginIcon",e.style.display="none",e.style.position="absolute",e.style.width="30px",e.style.height="30px",e.style.pointerEvents="none",t=ne("icon-baxin"),e.appendChild(t),t.style.width="100%",t.style.height="100%",d.domElement.parentElement.appendChild(e)),e):null}function oe(){d.moveWheel2&&(e.Measures.isActive||(d.domElement.style.cursor="auto"),d.moveWheel2=!1,d.moveWheel1=!0)}function se(t){var n;!1===d.enabled||!1===d.enableZoom||g!==v.NONE&&g!==v.ROTATE||(t.preventDefault(),t.stopPropagation(),d.dispatchEvent(p),(n=t).deltaY<0?j(I()):0<n.deltaY&&G(I()),d.update(),d.moveWheel1?(t.wheelDelta&&(0<t.wheelDelta?e.Measures.isActive||(d.domElement.style.cursor="zoom-in"):t.wheelDelta<0&&(e.Measures.isActive||(d.domElement.style.cursor="zoom-out"))),d.moveWheel1=!1,d.moveWheel2=!0,d.wheelClock=a()(oe,300)):(clearTimeout(d.wheelClock),d.wheelClock=a()(oe,250)))}function le(e){if(!1!==d.enabled&&!1!==d.enablePan){var t=!1;switch(e.keyCode){case B()(d).UP:V(0,d.keyPanSpeed),t=!0;break;case B()(d).BOTTOM:V(0,-d.keyPanSpeed),t=!0;break;case B()(d).LEFT:V(d.keyPanSpeed,0),t=!0;break;case B()(d).RIGHT:V(-d.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),d.update())}}function ce(e){if(!1!==d.enabled){switch(e.preventDefault(),e.touches.length){case 1:switch(d.touches.ONE){case ie.TOUCH.ROTATE:if(!1===d.enableRotate)return;q(e),g=v.TOUCH_ROTATE;break;case ie.TOUCH.PAN:if(!1===d.enablePan)return;Y(e),g=v.TOUCH_PAN;break;default:g=v.NONE}break;case 2:switch(d.touches.TWO){case ie.TOUCH.DOLLY_PAN:if(!1===d.enableZoom&&!1===d.enablePan)return;t=e,d.enableZoom&&$(t),d.enablePan&&Y(t),g=v.TOUCH_DOLLY_PAN;break;case ie.TOUCH.DOLLY_ROTATE:if(!1===d.enableZoom&&!1===d.enableRotate)return;t=e,d.enableZoom&&$(t),d.enableRotate&&q(t),g=v.TOUCH_DOLLY_ROTATE;break;default:g=v.NONE}break;default:g=v.NONE}var t;g!==v.NONE&&d.dispatchEvent(p)}}function ue(e){var t;if(!1!==d.enabled)switch(e.preventDefault(),e.stopPropagation(),g){case v.TOUCH_ROTATE:!1!==d.enableRotate&&(Z(e),d.update());break;case v.TOUCH_PAN:!1!==d.enablePan&&(Q(e),d.update());break;case v.TOUCH_DOLLY_PAN:!1===d.enableZoom&&!1===d.enablePan||(t=e,d.enableZoom&&K(t),d.enablePan&&Q(t),d.update());break;case v.TOUCH_DOLLY_ROTATE:!1===d.enableZoom&&!1===d.enableRotate||(t=e,d.enableZoom&&K(t),d.enableRotate&&Z(t),d.update());break;default:g=v.NONE}}function he(e){!1!==d.enabled&&(d.dispatchEvent(m),g=v.NONE)}function de(e){!1!==d.enabled&&e.preventDefault()}d.domElement.addEventListener("contextmenu",de),d.domElement.addEventListener("pointerdown",J),d.domElement.addEventListener("wheel",se),d.domElement.addEventListener("touchstart",ce),d.domElement.addEventListener("touchend",he),d.domElement.addEventListener("touchmove",ue),this.update()},ie.OrbitControls.prototype=r()(ie.EventDispatcher.prototype),ie.OrbitControls.prototype.constructor=ie.OrbitControls,ie.MapControls=function(e,t){ie.OrbitControls.call(this,e,t),this.screenSpacePanning=!1,this.mouseButtons.LEFT=ie.MOUSE.PAN,this.mouseButtons.RIGHT=ie.MOUSE.ROTATE,this.touches.ONE=ie.TOUCH.PAN,this.touches.TWO=ie.TOUCH.DOLLY_ROTATE},ie.MapControls.prototype=r()(ie.EventDispatcher.prototype),ie.MapControls.prototype.constructor=ie.MapControls,n(559),n(47)),n.n(M)),ae=(M=n(105),n.n(M)),oe=n(0);function se(e,t){var n,i,r,a,o=void 0!==m.a&&v()(e)||e["@@iterator"];if(o)return i=!(n=!0),{s:function(){o=o.call(e)},n:function(){var e=o.next();return n=e.done,e},e:function(e){i=!0,r=e},f:function(){try{n||null==o.return||o.return()}finally{if(i)throw r}}};if(d()(e)||(o=function(e,t){var n;if(e)return"string"==typeof e?le(e,t):"Map"===(n="Object"===(n=f()(n=Object.prototype.toString.call(e)).call(n,8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?p()(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?le(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return o&&(e=o),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}oe.TransformControls=function(e,t){void 0===t&&(console.warn('THREE.TransformControls: The second parameter "domElement" is now mandatory.'),t=document),oe.Object3D.call(this),this.visible=!1,this.domElement=t;var n=new oe.TransformControlsGizmo,i=(this.add(n),new oe.TransformControlsPlane),r=(this.add(i),this),a=(U("camera",e),U("object",void 0),U("enabled",!0),U("axis",null),U("mode","translate"),U("translationSnap",null),U("rotationSnap",null),U("scaleSnap",null),U("space","world"),U("size",1),U("dragging",!1),U("showX",!0),U("showY",!0),U("showZ",!0),{type:"change"}),o={type:"mouseDown"},s={type:"mouseUp",mode:r.mode},l={type:"objectChange"},c=new oe.Raycaster;function u(e,t,n){for(var i=t.intersectObject(e,!0),r=0;r<i.length;r++)if(i[r].object.visible||n)return i[r];return!1}var h=new oe.Vector3,d=new oe.Vector3,f=new oe.Quaternion,p={X:new oe.Vector3(1,0,0),Y:new oe.Vector3(0,1,0),Z:new oe.Vector3(0,0,1)},m=new oe.Vector3,v=new oe.Vector3,g=new oe.Vector3,y=new oe.Vector3,x=new oe.Vector3,b=new oe.Vector3,w=0,_=new oe.Vector3,M=new oe.Quaternion,E=new oe.Vector3,T=new oe.Vector3,C=new oe.Quaternion,A=new oe.Quaternion,L=new oe.Vector3,P=new oe.Vector3,k=new oe.Quaternion,D=new oe.Vector3,I=new oe.Vector3,R=new oe.Quaternion,N=new oe.Quaternion,O=new oe.Vector3,F=new oe.Vector3,z=new oe.Vector3,B=new oe.Quaternion,H=new oe.Vector3;function U(e,t){var o=t;re()(r,e,{get:function(){return void 0!==o?o:t},set:function(t){o!==t&&(o=t,i[e]=t,n[e]=t,r.dispatchEvent({type:e+"-changed",value:t}),r.dispatchEvent(a))}}),r[e]=t,i[e]=t,n[e]=t}function V(e){var n,i;return r.domElement.ownerDocument.pointerLockElement?{x:0,y:0,button:e.button}:(n=e.changedTouches?e.changedTouches[0]:e,i=t.getBoundingClientRect(),{x:(n.clientX-i.left)/i.width*2-1,y:-(n.clientY-i.top)/i.height*2+1,button:e.button})}function G(e){if(r.enabled)switch(e.pointerType){case"mouse":case"pen":r.pointerHover(V(e))}}function j(e){r.enabled&&(r.domElement.style.touchAction="none",r.domElement.ownerDocument.addEventListener("pointermove",W),r.pointerHover(V(e)),r.pointerDown(V(e)))}function W(e){r.enabled&&r.pointerMove(V(e))}function X(e){r.enabled&&(r.domElement.style.touchAction="",r.domElement.ownerDocument.removeEventListener("pointermove",W),r.pointerUp(V(e)))}U("worldPosition",I),U("worldPositionStart",P),U("worldQuaternion",R),U("worldQuaternionStart",k),U("cameraPosition",_),U("cameraQuaternion",M),U("pointStart",m),U("pointEnd",v),U("rotationAxis",y),U("rotationAngle",w),U("eye",F),t.addEventListener("pointerdown",j),t.addEventListener("pointermove",G),r.domElement.ownerDocument.addEventListener("pointerup",X),this.dispose=function(){t.removeEventListener("pointerdown",j),t.removeEventListener("pointermove",G),r.domElement.ownerDocument.removeEventListener("pointermove",W),r.domElement.ownerDocument.removeEventListener("pointerup",X),this.traverse((function(e){e.geometry&&e.geometry.dispose(),e.material&&e.material.dispose()}))},this.attach=function(e){return this.object=e,this.visible=!0,this},this.detach=function(){return this.object=void 0,this.visible=!1,this.axis=null,this},this.updateMatrixWorld=function(){void 0!==this.object&&(this.object.updateMatrixWorld(),null===this.object.parent?console.error("TransformControls: The attached 3D object must be a part of the scene graph."):this.object.parent.matrixWorld.decompose(T,C,L),this.object.matrixWorld.decompose(I,R,O),A.copy(C).invert(),N.copy(R).invert()),this.camera.updateMatrixWorld(),this.camera.matrixWorld.decompose(_,M,E),F.copy(_).sub(I).normalize(),oe.Object3D.prototype.updateMatrixWorld.call(this)},this.pointerHover=function(e){void 0!==this.object&&!0!==this.dragging&&(c.setFromCamera(e,this.camera),e=u(n.picker[this.mode],c),this.axis=e?e.object.name:null)},this.pointerDown=function(e){var t;void 0!==this.object&&!0!==this.dragging&&0===e.button&&null!==this.axis&&(c.setFromCamera(e,this.camera),(e=u(i,c,!0))&&(t=this.space,"scale"===this.mode?t="local":"E"!==this.axis&&"XYZE"!==this.axis&&"XYZ"!==this.axis||(t="world"),"local"===t&&"rotate"===this.mode&&(t=this.rotationSnap,"X"===this.axis&&t&&(this.object.rotation.x=Math.round(this.object.rotation.x/t)*t),"Y"===this.axis&&t&&(this.object.rotation.y=Math.round(this.object.rotation.y/t)*t),"Z"===this.axis)&&t&&(this.object.rotation.z=Math.round(this.object.rotation.z/t)*t),this.object.updateMatrixWorld(),this.object.parent.updateMatrixWorld(),z.copy(this.object.position),B.copy(this.object.quaternion),H.copy(this.object.scale),this.object.matrixWorld.decompose(P,k,D),m.copy(e.point).sub(P)),this.dragging=!0,o.mode=this.mode,this.dispatchEvent(o))},this.pointerMove=function(e){var t=this.axis,n=this.mode,r=this.object,o=this.space;"scale"===n?o="local":"E"!==t&&"XYZE"!==t&&"XYZ"!==t||(o="world"),void 0!==r&&null!==t&&!1!==this.dragging&&-1===e.button&&(c.setFromCamera(e,this.camera),e=u(i,c,!0))&&(v.copy(e.point).sub(P),"translate"===n?(g.copy(v).sub(m),"local"===o&&"XYZ"!==t&&g.applyQuaternion(N),-1===S()(t).call(t,"X")&&(g.x=0),-1===S()(t).call(t,"Y")&&(g.y=0),-1===S()(t).call(t,"Z")&&(g.z=0),("local"===o&&"XYZ"!==t?g.applyQuaternion(B):g.applyQuaternion(A)).divide(L),r.position.copy(g).add(z),this.translationSnap&&("local"===o&&(r.position.applyQuaternion(f.copy(B).invert()),-1!==t.search("X")&&(r.position.x=Math.round(r.position.x/this.translationSnap)*this.translationSnap),-1!==t.search("Y")&&(r.position.y=Math.round(r.position.y/this.translationSnap)*this.translationSnap),-1!==t.search("Z")&&(r.position.z=Math.round(r.position.z/this.translationSnap)*this.translationSnap),r.position.applyQuaternion(B)),"world"===o)&&(r.parent&&r.position.add(h.setFromMatrixPosition(r.parent.matrixWorld)),-1!==t.search("X")&&(r.position.x=Math.round(r.position.x/this.translationSnap)*this.translationSnap),-1!==t.search("Y")&&(r.position.y=Math.round(r.position.y/this.translationSnap)*this.translationSnap),-1!==t.search("Z")&&(r.position.z=Math.round(r.position.z/this.translationSnap)*this.translationSnap),r.parent)&&r.position.sub(h.setFromMatrixPosition(r.parent.matrixWorld))):"scale"===n?(-1!==t.search("XYZ")?(e=v.length()/m.length(),v.dot(m)<0&&(e*=-1),d.set(e,e,e)):(h.copy(m),d.copy(v),h.applyQuaternion(N),d.applyQuaternion(N),d.divide(h),-1===t.search("X")&&(d.x=1),-1===t.search("Y")&&(d.y=1),-1===t.search("Z")&&(d.z=1)),r.scale.copy(H).multiply(d),this.scaleSnap&&(-1!==t.search("X")&&(r.scale.x=Math.round(r.scale.x/this.scaleSnap)*this.scaleSnap||this.scaleSnap),-1!==t.search("Y")&&(r.scale.y=Math.round(r.scale.y/this.scaleSnap)*this.scaleSnap||this.scaleSnap),-1!==t.search("Z"))&&(r.scale.z=Math.round(r.scale.z/this.scaleSnap)*this.scaleSnap||this.scaleSnap)):"rotate"===n&&(g.copy(v).sub(m),e=20/I.distanceTo(h.setFromMatrixPosition(this.camera.matrixWorld)),"E"===t?(y.copy(F),w=v.angleTo(m),x.copy(m).normalize(),b.copy(v).normalize(),w*=b.cross(x).dot(F)<0?1:-1):"XYZE"===t?(y.copy(g).cross(F).normalize(),w=g.dot(h.copy(y).cross(this.eye))*e):"X"!==t&&"Y"!==t&&"Z"!==t||(y.copy(p[t]),h.copy(p[t]),"local"===o&&h.applyQuaternion(R),w=g.dot(h.cross(F).normalize())*e),this.rotationSnap&&(w=Math.round(w/this.rotationSnap)*this.rotationSnap),this.rotationAngle=w,("local"===o&&"E"!==t&&"XYZE"!==t?(r.quaternion.copy(B),r.quaternion.multiply(f.setFromAxisAngle(y,w))):(y.applyQuaternion(A),r.quaternion.copy(f.setFromAxisAngle(y,w)),r.quaternion.multiply(B))).normalize()),this.dispatchEvent(a),this.dispatchEvent(l))},this.pointerUp=function(e){0===e.button&&(this.dragging&&null!==this.axis&&(s.mode=this.mode,this.dispatchEvent(s)),this.dragging=!1,this.axis=null)},this.getMode=function(){return r.mode},this.setMode=function(e){r.mode=e},this.setTranslationSnap=function(e){r.translationSnap=e},this.setRotationSnap=function(e){r.rotationSnap=e},this.setScaleSnap=function(e){r.scaleSnap=e},this.setSize=function(e){r.size=e},this.setSpace=function(e){r.space=e},this.update=function(){console.warn("THREE.TransformControls: update function has no more functionality and therefore has been deprecated.")}},oe.TransformControls.prototype=_()(r()(oe.Object3D.prototype),{constructor:oe.TransformControls,isTransformControls:!0}),oe.TransformControlsGizmo=function(){oe.Object3D.call(this),this.type="TransformControlsGizmo";var e=new oe.MeshBasicMaterial({depthTest:!1,depthWrite:!1,transparent:!0,side:oe.DoubleSide,fog:!1,toneMapped:!1}),t=new oe.LineBasicMaterial({depthTest:!1,depthWrite:!1,transparent:!0,linewidth:1,fog:!1,toneMapped:!1}),n=e.clone(),i=(n.opacity=.15,e.clone()),r=((T=((E=(i.opacity=.33,e.clone())).color.set(16711680),e.clone())).color.set(65280),e.clone()),a=(r.color.set(255),e.clone()),o=(a.opacity=.25,a.clone()),s=(o.color.set(16776960),a.clone()),l=(s.color.set(65535),a.clone());function c(e,t){for(var n=new oe.BufferGeometry,i=[],r=0;r<=64*t;++r)i.push(0,Math.cos(r/32*Math.PI)*e,Math.sin(r/32*Math.PI)*e);return n.setAttribute("position",new oe.Float32BufferAttribute(i,3)),n}function h(e){var t,n=new oe.Object3D;for(t in e)for(var i=e[t].length;i--;){var r=e[t][i][0].clone(),a=e[t][i][1],o=e[t][i][2],s=e[t][i][3],l=e[t][i][4];(l=(r.name=t,r.tag=l,a&&r.position.set(a[0],a[1],a[2]),o&&r.rotation.set(o[0],o[1],o[2]),s&&r.scale.set(s[0],s[1],s[2]),r.updateMatrix(),r.geometry.clone())).applyMatrix4(r.matrix),r.geometry=l,r.renderOrder=1/0,r.position.set(0,0,0),r.rotation.set(0,0,0),r.scale.set(1,1,1),n.add(r)}return n}l.color.set(16711935),e.clone().color.set(16776960);var d=((e=t.clone()).color.set(16711680),t.clone()),f=(d.color.set(65280),t.clone()),p=(f.color.set(255),t.clone()),m=(p.color.set(65535),t.clone()),v=(m.color.set(16711935),t.clone()),g=((_=((t=(v.color.set(16776960),t.clone())).color.set(7895160),v.clone())).opacity=.25,new oe.CylinderGeometry(0,.05,.2,12,1,!1)),y=new oe.BoxGeometry(.125,.125,.125),x=new oe.BufferGeometry,b=(g=(x.setAttribute("position",new oe.Float32BufferAttribute([0,0,0,1,0,0],3)),{X:[[new oe.Mesh(g,E),[1,0,0],[0,0,-Math.PI/2],null,"fwd"],[new oe.Mesh(g,E),[1,0,0],[0,0,-Math.PI/2],null,"bwd"],[new oe.Line(x,e)]],Y:[[new oe.Mesh(g,T),[0,1,0],null,null,"fwd"],[new oe.Mesh(g,T),[0,1,0],null,null,"bwd"],[new oe.Line(x,d),null,[0,0,Math.PI/2]]],Z:[[new oe.Mesh(g,r),[0,0,1],[Math.PI/2,0,0],null,"fwd"],[new oe.Mesh(g,r),[0,0,1],[Math.PI/2,0,0],null,"bwd"],[new oe.Line(x,f),null,[0,-Math.PI/2,0]]],XYZ:[[new oe.Mesh(new oe.OctahedronGeometry(.1,0),a.clone()),[0,0,0],[0,0,0]]],XY:[[new oe.Mesh(new oe.PlaneGeometry(.295,.295),o.clone()),[.15,.15,0]],[new oe.Line(x,v),[.18,.3,0],null,[.125,1,1]],[new oe.Line(x,v),[.3,.18,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new oe.Mesh(new oe.PlaneGeometry(.295,.295),s.clone()),[0,.15,.15],[0,Math.PI/2,0]],[new oe.Line(x,p),[0,.18,.3],[0,0,Math.PI/2],[.125,1,1]],[new oe.Line(x,p),[0,.3,.18],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new oe.Mesh(new oe.PlaneGeometry(.295,.295),l.clone()),[.15,0,.15],[-Math.PI/2,0,0]],[new oe.Line(x,m),[.18,0,.3],null,[.125,1,1]],[new oe.Line(x,m),[.3,0,.18],[0,-Math.PI/2,0],[.125,1,1]]]}),{X:[[new oe.Mesh(new oe.CylinderGeometry(.2,0,1,4,1,!1),n),[.6,0,0],[0,0,-Math.PI/2]]],Y:[[new oe.Mesh(new oe.CylinderGeometry(.2,0,1,4,1,!1),n),[0,.6,0]]],Z:[[new oe.Mesh(new oe.CylinderGeometry(.2,0,1,4,1,!1),n),[0,0,.6],[Math.PI/2,0,0]]],XYZ:[[new oe.Mesh(new oe.OctahedronGeometry(.2,0),n)]],XY:[[new oe.Mesh(new oe.PlaneGeometry(.4,.4),n),[.2,.2,0]]],YZ:[[new oe.Mesh(new oe.PlaneGeometry(.4,.4),n),[0,.2,.2],[0,Math.PI/2,0]]],XZ:[[new oe.Mesh(new oe.PlaneGeometry(.4,.4),n),[.2,0,.2],[-Math.PI/2,0,0]]]}),w={START:[[new oe.Mesh(new oe.OctahedronGeometry(.01,2),i),null,null,null,"helper"]],END:[[new oe.Mesh(new oe.OctahedronGeometry(.01,2),i),null,null,null,"helper"]],DELTA:[[new oe.Line(((w=new oe.BufferGeometry).setAttribute("position",new oe.Float32BufferAttribute([0,0,0,1,1,1],3)),w),i),null,null,null,"helper"]],X:[[new oe.Line(x,i.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new oe.Line(x,i.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new oe.Line(x,i.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},_={X:[[new oe.Line(c(1,.5),e)],[new oe.Mesh(new oe.OctahedronGeometry(.04,0),E),[0,0,.99],null,[1,3,1]]],Y:[[new oe.Line(c(1,.5),d),null,[0,0,-Math.PI/2]],[new oe.Mesh(new oe.OctahedronGeometry(.04,0),T),[0,0,.99],null,[3,1,1]]],Z:[[new oe.Line(c(1,.5),f),null,[0,Math.PI/2,0]],[new oe.Mesh(new oe.OctahedronGeometry(.04,0),r),[.99,0,0],null,[1,3,1]]],E:[[new oe.Line(c(1.25,1),_),null,[0,Math.PI/2,0]],[new oe.Mesh(new oe.CylinderGeometry(.03,0,.15,4,1,!1),_),[1.17,0,0],[0,0,-Math.PI/2],[1,1,.001]],[new oe.Mesh(new oe.CylinderGeometry(.03,0,.15,4,1,!1),_),[-1.17,0,0],[0,0,Math.PI/2],[1,1,.001]],[new oe.Mesh(new oe.CylinderGeometry(.03,0,.15,4,1,!1),_),[0,-1.17,0],[Math.PI,0,0],[1,1,.001]],[new oe.Mesh(new oe.CylinderGeometry(.03,0,.15,4,1,!1),_),[0,1.17,0],[0,0,0],[1,1,.001]]],XYZE:[[new oe.Line(c(1,1),t),null,[0,Math.PI/2,0]]]},M=(t={AXIS:[[new oe.Line(x,i.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]]},{X:[[new oe.Mesh(new oe.TorusGeometry(1,.1,4,24),n),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new oe.Mesh(new oe.TorusGeometry(1,.1,4,24),n),[0,0,0],[Math.PI/2,0,0]]],Z:[[new oe.Mesh(new oe.TorusGeometry(1,.1,4,24),n),[0,0,0],[0,0,-Math.PI/2]]],E:[[new oe.Mesh(new oe.TorusGeometry(1.25,.1,2,24),n)]],XYZE:[[new oe.Mesh(new oe.SphereGeometry(.7,10,8),n)]]}),E={X:[[new oe.Mesh(y,E),[.8,0,0],[0,0,-Math.PI/2]],[new oe.Line(x,e),null,null,[.8,1,1]]],Y:[[new oe.Mesh(y,T),[0,.8,0]],[new oe.Line(x,d),null,[0,0,Math.PI/2],[.8,1,1]]],Z:[[new oe.Mesh(y,r),[0,0,.8],[Math.PI/2,0,0]],[new oe.Line(x,f),null,[0,-Math.PI/2,0],[.8,1,1]]],XY:[[new oe.Mesh(y,o),[.85,.85,0],null,[2,2,.2]],[new oe.Line(x,v),[.855,.98,0],null,[.125,1,1]],[new oe.Line(x,v),[.98,.855,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new oe.Mesh(y,s),[0,.85,.85],null,[.2,2,2]],[new oe.Line(x,p),[0,.855,.98],[0,0,Math.PI/2],[.125,1,1]],[new oe.Line(x,p),[0,.98,.855],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new oe.Mesh(y,l),[.85,0,.85],null,[2,.2,2]],[new oe.Line(x,m),[.855,0,.98],null,[.125,1,1]],[new oe.Line(x,m),[.98,0,.855],[0,-Math.PI/2,0],[.125,1,1]]],XYZX:[[new oe.Mesh(new oe.BoxGeometry(.125,.125,.125),a.clone()),[1.1,0,0]]],XYZY:[[new oe.Mesh(new oe.BoxGeometry(.125,.125,.125),a.clone()),[0,1.1,0]]],XYZZ:[[new oe.Mesh(new oe.BoxGeometry(.125,.125,.125),a.clone()),[0,0,1.1]]]},T=(e={X:[[new oe.Mesh(new oe.CylinderGeometry(.2,0,.8,4,1,!1),n),[.5,0,0],[0,0,-Math.PI/2]]],Y:[[new oe.Mesh(new oe.CylinderGeometry(.2,0,.8,4,1,!1),n),[0,.5,0]]],Z:[[new oe.Mesh(new oe.CylinderGeometry(.2,0,.8,4,1,!1),n),[0,0,.5],[Math.PI/2,0,0]]],XY:[[new oe.Mesh(y,n),[.85,.85,0],null,[3,3,.2]]],YZ:[[new oe.Mesh(y,n),[0,.85,.85],null,[.2,3,3]]],XZ:[[new oe.Mesh(y,n),[.85,0,.85],null,[3,.2,3]]],XYZX:[[new oe.Mesh(new oe.BoxGeometry(.2,.2,.2),n),[1.1,0,0]]],XYZY:[[new oe.Mesh(new oe.BoxGeometry(.2,.2,.2),n),[0,1.1,0]]],XYZZ:[[new oe.Mesh(new oe.BoxGeometry(.2,.2,.2),n),[0,0,1.1]]]},{X:[[new oe.Line(x,i.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new oe.Line(x,i.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new oe.Line(x,i.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]}),C=new oe.Vector3(0,0,0),A=new oe.Euler,L=new oe.Vector3(0,1,0),P=new oe.Vector3(0,0,0),k=new oe.Matrix4,D=new oe.Quaternion,I=new oe.Quaternion,R=new oe.Quaternion,N=new oe.Vector3(1,0,0),O=new oe.Vector3(0,1,0),F=new oe.Vector3(0,0,1);this.gizmo={},this.picker={},this.helper={},this.add(this.gizmo.translate=h(g)),this.add(this.gizmo.rotate=h(_)),this.add(this.gizmo.scale=h(E)),this.add(this.picker.translate=h(b)),this.add(this.picker.rotate=h(M)),this.add(this.picker.scale=h(e)),this.add(this.helper.translate=h(w)),this.add(this.helper.rotate=h(t)),this.add(this.helper.scale=h(T)),this.picker.translate.visible=!1,this.picker.rotate.visible=!1,this.picker.scale.visible=!1,this.updateMatrixWorld=function(){var e=this.space,t="local"===(e="scale"===this.mode?"local":e)?this.worldQuaternion:R,n=(this.gizmo.translate.visible="translate"===this.mode,this.gizmo.rotate.visible="rotate"===this.mode,this.gizmo.scale.visible="scale"===this.mode,this.helper.translate.visible="translate"===this.mode,this.helper.rotate.visible="rotate"===this.mode,this.helper.scale.visible="scale"===this.mode,[]);n=u()(n).call(n,this.picker[this.mode].children);n=u()(n).call(n,this.gizmo[this.mode].children),n=u()(n).call(n,this.helper[this.mode].children);for(var i=0;i<n.length;i++){var r,a=n[i];a.visible=!0,a.rotation.set(0,0,0),a.position.copy(this.worldPosition),r=this.camera.isOrthographicCamera?(this.camera.top-this.camera.bottom)/this.camera.zoom:this.worldPosition.distanceTo(this.cameraPosition)*Math.min(1.9*Math.tan(Math.PI*this.camera.fov/360)/this.camera.zoom,7),a.scale.set(1,1,1).multiplyScalar(r*this.size/7),"helper"===a.tag?(a.visible=!1,"AXIS"===a.name?(a.position.copy(this.worldPositionStart),a.visible=!!this.axis,"X"===this.axis&&(D.setFromEuler(A.set(0,0,0)),a.quaternion.copy(t).multiply(D),.9<Math.abs(L.copy(N).applyQuaternion(t).dot(this.eye)))&&(a.visible=!1),"Y"===this.axis&&(D.setFromEuler(A.set(0,0,Math.PI/2)),a.quaternion.copy(t).multiply(D),.9<Math.abs(L.copy(O).applyQuaternion(t).dot(this.eye)))&&(a.visible=!1),"Z"===this.axis&&(D.setFromEuler(A.set(0,Math.PI/2,0)),a.quaternion.copy(t).multiply(D),.9<Math.abs(L.copy(F).applyQuaternion(t).dot(this.eye)))&&(a.visible=!1),"XYZE"===this.axis&&(D.setFromEuler(A.set(0,Math.PI/2,0)),L.copy(this.rotationAxis),a.quaternion.setFromRotationMatrix(k.lookAt(P,L,O)),a.quaternion.multiply(D),a.visible=this.dragging),"E"===this.axis&&(a.visible=!1)):"START"===a.name?(a.position.copy(this.worldPositionStart),a.visible=this.dragging):"END"===a.name?(a.position.copy(this.worldPosition),a.visible=this.dragging):"DELTA"===a.name?(a.position.copy(this.worldPositionStart),a.quaternion.copy(this.worldQuaternionStart),C.set(1e-10,1e-10,1e-10).add(this.worldPositionStart).sub(this.worldPosition).multiplyScalar(-1),C.applyQuaternion(this.worldQuaternionStart.clone().invert()),a.scale.copy(C),a.visible=this.dragging):(a.quaternion.copy(t),this.dragging?a.position.copy(this.worldPositionStart):a.position.copy(this.worldPosition),this.axis&&(a.visible=-1!==this.axis.search(a.name)))):(a.quaternion.copy(t),"translate"===this.mode||"scale"===this.mode?("X"!==a.name&&"XYZX"!==a.name||.99<Math.abs(L.copy(N).applyQuaternion(t).dot(this.eye))&&(a.scale.set(1e-10,1e-10,1e-10),a.visible=!1),"Y"!==a.name&&"XYZY"!==a.name||.99<Math.abs(L.copy(O).applyQuaternion(t).dot(this.eye))&&(a.scale.set(1e-10,1e-10,1e-10),a.visible=!1),"Z"!==a.name&&"XYZZ"!==a.name||.99<Math.abs(L.copy(F).applyQuaternion(t).dot(this.eye))&&(a.scale.set(1e-10,1e-10,1e-10),a.visible=!1),"XY"===a.name&&Math.abs(L.copy(F).applyQuaternion(t).dot(this.eye))<.2&&(a.scale.set(1e-10,1e-10,1e-10),a.visible=!1),"YZ"===a.name&&Math.abs(L.copy(N).applyQuaternion(t).dot(this.eye))<.2&&(a.scale.set(1e-10,1e-10,1e-10),a.visible=!1),"XZ"===a.name&&Math.abs(L.copy(O).applyQuaternion(t).dot(this.eye))<.2&&(a.scale.set(1e-10,1e-10,1e-10),a.visible=!1),-1!==a.name.search("X")&&(L.copy(N).applyQuaternion(t).dot(this.eye)<0?"fwd"===a.tag?a.visible=!1:a.scale.x*=-1:"bwd"===a.tag&&(a.visible=!1)),-1!==a.name.search("Y")&&(L.copy(O).applyQuaternion(t).dot(this.eye)<0?"fwd"===a.tag?a.visible=!1:a.scale.y*=-1:"bwd"===a.tag&&(a.visible=!1)),-1!==a.name.search("Z")&&(L.copy(F).applyQuaternion(t).dot(this.eye)<0?"fwd"===a.tag?a.visible=!1:a.scale.z*=-1:"bwd"===a.tag&&(a.visible=!1))):"rotate"===this.mode&&(I.copy(t),L.copy(this.eye).applyQuaternion(D.copy(t).invert()),-1!==a.name.search("E")&&a.quaternion.setFromRotationMatrix(k.lookAt(this.eye,P,O)),"X"===a.name&&(D.setFromAxisAngle(N,Math.atan2(-L.y,L.z)),D.multiplyQuaternions(I,D),a.quaternion.copy(D)),"Y"===a.name&&(D.setFromAxisAngle(O,Math.atan2(L.x,L.z)),D.multiplyQuaternions(I,D),a.quaternion.copy(D)),"Z"===a.name)&&(D.setFromAxisAngle(F,Math.atan2(L.y,L.x)),D.multiplyQuaternions(I,D),a.quaternion.copy(D)),a.visible=a.visible&&(-1===S()(r=a.name).call(r,"X")||this.showX),a.visible=a.visible&&(-1===S()(r=a.name).call(r,"Y")||this.showY),a.visible=a.visible&&(-1===S()(r=a.name).call(r,"Z")||this.showZ),a.visible=a.visible&&(-1===S()(r=a.name).call(r,"E")||this.showX&&this.showY&&this.showZ),a.material._opacity=a.material._opacity||a.material.opacity,a.material._color=a.material._color||a.material.color.clone(),a.material.color.copy(a.material._color),a.material.opacity=a.material._opacity,this.enabled?this.axis&&(a.name===this.axis||ae()(r=this.axis.split("")).call(r,(function(e){return a.name===e}))?a.material.opacity=1:a.material.opacity*=.25,a.material.color.lerp(new oe.Color(1,1,1),.5)):(a.material.opacity*=.5,a.material.color.lerp(new oe.Color(1,1,1),.5)))}oe.Object3D.prototype.updateMatrixWorld.call(this)}},oe.TransformControlsGizmo.prototype=_()(r()(oe.Object3D.prototype),{constructor:oe.TransformControlsGizmo,isTransformControlsGizmo:!0}),oe.TransformControlsPlane=function(){oe.Mesh.call(this,new oe.PlaneGeometry(1e5,1e5,2,2),new oe.MeshBasicMaterial({visible:!1,wireframe:!0,side:oe.DoubleSide,transparent:!0,opacity:.1,toneMapped:!1})),this.type="TransformControlsPlane";var e=new oe.Vector3(1,0,0),t=new oe.Vector3(0,1,0),n=new oe.Vector3(0,0,1),i=new oe.Vector3,r=new oe.Vector3,a=new oe.Vector3,o=new oe.Matrix4,s=new oe.Quaternion;this.updateMatrixWorld=function(){var l=this.space;switch(this.position.copy(this.worldPosition),"scale"===this.mode&&(l="local"),e.set(1,0,0).applyQuaternion("local"===l?this.worldQuaternion:s),t.set(0,1,0).applyQuaternion("local"===l?this.worldQuaternion:s),n.set(0,0,1).applyQuaternion("local"===l?this.worldQuaternion:s),a.copy(t),this.mode){case"translate":case"scale":switch(this.axis){case"X":a.copy(this.eye).cross(e),r.copy(e).cross(a);break;case"Y":a.copy(this.eye).cross(t),r.copy(t).cross(a);break;case"Z":a.copy(this.eye).cross(n),r.copy(n).cross(a);break;case"XY":r.copy(n);break;case"YZ":r.copy(e);break;case"XZ":a.copy(n),r.copy(t);break;case"XYZ":case"E":r.set(0,0,0)}break;default:r.set(0,0,0)}0===r.length()?this.quaternion.copy(this.cameraQuaternion):(o.lookAt(i.set(0,0,0),r,a),this.quaternion.setFromRotationMatrix(o)),oe.Object3D.prototype.updateMatrixWorld.call(this)}},oe.TransformControlsPlane.prototype=_()(r()(oe.Mesh.prototype),{constructor:oe.TransformControlsPlane,isTransformControlsPlane:!0});var ce=n(0);function ue(e,t,n){var i=t.ElementInfos;if(null==i||0==i.length)return null;var r=[];if(null!=e.GpuRay&&"InstancedMesh"!=t.TypeName&&t.index==e.GpuRay.i){var a=o()(a=e.scene.children[e.GpuRay.i].ElementInfos).call(a,(function(t){return t.name==e.GpuRay.name}));-1==a||he((a=e.scene.children[e.GpuRay.i].ElementInfos[a]).min,a.max,e.scene.children[e.GpuRay.i].material.clippingPlanes,n)||r.push(a)}else for(var s=0;s<t.ElementInfos.length;s++){var l=he(i[s].min,i[s].max,t.material.clippingPlanes,n);!function(e,t,n){if(n.x>=e.x-.001&&n.y>=e.y-.001&&n.z>=e.z-.001&&n.x<=t.x+.001&&n.y<=t.y+.001&&n.z<=t.z+.001)return 1}(i[s].min,i[s].max,n)||l||r.push(i[s])}return 0==r.length?null:(z()(r).call(r,(function(e,t){return e.center.distanceTo(n)-t.center.distanceTo(n)})),r[0])}function he(e,t,n,i){var r,a=!1;return n&&n.length?1===n.length?(-1==(r=n[0]).normal.x&&(e.x>=r.constant||i.x>r.constant)||-1==r.normal.y&&(e.y>=r.constant||i.y>r.constant)||-1==r.normal.z&&(e.z>=r.constant||i.z>r.constant))&&(a=!0):6===n.length&&(t.z<=-1*n[1].constant||i.z<-1*n[1].constant||e.z>=n[0].constant||i.z>n[0].constant||t.x<=-1*n[3].constant||i.x<-1*n[3].constant||e.x>=n[2].constant||i.x>n[2].constant||t.y<=-1*n[5].constant||i.y<-1*n[5].constant||e.y>=n[4].constant||i.y>n[4].constant)&&(a=!0):a=!1,a}function de(e){var t=e.scene.renderer.domElement.parentElement.clientWidth,n=e.scene.renderer.domElement.parentElement.clientHeight,i=(e.scene.renderer.domElement.width=t,e.scene.renderer.domElement.height=n,e.scene.renderer.setSize(t,n),t/n);e.scene.camera.aspect=i,i=fe(e.scene.renderer.domElement);(i=(e.scene.camera.viewport=new THREE.Vector4(i.x,i.y,Math.ceil(t),Math.ceil(n)),e.scene.camera.updateProjectionMatrix(),document.getElementsByClassName("ViewControlPanel")))&&(i[0].style.width=t+"px",i[0].style.height=n+"px"),e.RenderUpdate()}function fe(e){var t=e.offsetTop,n=e.offsetLeft;for(e=e.offsetParent;null!=e;)t+=e.offsetTop,n+=e.offsetLeft,e=e.offsetParent;return{x:n,y:t}}M=n(122);var pe=n.n(M),me=(M=n(59),n.n(M)),ve=(M=n(49),n.n(M)),ge=(M=n(149),n.n(M)),ye=(M=n(252),n.n(M)),xe=n(0),be=(M=(xe.BufferGeometryUtils={computeTangents:function(e){e.computeTangents(),console.warn("THREE.BufferGeometryUtils: .computeTangents() has been removed. Use BufferGeometry.computeTangents() instead.")},mergeBufferGeometries:function(e,t){for(var n=null!==e[0].index,i=new pe.a(me()(e[0].attributes)),r=new pe.a(me()(e[0].morphAttributes)),a={},o={},s=e[0].morphTargetsRelative,l=new xe.BufferGeometry,c=0,u=0;u<e.length;++u){var h,d,f=e[u],p=0;if(n!=(null!==f.index))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(h in f.attributes){if(!i.has(h))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+'. All geometries must have compatible attributes; make sure "'+h+'" attribute exists among all geometries, or in none of them.'),null;void 0===a[h]&&(a[h]=[]),a[h].push(f.attributes[h]),p++}if(p!==i.size)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+". Make sure all geometries have the same number of attributes."),null;if(s!==f.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(h in f.morphAttributes){if(!r.has(h))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+".  .morphAttributes must be consistent throughout all geometries."),null;void 0===o[h]&&(o[h]=[]),o[h].push(f.morphAttributes[h])}if(l.userData.mergedUserData=l.userData.mergedUserData||[],l.userData.mergedUserData.push(f.userData),t){if(n)d=f.index.count;else{if(void 0===f.attributes.position)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+". The geometry must have either an index or a position attribute"),null;d=f.attributes.position.count}l.addGroup(c,d,u),c+=d}}if(n){var m=0,v=[];for(u=0;u<e.length;++u){for(var g=e[u].index,y=0;y<g.count;++y)v.push(g.getX(y)+m);m+=e[u].attributes.position.count}l.setIndex(v)}for(h in a){var x=this.mergeBufferAttributes(a[h]);if(!x)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+h+" attribute."),null;l.setAttribute(h,x)}for(h in o){var b=o[h][0].length;if(0===b)break;for(l.morphAttributes=l.morphAttributes||{},l.morphAttributes[h]=[],u=0;u<b;++u){var w=[];for(y=0;y<o[h].length;++y)w.push(o[h][y][u]);var _=this.mergeBufferAttributes(w);if(!_)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+h+" morphAttribute."),null;l.morphAttributes[h].push(_)}}return l},mergeBufferAttributes:function(e){for(var t,n,i,r=0,a=0;a<e.length;++a){var o=e[a];if(o.isInterleavedBufferAttribute)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. InterleavedBufferAttributes are not supported."),null;if((t=void 0===t?o.array.constructor:t)!==o.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if((n=void 0===n?o.itemSize:n)!==o.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if((i=void 0===i?o.normalized:i)!==o.normalized)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;r+=o.array.length}var s=new t(r),l=0;for(a=0;a<e.length;++a)s.set(e[a].array,l),l+=e[a].array.length;return new xe.BufferAttribute(s,n,i)},interleaveAttributes:function(e){for(var t,n=0,i=0,r=0,a=e.length;r<a;++r){var o=e[r];if((t=void 0===t?o.array.constructor:t)!==o.array.constructor)return console.error("AttributeBuffers of different types cannot be interleaved"),null;n+=o.array.length,i+=o.itemSize}var s=new xe.InterleavedBuffer(new t(n),i),l=0,c=[],u=["getX","getY","getZ","getW"],h=["setX","setY","setZ","setW"],d=0;for(a=e.length;d<a;d++){var f=(o=e[d]).itemSize,p=o.count,m=new xe.InterleavedBufferAttribute(s,f,l,o.normalized);c.push(m),l+=f;for(var v=0;v<p;v++)for(var g=0;g<f;g++)m[h[g]](v,o[u[g]](v))}return c},estimateBytesUsed:function(e){var t,n=0;for(t in e.attributes){var i=e.getAttribute(t);n+=i.count*i.itemSize*i.array.BYTES_PER_ELEMENT}var r=e.getIndex();return n+(r?r.count*r.itemSize*r.array.BYTES_PER_ELEMENT:0)},mergeVertices:function(e){for(var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1e-4,i=(n=Math.max(n,ve.a),{}),r=e.getIndex(),a=e.getAttribute("position"),o=(r||a).count,s=0,c=me()(e.attributes),u={},h={},d=[],f=["getX","getY","getZ","getW"],p=0,m=c.length;p<m;p++)u[b=c[p]]=[],(S=e.morphAttributes[b])&&(h[b]=l()(t=ge()(t=new Array(S.length)).call(t)).call(t,(function(){return[]})));a=ye()(1/n);var v=Math.pow(10,a);for(p=0;p<o;p++){var g=r?r.getX(p):p,y="",x=0;for(m=c.length;x<m;x++)for(var b=c[x],w=(M=e.getAttribute(b)).itemSize,_=0;_<w;_++)y+="".concat(~~(M[f[_]](g)*v),",");if(y in i)d.push(i[y]);else{for(x=0,m=c.length;x<m;x++){b=c[x];var M=e.getAttribute(b),S=e.morphAttributes[b],E=(w=M.itemSize,u[b]),T=h[b];for(_=0;_<w;_++){var C=f[_];if(E.push(M[C](g)),S)for(var A=0,L=S.length;A<L;A++)T[A].push(S[A][C](g))}}i[y]=s,d.push(s),s++}}var P=e.clone();for(p=0,m=c.length;p<m;p++){b=c[p];var k=e.getAttribute(b),D=new k.array.constructor(u[b]);M=new xe.BufferAttribute(D,k.itemSize,k.normalized);if(P.setAttribute(b,M),b in h)for(x=0;x<h[b].length;x++){D=new(I=e.morphAttributes[b][x]).array.constructor(h[b][x]);var I=new xe.BufferAttribute(D,I.itemSize,I.normalized);P.morphAttributes[b][x]=I}}return P.setIndex(d),P},toTrianglesDrawMode:function(e,t){if(t===xe.TrianglesDrawMode)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),e;if(t!==xe.TriangleFanDrawMode&&t!==xe.TriangleStripDrawMode)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),e;var n=e.getIndex();if(null===n){var i=[],r=e.getAttribute("position");if(void 0===r)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var a=0;a<r.count;a++)i.push(a);e.setIndex(i),n=e.getIndex()}var o=n.count-2,s=[];if(t===xe.TriangleFanDrawMode)for(a=1;a<=o;a++)s.push(n.getX(0)),s.push(n.getX(a)),s.push(n.getX(a+1));else for(a=0;a<o;a++)a%2==0?(s.push(n.getX(a)),s.push(n.getX(a+1)),s.push(n.getX(a+2))):(s.push(n.getX(a+2)),s.push(n.getX(a+1)),s.push(n.getX(a)));return s.length/3!=o&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles."),(t=e.clone()).setIndex(s),t.clearGroups(),t},computeMorphedAttributes:function(e){if(!0!==e.geometry.isBufferGeometry)return console.error("THREE.BufferGeometryUtils: Geometry is not of type THREE.BufferGeometry."),null;var t=new xe.Vector3,n=new xe.Vector3,i=new xe.Vector3,r=new xe.Vector3,a=new xe.Vector3,o=new xe.Vector3,s=new xe.Vector3,l=new xe.Vector3,c=new xe.Vector3;function u(e,u,h,d,f,p,m,v,g){t.fromBufferAttribute(h,p),n.fromBufferAttribute(h,m),i.fromBufferAttribute(h,v);var y=e.morphTargetInfluences;if(u.morphTargets&&d&&y){s.set(0,0,0),l.set(0,0,0),c.set(0,0,0);for(var x=0,b=d.length;x<b;x++){var w=y[x],_=d[x];0!==w&&(r.fromBufferAttribute(_,p),a.fromBufferAttribute(_,m),o.fromBufferAttribute(_,v),f?(s.addScaledVector(r,w),l.addScaledVector(a,w),c.addScaledVector(o,w)):(s.addScaledVector(r.sub(t),w),l.addScaledVector(a.sub(n),w),c.addScaledVector(o.sub(i),w)))}t.add(s),n.add(l),i.add(c)}e.isSkinnedMesh&&(e.boneTransform(p,t),e.boneTransform(m,n),e.boneTransform(v,i)),g[3*p+0]=t.x,g[3*p+1]=t.y,g[3*p+2]=t.z,g[3*m+0]=n.x,g[3*m+1]=n.y,g[3*m+2]=n.z,g[3*v+0]=i.x,g[3*v+1]=i.y,g[3*v+2]=i.z}var h,f,p,m,v,g,y,x,b,w=e.geometry,_=e.material,M=w.index,S=w.attributes.position,E=w.morphAttributes.position,T=w.morphTargetsRelative,C=w.attributes.normal,A=w.morphAttributes.position,L=w.groups,P=w.drawRange,k=new Float32Array(S.count*S.itemSize),D=new Float32Array(C.count*C.itemSize);if(null!==M)if(d()(_))for(m=0,g=L.length;m<g;m++)for(b=_[(x=L[m]).materialIndex],v=Math.max(x.start,P.start),y=Math.min(x.start+x.count,P.start+P.count);v<y;v+=3)u(e,b,S,E,T,h=M.getX(v),f=M.getX(v+1),p=M.getX(v+2),k),u(e,b,C,A,T,h,f,p,D);else for(m=Math.max(0,P.start),g=Math.min(M.count,P.start+P.count);m<g;m+=3)u(e,_,S,E,T,h=M.getX(m),f=M.getX(m+1),p=M.getX(m+2),k),u(e,_,C,A,T,h,f,p,D);else if(void 0!==S)if(d()(_))for(m=0,g=L.length;m<g;m++)for(b=_[(x=L[m]).materialIndex],v=Math.max(x.start,P.start),y=Math.min(x.start+x.count,P.start+P.count);v<y;v+=3)u(e,b,S,E,T,h=v,f=v+1,p=v+2,k),u(e,b,C,A,T,h,f,p,D);else for(m=Math.max(0,P.start),g=Math.min(S.count,P.start+P.count);m<g;m+=3)u(e,_,S,E,T,h=m,f=m+1,p=m+2,k),u(e,_,C,A,T,h,f,p,D);return{positionAttribute:S,normalAttribute:C,morphedPositionAttribute:new xe.Float32BufferAttribute(k,3),morphedNormalAttribute:new xe.Float32BufferAttribute(D,3)}}},n(85)),n.n(M));function we(e,t){for(var n=[],i=0;i<e.length;i+=t)n.push(f()(e).call(e,i,i+t));return n}function _e(e,t){var n,i,r,a,o=void 0!==m.a&&v()(e)||e["@@iterator"];if(o)return i=!(n=!0),{s:function(){o=o.call(e)},n:function(){var e=o.next();return n=e.done,e},e:function(e){i=!0,r=e},f:function(){try{n||null==o.return||o.return()}finally{if(i)throw r}}};if(d()(e)||(o=function(e,t){var n;if(e)return"string"==typeof e?Me(e,t):"Map"===(n="Object"===(n=f()(n=Object.prototype.toString.call(e)).call(n,8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?p()(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Me(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return o&&(e=o),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}n(253);var Se=n(0);function Ee(e,t,n,i,r,a,c){function u(e,t){for(var n=[],i=0;i<e.length;i+=t)n.push(f()(e).call(e,i,i+t));return n}e.GLTFLoader.load(r,(function(d){d.scene.scale.set(1,1,1);var f,m=(m=d.scene.children)&&0!==m.length?(h()(m).call(m,(function(e){var t=e.name.split("");return e.loadIndex="",l()(t).call(t,(function(t){/[a-zA-Z]/.test(t)?e.loadIndex+=t.charCodeAt(0):/[\d]/.test(t)?e.loadIndex+=t:e.loadIndex+=0})),e.loadIndex=Number(e.loadIndex),e})),z()(m).call(m,(function(e,t){return e.loadIndex-t.loadIndex}))):[],v=[],g=_e(m);try{for(g.s();!(f=g.n()).done;){var y=f.value;if("Group"===y.type){if(y.children&&y.children.length)for(var x=0;x<y.children.length;x++){var b,w,_=y.children[x];_.userData=y.userData,null!=a.off&&(b=(new Se.Matrix4).makeTranslation(a.off.split(",")[0],a.off.split(",")[2],a.off.split(",")[1]),(w=new Se.Matrix4).multiplyMatrices(_.matrix,b),_.matrix=w),v.push(_)}}else"Mesh"===y.type&&(null!=a.off&&(b=(new Se.Matrix4).makeTranslation(a.off.split(",")[0],a.off.split(",")[2],a.off.split(",")[1]),(w=new Se.Matrix4).multiplyMatrices(y.matrix,b),y.matrix=w),v.push(y))}}catch(d){g.e(d)}finally{g.f()}if(v.length){if(null==a&&t.add(d.scene),a&&"modelList"===a.name){for(var M=0;M<v.length;M++){var S=v[M];null==a.position||null==a.position.Point||0==a.position.Point.X&&0==a.position.Point.Y&&0==a.position.Point.Z||(S.matrix.elements[12]=S.matrix.elements[12]+.3048*a.position.Point.X,S.matrix.elements[13]=S.matrix.elements[13]+.3048*a.position.Point.Z,S.matrix.elements[14]=S.matrix.elements[14]+.3048*-a.position.Point.Y,S.rotation.y=a.position.angle_a)}var E,T=t,C=v,A=[],L=_e(C);try{for(L.s();!(E=L.n()).done;){var P=E.value;-1==o()(A).call(A,(function(e){return e.name==P.material.name}))&&A.push(P.material)}}catch(d){L.e(d)}finally{L.f()}for(var k=0,D=A;k<D.length;k++){var I,R=D[k],N=_e(u(s()(C).call(C,(function(e){return e.material.name==R.name})),2e3));try{for(N.s();!(I=N.n()).done;){!function(t,a,o){var s,l=[],c=[],u=[],h=[],d=(e.scene,[]),f=_e(a);try{for(f.s();!(s=f.n()).done;){var p,m,v,g,y,x,b=s.value;null!=b.geometry&&null!=b.matrix&&(p=b.geometry.clone().applyMatrix4(b.matrix.clone()),b.material.side=Se.DoubleSide,l.push(p),c.push(b.material),u.push(b.material.clone()),m=b.geometry.boundingBox.min.clone().applyMatrix4(b.matrix.clone()),v=b.geometry.boundingBox.max.clone().applyMatrix4(b.matrix.clone()),g=new Se.Vector3(Math.min(m.x,v.x),Math.min(m.y,v.y),Math.min(m.z,v.z)),y=new Se.Vector3(Math.max(m.x,v.x),Math.max(m.y,v.y),Math.max(m.z,v.z)),x=g.clone().add(y.clone()).multiplyScalar(.5),h.push({name:b.userData.name,min:g,max:y,center:x,dbid:h.length,basePath:i,relativePath:n,materialName:b.material.name,ignoreEdge:b.geometry.attributes.position.array.length>e.EdgeIgnoreSize})),d.push({geometry:b.geometry,matrix:b.matrix,position:b.position,rotation:b.rotation})}}catch(t){f.e(t)}finally{f.f()}a=Se.BufferGeometryUtils.mergeBufferGeometries(l,!0),(a=new Se.Mesh(a,c[0])).ElementInfos=h,a.cloneMaterialArray=u[0],a.originalMaterial=u[0].clone(),a.name="rootModel",a.TypeName="Mesh",a.meshs=d,a.url=r,a.basePath=i,a.relativePath=n,a.sortid=r+"_"+o,t.add(a)}(T,I.value,R.name)}}catch(d){N.e(d)}finally{N.f()}}}else if(a&&"instanceList"===a.name){var O,F=[],B=_e(a.children);try{var H=function(){var t,a=O.value;for(M=0;M<v.length;M++)t=void 0,a.meshId===v[M].userData.name&&(t=function(t){var o,l,c=null;if(0==t?c=new Se.InstancedMesh(v[M].geometry.clone(),v[M].material,a.children.length):1==t||3==t?null!=a.children[0].FacingDir&&(o=new Se.Vector3(a.children[0].FacingDir.X,0,-a.children[0].FacingDir.Y),(u=new Se.Matrix4).set(1-2*o.x*o.x,-2*o.x*o.y,-2*o.x*o.z,0,-2*o.x*o.y,1-2*o.y*o.y,-2*o.y*o.z,0,-2*o.x*o.z,-2*o.y*o.z,1-2*o.z*o.z,0,0,0,0,1),(l=v[M].geometry.clone().applyMatrix4(u)).verticesNeedUpdate=!0,l.normalsNeedUpdate=!0,l.computeBoundingSphere(),l.computeFaceNormals(),l.computeVertexNormals(),c=new Se.InstancedMesh(l,v[M].material,a.children.length)):2==t&&null!=a.children[0].handleDir&&(o=new Se.Vector3(a.children[0].handleDir.X,0,-a.children[0].handleDir.Y),(u=new Se.Matrix4).set(1-2*o.x*o.x,-2*o.x*o.y,-2*o.x*o.z,0,-2*o.x*o.y,1-2*o.y*o.y,-2*o.y*o.z,0,-2*o.x*o.z,-2*o.y*o.z,1-2*o.z*o.z,0,0,0,0,1),(l=v[M].geometry.clone().applyMatrix4(u)).verticesNeedUpdate=!0,l.normalsNeedUpdate=!0,l.computeBoundingSphere(),l.computeFaceNormals(),l.computeVertexNormals(),c=new Se.InstancedMesh(l,v[M].material,a.children.length)),null!=c){for(var u,h=[],d=(window.color=new Se.Color,s()(o=a.children).call(o,(function(e){return e.Mirrored==t}))),f=0;f<d.length;f++){var m,g,y,x=d[f],b=new Se.Matrix4;x.Mirrored==t&&((b=2==t?b.clone().makeRotationY(x.angle_a+Math.PI):b.clone().makeRotationY(x.angle_a)).elements[12]=v[M].matrix.elements[12]+.3048*x.Point.X,b.elements[13]=v[M].matrix.elements[13]+.3048*x.Point.Z,b.elements[14]=v[M].matrix.elements[14]+.3048*-x.Point.Y,c.setMatrixAt(f,b),c.setColorAt(f,window.color),g=c.geometry.boundingBox.min.clone().applyMatrix4(b.clone()),y=c.geometry.boundingBox.max.clone().applyMatrix4(b.clone()),m=new Se.Vector3(Math.min(g.x,y.x),Math.min(g.y,y.y),Math.min(g.z,y.z)),g=new Se.Vector3(Math.max(g.x,y.x),Math.max(g.y,y.y),Math.max(g.z,y.z)),y=m.clone().add(g.clone()).multiplyScalar(.5),c.geometry.groups.push({}),h.push({name:x.name,min:m,max:g,center:y,dbid:f,url:r,matrix:b,basePath:i,relativePath:n,materialName:v[M].material.name,ignoreEdge:v[M].geometry.attributes.position.array.length>e.EdgeIgnoreSize}))}0!=h.length&&(c.ElementInfos=h,c.name="rootModel",c.TypeName="InstancedMesh",c.MeshId=a.meshId,c.cloneMaterialArray=v[M].material.clone(),c.originalMaterial=v[M].material.clone(),c.basePath=i,c.relativePath=n,u=[],u={geometry:v[M].geometry,matrix:v[M].matrix,position:v[M].position,rotation:v[M].rotation},c.meshs=u,c.url=r,c.cloneInstanceMatrix=p()(c.instanceMatrix.array),c.sortid=a.meshId+"_"+v[M].material.name,F.push(c))}},v[M].material.side=Se.DoubleSide,t(0),t(1),t(2),t(3))};for(B.s();!(O=B.n()).done;)H()}catch(d){B.e(d)}finally{B.f()}for(var U=[],V=[],G=0;G<F.length;G++){var j,W=F[G];if(W.ElementInfos.length<200){for(var X=[],q=[],Y=0;Y<W.ElementInfos.length;Y++){var $=W.meshs.geometry.clone().applyMatrix4(W.ElementInfos[Y].matrix.clone());X.push($),delete W.ElementInfos[Y].matrix,q.push(W.ElementInfos[Y])}U.push({material:W.material,ElementInfos:q,geos:X})}else W.material=W.material.clone(),l()(j=W.ElementInfos).call(j,(function(e){return delete e.matrix,e})),V.push(W)}var Z,Q=t,K=U,J=[],ee=_e(K);try{for(ee.s();!(Z=ee.n()).done;){var te=Z.value;-1==o()(J).call(J,(function(e){return e.name==te.material.name}))&&J.push(te.material)}}catch(d){ee.e(d)}finally{ee.f()}for(var ne,ie,re=0,ae=J;re<ae.length;re++){var oe,se=ae[re],le=s()(K).call(K,(function(e){return e.material.name==se.name})),ce=[],ue=[],he=_e(le);try{for(he.s();!(oe=he.n()).done;){var de=oe.value;h()(ne=de.geos).call(ne,(function(e){ce.push(e)})),h()(ie=de.ElementInfos).call(ie,(function(e){ue.push(e)}))}}catch(d){he.e(d)}finally{he.f()}for(var fe=u(ce,2e3),pe=u(ue,2e3),me=0;me<fe.length;me++){for(var ve=fe[me],ge=pe[me],ye=[],xe=[],be=0;be<ve.length;be++){var we=new Se.Mesh(ve[be],se);ge[be].dbid=be,ye.push(we),xe.push({geometry:we.geometry,matrix:we.matrix,position:we.position,rotation:we.rotation})}var Me=Se.BufferGeometryUtils.mergeBufferGeometries(ve,!0);(Me=new Se.Mesh(Me,se)).ElementInfos=ge,Me.cloneMaterialArray=se.clone(),Me.originalMaterial=se.clone(),Me.name="rootModel",Me.TypeName="Mesh",Me.meshs=xe,Me.url=r,Me.basePath=i,Me.relativePath=n,Me.sortid=r+"_"+me+"_"+se.name,Q.add(Me)}}h()(V).call(V,(function(e){t.add(e)}))}c(d)}else c(null)}),(function(e){}),(function(e){}))}function Te(e,t){var n,i,r,a,o=void 0!==m.a&&v()(e)||e["@@iterator"];if(o)return i=!(n=!0),{s:function(){o=o.call(e)},n:function(){var e=o.next();return n=e.done,e},e:function(e){i=!0,r=e},f:function(){try{n||null==o.return||o.return()}finally{if(i)throw r}}};if(d()(e)||(o=function(e,t){var n;if(e)return"string"==typeof e?Ce(e,t):"Map"===(n="Object"===(n=f()(n=Object.prototype.toString.call(e)).call(n,8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?p()(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ce(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return o&&(e=o),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}n(0);var Ae=n(0);var Le,Pe,ke,De,Ie,Re,Ne,Oe,Fe,ze,Be,He,Ue,Ve,Ge,je=n(0);function We(e,t,n){this.camera=e,this.scene=t,this.startPoint=new je.Vector3,this.endPoint=new je.Vector3,this.collection=[],this.deep=n||Number.MAX_VALUE}je.SelectionBox=(Le=new je.Frustum,Pe=new je.Vector3,ke=new je.Vector3,De=new je.Vector3,Ie=new je.Vector3,Re=new je.Vector3,Ne=new je.Vector3,Oe=new je.Vector3,Fe=new je.Vector3,ze=new je.Vector3,Be=new je.Vector3,He=new je.Vector3,Ue=new je.Vector3,Ve=new je.Vector3,Ge=new je.Vector3,We.prototype.select=function(e,t){return this.startPoint=e||this.startPoint,this.endPoint=t||this.endPoint,this.collection=[],this.updateFrustum(this.startPoint,this.endPoint),this.searchChildInFrustum(Le,this.scene),this.collection},We.prototype.updateFrustum=function(e,t){var n,i,r,a;e=e||this.startPoint,t=t||this.endPoint,e.x===t.x&&(t.x+=ve.a),e.y===t.y&&(t.y+=ve.a),this.camera.updateProjectionMatrix(),this.camera.updateMatrixWorld(),this.camera.isPerspectiveCamera?(ke.copy(e),ke.x=Math.min(e.x,t.x),ke.y=Math.max(e.y,t.y),t.x=Math.max(e.x,t.x),t.y=Math.min(e.y,t.y),De.setFromMatrixPosition(this.camera.matrixWorld),Ie.copy(ke),Re.set(t.x,ke.y,0),Ne.copy(t),Oe.set(ke.x,t.y,0),Ie.unproject(this.camera),Re.unproject(this.camera),Ne.unproject(this.camera),Oe.unproject(this.camera),Ue.copy(Ie).sub(De),Ve.copy(Re).sub(De),Ge.copy(Ne).sub(De),Ue.normalize(),Ve.normalize(),Ge.normalize(),Ue.multiplyScalar(this.deep),Ve.multiplyScalar(this.deep),Ge.multiplyScalar(this.deep),Ue.add(De),Ve.add(De),Ge.add(De),(a=Le.planes)[0].setFromCoplanarPoints(De,Ie,Re),a[1].setFromCoplanarPoints(De,Re,Ne),a[2].setFromCoplanarPoints(Ne,Oe,De),a[3].setFromCoplanarPoints(Oe,Ie,De),a[4].setFromCoplanarPoints(Re,Ne,Oe),a[5].setFromCoplanarPoints(Ge,Ve,Ue),a[5].normal.multiplyScalar(-1)):this.camera.isOrthographicCamera?(n=Math.min(e.x,t.x),i=Math.max(e.y,t.y),r=Math.max(e.x,t.x),e=Math.min(e.y,t.y),Ie.set(n,i,-1),Re.set(r,i,-1),Ne.set(r,e,-1),Oe.set(n,e,-1),Fe.set(n,i,1),ze.set(r,i,1),Be.set(r,e,1),He.set(n,e,1),Ie.unproject(this.camera),Re.unproject(this.camera),Ne.unproject(this.camera),Oe.unproject(this.camera),Fe.unproject(this.camera),ze.unproject(this.camera),Be.unproject(this.camera),He.unproject(this.camera),(a=Le.planes)[0].setFromCoplanarPoints(Ie,Fe,ze),a[1].setFromCoplanarPoints(Re,ze,Be),a[2].setFromCoplanarPoints(Be,He,Oe),a[3].setFromCoplanarPoints(He,Fe,Ie),a[4].setFromCoplanarPoints(Re,Ne,Oe),a[5].setFromCoplanarPoints(Be,ze,Fe),a[5].normal.multiplyScalar(-1)):console.error("THREE.SelectionBox: Unsupported camera type.")},We.prototype.searchChildInFrustum=function(e,t){if((t.isMesh||t.isLine||t.isPoints)&&void 0!==t.material&&(null===t.geometry.boundingSphere&&t.geometry.computeBoundingSphere(),Pe.copy(t.geometry.boundingSphere.center),Pe.applyMatrix4(t.matrixWorld),e.containsPoint(Pe))&&this.collection.push(t),0<t.children.length)for(var n=0;n<t.children.length;n++)this.searchChildInFrustum(e,t.children[n])},We);M=n(48);var Xe=n.n(M),qe=n(0);function Ye(e,t){this.element=document.createElement("div"),this.element.classList.add(t),this.element.style.pointerEvents="none",this.renderer=e,this.startPoint=new qe.Vector2,this.pointTopLeft=new qe.Vector2,this.pointBottomRight=new qe.Vector2,this.isDown=!1,this.renderer.domElement.addEventListener("pointerdown",Xe()(t=function(e){this.element&&(this.isDown=!0,this.onSelectStart(e))}).call(t,this)),this.renderer.domElement.addEventListener("pointermove",Xe()(e=function(e){this.isDown&&this.element&&this.onSelectMove(e)}).call(e,this)),this.renderer.domElement.addEventListener("pointerup",Xe()(t=function(e){this.element&&(this.isDown=!1,this.onSelectOver(e))}).call(t,this))}function $e(e,t){var n,i,r,a,o=void 0!==m.a&&v()(e)||e["@@iterator"];if(o)return i=!(n=!0),{s:function(){o=o.call(e)},n:function(){var e=o.next();return n=e.done,e},e:function(e){i=!0,r=e},f:function(){try{n||null==o.return||o.return()}finally{if(i)throw r}}};if(d()(e)||(o=function(e,t){var n;if(e)return"string"==typeof e?Ze(e,t):"Map"===(n="Object"===(n=f()(n=Object.prototype.toString.call(e)).call(n,8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?p()(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ze(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return o&&(e=o),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}qe.SelectionHelper=(Ye.prototype.onSelectStart=function(e){this.renderer.domElement.parentElement.appendChild(this.element),this.element.style.left=e.clientX+"px",this.element.style.top=e.clientY+"px",this.element.style.width="0px",this.element.style.height="0px",this.startPoint.x=e.clientX,this.startPoint.y=e.clientY},Ye.prototype.onSelectMove=function(e){this.pointBottomRight.x=Math.max(this.startPoint.x,e.clientX),this.pointBottomRight.y=Math.max(this.startPoint.y,e.clientY),this.pointTopLeft.x=Math.min(this.startPoint.x,e.clientX),this.pointTopLeft.y=Math.min(this.startPoint.y,e.clientY),this.element.style.left=this.pointTopLeft.x+"px",this.element.style.top=this.pointTopLeft.y+"px",this.element.style.width=this.pointBottomRight.x-this.pointTopLeft.x+"px",this.element.style.height=this.pointBottomRight.y-this.pointTopLeft.y+"px"},Ye.prototype.onSelectOver=function(){this.element.parentElement.removeChild(this.element)},Ye);var Qe=n(0);function Ke(e){n(585)("./"+W()+"/selectBox.scss");var t,i,r,a=new Object,l=(a.isActive=!1,e.scene),u=e.scene.camera,h=e.scene.renderer,d=e.scene.controls,f=[],p=!1;function m(t){if(0===t.button){if(p=!0,e.UpdateRender(),r){var n,a=$e(r.children);try{for(a.s();!(n=a.n()).done;)n.value,r.children=[]}catch(t){a.e(t)}finally{a.f()}}(i={startPoint:null,endPoint:null}).startPoint={x:t.clientX-u.viewport.x,y:t.clientY-u.viewport.y}}}function v(n){p&&(e.UpdateRender(),t.isDown)&&(i.endPoint={x:n.clientX-u.viewport.x,y:n.clientY-u.viewport.y})}function g(t){0===t.button&&(e.UpdateRender(),i.endPoint={x:t.clientX-u.viewport.x,y:t.clientY-u.viewport.y},function t(){var n=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(i.startPoint&&i.endPoint){var r={x:0,y:0},a={x:0,y:0};if(i.startPoint.x>=i.endPoint.x?(r.x=i.endPoint.x,a.x=i.startPoint.x):(r.x=i.startPoint.x,a.x=i.endPoint.x),i.startPoint.y>=i.endPoint.y?(r.y=i.endPoint.y,a.y=i.startPoint.y):(r.y=i.startPoint.y,a.y=i.endPoint.y),n&&2<Math.abs(r.x-a.x)&&2<Math.abs(r.y-a.y)){var s,l=[],u=$e(f);try{for(u.s();!(s=u.n()).done;){var h=s.value;if("InstancedMesh"===h.TypeName||"InstancedMesh-Pipe"===h.TypeName){var d,p=$e(h.ElementInfos);try{var m=function(){var e,t=d.value;t.screenPosition.x>=r.x&&t.screenPosition.y>=r.y&&t.screenPosition.x<=a.x&&t.screenPosition.y<=a.y&&(e=[h.index,t.dbid],(t=o()(l).call(l,(function(t){return t[0]==e[0]&&t[1]==e[1]})))<0?l.push(e):c()(l).call(l,t,1))};for(p.s();!(d=p.n()).done;)m()}catch(t){p.e(t)}finally{p.f()}}else if(("Mesh"===h.TypeName||"Mesh-Structure"===h.TypeName||"PipeMesh"===h.TypeName)&&h&&h.ElementInfos.length){var v,g=$e(h.ElementInfos);try{var y=function(){var e,t,n=v.value;n.screenPosition.x>=r.x&&n.screenPosition.y>=r.y&&n.screenPosition.x<=a.x&&n.screenPosition.y<=a.y&&(e=[h.index,n.dbid],n=!1!==h.geometry.groups[n.dbid].visibility,t=o()(l).call(l,(function(t){return t[0]==e[0]&&t[1]==e[1]})),n&&t<0?l.push(e):c()(l).call(l,t,1))};for(g.s();!(v=g.n()).done;)y()}catch(t){g.e(t)}finally{g.f()}}}}catch(t){u.e(t)}finally{u.f()}e.ResetSelectedModels_("highlight",l,!0),i.endPoint={x:0,y:0},i.startPoint={x:0,y:0},t()}}}(!0),p=!1)}return a.Active=function(){a.isActive=!0,f=s()(o=l.children).call(o,(function(e){return"rootModel"==e.name}));var n,o=s()(o=e.scene.children).call(o,(function(e){return"HighLightGroup"==e.name})),c=(r=o[0],$e(f));try{for(c.s();!(n=c.n()).done;){var p,y=$e(n.value.ElementInfos);try{for(y.s();!(p=y.n()).done;){var x=p.value,b=x.center.clone().project(u),w=l.renderer.domElement.clientWidth/2,_=l.renderer.domElement.clientHeight/2,M={x:Math.round(b.x*w+w),y:Math.round(-b.y*_+_)};x.screenPosition=M}}catch(n){y.e(n)}finally{y.f()}}}catch(n){c.e(n)}finally{c.f()}t=new Qe.SelectionHelper(h,"selectBox"),i={startPoint:null,endPoint:null},d.enabled=!1,h.domElement.addEventListener("pointerdown",m,!1),h.domElement.addEventListener("pointermove",v,!1),h.domElement.addEventListener("pointerup",g,!1)},a.DisActive=function(){a.isActive=!1,d.enabled=!0,h.domElement.removeEventListener("pointerdown",m),h.domElement.removeEventListener("pointermove",v),h.domElement.removeEventListener("pointerup",g),t&&(t.element=null,t=null)},a}function Je(){var e=this,t=e._self._c;return t("div",{directives:[{name:"show",rawName:"v-show",value:e.dialogVisible,expression:"dialogVisible"},{name:"drag",rawName:"v-drag"}],staticClass:"Render-Set-Dialog"},[t("div",{staticClass:"Feader-Contain"},[t("div",{staticClass:"Title"},[e._v("引擎设置")]),e._v(" "),"Phone"!==e.DeviceOS?t("div",{staticClass:"Close-Btn",on:{click:function(t){return e.Close()}}},[e._v("×")]):e._e()]),e._v(" "),t("div",{staticClass:"Main-Contain"},[e._m(0),e._v(" "),t("div",{staticClass:"Form_Item"},[t("div",{staticClass:"Form_Item_Label"},[e._v("地面阴影")]),e._v(" "),t("el-switch",{on:{change:function(t){return e.onSwitchChange("shadowGround")}},model:{value:e.effectForm.shadowGround,callback:function(t){e.$set(e.effectForm,"shadowGround",t)},expression:"effectForm.shadowGround"}})],1),e._v(" "),t("div",{staticClass:"Form_Item"},[t("div",{staticClass:"Form_Item_Label"},[e._v("显示边线")]),e._v(" "),t("el-switch",{on:{change:function(t){return e.onSwitchChange("displayEdge")}},model:{value:e.effectForm.displayEdge,callback:function(t){e.$set(e.effectForm,"displayEdge",t)},expression:"effectForm.displayEdge"}})],1),e._v(" "),e._m(1),e._v(" "),t("div",{staticClass:"Form_Item"},[t("div",{staticClass:"Form_Item_Label"},[e._v("显示阴影")]),e._v(" "),t("el-switch",{on:{change:function(t){return e.onSwitchChange("displayShadow")}},model:{value:e.effectForm.displayShadow,callback:function(t){e.$set(e.effectForm,"displayShadow",t)},expression:"effectForm.displayShadow"}})],1),e._v(" "),t("div",{staticClass:"Form_Item"},[t("div",{staticClass:"Form_Item_Label Slider-Label"},[e._v("阴影强度")]),e._v(" "),t("div",{staticClass:"Slider-Contain",on:{mousedown:function(e){e.stopPropagation()}}},[t("el-slider",{staticStyle:{width:"100%"},attrs:{min:0,max:1,step:.1},on:{change:function(t){return e.onSliderChange("shadowIntensity")}},model:{value:e.effectForm.shadowIntensity,callback:function(t){e.$set(e.effectForm,"shadowIntensity",t)},expression:"effectForm.shadowIntensity"}})],1)]),e._v(" "),e._m(2),e._v(" "),t("div",{staticClass:"Form_Item"},[t("div",{staticClass:"Form_Item_Label"},[e._v("环境光照")]),e._v(" "),t("el-switch",{on:{change:function(t){return e.onSwitchChange("showAmbientLight")}},model:{value:e.effectForm.showAmbientLight,callback:function(t){e.$set(e.effectForm,"showAmbientLight",t)},expression:"effectForm.showAmbientLight"}})],1),e._v(" "),t("div",{staticClass:"Form_Item"},[t("div",{staticClass:"Form_Item_Label Slider-Label"},[e._v("曝光强度")]),e._v(" "),t("div",{staticClass:"Slider-Contain",on:{mousedown:function(e){e.stopPropagation()}}},[t("el-slider",{staticStyle:{width:"100%"},attrs:{min:0,max:1,step:.1},on:{change:function(t){return e.onSliderChange("exposureIntensity")}},model:{value:e.effectForm.exposureIntensity,callback:function(t){e.$set(e.effectForm,"exposureIntensity",t)},expression:"effectForm.exposureIntensity"}})],1)]),e._v(" "),t("div",{staticClass:"Form_Item Inside_List"},[t("div",{staticClass:"Form_Item_Label"},[e._v("光照颜色")]),e._v(" "),t("div",{staticClass:"light-color-list"},e._l(e.lightColorList,(function(n){return t("div",{key:n.id,class:["item",e.effectForm.lightColor===n.color?"actived":""],on:{click:function(t){e.effectForm.lightColor=n.color}}},[t("div",{staticClass:"legened",style:"background:".concat(n.color)}),e._v(" "),t("div",{staticClass:"title"},[e._v(e._s(n.label))])])})),0)]),e._v(" "),e._m(3),e._v(" "),t("div",{staticClass:"Form_Item Switch_contain"},[t("el-switch",{attrs:{"active-text":"图片","inactive-text":"颜色"},on:{change:function(t){return e.onSwitchChange("displayBgImg")}},model:{value:e.effectForm.displayBgImg,callback:function(t){e.$set(e.effectForm,"displayBgImg",t)},expression:"effectForm.displayBgImg"}})],1),e._v(" "),t("div",{staticClass:"Form_Item Inside_List"},[t("div",{staticClass:"Form_Item_Label Img_Label"},[e._v("背景颜色")]),e._v(" "),t("div",{staticClass:"bg-color-list"},e._l(e.bgColorList,(function(n){return t("div",{key:n.id,class:["item",e.effectForm.bgColor===n.color?"actived":""],style:"background-image:".concat(n.color),on:{click:function(t){e.effectForm.bgColor=n.color}}})})),0)]),e._v(" "),t("div",{staticClass:"Form_Item Inside_List"},[t("div",{staticClass:"Form_Item_Label Img_Label"},[e._v("背景图片")]),e._v(" "),t("div",{staticClass:"bg-img-list"},e._l(e.bgImgList,(function(n){return t("div",{key:n.id,class:["item",e.effectForm.bgImg===n.id?"actived":""],on:{click:function(t){return e.onBgImgChange(n.id)}}},[t("img",{attrs:{src:n.img}})])})),0)])])])}n(0),Je._withStripped=!0;var et=n(57),tt=(M=et.default.directive("drag",{bind:function(e){},inserted:function(e){e.onmousedown=function(t){var n=t.pageX-e.offsetLeft,i=t.pageY-e.offsetTop;document.onmousemove=function(t){var r=document.body.clientWidth-e.offsetWidth,a=document.body.clientHeight-e.offsetHeight,o=t.pageX-n;t=a<(t=(t=t.pageY-i)<0?0:t)?a:t,e.style.left=(r<(o=o<0?0:o)?r:o)+"px",e.style.top=t+"px",e.style.cursor="move"},document.onmouseup=function(){document.onmousemove=document.onmouseup=null,e.style.cursor="auto"}}},updated:function(e){}}),{props:{_Engine:{type:Object,default:null}},components:{},directives:{drag:M},data:function(){return{DeviceOS:"PC",dialogVisible:!0,effectForm:{shadowGround:!1,displayShadow:!1,displayEdge:!1,showAmbientLight:!0,cameraType:"透视",shadowIntensity:.2,exposureIntensity:.6,bgColor:"",lightColor:"",displayBgImg:!1,bgImg:n(171),ambientMap:n(171)},bgColorList:[{id:"1",color:"linear-gradient(rgb(241, 243, 244), rgb(241, 243, 244))",status:!1},{id:"2",color:"linear-gradient(rgb(40, 44, 53), rgb(248, 249, 249))",status:!1},{id:"3",color:"linear-gradient(rgb(255, 255, 255), rgb(255, 255, 255))",status:!1},{id:"4",color:"linear-gradient(rgb(0, 0, 0), rgb(0, 0, 0))",status:!1},{id:"5",color:"linear-gradient(rgb(127, 191, 225), rgb(198, 226, 255))",status:!1}],lightColorList:[{id:"1",label:"照相亭",color:"rgb(226, 227, 224)"},{id:"2",label:"游泳池",color:"rgb(170, 168, 165)"},{id:"3",label:"户外",color:"rgb(152, 160, 176)"},{id:"4",label:"照相亭",color:"rgb(225, 227, 223)"},{id:"5",label:"田野",color:"rgb(199, 213, 227)"},{id:"6",label:"蓝天",color:"rgb(235, 235, 234)"},{id:"7",label:"暖光",color:"rgb(203, 204, 208)"},{id:"8",label:"冷光",color:"rgb(202, 203, 208)"}],bgImgList:[{id:"cloudy",img:"bimCDN/img/skybox/cloudy/pz.png",status:!1},{id:"star",img:"bimCDN/img/skybox/star/pz.png",status:!1},{id:"city",img:"bimCDN/img/skybox/city/pz.png",status:!1},{id:"city02",img:"bimCDN/img/skybox/city02/pz.png",status:!1},{id:"sky01",img:"bimCDN/img/skybox/sky01/pz.png",status:!1},{id:"sky02",img:"bimCDN/img/skybox/sky02/pz.png",status:!1}],ambientMapList:[{id:"1",img:n(121),status:!1},{id:"2",img:n(121),status:!1},{id:"3",img:n(171),status:!1},{id:"4",img:n(121),status:!1},{id:"5",img:n(121),status:!1},{id:"6",img:n(121),status:!1}]}},watch:{"effectForm.bgColor":function(e){this._Engine.Render.SetBackGroundColor(this.effectForm.displayBgImg?null:e)},"effectForm.lightColor":function(e){this._Engine.Render.SetAmbientLightColor(e)}},mounted:function(){this.DeviceOS=j()},methods:{onBgImgChange:function(e){this.effectForm.bgImg=e,this._Engine.Render.SetSceneSky(this.effectForm.displayBgImg?this.effectForm.bgImg:null),this._Engine.RenderUpdate()},onSwitchChange:function(e){switch(e){case"shadowGround":break;case"displayShadow":this._Engine.RenderSAO.enableRenderSAO(this.effectForm.displayShadow),this._Engine.RenderSAO.saoPass.params.output=0,this._Engine.RenderSAO.saoPass.params.saoBias=1,this._Engine.RenderSAO.saoPass.params.saoBlur=0,this._Engine.RenderSAO.saoPass.params.saoBlurDepthCutoff=.1,this._Engine.RenderSAO.saoPass.params.saoBlurRadius=1,this._Engine.RenderSAO.saoPass.params.saoBlurStdDev=5,this._Engine.RenderSAO.saoPass.params.saoIntensity=this.effectForm.shadowIntensity,this._Engine.RenderSAO.saoPass.params.saoKernelRadius=5,this._Engine.RenderSAO.saoPass.params.saoMinResolution=0,this._Engine.RenderSAO.saoPass.params.saoScale=2;break;case"displayEdge":this._Engine.Render.DisplayEdge(this.effectForm.displayEdge);break;case"showAmbientLight":this._Engine.scene.ambientLight.visible=this.effectForm.showAmbientLight,this._Engine.RenderUpdate();break;case"displayBgImg":this._Engine.Render.SetBackGroundColor(this.effectForm.displayBgImg?null:this.effectForm.bgColor),this.onBgImgChange(this.effectForm.bgImg),this._Engine.RenderUpdate()}},onSliderChange:function(e){switch(e){case"shadowIntensity":this.effectForm.displayShadow&&(this._Engine.RenderSAO.saoPass.params.saoIntensity=this.effectForm.shadowIntensity);break;case"exposureIntensity":this._Engine.Render.SetAmbientLightIntensity(this.effectForm.exposureIntensity)}},Close:function(){this.Clear(),this._Engine&&this._Engine.TopMenu&&this._Engine.TopMenu.ClickItem("引擎设置")},Clear:function(){for(var e=document.querySelectorAll(".el-tooltip__popper"),t=0;t<e.length;t++)e[t].remove()}}});function nt(e,t,n,i,r,a,o,s){var l,c,u="function"==typeof e?e.options:e;return t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),i&&(u.functional=!0),a&&(u._scopeId="data-v-"+a),o?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},u._ssrRegister=l):r&&(l=s?function(){r.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:r),l&&(u.functional?(u._injectStyles=l,c=u.render,u.render=function(e,t){return l.call(t),c(e,t)}):(t=u.beforeCreate,u.beforeCreate=t?[].concat(t,l):[l])),{exports:e,options:u}}n(586);var it=nt(tt,Je,[function(){var e=this._self._c;return e("div",{staticClass:"Module-Header"},[e("div",{staticClass:"Icon"}),this._v(" "),e("div",{staticClass:"Title"},[this._v("模型效果")])])},function(){var e=this._self._c;return e("div",{staticClass:"Module-Header"},[e("div",{staticClass:"Icon"}),this._v(" "),e("div",{staticClass:"Title"},[this._v("场景光照")])])},function(){var e=this._self._c;return e("div",{staticClass:"Module-Header"},[e("div",{staticClass:"Icon"}),this._v(" "),e("div",{staticClass:"Title"},[this._v("环境光效果")])])},function(){var e=this._self._c;return e("div",{staticClass:"Module-Header"},[e("div",{staticClass:"Icon"}),this._v(" "),e("div",{staticClass:"Title"},[this._v("背景效果")])])}],!1,null,"fe54bdae",null).exports;n(633),tt=n(254);function rt(e,t,n){var i=new et.default({render:function(e){return console.log(e(t,{props:n})),e(t,{props:n})}}).$mount(),r=(e.appendChild(i.$el),console.log(i.$children),i.$children[0]);return r.remove=function(){e.removeChild(i.$el),i.$destroy()},r}function at(e,t){var n,i,r,a,o=void 0!==m.a&&v()(e)||e["@@iterator"];if(o)return i=!(n=!0),{s:function(){o=o.call(e)},n:function(){var e=o.next();return n=e.done,e},e:function(e){i=!0,r=e},f:function(){try{n||null==o.return||o.return()}finally{if(i)throw r}}};if(d()(e)||(o=function(e,t){var n;if(e)return"string"==typeof e?ot(e,t):"Map"===(n="Object"===(n=f()(n=Object.prototype.toString.call(e)).call(n,8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?p()(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ot(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return o&&(e=o),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}et.default.use(n.n(tt).a),n(638);var st=n(0);function lt(e){var t=new Object,n=(t.isActive=!1,e.scene.renderer.domElement.parentElement);return t.Active=function(){t.isActive=!0,t.Component?t.Component.dialogVisible=!0:t.Component=rt(n,it,{_Engine:e})},t.DisActive=function(){t.Component.dialogVisible=!1,t.isActive=!1},t.DisplayEdge=function(t){var n,i,r,a,o;if(t){var h,d=new st.LineBasicMaterial({color:"#000000"}),f=at(e.AllEdgeList);try{for(f.s();!(h=f.n()).done;){var p=h.value;if(!p.Created){p.Created=!0;var m,v=[],g=at(p.ElementInfos);try{for(g.s();!(m=g.n()).done;){var y,x=m.value;c()(Array.prototype).apply(v,u()(y=[v.length,x.EdgeList.length]).call(y,x.EdgeList))}}catch(n){g.e(n)}finally{g.f()}n=p.Indexs,i=v,r=p.ElementInfos,a=d,o=void 0,(o=new st.BufferGeometry).setAttribute("position",new st.Float32BufferAttribute(i,3)),(i=new st.LineSegments(o,a)).indexO=n,i.name="ModelEdges",i.TypeName="ModelEdges",i.ElementInfos=r,i.visible=!0,e.scene.add(i),e.RenderUpdate()}}}catch(n){f.e(n)}finally{f.f()}}var b=s()(b=e.scene.children).call(b,(function(e){return"ModelEdges"==e.name}));l()(b).call(b,(function(e){e.visible=t})),e.RenderUpdate()},t.SetBackGroundColor=function(t){e.scene.renderer.domElement.parentElement.style.background=t},t.SetAmbientLightColor=function(t){e.scene.ambientLight.color=new st.Color(t),e.RenderUpdate()},t.SetAmbientLightIntensity=function(t){e.scene.ambientLight.intensity=t,e.RenderUpdate()},t.SetSceneSky=function(t){var n;e.scene.background=null,e.RenderUpdate(),t&&((n=new st.CubeTextureLoader).setPath("bimCDN/img/skybox/"+t+"/"),t=n.load(["px.png","nx.png","py.png","ny.png","pz.png","nz.png"],(function(){e.RenderUpdate()})),e.scene.background=t)},t}const ct=1001,ut=1003,ht=1006,dt=1008,ft=1015,pt=1020,mt=1022,vt=1023,gt=1026,yt=1027,xt=3e3,bt=35044,wt=35048;function _t(){}Object.assign(_t.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){var n;return void 0!==this._listeners&&void 0!==(n=this._listeners)[e]&&-1!==n[e].indexOf(t)},removeEventListener:function(e,t){var n;void 0!==this._listeners&&void 0!==(e=this._listeners[e])&&-1!==(n=e.indexOf(t))&&e.splice(n,1)},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;var n=t.slice(0);for(let t=0,i=n.length;t<i;t++)n[t].call(this,e)}}}});const Mt=[];for(let e=0;e<256;e++)Mt[e]=(e<16?"0":"")+e.toString(16);let St=1234567;const Et={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(Mt[255&e]+Mt[e>>8&255]+Mt[e>>16&255]+Mt[e>>24&255]+"-"+Mt[255&t]+Mt[t>>8&255]+"-"+Mt[t>>16&15|64]+Mt[t>>24&255]+"-"+Mt[63&n|128]+Mt[n>>8&255]+"-"+Mt[n>>16&255]+Mt[n>>24&255]+Mt[255&i]+Mt[i>>8&255]+Mt[i>>16&255]+Mt[i>>24&255]).toUpperCase()},clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,i,r){return i+(e-t)*(r-i)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},damp:function(e,t,n,i){return Et.lerp(e,t,1-Math.exp(-n*i))},pingpong:function(e,t=1){return t-Math.abs(Et.euclideanModulo(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:n<=e?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:n<=e?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){return((St=16807*(St=void 0!==e?e%2147483647:St)%2147483647)-1)/2147483646},degToRad:function(e){return e*Et.DEG2RAD},radToDeg:function(e){return e*Et.RAD2DEG},isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,i,r){var a=Math.cos,o=Math.sin,s=a(n/2),l=o(n/2),c=a((t+i)/2),u=o((t+i)/2),h=a((t-i)/2),d=o((t-i)/2),f=a((i-t)/2),p=o((i-t)/2);switch(r){case"XYX":e.set(s*u,l*h,l*d,s*c);break;case"YZY":e.set(l*d,s*u,l*h,s*c);break;case"ZXZ":e.set(l*h,l*d,s*u,s*c);break;case"XZX":e.set(s*u,l*p,l*f,s*c);break;case"YXY":e.set(l*f,s*u,l*p,s*c);break;case"ZYZ":e.set(l*p,l*f,s*u,s*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}};class Tt{constructor(e=0,t=0){this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){var t=this.x,n=this.y;e=e.elements;return this.x=e[0]*t+e[3]*n+e[6],this.y=e[1]*t+e[4]*n+e[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){var t=this.x-e.x;return t*t+(e=this.y-e.y)*e}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){var n=Math.cos(t),i=(t=Math.sin(t),this.x-e.x),r=this.y-e.y;return this.x=i*n-r*t+e.x,this.y=i*t+r*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}}Tt.prototype.isVector2=!0;class Ct{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,t,n,i,r,a,o,s,l){var c=this.elements;return c[0]=e,c[1]=i,c[2]=o,c[3]=t,c[4]=r,c[5]=s,c[6]=n,c[7]=a,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){var t=this.elements;e=e.elements;return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){return e=e.elements,this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){e=e.elements,t=t.elements;var n=this.elements,i=e[0],r=e[3],a=e[6],o=e[1],s=e[4],l=e[7],c=e[2],u=e[5],h=(e=e[8],t[0]),d=t[3],f=t[6],p=t[1],m=t[4],v=t[7],g=t[2],y=t[5];t=t[8];return n[0]=i*h+r*p+a*g,n[3]=i*d+r*m+a*y,n[6]=i*f+r*v+a*t,n[1]=o*h+s*p+l*g,n[4]=o*d+s*m+l*y,n[7]=o*f+s*v+l*t,n[2]=c*h+u*p+e*g,n[5]=c*d+u*m+e*y,n[8]=c*f+u*v+e*t,this}multiplyScalar(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){var e,t=(e=this.elements)[0],n=e[1],i=e[2],r=e[3],a=e[4],o=e[5],s=e[6],l=e[7];return t*a*(e=e[8])-t*o*l-n*r*e+n*o*s+i*r*l-i*a*s}invert(){var e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],a=e[4],o=e[5],s=e[6],l=e[7],c=e[8],u=c*a-o*l,h=o*s-c*r,d=l*r-a*s,f=t*u+n*h+i*d;return 0==f?this.set(0,0,0,0,0,0,0,0,0):(e[0]=u*(u=1/f),e[1]=(i*l-c*n)*u,e[2]=(o*n-i*a)*u,e[3]=h*u,e[4]=(c*t-i*s)*u,e[5]=(i*r-o*t)*u,e[6]=d*u,e[7]=(n*s-l*t)*u,e[8]=(a*t-n*r)*u,this)}transpose(){var e=this.elements,t=e[1];return e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,i,r,a,o){var s=Math.cos(r);r=Math.sin(r);return this.set(n*s,n*r,-n*(s*a+r*o)+a+e,-i*r,i*s,-i*(-r*a+s*o)+o+t,0,0,1),this}scale(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this}rotate(e){var t=Math.cos(e),n=(e=Math.sin(e),this.elements),i=n[0],r=n[3],a=n[6],o=n[1],s=n[4],l=n[7];return n[0]=t*i+e*o,n[3]=t*r+e*s,n[6]=t*a+e*l,n[1]=-e*i+t*o,n[4]=-e*r+t*s,n[7]=-e*a+t*l,this}translate(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this}equals(e){var t=this.elements,n=e.elements;for(let e=0;e<9;e++)if(t[e]!==n[e])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}let At;Ct.prototype.isMatrix3=!0;const Lt={getDataURL:function(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;let t;var n;return 2048<(t=e instanceof HTMLCanvasElement?e:((At=void 0===At?document.createElementNS("http://www.w3.org/1999/xhtml","canvas"):At).width=e.width,At.height=e.height,n=At.getContext("2d"),e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),At)).width||2048<t.height?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}};let Pt=0;class kt extends _t{constructor(e=kt.DEFAULT_IMAGE,t=kt.DEFAULT_MAPPING,n=ct,i=ct,r=ht,a=dt,o=vt,s=1009,l=1,c=xt){super(),Object.defineProperty(this,"id",{value:Pt++}),this.uuid=Et.generateUUID(),this.name="",this.image=e,this.mipmaps=[],this.mapping=t,this.wrapS=n,this.wrapT=i,this.magFilter=r,this.minFilter=a,this.anisotropy=l,this.format=o,this.internalFormat=null,this.type=s,this.offset=new Tt(0,0),this.repeat=new Tt(1,1),this.center=new Tt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ct,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c,this.version=0,this.onUpdate=null}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this}toJSON(e){var t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var i=this.image;if(void 0===i.uuid&&(i.uuid=Et.generateUUID()),!t&&void 0===e.images[i.uuid]){let t;if(Array.isArray(i)){t=[];for(let e=0,n=i.length;e<n;e++)i[e].isDataTexture?t.push(Dt(i[e].image)):t.push(Dt(i[e]))}else t=Dt(i);e.images[i.uuid]={uuid:i.uuid,url:t}}n.image=i.uuid}return t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(300===this.mapping){if(e.applyMatrix3(this.matrix),e.x<0||1<e.x)switch(this.wrapS){case 1e3:e.x=e.x-Math.floor(e.x);break;case ct:e.x=e.x<0?0:1;break;case 1002:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||1<e.y)switch(this.wrapT){case 1e3:e.y=e.y-Math.floor(e.y);break;case ct:e.y=e.y<0?0:1;break;case 1002:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}this.flipY&&(e.y=1-e.y)}return e}set needsUpdate(e){!0===e&&this.version++}}function Dt(e){return"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?Lt.getDataURL(e):e.data?{data:Array.prototype.slice.call(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}kt.DEFAULT_IMAGE=void 0,kt.DEFAULT_MAPPING=300,kt.prototype.isTexture=!0;class It{constructor(e=0,t=0,n=0,i=1){this.x=e,this.y=t,this.z=n,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){var t=this.x,n=this.y,i=this.z,r=this.w;e=e.elements;return this.x=e[0]*t+e[4]*n+e[8]*i+e[12]*r,this.y=e[1]*t+e[5]*n+e[9]*i+e[13]*r,this.z=e[2]*t+e[6]*n+e[10]*i+e[14]*r,this.w=e[3]*t+e[7]*n+e[11]*i+e[15]*r,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,i,r;var a,o,s,l,c,u,h=(e=e.elements)[0],d=e[4],f=e[8],p=e[1],m=e[5],v=e[9],g=e[2],y=e[6];e=e[10];if(Math.abs(d-p)<.01&&Math.abs(f-g)<.01&&Math.abs(v-y)<.01)Math.abs(d+p)<.1&&Math.abs(f+g)<.1&&Math.abs(v+y)<.1&&Math.abs(h+m+e-3)<.1?this.set(1,0,0,0):(t=Math.PI,s=(e+1)/2,l=(d+p)/4,c=(f+g)/4,u=(v+y)/4,(o=(m+1)/2)<(a=(h+1)/2)&&s<a?r=a<.01?(n=0,i=.707106781):(n=Math.sqrt(a),i=l/n,c/n):s<o?r=o<.01?(n=.707106781,i=0,.707106781):(i=Math.sqrt(o),n=l/i,u/i):s<.01?(n=.707106781,i=.707106781,r=0):(r=Math.sqrt(s),n=c/r,i=u/r),this.set(n,i,r,t));else{let t=Math.sqrt((y-v)*(y-v)+(f-g)*(f-g)+(p-d)*(p-d));Math.abs(t)<.001&&(t=1),this.x=(y-v)/t,this.y=(f-g)/t,this.z=(p-d)/t,this.w=Math.acos((h+m+e-1)/2)}return this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}It.prototype.isVector4=!0;class Rt extends _t{constructor(e,t,n){super(),this.width=e,this.height=t,this.depth=1,this.scissor=new It(0,0,e,t),this.scissorTest=!1,this.viewport=new It(0,0,e,t),n=n||{},this.texture=new kt(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.image={},this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=1,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:ht,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0!==n.stencilBuffer&&n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}setTexture(e){e.image={width:this.width,height:this.height,depth:this.depth},this.texture=e}setSize(e,t,n=1){this.width===e&&this.height===t&&this.depth===n||(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this}dispose(){this.dispatchEvent({type:"dispose"})}}Rt.prototype.isWebGLRenderTarget=!0;class Nt{constructor(e=0,t=0,n=0,i=1){this._x=e,this._y=t,this._z=n,this._w=i}static slerp(e,t,n,i){return n.copy(e).slerp(t,i)}static slerpFlat(e,t,n,i,r,a,o){let s=n[i+0],l=n[i+1],c=n[i+2],u=n[i+3];n=r[a+0],i=r[a+1];var h=r[a+2];r=r[a+3];if(0===o)e[t+0]=s,e[t+1]=l,e[t+2]=c,e[t+3]=u;else if(1===o)e[t+0]=n,e[t+1]=i,e[t+2]=h,e[t+3]=r;else{if(u!==r||s!==n||l!==i||c!==h){let e=1-o;var d=0<=(a=s*n+l*i+c*h+u*r)?1:-1,f=1-a*a;a=(f>Number.EPSILON&&(f=Math.sqrt(f),a=Math.atan2(f,a*d),e=Math.sin(e*a)/f,o=Math.sin(o*a)/f),o*d);s=s*e+n*a,l=l*e+i*a,c=c*e+h*a,u=u*e+r*a,e===1-o&&(s*=f=1/Math.sqrt(s*s+l*l+c*c+u*u),l*=f,c*=f,u*=f)}e[t]=s,e[t+1]=l,e[t+2]=c,e[t+3]=u}}static multiplyQuaternionsFlat(e,t,n,i,r,a){var o=n[i],s=n[i+1],l=n[i+2],c=(n=n[i+3],i=r[a],r[a+1]),u=r[a+2];r=r[a+3];return e[t]=o*r+n*i+s*u-l*c,e[t+1]=s*r+n*c+l*i-o*u,e[t+2]=l*r+n*u+o*c-s*i,e[t+3]=n*r-o*i-s*c-l*u,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,i=e._y,r=e._z,a=e._order,o=(e=Math.cos,Math.sin),s=e(n/2),l=e(i/2),c=e(r/2),u=o(n/2),h=o(i/2),d=o(r/2);switch(a){case"XYZ":this._x=u*l*c+s*h*d,this._y=s*h*c-u*l*d,this._z=s*l*d+u*h*c,this._w=s*l*c-u*h*d;break;case"YXZ":this._x=u*l*c+s*h*d,this._y=s*h*c-u*l*d,this._z=s*l*d-u*h*c,this._w=s*l*c+u*h*d;break;case"ZXY":this._x=u*l*c-s*h*d,this._y=s*h*c+u*l*d,this._z=s*l*d+u*h*c,this._w=s*l*c-u*h*d;break;case"ZYX":this._x=u*l*c-s*h*d,this._y=s*h*c+u*l*d,this._z=s*l*d-u*h*c,this._w=s*l*c+u*h*d;break;case"YZX":this._x=u*l*c+s*h*d,this._y=s*h*c+u*l*d,this._z=s*l*d-u*h*c,this._w=s*l*c-u*h*d;break;case"XZY":this._x=u*l*c-s*h*d,this._y=s*h*c-u*l*d,this._z=s*l*d+u*h*c,this._w=s*l*c+u*h*d;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){t/=2;var n=Math.sin(t);return this._x=e.x*n,this._y=e.y*n,this._z=e.z*n,this._w=Math.cos(t),this._onChangeCallback(),this}setFromRotationMatrix(e){var t=(e=e.elements)[0],n=e[4],i=e[8],r=e[1],a=e[5],o=e[9],s=e[2],l=e[6],c=t+a+(e=e[10]);return 0<c?(c=.5/Math.sqrt(c+1),this._w=.25/c,this._x=(l-o)*c,this._y=(i-s)*c,this._z=(r-n)*c):a<t&&e<t?(c=2*Math.sqrt(1+t-a-e),this._w=(l-o)/c,this._x=.25*c,this._y=(n+r)/c,this._z=(i+s)/c):e<a?(c=2*Math.sqrt(1+a-t-e),this._w=(i-s)/c,this._x=(n+r)/c,this._y=.25*c,this._z=(o+l)/c):(c=2*Math.sqrt(1+e-t-a),this._w=(r-n)/c,this._x=(i+s)/c,this._y=(o+l)/c,this._z=.25*c),this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<1e-6?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0):(this._x=0,this._y=-e.z,this._z=e.y)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x),this._w=n,this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Et.clamp(this.dot(e),-1,1)))}rotateTowards(e,t){var n=this.angleTo(e);return 0!==n&&(t=Math.min(1,t/n),this.slerp(e,t)),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(this._x=this._x*(e=1/e),this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){var n=e._x,i=e._y,r=e._z,a=(e=e._w,t._x),o=t._y,s=t._z;t=t._w;return this._x=n*t+e*a+i*s-r*o,this._y=i*t+e*o+r*a-n*s,this._z=r*t+e*s+n*o-i*a,this._w=e*t-n*a-i*o-r*s,this._onChangeCallback(),this}slerp(e,t){if(0!==t){if(1===t)return this.copy(e);var n,i,r=this._x,a=this._y,o=this._z,s=this._w;let l=s*e._w+r*e._x+a*e._y+o*e._z;l<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,l=-l):this.copy(e),1<=l?(this._w=s,this._x=r,this._y=a,this._z=o):((e=1-l*l)<=Number.EPSILON?(this._w=(n=1-t)*s+t*this._w,this._x=n*r+t*this._x,this._y=n*a+t*this._y,this._z=n*o+t*this._z,this.normalize()):(n=Math.sqrt(e),e=Math.atan2(n,l),i=Math.sin((1-t)*e)/n,t=Math.sin(t*e)/n,this._w=s*i+this._w*t,this._x=r*i+this._x*t,this._y=a*i+this._y*t,this._z=o*i+this._z*t),this._onChangeCallback())}return this}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}Nt.prototype.isQuaternion=!0;class Ot{constructor(e=0,t=0,n=0){this.x=e,this.y=t,this.z=n}set(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(zt.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(zt.setFromAxisAngle(e,t))}applyMatrix3(e){var t=this.x,n=this.y,i=this.z;e=e.elements;return this.x=e[0]*t+e[3]*n+e[6]*i,this.y=e[1]*t+e[4]*n+e[7]*i,this.z=e[2]*t+e[5]*n+e[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){var t=this.x,n=this.y,i=this.z,r=1/((e=e.elements)[3]*t+e[7]*n+e[11]*i+e[15]);return this.x=(e[0]*t+e[4]*n+e[8]*i+e[12])*r,this.y=(e[1]*t+e[5]*n+e[9]*i+e[13])*r,this.z=(e[2]*t+e[6]*n+e[10]*i+e[14])*r,this}applyQuaternion(e){var t=this.x,n=this.y,i=this.z,r=e.x,a=e.y,o=e.z,s=(e=e.w)*t+a*i-o*n,l=e*n+o*t-r*i,c=e*i+r*n-a*t;t=-r*t-a*n-o*i;return this.x=s*e+t*-r+l*-o-c*-a,this.y=l*e+t*-a+c*-r-s*-o,this.z=c*e+t*-o+s*-a-l*-r,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){var t=this.x,n=this.y,i=this.z;e=e.elements;return this.x=e[0]*t+e[4]*n+e[8]*i,this.y=e[1]*t+e[5]*n+e[9]*i,this.z=e[2]*t+e[6]*n+e[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){var n=e.x,i=e.y,r=(e=e.z,t.x),a=t.y;t=t.z;return this.x=i*t-e*a,this.y=e*r-n*t,this.z=n*a-i*r,this}projectOnVector(e){var t=e.lengthSq();return 0===t?this.set(0,0,0):(t=e.dot(this)/t,this.copy(e).multiplyScalar(t))}projectOnPlane(e){return Ft.copy(this).projectOnVector(e),this.sub(Ft)}reflect(e){return this.sub(Ft.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());return 0===t?Math.PI/2:(e=this.dot(e)/t,Math.acos(Et.clamp(e,-1,1)))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n+(e=this.z-e.z)*e}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){var i=Math.sin(t)*e;return this.x=i*Math.sin(n),this.y=Math.cos(t)*e,this.z=i*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){return e=e.elements,this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length();e=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=e,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}Ot.prototype.isVector3=!0;const Ft=new Ot,zt=new Nt;class Bt{constructor(e=new Ot(1/0,1/0,1/0),t=new Ot(-1/0,-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,n=1/0,i=1/0,r=-1/0,a=-1/0,o=-1/0;for(let u=0,h=e.length;u<h;u+=3){var s=e[u],l=e[u+1],c=e[u+2];s<t&&(t=s),l<n&&(n=l),c<i&&(i=c),s>r&&(r=s),l>a&&(a=l),c>o&&(o=c)}return this.min.set(t,n,i),this.max.set(r,a,o),this}setFromBufferAttribute(e){let t=1/0,n=1/0,i=1/0,r=-1/0,a=-1/0,o=-1/0;for(let u=0,h=e.count;u<h;u++){var s=e.getX(u),l=e.getY(u),c=e.getZ(u);s<t&&(t=s),l<n&&(n=l),c<i&&(i=c),s>r&&(r=s),l>a&&(a=l),c>o&&(o=c)}return this.min.set(t,n,i),this.max.set(r,a,o),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){return t=Ut.copy(t).multiplyScalar(.5),this.min.copy(e).sub(t),this.max.copy(e).add(t),this}setFromObject(e){return this.makeEmpty(),this.expandByObject(e)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return void 0===e&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new Ot),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return void 0===e&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new Ot),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e){e.updateWorldMatrix(!1,!1);var t=e.geometry,n=(void 0!==t&&(null===t.boundingBox&&t.computeBoundingBox(),Vt.copy(t.boundingBox),Vt.applyMatrix4(e.matrixWorld),this.union(Vt)),e.children);for(let e=0,t=n.length;e<t;e++)this.expandByObject(n[e]);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return void 0===t&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new Ot),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Ut),Ut.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return n=0<e.normal.x?(t=e.normal.x*this.min.x,e.normal.x*this.max.x):(t=e.normal.x*this.max.x,e.normal.x*this.min.x),0<e.normal.y?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),0<e.normal.z?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){return!this.isEmpty()&&(this.getCenter($t),Zt.subVectors(this.max,$t),Gt.subVectors(e.a,$t),jt.subVectors(e.b,$t),Wt.subVectors(e.c,$t),Xt.subVectors(jt,Gt),qt.subVectors(Wt,jt),Yt.subVectors(Gt,Wt),!!Jt([0,-Xt.z,Xt.y,0,-qt.z,qt.y,0,-Yt.z,Yt.y,Xt.z,0,-Xt.x,qt.z,0,-qt.x,Yt.z,0,-Yt.x,-Xt.y,Xt.x,0,-qt.y,qt.x,0,-Yt.y,Yt.x,0],Gt,jt,Wt,Zt))&&!!Jt([1,0,0,0,1,0,0,0,1],Gt,jt,Wt,Zt)&&(Qt.crossVectors(Xt,qt),Jt([Qt.x,Qt.y,Qt.z],Gt,jt,Wt,Zt))}clampPoint(e,t){return void 0===t&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new Ot),t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Ut.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return void 0===e&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=.5*this.getSize(Ut).length(),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(Ht[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ht[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ht[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ht[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ht[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ht[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ht[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ht[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ht)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}Bt.prototype.isBox3=!0;const Ht=[new Ot,new Ot,new Ot,new Ot,new Ot,new Ot,new Ot,new Ot],Ut=new Ot,Vt=new Bt,Gt=new Ot,jt=new Ot,Wt=new Ot,Xt=new Ot,qt=new Ot,Yt=new Ot,$t=new Ot,Zt=new Ot,Qt=new Ot,Kt=new Ot;function Jt(e,t,n,i,r){for(let c=0,u=e.length-3;c<=u;c+=3){Kt.fromArray(e,c);var a=r.x*Math.abs(Kt.x)+r.y*Math.abs(Kt.y)+r.z*Math.abs(Kt.z),o=t.dot(Kt),s=n.dot(Kt),l=i.dot(Kt);if(Math.max(-Math.max(o,s,l),Math.min(o,s,l))>a)return!1}return!0}const en=new Bt;class tn{constructor(e=new Ot,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){var n=this.center;void 0!==t?n.copy(t):en.setFromPoints(e).getCenter(n);let i=0;for(let t=0,r=e.length;t<r;t++)i=Math.max(i,n.distanceToSquared(e[t]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){var n=this.center.distanceToSquared(e);return void 0===t&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new Ot),t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return void 0===e&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new Bt),this.isEmpty()?e.makeEmpty():(e.set(this.center,this.center),e.expandByScalar(this.radius)),e}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const nn=new Ot,rn=new Ot,an=new Ot,on=new Ot,sn=new Ot,ln=new Ot,cn=new Ot;class un{constructor(e=new Ot,t=new Ot(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return void 0===t&&(console.warn("THREE.Ray: .at() target is now required"),t=new Ot),t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,nn)),this}closestPointToPoint(e,t){return void 0===t&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new Ot),t.subVectors(e,this.origin),(e=t.dot(this.direction))<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(e).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){var t=nn.subVectors(e,this.origin).dot(this.direction);return(t<0?this.origin:(nn.copy(this.direction).multiplyScalar(t).add(this.origin),nn)).distanceToSquared(e)}distanceSqToSegment(e,t,n,i){rn.copy(e).add(t).multiplyScalar(.5),an.copy(t).sub(e).normalize(),on.copy(this.origin).sub(rn);e=.5*e.distanceTo(t),t=-this.direction.dot(an);var r=on.dot(this.direction),a=-on.dot(an),o=on.lengthSq(),s=Math.abs(1-t*t);let l,c,u,h;return u=0<s?(l=t*a-r,c=t*r-a,h=e*s,0<=l?c>=-h?c<=h?(l*=s=1/s,c*=s,l*(l+t*c+2*r)+c*(t*l+c+2*a)+o):(c=e,-(l=Math.max(0,-(t*c+r)))*l+c*(c+2*a)+o):(c=-e,-(l=Math.max(0,-(t*c+r)))*l+c*(c+2*a)+o):c<=-h?(l=Math.max(0,-(-t*e+r)),c=0<l?-e:Math.min(Math.max(-e,-a),e),-l*l+c*(c+2*a)+o):c<=h?(l=0,(c=Math.min(Math.max(-e,-a),e))*(c+2*a)+o):(l=Math.max(0,-(t*e+r)),c=0<l?e:Math.min(Math.max(-e,-a),e),-l*l+c*(c+2*a)+o)):(c=0<t?-e:e,-(l=Math.max(0,-(t*c+r)))*l+c*(c+2*a)+o),n&&n.copy(this.direction).multiplyScalar(l).add(this.origin),i&&i.copy(an).multiplyScalar(c).add(rn),u}intersectSphere(e,t){nn.subVectors(e.center,this.origin);var n=nn.dot(this.direction),i=nn.dot(nn)-n*n;return(e=e.radius*e.radius)<i||(i=n+(e=Math.sqrt(e-i)),(n-=e)<0&&i<0)?null:n<0?this.at(i,t):this.at(n,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){var t=e.normal.dot(this.direction);return 0===t?0===e.distanceToPoint(this.origin)?0:null:0<=(e=-(this.origin.dot(e.normal)+e.constant)/t)?e:null}intersectPlane(e,t){return null===(e=this.distanceToPlane(e))?null:this.at(e,t)}intersectsPlane(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,i,r,a,o,s;var l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,h=this.origin;return i=0<=l?(n=(e.min.x-h.x)*l,(e.max.x-h.x)*l):(n=(e.max.x-h.x)*l,(e.min.x-h.x)*l),a=0<=c?(r=(e.min.y-h.y)*c,(e.max.y-h.y)*c):(r=(e.max.y-h.y)*c,(e.min.y-h.y)*c),n>a||r>i||((r>n||n!=n)&&(n=r),(a<i||i!=i)&&(i=a),s=0<=u?(o=(e.min.z-h.z)*u,(e.max.z-h.z)*u):(o=(e.max.z-h.z)*u,(e.min.z-h.z)*u),n>s)||o>i||((o>n||n!=n)&&(n=o),(i=s<i||i!=i?s:i)<0)?null:this.at(0<=n?n:i,t)}intersectsBox(e){return null!==this.intersectBox(e,nn)}intersectTriangle(e,t,n,i,r){sn.subVectors(t,e),ln.subVectors(n,e),cn.crossVectors(sn,ln);let a,o=this.direction.dot(cn);if(0<o){if(i)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}return on.subVectors(this.origin,e),(t=a*this.direction.dot(ln.crossVectors(on,ln)))<0||(n=a*this.direction.dot(sn.cross(on)))<0||t+n>o||(i=-a*on.dot(cn))<0?null:this.at(i/o,r)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class hn{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,n,i,r,a,o,s,l,c,u,h,d,f,p,m){var v=this.elements;return v[0]=e,v[4]=t,v[8]=n,v[12]=i,v[1]=r,v[5]=a,v[9]=o,v[13]=s,v[2]=l,v[6]=c,v[10]=u,v[14]=h,v[3]=d,v[7]=f,v[11]=p,v[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new hn).fromArray(this.elements)}copy(e){var t=this.elements;e=e.elements;return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],this}copyPosition(e){var t=this.elements;e=e.elements;return t[12]=e[12],t[13]=e[13],t[14]=e[14],this}setFromMatrix3(e){return e=e.elements,this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){var t=this.elements,n=e.elements,i=1/dn.setFromMatrixColumn(e,0).length(),r=1/dn.setFromMatrixColumn(e,1).length();e=1/dn.setFromMatrixColumn(e,2).length();return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=0,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=0,t[8]=n[8]*e,t[9]=n[9]*e,t[10]=n[10]*e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t,n,i,r,a=this.elements,o=e.x,s=e.y,l=e.z,c=Math.cos(o),u=(o=Math.sin(o),Math.cos(s)),h=(s=Math.sin(s),Math.cos(l));l=Math.sin(l);return"XYZ"===e.order?(n=c*h,i=c*l,r=o*h,t=o*l,a[0]=u*h,a[4]=-u*l,a[8]=s,a[1]=i+r*s,a[5]=n-t*s,a[9]=-o*u,a[2]=t-n*s,a[6]=r+i*s,a[10]=c*u):"YXZ"===e.order?(t=u*l,n=s*h,a[0]=(r=u*h)+(i=s*l)*o,a[4]=n*o-t,a[8]=c*s,a[1]=c*l,a[5]=c*h,a[9]=-o,a[2]=t*o-n,a[6]=i+r*o,a[10]=c*u):"ZXY"===e.order?(t=u*l,n=s*h,a[0]=(i=u*h)-(r=s*l)*o,a[4]=-c*l,a[8]=n+t*o,a[1]=t+n*o,a[5]=c*h,a[9]=r-i*o,a[2]=-c*s,a[6]=o,a[10]=c*u):"ZYX"===e.order?(t=c*h,n=c*l,r=o*h,i=o*l,a[0]=u*h,a[4]=r*s-n,a[8]=t*s+i,a[1]=u*l,a[5]=i*s+t,a[9]=n*s-r,a[2]=-s,a[6]=o*u,a[10]=c*u):"YZX"===e.order?(i=c*u,t=c*s,n=o*u,r=o*s,a[0]=u*h,a[4]=r-i*l,a[8]=n*l+t,a[1]=l,a[5]=c*h,a[9]=-o*h,a[2]=-s*h,a[6]=t*l+n,a[10]=i-r*l):"XZY"===e.order&&(t=c*u,n=c*s,i=o*u,r=o*s,a[0]=u*h,a[4]=-l,a[8]=s*h,a[1]=t*l+r,a[5]=c*h,a[9]=n*l-i,a[2]=i*l-n,a[6]=o*h,a[10]=r*l+t),a[3]=0,a[7]=0,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,this}makeRotationFromQuaternion(e){return this.compose(pn,e,mn)}lookAt(e,t,n){var i=this.elements;return yn.subVectors(e,t),0===yn.lengthSq()&&(yn.z=1),yn.normalize(),vn.crossVectors(n,yn),0===vn.lengthSq()&&(1===Math.abs(n.z)?yn.x+=1e-4:yn.z+=1e-4,yn.normalize(),vn.crossVectors(n,yn)),vn.normalize(),gn.crossVectors(yn,vn),i[0]=vn.x,i[4]=gn.x,i[8]=yn.x,i[1]=vn.y,i[5]=gn.y,i[9]=yn.y,i[2]=vn.z,i[6]=gn.z,i[10]=yn.z,this}multiply(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){e=e.elements,t=t.elements;var n=this.elements,i=e[0],r=e[4],a=e[8],o=e[12],s=e[1],l=e[5],c=e[9],u=e[13],h=e[2],d=e[6],f=e[10],p=e[14],m=e[3],v=e[7],g=e[11],y=(e=e[15],t[0]),x=t[4],b=t[8],w=t[12],_=t[1],M=t[5],S=t[9],E=t[13],T=t[2],C=t[6],A=t[10],L=t[14],P=t[3],k=t[7],D=t[11];t=t[15];return n[0]=i*y+r*_+a*T+o*P,n[4]=i*x+r*M+a*C+o*k,n[8]=i*b+r*S+a*A+o*D,n[12]=i*w+r*E+a*L+o*t,n[1]=s*y+l*_+c*T+u*P,n[5]=s*x+l*M+c*C+u*k,n[9]=s*b+l*S+c*A+u*D,n[13]=s*w+l*E+c*L+u*t,n[2]=h*y+d*_+f*T+p*P,n[6]=h*x+d*M+f*C+p*k,n[10]=h*b+d*S+f*A+p*D,n[14]=h*w+d*E+f*L+p*t,n[3]=m*y+v*_+g*T+e*P,n[7]=m*x+v*M+g*C+e*k,n[11]=m*b+v*S+g*A+e*D,n[15]=m*w+v*E+g*L+e*t,this}multiplyScalar(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){var e=this.elements,t=e[0],n=e[4],i=e[8],r=e[12],a=e[1],o=e[5],s=e[9],l=e[13],c=e[2],u=e[6],h=e[10],d=e[14];return e[3]*(+r*s*u-i*l*u-r*o*h+n*l*h+i*o*d-n*s*d)+e[7]*(+t*s*d-t*l*h+r*a*h-i*a*d+i*l*c-r*s*c)+e[11]*(+t*l*u-t*o*d-r*a*u+n*a*d+r*o*c-n*l*c)+e[15]*(-i*o*c-t*s*u+t*o*h+i*a*u-n*a*h+n*s*c)}transpose(){var e=this.elements,t=e[1];return e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){var i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=n),this}invert(){var e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],a=e[4],o=e[5],s=e[6],l=e[7],c=e[8],u=e[9],h=e[10],d=e[11],f=e[12],p=e[13],m=e[14],v=e[15],g=u*m*l-p*h*l+p*s*d-o*m*d-u*s*v+o*h*v,y=f*h*l-c*m*l-f*s*d+a*m*d+c*s*v-a*h*v,x=c*p*l-f*u*l+f*o*d-a*p*d-c*o*v+a*u*v,b=f*u*s-c*p*s-f*o*h+a*p*h+c*o*m-a*u*m,w=t*g+n*y+i*x+r*b;return 0==w?this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0):(e[0]=g*(g=1/w),e[1]=(p*h*r-u*m*r-p*i*d+n*m*d+u*i*v-n*h*v)*g,e[2]=(o*m*r-p*s*r+p*i*l-n*m*l-o*i*v+n*s*v)*g,e[3]=(u*s*r-o*h*r-u*i*l+n*h*l+o*i*d-n*s*d)*g,e[4]=y*g,e[5]=(c*m*r-f*h*r+f*i*d-t*m*d-c*i*v+t*h*v)*g,e[6]=(f*s*r-a*m*r-f*i*l+t*m*l+a*i*v-t*s*v)*g,e[7]=(a*h*r-c*s*r+c*i*l-t*h*l-a*i*d+t*s*d)*g,e[8]=x*g,e[9]=(f*u*r-c*p*r-f*n*d+t*p*d+c*n*v-t*u*v)*g,e[10]=(a*p*r-f*o*r+f*n*l-t*p*l-a*n*v+t*o*v)*g,e[11]=(c*o*r-a*u*r-c*n*l+t*u*l+a*n*d-t*o*d)*g,e[12]=b*g,e[13]=(c*p*i-f*u*i+f*n*h-t*p*h-c*n*m+t*u*m)*g,e[14]=(f*o*i-a*p*i-f*n*s+t*p*s+a*n*m-t*o*m)*g,e[15]=(a*u*i-c*o*i+c*n*s-t*u*s-a*n*h+t*o*h)*g,this)}scale(e){var t=this.elements,n=e.x,i=e.y;e=e.z;return t[0]*=n,t[4]*=i,t[8]*=e,t[1]*=n,t[5]*=i,t[9]*=e,t[2]*=n,t[6]*=i,t[10]*=e,t[3]*=n,t[7]*=i,t[11]*=e,this}getMaxScaleOnAxis(){var e=(n=this.elements)[0]*n[0]+n[1]*n[1]+n[2]*n[2],t=n[4]*n[4]+n[5]*n[5]+n[6]*n[6],n=n[8]*n[8]+n[9]*n[9]+n[10]*n[10];return Math.sqrt(Math.max(e,t,n))}makeTranslation(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){var t=Math.cos(e);e=Math.sin(e);return this.set(1,0,0,0,0,t,-e,0,0,e,t,0,0,0,0,1),this}makeRotationY(e){var t=Math.cos(e);e=Math.sin(e);return this.set(t,0,e,0,0,1,0,0,-e,0,t,0,0,0,0,1),this}makeRotationZ(e){var t=Math.cos(e);e=Math.sin(e);return this.set(t,-e,0,0,e,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){var n=Math.cos(t),i=(t=Math.sin(t),1-n),r=e.x,a=e.y,o=(e=e.z,i*r),s=i*a;return this.set(o*r+n,o*a-t*e,o*e+t*a,0,o*a+t*e,s*a+n,s*e-t*r,0,o*e-t*a,s*e+t*r,i*e*e+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this}compose(e,t,n){var i=this.elements,r=(o=t._x)*(u=o+o),a=o*(h=(l=t._y)+l),o=o*(d=(c=t._z)+c),s=l*h,l=l*d,c=c*d,u=(t=t._w)*u,h=t*h,d=(t=t*d,n.x),f=n.y;n=n.z;return i[0]=(1-(s+c))*d,i[1]=(a+t)*d,i[2]=(o-h)*d,i[3]=0,i[4]=(a-t)*f,i[5]=(1-(r+c))*f,i[6]=(l+u)*f,i[7]=0,i[8]=(o+h)*n,i[9]=(l-u)*n,i[10]=(1-(r+s))*n,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,n){var i=this.elements;let r=dn.set(i[0],i[1],i[2]).length();var a=dn.set(i[4],i[5],i[6]).length(),o=dn.set(i[8],i[9],i[10]).length(),s=(e=(this.determinant()<0&&(r=-r),e.x=i[12],e.y=i[13],e.z=i[14],fn.copy(this),1/r),i=1/a,1/o);return fn.elements[0]*=e,fn.elements[1]*=e,fn.elements[2]*=e,fn.elements[4]*=i,fn.elements[5]*=i,fn.elements[6]*=i,fn.elements[8]*=s,fn.elements[9]*=s,fn.elements[10]*=s,t.setFromRotationMatrix(fn),n.x=r,n.y=a,n.z=o,this}makePerspective(e,t,n,i,r,a){void 0===a&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var o=this.elements,s=2*r/(n-i),l=(t+e)/(t-e);n=(n+i)/(n-i),i=-(a+r)/(a-r),a=-2*a*r/(a-r);return o[0]=2*r/(t-e),o[4]=0,o[8]=l,o[12]=0,o[1]=0,o[5]=s,o[9]=n,o[13]=0,o[2]=0,o[6]=0,o[10]=i,o[14]=a,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}makeOrthographic(e,t,n,i,r,a){var o=this.elements,s=1/(t-e),l=1/(n-i),c=1/(a-r);t=(t+e)*s,e=(n+i)*l,n=(a+r)*c;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-t,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-e,o[2]=0,o[6]=0,o[10]=-2*c,o[14]=-n,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}equals(e){var t=this.elements,n=e.elements;for(let e=0;e<16;e++)if(t[e]!==n[e])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}hn.prototype.isMatrix4=!0;const dn=new Ot,fn=new hn,pn=new Ot(0,0,0),mn=new Ot(1,1,1),vn=new Ot,gn=new Ot,yn=new Ot,xn=new hn,bn=new Nt;class wn{constructor(e=0,t=0,n=0,i=wn.DefaultOrder){this._x=e,this._y=t,this._z=n,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._order=i||this._order,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t,n){var i=Et.clamp,r=(e=e.elements)[0],a=e[4],o=e[8],s=e[1],l=e[5],c=e[9],u=e[2],h=e[6],d=e[10];switch(t=t||this._order){case"XYZ":this._y=Math.asin(i(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-c,d),this._z=Math.atan2(-a,r)):(this._x=Math.atan2(h,l),this._z=0);break;case"YXZ":this._x=Math.asin(-i(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(o,d),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-u,r),this._z=0);break;case"ZXY":this._x=Math.asin(i(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-u,d),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(s,r));break;case"ZYX":this._y=Math.asin(-i(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(h,d),this._z=Math.atan2(s,r)):(this._x=0,this._z=Math.atan2(-a,l));break;case"YZX":this._z=Math.asin(i(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-u,r)):(this._x=0,this._y=Math.atan2(o,d));break;case"XZY":this._z=Math.asin(-i(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(h,l),this._y=Math.atan2(o,r)):(this._x=Math.atan2(-c,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!1!==n&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return xn.makeRotationFromQuaternion(e),this.setFromRotationMatrix(xn,t,n)}setFromVector3(e,t){return this.set(e.x,e.y,e.z,t||this._order)}reorder(e){return bn.setFromEuler(this),this.setFromQuaternion(bn,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}toVector3(e){return e?e.set(this._x,this._y,this._z):new Ot(this._x,this._y,this._z)}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}wn.prototype.isEuler=!0,wn.DefaultOrder="XYZ",wn.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class _n{constructor(){this.mask=1}set(e){this.mask=1<<e|0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return 0!=(this.mask&e.mask)}}let Mn=0;const Sn=new Ot,En=new Nt,Tn=new hn,Cn=new Ot,An=new Ot,Ln=new Ot,Pn=new Nt,kn=new Ot(1,0,0),Dn=new Ot(0,1,0),In=new Ot(0,0,1),Rn={type:"added"},Nn={type:"removed"};function On(){Object.defineProperty(this,"id",{value:Mn++}),this.uuid=Et.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=On.DefaultUp.clone();var e=new Ot;const t=new wn,n=new Nt;var i=new Ot(1,1,1);t._onChange((function(){n.setFromEuler(t,!1)})),n._onChange((function(){t.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new hn},normalMatrix:{value:new Ct}}),this.matrix=new hn,this.matrixWorld=new hn,this.matrixAutoUpdate=On.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new _n,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}On.DefaultUp=new Ot(0,1,0),On.DefaultMatrixAutoUpdate=!0,On.prototype=Object.assign(Object.create(_t.prototype),{constructor:On,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(e,t){return En.setFromAxisAngle(e,t),this.quaternion.multiply(En),this},rotateOnWorldAxis:function(e,t){return En.setFromAxisAngle(e,t),this.quaternion.premultiply(En),this},rotateX:function(e){return this.rotateOnAxis(kn,e)},rotateY:function(e){return this.rotateOnAxis(Dn,e)},rotateZ:function(e){return this.rotateOnAxis(In,e)},translateOnAxis:function(e,t){return Sn.copy(e).applyQuaternion(this.quaternion),this.position.add(Sn.multiplyScalar(t)),this},translateX:function(e){return this.translateOnAxis(kn,e)},translateY:function(e){return this.translateOnAxis(Dn,e)},translateZ:function(e){return this.translateOnAxis(In,e)},localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(e){return e.applyMatrix4(Tn.copy(this.matrixWorld).invert())},lookAt:function(e,t,n){e.isVector3?Cn.copy(e):Cn.set(e,t,n),e=this.parent,this.updateWorldMatrix(!0,!1),An.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Tn.lookAt(An,Cn,this.up):Tn.lookAt(Cn,An,this.up),this.quaternion.setFromRotationMatrix(Tn),e&&(Tn.extractRotation(e.matrixWorld),En.setFromRotationMatrix(Tn),this.quaternion.premultiply(En.invert()))},add:function(e){if(1<arguments.length)for(let e=0;e<arguments.length;e++)this.add(arguments[e]);else e===this?console.error("THREE.Object3D.add: object can't be added as a child of itself.",e):e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),(e.parent=this).children.push(e),e.dispatchEvent(Rn)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e);return this},remove:function(e){if(1<arguments.length)for(let e=0;e<arguments.length;e++)this.remove(arguments[e]);else{var t=this.children.indexOf(e);-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Nn))}return this},clear:function(){for(let t=0;t<this.children.length;t++){var e=this.children[t];e.parent=null,e.dispatchEvent(Nn)}return this.children.length=0,this},attach:function(e){return this.updateWorldMatrix(!0,!1),Tn.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),Tn.multiply(e.parent.matrixWorld)),e.applyMatrix4(Tn),this.add(e),e.updateWorldMatrix(!1,!0),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){var n=this.children[i].getObjectByProperty(e,t);if(void 0!==n)return n}},getWorldPosition:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new Ot),this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new Nt),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(An,e,Ln),e},getWorldScale:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new Ot),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(An,Pn,e),e},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new Ot),this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);var t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);var t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),e=!(this.matrixWorldNeedsUpdate=!1));var t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){var n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t){var i=this.children;for(let e=0,t=i.length;e<t;e++)i[e].updateWorldMatrix(!1,!0)}},toJSON:function(e){var t,n,i,r,a,o=void 0===e||"string"==typeof e,s={},l=(o&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},s.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"}),{});function c(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(l.uuid=this.uuid,l.type=this.type,""!==this.name&&(l.name=this.name),!0===this.castShadow&&(l.castShadow=!0),!0===this.receiveShadow&&(l.receiveShadow=!0),!1===this.visible&&(l.visible=!1),!1===this.frustumCulled&&(l.frustumCulled=!1),0!==this.renderOrder&&(l.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(l.userData=this.userData),l.layers=this.layers.mask,l.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(l.matrixAutoUpdate=!1),this.isInstancedMesh&&(l.type="InstancedMesh",l.count=this.count,l.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){l.geometry=c(e.geometries,this.geometry);var u=this.geometry.parameters;if(void 0!==u&&void 0!==u.shapes){var h=u.shapes;if(Array.isArray(h))for(let t=0,n=h.length;t<n;t++){var d=h[t];c(e.shapes,d)}else c(e.shapes,h)}}if(this.isSkinnedMesh&&(l.bindMode=this.bindMode,l.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton)&&(c(e.skeletons,this.skeleton),l.skeleton=this.skeleton.uuid),void 0!==this.material)if(Array.isArray(this.material)){var f=[];for(let t=0,n=this.material.length;t<n;t++)f.push(c(e.materials,this.material[t]));l.material=f}else l.material=c(e.materials,this.material);if(0<this.children.length){l.children=[];for(let t=0;t<this.children.length;t++)l.children.push(this.children[t].toJSON(e).object)}if(0<this.animations.length){l.animations=[];for(let t=0;t<this.animations.length;t++){var p=this.animations[t];l.animations.push(c(e.animations,p))}}return o&&(u=m(e.geometries),o=m(e.materials),t=m(e.textures),n=m(e.images),i=m(e.shapes),r=m(e.skeletons),a=m(e.animations),0<u.length&&(s.geometries=u),0<o.length&&(s.materials=o),0<t.length&&(s.textures=t),0<n.length&&(s.images=n),0<i.length&&(s.shapes=i),0<r.length&&(s.skeletons=r),0<a.length)&&(s.animations=a),s.object=l,s;function m(e){var t=[];for(const i in e){var n=e[i];delete n.metadata,t.push(n)}return t}},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let t=0;t<e.children.length;t++){var n=e.children[t];this.add(n.clone())}return this}});const Fn=new Ot,zn=new Ot,Bn=new Ct;class Hn{constructor(e=new Ot(1,0,0),t=0){this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){return n=Fn.subVectors(n,t).cross(zn.subVectors(e,t)).normalize(),this.setFromNormalAndCoplanarPoint(n,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return void 0===t&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new Ot),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){void 0===t&&(console.warn("THREE.Plane: .intersectLine() target is now required"),t=new Ot);var n=e.delta(Fn),i=this.normal.dot(n);return 0===i?0===this.distanceToPoint(e.start)?t.copy(e.start):void 0:(i=-(e.start.dot(this.normal)+this.constant)/i)<0||1<i?void 0:t.copy(n).multiplyScalar(i).add(e.start)}intersectsLine(e){var t=this.distanceToPoint(e.start);e=this.distanceToPoint(e.end);return t<0&&0<e||e<0&&0<t}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return void 0===e&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new Ot),e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){return t=t||Bn.getNormalMatrix(e),e=this.coplanarPoint(Fn).applyMatrix4(e),t=this.normal.applyMatrix3(t).normalize(),this.constant=-e.dot(t),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}Hn.prototype.isPlane=!0;const Un=new Ot,Vn=new Ot,Gn=new Ot,jn=new Ot,Wn=new Ot,Xn=new Ot,qn=new Ot,Yn=new Ot,$n=new Ot,Zn=new Ot;class Qn{constructor(e=new Ot,t=new Ot,n=new Ot){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,i){return void 0===i&&(console.warn("THREE.Triangle: .getNormal() target is now required"),i=new Ot),i.subVectors(n,t),Un.subVectors(e,t),i.cross(Un),0<(n=i.lengthSq())?i.multiplyScalar(1/Math.sqrt(n)):i.set(0,0,0)}static getBarycoord(e,t,n,i,r){Un.subVectors(i,t),Vn.subVectors(n,t),Gn.subVectors(e,t);i=Un.dot(Un),n=Un.dot(Vn),e=Un.dot(Gn),t=Vn.dot(Vn);var a=Vn.dot(Gn),o=i*t-n*n;return void 0===r&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),r=new Ot),0==o?r.set(-2,-1,-1):r.set(1-(t=(t*e-n*a)*(r=1/o))-(o=(i*a-n*e)*r),o,t)}static containsPoint(e,t,n,i){return this.getBarycoord(e,t,n,i,jn),0<=jn.x&&0<=jn.y&&jn.x+jn.y<=1}static getUV(e,t,n,i,r,a,o,s){return this.getBarycoord(e,t,n,i,jn),s.set(0,0),s.addScaledVector(r,jn.x),s.addScaledVector(a,jn.y),s.addScaledVector(o,jn.z),s}static isFrontFacing(e,t,n,i){return Un.subVectors(n,t),Vn.subVectors(e,t),Un.cross(Vn).dot(i)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Un.subVectors(this.c,this.b),Vn.subVectors(this.a,this.b),.5*Un.cross(Vn).length()}getMidpoint(e){return void 0===e&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new Ot),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Qn.getNormal(this.a,this.b,this.c,e)}getPlane(e){return void 0===e&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new Hn),e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Qn.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,n,i,r){return Qn.getUV(e,this.a,this.b,this.c,t,n,i,r)}containsPoint(e){return Qn.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Qn.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){void 0===t&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),t=new Ot);var n=this.a,i=this.b,r=this.c;let a,o;Wn.subVectors(i,n),Xn.subVectors(r,n),Yn.subVectors(e,n);var s=Wn.dot(Yn),l=Xn.dot(Yn);if(s<=0&&l<=0)return t.copy(n);$n.subVectors(e,i);var c=Wn.dot($n),u=Xn.dot($n);if(0<=c&&u<=c)return t.copy(i);var h=s*u-c*l;if(h<=0&&0<=s&&c<=0)return a=s/(s-c),t.copy(n).addScaledVector(Wn,a);Zn.subVectors(e,r);e=Wn.dot(Zn);var d=Xn.dot(Zn);return 0<=d&&e<=d?t.copy(r):(s=e*l-s*d)<=0&&0<=l&&d<=0?(o=l/(l-d),t.copy(n).addScaledVector(Xn,o)):(l=c*d-e*u)<=0&&0<=u-c&&0<=e-d?(qn.subVectors(r,i),o=(u-c)/(u-c+(e-d)),t.copy(i).addScaledVector(qn,o)):(a=s*(r=1/(l+s+h)),o=h*r,t.copy(n).addScaledVector(Wn,a).addScaledVector(Xn,o))}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let Kn=0;function Jn(){Object.defineProperty(this,"id",{value:Kn++}),this.uuid=Et.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}Jn.prototype=Object.assign(Object.create(_t.prototype),{constructor:Jn,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(e){if(void 0!==e)for(const i in e){var t,n=e[i];void 0===n?console.warn("THREE.Material: '"+i+"' parameter is undefined."):"shading"===i?(console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n):void 0===(t=this[i])?console.warn("THREE."+this.type+": '"+i+"' is not a property of this material."):t&&t.isColor?t.set(n):t&&t.isVector3&&n&&n.isVector3?t.copy(n):this[i]=n}},toJSON:function(e){var t=void 0===e||"string"==typeof e,n=(t&&(e={textures:{},images:{}}),{metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}});function i(e){var t=[];for(const i in e){var n=e[i];delete n.metadata,t.push(n)}return t}return n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,void 0!==this.combine&&(n.combine=this.combine),void 0!==this.envMapIntensity)&&(n.envMapIntensity=this.envMapIntensity),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),0!==this.side&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),0<this.alphaTest&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),1<this.wireframeLinewidth&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.morphNormals&&(n.morphNormals=!0),!0===this.skinning&&(n.skinning=!0),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t&&(t=i(e.textures),e=i(e.images),0<t.length&&(n.textures=t),0<e.length)&&(n.images=e),n},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes;let n=null;if(null!==t){var i=t.length;n=new Array(i);for(let e=0;e!==i;++e)n[e]=t[e].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(Jn.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}});const ei={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ti={h:0,s:0,l:0},ni={h:0,s:0,l:0};function ii(e,t,n){return n<0&&(n+=1),1<n&&--n,n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}function ri(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function ai(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}class oi{constructor(e,t,n){return void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}set(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this}setRGB(e,t,n){return this.r=e,this.g=t,this.b=n,this}setHSL(e,t,n){return e=Et.euclideanModulo(e,1),t=Et.clamp(t,0,1),n=Et.clamp(n,0,1),0===t?this.r=this.g=this.b=n:(this.r=ii(t=2*n-(n=n<=.5?n*(1+t):n+t-n*t),n,e+1/3),this.g=ii(t,n,e),this.b=ii(t,n,e-1/3)),this}setStyle(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}if(s=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let e;var n,i,r,a=s[1],o=s[2];switch(a){case"rgb":case"rgba":if(e=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(e[1],10))/255,this.g=Math.min(255,parseInt(e[2],10))/255,this.b=Math.min(255,parseInt(e[3],10))/255,t(e[4]),this;if(e=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(e[1],10))/100,this.g=Math.min(100,parseInt(e[2],10))/100,this.b=Math.min(100,parseInt(e[3],10))/100,t(e[4]),this;break;case"hsl":case"hsla":if(e=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n=parseFloat(e[1])/360,i=parseInt(e[2],10)/100,r=parseInt(e[3],10)/100,t(e[4]),this.setHSL(n,i,r)}}else if(s=/^\#([A-Fa-f\d]+)$/.exec(e)){var s=(a=s[1]).length;if(3===s)return this.r=parseInt(a.charAt(0)+a.charAt(0),16)/255,this.g=parseInt(a.charAt(1)+a.charAt(1),16)/255,this.b=parseInt(a.charAt(2)+a.charAt(2),16)/255,this;if(6===s)return this.r=parseInt(a.charAt(0)+a.charAt(1),16)/255,this.g=parseInt(a.charAt(2)+a.charAt(3),16)/255,this.b=parseInt(a.charAt(4)+a.charAt(5),16)/255,this}return e&&0<e.length?this.setColorName(e):this}setColorName(e){var t=ei[e];return void 0!==t?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copyGammaToLinear(e,t=2){return this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this}copyLinearToGamma(e,t=2){return t=0<t?1/t:1,this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this}convertGammaToLinear(e){return this.copyGammaToLinear(this,e),this}convertLinearToGamma(e){return this.copyLinearToGamma(this,e),this}copySRGBToLinear(e){return this.r=ri(e.r),this.g=ri(e.g),this.b=ri(e.b),this}copyLinearToSRGB(e){return this.r=ai(e.r),this.g=ai(e.g),this.b=ai(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(e){void 0===e&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});var t=this.r,n=this.g,i=this.b,r=Math.max(t,n,i),a=Math.min(t,n,i);let o,s;var l=(a+r)/2;if(a===r)o=0,s=0;else{var c=r-a;switch(s=l<=.5?c/(r+a):c/(2-r-a),r){case t:o=(n-i)/c+(n<i?6:0);break;case n:o=(i-t)/c+2;break;case i:o=(t-n)/c+4}o/=6}return e.h=o,e.s=s,e.l=l,e}getStyle(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}offsetHSL(e,t,n){return this.getHSL(ti),ti.h+=e,ti.s+=t,ti.l+=n,this.setHSL(ti.h,ti.s,ti.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(ti),e.getHSL(ni);e=Et.lerp(ti.h,ni.h,t);var n=Et.lerp(ti.s,ni.s,t);t=Et.lerp(ti.l,ni.l,t);return this.setHSL(e,n,t),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),!0===e.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}oi.NAMES=ei,oi.prototype.isColor=!0,oi.prototype.r=1,oi.prototype.g=1,oi.prototype.b=1;class si extends Jn{constructor(e){super(),this.type="MeshBasicMaterial",this.color=new oi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this}}si.prototype.isMeshBasicMaterial=!0;const li=new Ot,ci=new Tt;function ui(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.usage=bt,this.updateRange={offset:0,count:-1},this.version=0}function hi(e,t,n){ui.call(this,new Int8Array(e),t,n)}function di(e,t,n){ui.call(this,new Uint8Array(e),t,n)}function fi(e,t,n){ui.call(this,new Uint8ClampedArray(e),t,n)}function pi(e,t,n){ui.call(this,new Int16Array(e),t,n)}function mi(e,t,n){ui.call(this,new Uint16Array(e),t,n)}function vi(e,t,n){ui.call(this,new Int32Array(e),t,n)}function gi(e,t,n){ui.call(this,new Uint32Array(e),t,n)}function yi(e,t,n){ui.call(this,new Uint16Array(e),t,n)}function xi(e,t,n){ui.call(this,new Float32Array(e),t,n)}function bi(e,t,n){ui.call(this,new Float64Array(e),t,n)}function wi(e){if(0===e.length)return-1/0;let t=e[0];for(let n=1,i=e.length;n<i;++n)e[n]>t&&(t=e[n]);return t}Object.defineProperty(ui.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(ui.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let i=0,r=this.itemSize;i<r;i++)this.array[e+i]=t.array[n+i];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){var t=this.array;let n=0;for(let i=0,r=e.length;i<r;i++){let r=e[i];void 0===r&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),r=new oi),t[n++]=r.r,t[n++]=r.g,t[n++]=r.b}return this},copyVector2sArray:function(e){var t=this.array;let n=0;for(let i=0,r=e.length;i<r;i++){let r=e[i];void 0===r&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),r=new Tt),t[n++]=r.x,t[n++]=r.y}return this},copyVector3sArray:function(e){var t=this.array;let n=0;for(let i=0,r=e.length;i<r;i++){let r=e[i];void 0===r&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),r=new Ot),t[n++]=r.x,t[n++]=r.y,t[n++]=r.z}return this},copyVector4sArray:function(e){var t=this.array;let n=0;for(let i=0,r=e.length;i<r;i++){let r=e[i];void 0===r&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),r=new It),t[n++]=r.x,t[n++]=r.y,t[n++]=r.z,t[n++]=r.w}return this},applyMatrix3:function(e){if(2===this.itemSize)for(let t=0,n=this.count;t<n;t++)ci.fromBufferAttribute(this,t),ci.applyMatrix3(e),this.setXY(t,ci.x,ci.y);else if(3===this.itemSize)for(let t=0,n=this.count;t<n;t++)li.fromBufferAttribute(this,t),li.applyMatrix3(e),this.setXYZ(t,li.x,li.y,li.z);return this},applyMatrix4:function(e){for(let t=0,n=this.count;t<n;t++)li.x=this.getX(t),li.y=this.getY(t),li.z=this.getZ(t),li.applyMatrix4(e),this.setXYZ(t,li.x,li.y,li.z);return this},applyNormalMatrix:function(e){for(let t=0,n=this.count;t<n;t++)li.x=this.getX(t),li.y=this.getY(t),li.z=this.getZ(t),li.applyNormalMatrix(e),this.setXYZ(t,li.x,li.y,li.z);return this},transformDirection:function(e){for(let t=0,n=this.count;t<n;t++)li.x=this.getX(t),li.y=this.getY(t),li.z=this.getZ(t),li.transformDirection(e),this.setXYZ(t,li.x,li.y,li.z);return this},set:function(e,t=0){return this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this},setXYZW:function(e,t,n,i,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=r,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),(hi.prototype=Object.create(ui.prototype)).constructor=hi,(di.prototype=Object.create(ui.prototype)).constructor=di,(fi.prototype=Object.create(ui.prototype)).constructor=fi,(pi.prototype=Object.create(ui.prototype)).constructor=pi,mi.prototype=Object.create(ui.prototype),mi.prototype.constructor=mi,(vi.prototype=Object.create(ui.prototype)).constructor=vi,gi.prototype=Object.create(ui.prototype),gi.prototype.constructor=gi,((yi.prototype=Object.create(ui.prototype)).constructor=yi).prototype.isFloat16BufferAttribute=!0,(xi.prototype=Object.create(ui.prototype)).constructor=xi,(bi.prototype=Object.create(ui.prototype)).constructor=bi,Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;let _i=0;const Mi=new hn,Si=new On,Ei=new Ot,Ti=new Bt,Ci=new Bt,Ai=new Ot;function Li(){Object.defineProperty(this,"id",{value:_i++}),this.uuid=Et.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}Li.prototype=Object.assign(Object.create(_t.prototype),{constructor:Li,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){return Array.isArray(e)?this.index=new(65535<wi(e)?gi:mi)(e,1):this.index=e,this},getAttribute:function(e){return this.attributes[e]},setAttribute:function(e,t){return this.attributes[e]=t,this},deleteAttribute:function(e){return delete this.attributes[e],this},hasAttribute:function(e){return void 0!==this.attributes[e]},addGroup:function(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix4:function(e){var t,n=(void 0!==(t=(void 0!==(t=this.attributes.position)&&(t.applyMatrix4(e),t.needsUpdate=!0),this.attributes.normal))&&(n=(new Ct).getNormalMatrix(e),t.applyNormalMatrix(n),t.needsUpdate=!0),this.attributes.tangent);return void 0!==n&&(n.transformDirection(e),n.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(e){return Mi.makeRotationX(e),this.applyMatrix4(Mi),this},rotateY:function(e){return Mi.makeRotationY(e),this.applyMatrix4(Mi),this},rotateZ:function(e){return Mi.makeRotationZ(e),this.applyMatrix4(Mi),this},translate:function(e,t,n){return Mi.makeTranslation(e,t,n),this.applyMatrix4(Mi),this},scale:function(e,t,n){return Mi.makeScale(e,t,n),this.applyMatrix4(Mi),this},lookAt:function(e){return Si.lookAt(e),Si.updateMatrix(),this.applyMatrix4(Si.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ei).negate(),this.translate(Ei.x,Ei.y,Ei.z),this},setFromPoints:function(e){var t=[];for(let i=0,r=e.length;i<r;i++){var n=e[i];t.push(n.x,n.y,n.z||0)}return this.setAttribute("position",new xi(t,3)),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Bt);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Ot(-1/0,-1/0,-1/0),new Ot(1/0,1/0,1/0));else{if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let e=0,i=t.length;e<i;e++){var n=t[e];Ti.setFromBufferAttribute(n),this.morphTargetsRelative?(Ai.addVectors(this.boundingBox.min,Ti.min),this.boundingBox.expandByPoint(Ai),Ai.addVectors(this.boundingBox.max,Ti.max),this.boundingBox.expandByPoint(Ai)):(this.boundingBox.expandByPoint(Ti.min),this.boundingBox.expandByPoint(Ti.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new tn);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Ot,1/0);else if(e){var n=this.boundingSphere.center;if(Ti.setFromBufferAttribute(e),t)for(let e=0,n=t.length;e<n;e++){var i=t[e];Ci.setFromBufferAttribute(i),this.morphTargetsRelative?(Ai.addVectors(Ti.min,Ci.min),Ti.expandByPoint(Ai),Ai.addVectors(Ti.max,Ci.max),Ti.expandByPoint(Ai)):(Ti.expandByPoint(Ci.min),Ti.expandByPoint(Ci.max))}Ti.getCenter(n);let o=0;for(let t=0,i=e.count;t<i;t++)Ai.fromBufferAttribute(e,t),o=Math.max(o,n.distanceToSquared(Ai));if(t)for(let i=0,s=t.length;i<s;i++){var r=t[i],a=this.morphTargetsRelative;for(let t=0,i=r.count;t<i;t++)Ai.fromBufferAttribute(r,t),a&&(Ei.fromBufferAttribute(e,t),Ai.add(Ei)),o=Math.max(o,n.distanceToSquared(Ai))}this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeTangents:function(){var e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");else{var n=e.array;const f=t.position.array,p=t.normal.array,m=t.uv.array;var i,r,a,o,s=f.length/3;void 0===t.tangent&&this.setAttribute("tangent",new ui(new Float32Array(4*s),4));const v=t.tangent.array,g=[],y=[];for(let e=0;e<s;e++)g[e]=new Ot,y[e]=new Ot;const x=new Ot,b=new Ot,w=new Ot,_=new Tt,M=new Tt,S=new Tt,E=new Ot,T=new Ot;let C=this.groups;for(let e=0,t=(C=0===C.length?[{start:0,count:n.length}]:C).length;e<t;++e){var l=C[e],c=l.start;for(let e=c,t=c+l.count;e<t;e+=3)i=n[e+0],r=n[e+1],a=n[e+2],void 0,x.fromArray(f,3*i),b.fromArray(f,3*r),w.fromArray(f,3*a),_.fromArray(m,2*i),M.fromArray(m,2*r),S.fromArray(m,2*a),b.sub(x),w.sub(x),M.sub(_),S.sub(_),o=1/(M.x*S.y-S.x*M.y),isFinite(o)&&(E.copy(b).multiplyScalar(S.y).addScaledVector(w,-M.y).multiplyScalar(o),T.copy(w).multiplyScalar(M.x).addScaledVector(b,-S.x).multiplyScalar(o),g[i].add(E),g[r].add(E),g[a].add(E),y[i].add(T),y[r].add(T),y[a].add(T))}const A=new Ot,L=new Ot,P=new Ot,k=new Ot;for(let e=0,t=C.length;e<t;++e){var u=C[e],h=u.start;for(let e=h,t=h+u.count;e<t;e+=3)d(n[e+0]),d(n[e+1]),d(n[e+2])}function d(e){P.fromArray(p,3*e),k.copy(P);var t=g[e];t=(t=(A.copy(t),A.sub(P.multiplyScalar(P.dot(t))).normalize(),L.crossVectors(k,t),L.dot(y[e])))<0?-1:1;v[4*e]=A.x,v[4*e+1]=A.y,v[4*e+2]=A.z,v[4*e+3]=t}}},computeVertexNormals:function(){var e=this.index,t=this.getAttribute("position");if(void 0!==t){let f=this.getAttribute("normal");if(void 0===f)f=new ui(new Float32Array(3*t.count),3),this.setAttribute("normal",f);else for(let e=0,t=f.count;e<t;e++)f.setXYZ(e,0,0,0);var n=new Ot,i=new Ot,r=new Ot,a=new Ot,o=new Ot,s=new Ot,l=new Ot,c=new Ot;if(e)for(let p=0,m=e.count;p<m;p+=3){var u=e.getX(p+0),h=e.getX(p+1),d=e.getX(p+2);n.fromBufferAttribute(t,u),i.fromBufferAttribute(t,h),r.fromBufferAttribute(t,d),l.subVectors(r,i),c.subVectors(n,i),l.cross(c),a.fromBufferAttribute(f,u),o.fromBufferAttribute(f,h),s.fromBufferAttribute(f,d),a.add(l),o.add(l),s.add(l),f.setXYZ(u,a.x,a.y,a.z),f.setXYZ(h,o.x,o.y,o.z),f.setXYZ(d,s.x,s.y,s.z)}else for(let e=0,a=t.count;e<a;e+=3)n.fromBufferAttribute(t,e+0),i.fromBufferAttribute(t,e+1),r.fromBufferAttribute(t,e+2),l.subVectors(r,i),c.subVectors(n,i),l.cross(c),f.setXYZ(e+0,l.x,l.y,l.z),f.setXYZ(e+1,l.x,l.y,l.z),f.setXYZ(e+2,l.x,l.y,l.z);this.normalizeNormals(),f.needsUpdate=!0}},merge:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(const s in n)if(void 0!==e.attributes[s]){var i=n[s].array,r=(a=e.attributes[s]).array,a=a.itemSize*t,o=Math.min(r.length,i.length-a);for(let e=0,t=a;e<o;e++,t++)i[t]=r[e]}return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)},normalizeNormals:function(){var e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)Ai.fromBufferAttribute(e,t),Ai.normalize(),e.setXYZ(t,Ai.x,Ai.y,Ai.z)},toNonIndexed:function(){function e(e,t){var n=e.array,i=e.itemSize,r=(e=e.normalized,new n.constructor(t.length*i));let a=0,o=0;for(let e=0,s=t.length;e<s;e++){a=t[e]*i;for(let e=0;e<i;e++)r[o++]=n[a++]}return new ui(r,i,e)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;var t=new Li,n=this.index.array,i=this.attributes;for(const a in i){var r=e(i[a],n);t.setAttribute(a,r)}var a=this.morphAttributes;for(const i in a){var o=[],s=a[i];for(let t=0,i=s.length;t<i;t++){var l=e(s[t],n);o.push(l)}t.morphAttributes[i]=o}t.morphTargetsRelative=this.morphTargetsRelative;var c=this.groups;for(let e=0,n=c.length;e<n;e++){var u=c[e];t.addGroup(u.start,u.count,u.materialIndex)}return t},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),0<Object.keys(this.userData).length&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(const n in t)void 0!==t[n]&&(e[n]=t[n])}else{e.data={attributes:{}};var n=this.index,i=(null!==n&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)}),this.attributes);for(const t in i){var r=i[t],a=r.toJSON(e.data);""!==r.name&&(a.name=r.name),e.data.attributes[t]=a}var o={};let t=!1;for(const n in this.morphAttributes){var s=this.morphAttributes[n],l=[];for(let t=0,n=s.length;t<n;t++){var c=s[t],u=c.toJSON(e.data);""!==c.name&&(u.name=c.name),l.push(u)}0<l.length&&(o[n]=l,t=!0)}t&&(e.data.morphAttributes=o,e.data.morphTargetsRelative=this.morphTargetsRelative),0<(n=this.groups).length&&(e.data.groups=JSON.parse(JSON.stringify(n))),null!==(n=this.boundingSphere)&&(e.data.boundingSphere={center:n.center.toArray(),radius:n.radius})}return e},clone:function(){return(new Li).copy(this)},copy:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var t={},n=(this.name=e.name,e.index),i=(null!==n&&this.setIndex(n.clone(t)),e.attributes);for(const e in i){var r=i[e];this.setAttribute(e,r.clone(t))}var a=e.morphAttributes;for(const e in a){var o=[],s=a[e];for(let e=0,n=s.length;e<n;e++)o.push(s[e].clone(t));this.morphAttributes[e]=o}this.morphTargetsRelative=e.morphTargetsRelative;var l=e.groups;for(let e=0,t=l.length;e<t;e++){var c=l[e];this.addGroup(c.start,c.count,c.materialIndex)}return null!==(n=e.boundingBox)&&(this.boundingBox=n.clone()),null!==(n=e.boundingSphere)&&(this.boundingSphere=n.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});const Pi=new hn,ki=new un,Di=new tn,Ii=new Ot,Ri=new Ot,Ni=new Ot,Oi=new Ot,Fi=new Ot,zi=new Ot,Bi=new Ot,Hi=new Ot,Ui=new Ot,Vi=new Tt,Gi=new Tt,ji=new Tt,Wi=new Ot,Xi=new Ot;function qi(e=new Li,t=new si){On.call(this),this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}function Yi(e,t,n,i,r,a,o,s,l,c,u,h){Ii.fromBufferAttribute(r,c),Ri.fromBufferAttribute(r,u),Ni.fromBufferAttribute(r,h);var d=e.morphTargetInfluences;if(t.morphTargets&&a&&d){Bi.set(0,0,0),Hi.set(0,0,0),Ui.set(0,0,0);for(let e=0,t=a.length;e<t;e++){var f=d[e],p=a[e];0!==f&&(Oi.fromBufferAttribute(p,c),Fi.fromBufferAttribute(p,u),zi.fromBufferAttribute(p,h),o?(Bi.addScaledVector(Oi,f),Hi.addScaledVector(Fi,f),Ui.addScaledVector(zi,f)):(Bi.addScaledVector(Oi.sub(Ii),f),Hi.addScaledVector(Fi.sub(Ri),f),Ui.addScaledVector(zi.sub(Ni),f)))}Ii.add(Bi),Ri.add(Hi),Ni.add(Ui)}return e.isSkinnedMesh&&t.skinning&&(e.boneTransform(c,Ii),e.boneTransform(u,Ri),e.boneTransform(h,Ni)),(r=function(e,t,n,i,r,a,o,s){let l;return null===(l=1===t.side?i.intersectTriangle(o,a,r,!0,s):i.intersectTriangle(r,a,o,2!==t.side,s))||(Xi.copy(s),Xi.applyMatrix4(e.matrixWorld),(i=n.ray.origin.distanceTo(Xi))<n.near)||i>n.far?null:{distance:i,point:Xi.clone(),object:e}}(e,t,n,i,Ii,Ri,Ni,Wi))&&(s&&(Vi.fromBufferAttribute(s,c),Gi.fromBufferAttribute(s,u),ji.fromBufferAttribute(s,h),r.uv=Qn.getUV(Wi,Ii,Ri,Ni,Vi,Gi,ji,new Tt)),l&&(Vi.fromBufferAttribute(l,c),Gi.fromBufferAttribute(l,u),ji.fromBufferAttribute(l,h),r.uv2=Qn.getUV(Wi,Ii,Ri,Ni,Vi,Gi,ji,new Tt)),e={a:c,b:u,c:h,normal:new Ot,materialIndex:0},Qn.getNormal(Ii,Ri,Ni,e.normal),r.face=e),r}qi.prototype=Object.assign(Object.create(On.prototype),{constructor:qi,isMesh:!0,copy:function(e){return On.prototype.copy.call(this,e),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this},updateMorphTargets:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(0<n.length){var i=t[n[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=i.length;e<t;e++){var r=i[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[r]=e}}}}else void 0!==(t=e.morphTargets)&&0<t.length&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")},raycast:function(e,t){var n=this.geometry,i=this.material,r=this.matrixWorld;if(void 0!==i&&(null===n.boundingSphere&&n.computeBoundingSphere(),Di.copy(n.boundingSphere),Di.applyMatrix4(r),!1!==e.ray.intersectsSphere(Di))&&(Pi.copy(r).invert(),ki.copy(e.ray).applyMatrix4(Pi),null===n.boundingBox||!1!==ki.intersectsBox(n.boundingBox))){let r;if(n.isBufferGeometry){var a=n.index,o=n.attributes.position,s=n.morphAttributes.position,l=n.morphTargetsRelative,c=n.attributes.uv,u=n.attributes.uv2,h=n.groups,d=n.drawRange;if(null!==a)if(Array.isArray(i))for(let n=0,y=h.length;n<y;n++){var f=h[n],p=i[f.materialIndex];for(let n=Math.max(f.start,d.start),i=Math.min(f.start+f.count,d.start+d.count);n<i;n+=3){var m=a.getX(n),v=a.getX(n+1),g=a.getX(n+2);(r=Yi(this,p,e,ki,o,s,l,c,u,m,v,g))&&(r.faceIndex=Math.floor(n/3),r.face.materialIndex=f.materialIndex,t.push(r))}}else for(let n=Math.max(0,d.start),h=Math.min(a.count,d.start+d.count);n<h;n+=3){var y=a.getX(n),x=a.getX(n+1),b=a.getX(n+2);(r=Yi(this,i,e,ki,o,s,l,c,u,y,x,b))&&(r.faceIndex=Math.floor(n/3),t.push(r))}else if(void 0!==o)if(Array.isArray(i))for(let n=0,a=h.length;n<a;n++){var w=h[n],_=i[w.materialIndex];for(let n=Math.max(w.start,d.start),i=Math.min(w.start+w.count,d.start+d.count);n<i;n+=3){(r=Yi(this,_,e,ki,o,s,l,c,u,n,n+1,n+2))&&(r.faceIndex=Math.floor(n/3),r.face.materialIndex=w.materialIndex,t.push(r))}}else for(let n=Math.max(0,d.start),a=Math.min(o.count,d.start+d.count);n<a;n+=3){(r=Yi(this,i,e,ki,o,s,l,c,u,n,n+1,n+2))&&(r.faceIndex=Math.floor(n/3),t.push(r))}}else n.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}});class $i extends Li{constructor(e=1,t=1,n=1,i=1,r=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:r,depthSegments:a};const o=this,s=(i=Math.floor(i),r=Math.floor(r),a=Math.floor(a),[]),l=[],c=[],u=[];let h=0,d=0;function f(e,t,n,i,r,a,f,p,m,v,g){var y=a/m,x=f/v,b=a/2,w=f/2,_=p/2,M=m+1,S=v+1;let E=0,T=0;var C=new Ot;for(let a=0;a<S;a++){var A=a*x-w;for(let o=0;o<M;o++){var L=o*y-b;C[e]=L*i,C[t]=A*r,C[n]=_,l.push(C.x,C.y,C.z),C[e]=0,C[t]=0,C[n]=0<p?1:-1,c.push(C.x,C.y,C.z),u.push(o/m),u.push(1-a/v),E+=1}}for(let e=0;e<v;e++)for(let t=0;t<m;t++){var P=h+t+M*e,k=h+t+M*(e+1),D=h+(t+1)+M*(e+1),I=h+(t+1)+M*e;s.push(P,k,I),s.push(k,D,I),T+=6}o.addGroup(d,T,g),d+=T,h+=E}f("z","y","x",-1,-1,n,t,e,a,r,0),f("z","y","x",1,-1,n,t,-e,a,r,1),f("x","z","y",1,1,e,n,t,i,a,2),f("x","z","y",1,-1,e,n,-t,i,a,3),f("x","y","z",1,-1,e,t,n,i,r,4),f("x","y","z",-1,-1,e,t,-n,i,r,5),this.setIndex(s),this.setAttribute("position",new xi(l,3)),this.setAttribute("normal",new xi(c,3)),this.setAttribute("uv",new xi(u,2))}}function Zi(e){var t={};for(const i in e){t[i]={};for(const r in e[i]){var n=e[i][r];n&&(n.isColor||n.isMatrix3||n.isMatrix4||n.isVector2||n.isVector3||n.isVector4||n.isTexture||n.isQuaternion)?t[i][r]=n.clone():Array.isArray(n)?t[i][r]=n.slice():t[i][r]=n}}return t}function Qi(e){var t={};for(let i=0;i<e.length;i++){var n=Zi(e[i]);for(const e in n)t[e]=n[e]}return t}const Ki={clone:Zi,merge:Qi};function Ji(e){Jn.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function er(){On.call(this),this.type="Camera",this.matrixWorldInverse=new hn,this.projectionMatrix=new hn,this.projectionMatrixInverse=new hn}function tr(e=50,t=1,n=.1,i=2e3){er.call(this),this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}((Ji.prototype=Object.create(Jn.prototype)).constructor=Ji).prototype.isShaderMaterial=!0,Ji.prototype.copy=function(e){return Jn.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Zi(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this},Ji.prototype.toJSON=function(e){var t=Jn.prototype.toJSON.call(this,e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){var n=this.uniforms[i].value;n&&n.isTexture?t.uniforms[i]={type:"t",value:n.toJSON(e).uuid}:n&&n.isColor?t.uniforms[i]={type:"c",value:n.getHex()}:n&&n.isVector2?t.uniforms[i]={type:"v2",value:n.toArray()}:n&&n.isVector3?t.uniforms[i]={type:"v3",value:n.toArray()}:n&&n.isVector4?t.uniforms[i]={type:"v4",value:n.toArray()}:n&&n.isMatrix3?t.uniforms[i]={type:"m3",value:n.toArray()}:n&&n.isMatrix4?t.uniforms[i]={type:"m4",value:n.toArray()}:t.uniforms[i]={value:n}}0<Object.keys(this.defines).length&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var i={};for(const e in this.extensions)!0===this.extensions[e]&&(i[e]=!0);return 0<Object.keys(i).length&&(t.extensions=i),t},er.prototype=Object.assign(Object.create(On.prototype),{constructor:er,isCamera:!0,copy:function(e,t){return On.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new Ot),this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){On.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()},updateWorldMatrix:function(e,t){On.prototype.updateWorldMatrix.call(this,e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()},clone:function(){return(new this.constructor).copy(this)}}),tr.prototype=Object.assign(Object.create(er.prototype),{constructor:tr,isPerspectiveCamera:!0,copy:function(e,t){return er.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){e=.5*this.getFilmHeight()/e,this.fov=2*Et.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*Et.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*Et.RAD2DEG*Math.atan(Math.tan(.5*Et.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,i,r,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near;let t=e*Math.tan(.5*Et.DEG2RAD*this.fov)/this.zoom,n=2*t,i=this.aspect*n,r=-.5*i;var a,o=this.view,s=(null!==this.view&&this.view.enabled&&(s=o.fullWidth,a=o.fullHeight,r+=o.offsetX*i/s,t-=o.offsetY*n/a,i*=o.width/s,n*=o.height/a),this.filmOffset);0!==s&&(r+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(e){return(e=On.prototype.toJSON.call(this,e)).object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}});class nr extends On{constructor(e,t,n){super(),this.type="CubeCamera",!0!==n.isWebGLCubeRenderTarget?console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter."):(this.renderTarget=n,(n=new tr(90,1,e,t)).layers=this.layers,n.up.set(0,-1,0),n.lookAt(new Ot(1,0,0)),this.add(n),(n=new tr(90,1,e,t)).layers=this.layers,n.up.set(0,-1,0),n.lookAt(new Ot(-1,0,0)),this.add(n),(n=new tr(90,1,e,t)).layers=this.layers,n.up.set(0,0,1),n.lookAt(new Ot(0,1,0)),this.add(n),(n=new tr(90,1,e,t)).layers=this.layers,n.up.set(0,0,-1),n.lookAt(new Ot(0,-1,0)),this.add(n),(n=new tr(90,1,e,t)).layers=this.layers,n.up.set(0,-1,0),n.lookAt(new Ot(0,0,1)),this.add(n),(n=new tr(90,1,e,t)).layers=this.layers,n.up.set(0,-1,0),n.lookAt(new Ot(0,0,-1)),this.add(n))}update(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,[i,r,a,o,s,l]=this.children,c=e.xr.enabled,u=e.getRenderTarget(),h=(e.xr.enabled=!1,n.texture.generateMipmaps);n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,i),e.setRenderTarget(n,1),e.render(t,r),e.setRenderTarget(n,2),e.render(t,a),e.setRenderTarget(n,3),e.render(t,o),e.setRenderTarget(n,4),e.render(t,s),n.texture.generateMipmaps=h,e.setRenderTarget(n,5),e.render(t,l),e.setRenderTarget(u),e.xr.enabled=c}}class ir extends kt{constructor(e,t,n,i,r,a,o,s,l,c){super(e=void 0!==e?e:[],t=void 0!==t?t:301,n,i,r,a,o=void 0!==o?o:mt,s,l,c),this._needsFlipEnvMap=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}ir.prototype.isCubeTexture=!0;class rr extends Rt{constructor(e,t,n){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=n),super(e,e,t),t=t||{},this.texture=new ir(void 0,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:ht,this.texture._needsFlipEnvMap=!1}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.format=vt,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;var n={uniforms:{tEquirect:{value:null}},vertexShader:"\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",fragmentShader:"\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t"},i=new $i(5,5,5);(n=new Ji({name:"CubemapFromEquirect",uniforms:Zi(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:1,blending:0})).uniforms.tEquirect.value=t,i=new qi(i,n),n=t.minFilter;return t.minFilter===dt&&(t.minFilter=ht),new nr(1,10,this).update(e,i),t.minFilter=n,i.geometry.dispose(),i.material.dispose(),this}clear(e,t,n,i){var r=e.getRenderTarget();for(let r=0;r<6;r++)e.setRenderTarget(this,r),e.clear(t,n,i);e.setRenderTarget(r)}}rr.prototype.isWebGLCubeRenderTarget=!0;class ar extends kt{constructor(e,t,n,i,r,a,o,s,l,c,u,h){super(null,a,o,s,l,c,i,r,u,h),this.image={data:e||null,width:t||1,height:n||1},this.magFilter=void 0!==l?l:ut,this.minFilter=void 0!==c?c:ut,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}ar.prototype.isDataTexture=!0;const or=new tn,sr=new Ot;class lr{constructor(e=new Hn,t=new Hn,n=new Hn,i=new Hn,r=new Hn,a=new Hn){this.planes=[e,t,n,i,r,a]}set(e,t,n,i,r,a){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(i),o[4].copy(r),o[5].copy(a),this}copy(e){var t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){var t=this.planes,n=(e=e.elements)[0],i=e[1],r=e[2],a=e[3],o=e[4],s=e[5],l=e[6],c=e[7],u=e[8],h=e[9],d=e[10],f=e[11],p=e[12],m=e[13],v=e[14];e=e[15];return t[0].setComponents(a-n,c-o,f-u,e-p).normalize(),t[1].setComponents(a+n,c+o,f+u,e+p).normalize(),t[2].setComponents(a+i,c+s,f+h,e+m).normalize(),t[3].setComponents(a-i,c-s,f-h,e-m).normalize(),t[4].setComponents(a-r,c-l,f-d,e-v).normalize(),t[5].setComponents(a+r,c+l,f+d,e+v).normalize(),this}intersectsObject(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),or.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(or)}intersectsSprite(e){return or.center.set(0,0,0),or.radius=.7071067811865476,or.applyMatrix4(e.matrixWorld),this.intersectsSphere(or)}intersectsSphere(e){var t=this.planes,n=e.center,i=-e.radius;for(let e=0;e<6;e++)if(t[e].distanceToPoint(n)<i)return!1;return!0}intersectsBox(e){var t=this.planes;for(let i=0;i<6;i++){var n=t[i];if(sr.x=(0<n.normal.x?e.max:e.min).x,sr.y=(0<n.normal.y?e.max:e.min).y,sr.z=(0<n.normal.z?e.max:e.min).z,n.distanceToPoint(sr)<0)return!1}return!0}containsPoint(e){var t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function cr(){let e=null,t=!1,n=null,i=null;function r(t,a){n(t,a),i=e.requestAnimationFrame(r)}return{start:function(){!0!==t&&null!==n&&(i=e.requestAnimationFrame(r),t=!0)},stop:function(){e.cancelAnimationFrame(i),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function ur(e,t){const n=t.isWebGL2,i=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),i.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var n=i.get(t);n&&(e.deleteBuffer(n.buffer),i.delete(t))},update:function(t,r){var a,o,s,l;t.isGLBufferAttribute?(!(a=i.get(t))||a.version<t.version)&&i.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version}):(t.isInterleavedBufferAttribute&&(t=t.data),void 0===(a=i.get(t))?i.set(t,function(t,i){var r=t.array,a=t.usage,o=e.createBuffer();e.bindBuffer(i,o),e.bufferData(i,r,a),t.onUploadCallback();let s=5126;return r instanceof Float32Array?s=5126:r instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):r instanceof Uint16Array?t.isFloat16BufferAttribute?n?s=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):s=5123:r instanceof Int16Array?s=5122:r instanceof Uint32Array?s=5125:r instanceof Int32Array?s=5124:r instanceof Int8Array?s=5120:r instanceof Uint8Array&&(s=5121),{buffer:o,type:s,bytesPerElement:r.BYTES_PER_ELEMENT,version:t.version}}(t,r)):a.version<t.version&&(o=a.buffer,r=r,l=(s=t).array,s=s.updateRange,e.bindBuffer(r,o),-1===s.count?e.bufferSubData(r,0,l):(n?e.bufferSubData(r,s.offset*l.BYTES_PER_ELEMENT,l,s.offset,s.count):e.bufferSubData(r,s.offset*l.BYTES_PER_ELEMENT,l.subarray(s.offset,s.offset+s.count)),s.count=-1),a.version=t.version))}}}class hr extends Li{constructor(e=1,t=1,n=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i};var r=e/2,a=t/2,o=Math.floor(n),s=Math.floor(i),l=o+1,c=s+1,u=e/o,h=t/s,d=[],f=[],p=[],m=[];for(let e=0;e<c;e++){var v=e*h-a;for(let t=0;t<l;t++){var g=t*u-r;f.push(g,-v,0),p.push(0,0,1),m.push(t/o),m.push(1-e/s)}}for(let e=0;e<s;e++)for(let t=0;t<o;t++){var y=t+l*e,x=t+l*(e+1),b=t+1+l*(e+1),w=t+1+l*e;d.push(y,x,w),d.push(x,b,w)}this.setIndex(d),this.setAttribute("position",new xi(f,3)),this.setAttribute("normal",new xi(p,3)),this.setAttribute("uv",new xi(m,2))}}const dr={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor.xyz *= color.xyz;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\t\tvec2 f = fract( uv );\n\t\tuv += 0.5 - f;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x += texelSize;\n\t\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.y += texelSize;\n\t\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x -= texelSize;\n\t\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tvec3 tm = mix( tl, tr, f.x );\n\t\tvec3 bm = mix( bl, br, f.x );\n\t\treturn mix( tm, bm, f.y );\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value ) {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat specularRoughness;\n\tvec3 specularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\t\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\t\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmissionmap_fragment:"#ifdef USE_TRANSMISSIONMAP\n\ttotalTransmission *= texture2D( transmissionMap, vUv ).r;\n#endif",transmissionmap_pars_fragment:"#ifdef USE_TRANSMISSIONMAP\n\tuniform sampler2D transmissionMap;\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSMISSION\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSMISSION\n\tuniform float transmission;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <transmissionmap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#ifdef TRANSMISSION\n\t\tfloat totalTransmission = transmission;\n\t#endif\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <transmissionmap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSMISSION\n\t\tdiffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},fr={common:{diffuse:{value:new oi(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new Ct},uv2Transform:{value:new Ct},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Tt(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new oi(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new oi(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Ct}},sprite:{diffuse:{value:new oi(15658734)},opacity:{value:1},center:{value:new Tt(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Ct}}},pr={basic:{uniforms:Qi([fr.common,fr.specularmap,fr.envmap,fr.aomap,fr.lightmap,fr.fog]),vertexShader:dr.meshbasic_vert,fragmentShader:dr.meshbasic_frag},lambert:{uniforms:Qi([fr.common,fr.specularmap,fr.envmap,fr.aomap,fr.lightmap,fr.emissivemap,fr.fog,fr.lights,{emissive:{value:new oi(0)}}]),vertexShader:dr.meshlambert_vert,fragmentShader:dr.meshlambert_frag},phong:{uniforms:Qi([fr.common,fr.specularmap,fr.envmap,fr.aomap,fr.lightmap,fr.emissivemap,fr.bumpmap,fr.normalmap,fr.displacementmap,fr.fog,fr.lights,{emissive:{value:new oi(0)},specular:{value:new oi(1118481)},shininess:{value:30}}]),vertexShader:dr.meshphong_vert,fragmentShader:dr.meshphong_frag},standard:{uniforms:Qi([fr.common,fr.envmap,fr.aomap,fr.lightmap,fr.emissivemap,fr.bumpmap,fr.normalmap,fr.displacementmap,fr.roughnessmap,fr.metalnessmap,fr.fog,fr.lights,{emissive:{value:new oi(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:dr.meshphysical_vert,fragmentShader:dr.meshphysical_frag},toon:{uniforms:Qi([fr.common,fr.aomap,fr.lightmap,fr.emissivemap,fr.bumpmap,fr.normalmap,fr.displacementmap,fr.gradientmap,fr.fog,fr.lights,{emissive:{value:new oi(0)}}]),vertexShader:dr.meshtoon_vert,fragmentShader:dr.meshtoon_frag},matcap:{uniforms:Qi([fr.common,fr.bumpmap,fr.normalmap,fr.displacementmap,fr.fog,{matcap:{value:null}}]),vertexShader:dr.meshmatcap_vert,fragmentShader:dr.meshmatcap_frag},points:{uniforms:Qi([fr.points,fr.fog]),vertexShader:dr.points_vert,fragmentShader:dr.points_frag},dashed:{uniforms:Qi([fr.common,fr.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:dr.linedashed_vert,fragmentShader:dr.linedashed_frag},depth:{uniforms:Qi([fr.common,fr.displacementmap]),vertexShader:dr.depth_vert,fragmentShader:dr.depth_frag},normal:{uniforms:Qi([fr.common,fr.bumpmap,fr.normalmap,fr.displacementmap,{opacity:{value:1}}]),vertexShader:dr.normal_vert,fragmentShader:dr.normal_frag},sprite:{uniforms:Qi([fr.sprite,fr.fog]),vertexShader:dr.sprite_vert,fragmentShader:dr.sprite_frag},background:{uniforms:{uvTransform:{value:new Ct},t2D:{value:null}},vertexShader:dr.background_vert,fragmentShader:dr.background_frag},cube:{uniforms:Qi([fr.envmap,{opacity:{value:1}}]),vertexShader:dr.cube_vert,fragmentShader:dr.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:dr.equirect_vert,fragmentShader:dr.equirect_frag},distanceRGBA:{uniforms:Qi([fr.common,fr.displacementmap,{referencePosition:{value:new Ot},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:dr.distanceRGBA_vert,fragmentShader:dr.distanceRGBA_frag},shadow:{uniforms:Qi([fr.lights,fr.fog,{color:{value:new oi(0)},opacity:{value:1}}]),vertexShader:dr.shadow_vert,fragmentShader:dr.shadow_frag}};function mr(e,t,n,i,r){const a=new oi(0);let o,s,l=0,c=null,u=0,h=null;function d(e,t){n.buffers.color.setClear(e.r,e.g,e.b,t,r)}return{getClearColor:function(){return a},setClearColor:function(e,t=1){a.set(e),l=t,d(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(e){l=e,d(a,l)},render:function(n,r,f,p){let m=!0===r.isScene?r.background:null;m&&m.isTexture&&(m=t.get(m)),null===(m=(r=(r=e.xr).getSession&&r.getSession())&&"additive"===r.environmentBlendMode?null:m)?d(a,l):m&&m.isColor&&(d(m,1),p=!0),(e.autoClear||p)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),m&&(m.isCubeTexture||m.isWebGLCubeRenderTarget||306===m.mapping)?(void 0===s&&((s=new qi(new $i(1,1,1),new Ji({name:"BackgroundCubeMaterial",uniforms:Zi(pr.cube.uniforms),vertexShader:pr.cube.vertexShader,fragmentShader:pr.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),s.geometry.deleteAttribute("uv"),s.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(s.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(s)),m.isWebGLCubeRenderTarget&&(m=m.texture),s.material.uniforms.envMap.value=m,s.material.uniforms.flipEnvMap.value=m.isCubeTexture&&m._needsFlipEnvMap?-1:1,c===m&&u===m.version&&h===e.toneMapping||(s.material.needsUpdate=!0,c=m,u=m.version,h=e.toneMapping),n.unshift(s,s.geometry,s.material,0,0,null)):m&&m.isTexture&&(void 0===o&&((o=new qi(new hr(2,2),new Ji({name:"BackgroundMaterial",uniforms:Zi(pr.background.uniforms),vertexShader:pr.background.vertexShader,fragmentShader:pr.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(o.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(o)),!0===(o.material.uniforms.t2D.value=m).matrixAutoUpdate&&m.updateMatrix(),o.material.uniforms.uvTransform.value.copy(m.matrix),c===m&&u===m.version&&h===e.toneMapping||(o.material.needsUpdate=!0,c=m,u=m.version,h=e.toneMapping),n.unshift(o,o.geometry,o.material,0,0,null))}}}function vr(e,t,n,i){const r=e.getParameter(34921),a=i.isWebGL2?null:t.get("OES_vertex_array_object"),o=i.isWebGL2||null!==a,s={},l=d(null);let c=l;function u(t){if(i.isWebGL2)return e.bindVertexArray(t);a.bindVertexArrayOES(t)}function h(t){if(i.isWebGL2)return e.deleteVertexArray(t);a.deleteVertexArrayOES(t)}function d(e){var t=[],n=[],i=[];for(let e=0;e<r;e++)t[e]=0,n[e]=0,i[e]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:i,object:e,attributes:{},index:null}}function f(){var e=c.newAttributes;for(let t=0,n=e.length;t<n;t++)e[t]=0}function p(e){m(e,0)}function m(n,r){var a=c.newAttributes,o=c.enabledAttributes,s=c.attributeDivisors;a[n]=1,0===o[n]&&(e.enableVertexAttribArray(n),o[n]=1),s[n]!==r&&((i.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,r),s[n]=r)}function v(){var t=c.newAttributes,n=c.enabledAttributes;for(let i=0,r=n.length;i<r;i++)n[i]!==t[i]&&(e.disableVertexAttribArray(i),n[i]=0)}function g(t,n,r,a,o,s){!0!==i.isWebGL2||5124!==r&&5125!==r?e.vertexAttribPointer(t,n,r,a,o,s):e.vertexAttribIPointer(t,n,r,o,s)}function y(){x(),c!==l&&u((c=l).object)}function x(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(r,l,h,y,x){let b=!1;if(o){var w=function(t,n,r){r=!0===r.wireframe;let o=s[t.id];void 0===o&&(o={},s[t.id]=o);let l=o[n.id];void 0===l&&(l={},o[n.id]=l);let c=l[r];return void 0===c&&(c=d(i.isWebGL2?e.createVertexArray():a.createVertexArrayOES()),l[r]=c),c}(y,h,l);if(c!==w&&u((c=w).object),b=function(e,t){var n=c.attributes,i=e.attributes;let r=0;for(const e in i){var a=n[e],o=i[e];if(void 0===a)return!0;if(a.attribute!==o)return!0;if(a.data!==o.data)return!0;r++}return c.attributesNum!==r||c.index!==t}(y,x)){w=x;var _={},M=y.attributes;let e=0;for(const t in M){var S=M[t],E={};(E.attribute=S).data&&(E.data=S.data),_[t]=E,e++}c.attributes=_,c.attributesNum=e,c.index=w}}else w=!0===l.wireframe,c.geometry===y.id&&c.program===h.id&&c.wireframe===w||(c.geometry=y.id,c.program=h.id,c.wireframe=w,b=!0);!0===r.isInstancedMesh&&(b=!0),null!==x&&n.update(x,34963),b&&(function(r,a,o,s){if(!1!==i.isWebGL2||!r.isInstancedMesh&&!s.isInstancedBufferGeometry||null!==t.get("ANGLE_instanced_arrays")){f();var l=s.attributes,c=o.getAttributes(),u=a.defaultAttributeValues;for(const t in c){var h=c[t];if(0<=h){var d=l[t];if(void 0!==d){var y,x=d.normalized,b=d.itemSize;void 0!==(E=n.get(d))&&(S=E.buffer,y=E.type,E=E.bytesPerElement,d.isInterleavedBufferAttribute?(w=(M=d.data).stride,_=d.offset,M&&M.isInstancedInterleavedBuffer?(m(h,M.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=M.meshPerAttribute*M.count)):p(h),e.bindBuffer(34962,S),g(h,b,y,x,w*E,_*E)):(d.isInstancedBufferAttribute?(m(h,d.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=d.meshPerAttribute*d.count)):p(h),e.bindBuffer(34962,S),g(h,b,y,x,0,0)))}else if("instanceMatrix"===t){var w,_,M=n.get(r.instanceMatrix);void 0!==M&&(w=M.buffer,_=M.type,m(h+0,1),m(h+1,1),m(h+2,1),m(h+3,1),e.bindBuffer(34962,w),e.vertexAttribPointer(h+0,4,_,!1,64,0),e.vertexAttribPointer(h+1,4,_,!1,64,16),e.vertexAttribPointer(h+2,4,_,!1,64,32),e.vertexAttribPointer(h+3,4,_,!1,64,48))}else if("instanceColor"===t){var S,E;void 0!==(E=n.get(r.instanceColor))&&(d=E.buffer,S=E.type,m(h,1),e.bindBuffer(34962,d),e.vertexAttribPointer(h,3,S,!1,12,0))}else if(void 0!==u){var T=u[t];if(void 0!==T)switch(T.length){case 2:e.vertexAttrib2fv(h,T);break;case 3:e.vertexAttrib3fv(h,T);break;case 4:e.vertexAttrib4fv(h,T);break;default:e.vertexAttrib1fv(h,T)}}}}v()}}(r,l,h,y),null!==x)&&e.bindBuffer(34963,n.get(x).buffer)},reset:y,resetDefaultState:x,dispose:function(){y();for(const n in s){var e=s[n];for(const n in e){var t=e[n];for(const e in t)h(t[e].object),delete t[e];delete e[n]}delete s[n]}},releaseStatesOfGeometry:function(e){if(void 0!==s[e.id]){var t=s[e.id];for(const e in t){var n=t[e];for(const e in n)h(n[e].object),delete n[e];delete t[e]}delete s[e.id]}},releaseStatesOfProgram:function(e){for(const i in s){var t=s[i];if(void 0!==t[e.id]){var n=t[e.id];for(const e in n)h(n[e].object),delete n[e];delete t[e.id]}}},initAttributes:f,enableAttribute:p,disableUnusedAttributes:v}}function gr(e,t,n,i){const r=i.isWebGL2;let a;this.setMode=function(e){a=e},this.render=function(t,i){e.drawArrays(a,t,i),n.update(i,a,1)},this.renderInstances=function(i,o,s){if(0!==s){let l,c;if(r)l=e,c="drawArraysInstanced";else if(l=t.get("ANGLE_instanced_arrays"),c="drawArraysInstancedANGLE",null===l)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[c](a,i,o,s),n.update(o,a,s)}}}function yr(e,t,n){let i;function r(t){if("highp"===t){if(0<e.getShaderPrecisionFormat(35633,36338).precision&&0<e.getShaderPrecisionFormat(35632,36338).precision)return"highp";t="mediump"}return"mediump"===t&&0<e.getShaderPrecisionFormat(35633,36337).precision&&0<e.getShaderPrecisionFormat(35632,36337).precision?"mediump":"lowp"}var a="undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext;let o=void 0!==n.precision?n.precision:"highp";var s=((s=r(o))!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s),!0===n.logarithmicDepthBuffer),l=(n=e.getParameter(34930),e.getParameter(35660)),c=e.getParameter(3379),u=e.getParameter(34076),h=e.getParameter(34921),d=e.getParameter(36347),f=e.getParameter(36348),p=e.getParameter(36349),m=0<l,v=a||t.has("OES_texture_float");return{isWebGL2:a,getMaxAnisotropy:function(){var n;return i=void 0===i?!0===t.has("EXT_texture_filter_anisotropic")?(n=t.get("EXT_texture_filter_anisotropic"),e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)):0:i},getMaxPrecision:r,precision:o,logarithmicDepthBuffer:s,maxTextures:n,maxVertexTextures:l,maxTextureSize:c,maxCubemapSize:u,maxAttributes:h,maxVertexUniforms:d,maxVaryings:f,maxFragmentUniforms:p,vertexTextures:m,floatFragmentTextures:v,floatVertexTextures:m&&v,maxSamples:a?e.getParameter(36183):0}}function xr(e){const t=this;let n=null,i=0,r=!1,a=!1;const o=new Hn,s=new Ct,l={value:null,needsUpdate:!1};function c(){l.value!==n&&(l.value=n,l.needsUpdate=0<i),t.numPlanes=i,t.numIntersection=0}function u(e,n,i,r){var a=null!==e?e.length:0;let c=null;if(0!==a){if(c=l.value,!0!==r||null===c){r=i+4*a;var u=n.matrixWorldInverse;s.getNormalMatrix(u),(null===c||c.length<r)&&(c=new Float32Array(r));for(let t=0,n=i;t!==a;++t,n+=4)o.copy(e[t]).applyMatrix4(u,s),o.normal.toArray(c,n),c[n+3]=o.constant}l.value=c,l.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,c}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t,a){var o=0!==e.length||t||0!==i||r;return r=t,n=u(e,a,0),i=e.length,o},this.beginShadows=function(){a=!0,u(null)},this.endShadows=function(){a=!1,c()},this.setState=function(t,o,s){var h=t.clippingPlanes,d=t.clipIntersection,f=t.clipShadows;t=e.get(t);if(!r||null===h||0===h.length||a&&!f)a?u(null):c();else{var p=4*(f=a?0:i),m=t.clippingState||null;l.value=m,m=u(h,o,p,s);for(let e=0;e!==p;++e)m[e]=n[e];t.clippingState=m,this.numIntersection=d?this.numPlanes:0,this.numPlanes+=f}}}function br(e){let t=new WeakMap;function n(e,t){return 303===t?e.mapping=301:304===t&&(e.mapping=302),e}function i(e){var n=((e=e.target).removeEventListener("dispose",i),t.get(e));void 0!==n&&(t.delete(e),n.dispose())}return{get:function(r){if(r&&r.isTexture){var a,o=r.mapping;if(303===o||304===o)return t.has(r)?n(t.get(r).texture,r.mapping):(o=r.image)&&0<o.height?(a=e.getRenderTarget(),(o=new rr(o.height/2)).fromEquirectangularTexture(e,r),t.set(r,o),e.setRenderTarget(a),r.addEventListener("dispose",i),n(o.texture,r.mapping)):null}return r},dispose:function(){t=new WeakMap}}}function wr(e){const t={};function n(n){if(void 0!==t[n])return t[n];let i;switch(n){case"WEBGL_depth_texture":i=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=e.getExtension(n)}return t[n]=i}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float")},get:function(e){var t=n(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function _r(e,t,n,i){const r={},a=new WeakMap;function o(e){var s=e.target;null!==s.index&&t.remove(s.index);for(const e in s.attributes)t.remove(s.attributes[e]);s.removeEventListener("dispose",o),delete r[s.id],(e=a.get(s))&&(t.remove(e),a.delete(s)),i.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}return{get:function(e,t){return!0!==r[t.id]&&(t.addEventListener("dispose",o),r[t.id]=!0,n.memory.geometries++),t},update:function(e){var n=e.attributes;for(const e in n)t.update(n[e],34962);var i=e.morphAttributes;for(const e in i){var r=i[e];for(let e=0,n=r.length;e<n;e++)t.update(r[e],34962)}},getWireframeAttribute:function(e){var n,i=a.get(e);return(!i||null!==(n=e.index)&&i.version<n.version)&&function(e){var n=[],i=e.index,r=e.attributes.position;let o=0;if(null!==i){var s=i.array;o=i.version;for(let e=0,t=s.length;e<t;e+=3){var l=s[e+0],c=s[e+1],u=s[e+2];n.push(l,c,c,u,u,l)}}else{i=r.array,o=r.version;for(let e=0,t=i.length/3-1;e<t;e+=3){var h=e+0,d=e+1,f=e+2;n.push(h,d,d,f,f,h)}}(r=new(65535<wi(n)?gi:mi)(n,1)).version=o,(i=a.get(e))&&t.remove(i),a.set(e,r)}(e),a.get(e)}}}function Mr(e,t,n,i){const r=i.isWebGL2;let a,o,s;this.setMode=function(e){a=e},this.setIndex=function(e){o=e.type,s=e.bytesPerElement},this.render=function(t,i){e.drawElements(a,i,o,t*s),n.update(i,a,1)},this.renderInstances=function(i,l,c){if(0!==c){let u,h;if(r)u=e,h="drawElementsInstanced";else if(u=t.get("ANGLE_instanced_arrays"),h="drawElementsInstancedANGLE",null===u)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[h](a,l,o,i*s,c),n.update(l,a,c)}}}function Sr(e){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,n,i){switch(t.calls++,n){case 4:t.triangles+=i*(e/3);break;case 1:t.lines+=i*(e/2);break;case 3:t.lines+=i*(e-1);break;case 2:t.lines+=i*e;break;case 0:t.points+=i*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function Er(e,t){return e[0]-t[0]}function Tr(e,t){return Math.abs(t[1])-Math.abs(e[1])}function Cr(e){const t={},n=new Float32Array(8),i=[];for(let e=0;e<8;e++)i[e]=[e,0];return{update:function(r,a,o,s){var l=r.morphTargetInfluences,c=void 0===l?0:l.length;let u=t[a.id];if(void 0===u){u=[];for(let e=0;e<c;e++)u[e]=[e,0];t[a.id]=u}for(let e=0;e<c;e++){var h=u[e];h[0]=e,h[1]=l[e]}u.sort(Tr);for(let e=0;e<8;e++)e<c&&u[e][1]?(i[e][0]=u[e][0],i[e][1]=u[e][1]):(i[e][0]=Number.MAX_SAFE_INTEGER,i[e][1]=0);i.sort(Er);var d=o.morphTargets&&a.morphAttributes.position,f=o.morphNormals&&a.morphAttributes.normal;let p=0;for(let e=0;e<8;e++){var m=(v=i[e])[0],v=v[1];m!==Number.MAX_SAFE_INTEGER&&v?(d&&a.getAttribute("morphTarget"+e)!==d[m]&&a.setAttribute("morphTarget"+e,d[m]),f&&a.getAttribute("morphNormal"+e)!==f[m]&&a.setAttribute("morphNormal"+e,f[m]),n[e]=v,p+=v):(d&&!0===a.hasAttribute("morphTarget"+e)&&a.deleteAttribute("morphTarget"+e),f&&!0===a.hasAttribute("morphNormal"+e)&&a.deleteAttribute("morphNormal"+e),n[e]=0)}r=a.morphTargetsRelative?1:1-p,s.getUniforms().setValue(e,"morphTargetBaseInfluence",r),s.getUniforms().setValue(e,"morphTargetInfluences",n)}}}function Ar(e,t,n,i){let r=new WeakMap;function a(e){(e=e.target).removeEventListener("dispose",a),n.remove(e.instanceMatrix),null!==e.instanceColor&&n.remove(e.instanceColor)}return{update:function(e){var o=i.render.frame,s=e.geometry;s=t.get(e,s);return r.get(s)!==o&&(t.update(s),r.set(s,o)),e.isInstancedMesh&&(!1===e.hasEventListener("dispose",a)&&e.addEventListener("dispose",a),n.update(e.instanceMatrix,34962),null!==e.instanceColor)&&n.update(e.instanceColor,34962),s},dispose:function(){r=new WeakMap}}}pr.physical={uniforms:Qi([pr.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Tt(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new oi(0)},transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:dr.meshphysical_vert,fragmentShader:dr.meshphysical_frag};class Lr extends kt{constructor(e=null,t=1,n=1,i=1){super(null),this.image={data:e,width:t,height:n,depth:i},this.magFilter=ut,this.minFilter=ut,this.wrapR=ct,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}}class Pr extends kt{constructor(e=null,t=1,n=1,i=1){super(null),this.image={data:e,width:t,height:n,depth:i},this.magFilter=ut,this.minFilter=ut,this.wrapR=ct,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}}Pr.prototype.isDataTexture3D=Lr.prototype.isDataTexture2DArray=!0;const kr=new kt,Dr=new Lr,Ir=new Pr,Rr=new ir,Nr=[],Or=[],Fr=new Float32Array(16),zr=new Float32Array(9),Br=new Float32Array(4);function Hr(e,t,n){var i=e[0];if(i<=0||0<i)return e;var r=t*n;let a=Nr[r];if(void 0===a&&(a=new Float32Array(r),Nr[r]=a),0!==t){i.toArray(a,0);for(let i=1,r=0;i!==t;++i)r+=n,e[i].toArray(a,r)}return a}function Ur(e,t){if(e.length===t.length){for(let n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return;return 1}}function Vr(e,t){for(let n=0,i=t.length;n<i;n++)e[n]=t[n]}function Gr(e,t){let n=Or[t];void 0===n&&(n=new Int32Array(t),Or[t]=n);for(let i=0;i!==t;++i)n[i]=e.allocateTextureUnit();return n}function jr(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function Wr(e,t){var n=this.cache;void 0!==t.x?n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y):Ur(n,t)||(e.uniform2fv(this.addr,t),Vr(n,t))}function Xr(e,t){var n=this.cache;void 0!==t.x?n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z):void 0!==t.r?n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b):Ur(n,t)||(e.uniform3fv(this.addr,t),Vr(n,t))}function qr(e,t){var n=this.cache;void 0!==t.x?n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w):Ur(n,t)||(e.uniform4fv(this.addr,t),Vr(n,t))}function Yr(e,t){var n=this.cache,i=t.elements;void 0===i?Ur(n,t)||(e.uniformMatrix2fv(this.addr,!1,t),Vr(n,t)):Ur(n,i)||(Br.set(i),e.uniformMatrix2fv(this.addr,!1,Br),Vr(n,i))}function $r(e,t){var n=this.cache,i=t.elements;void 0===i?Ur(n,t)||(e.uniformMatrix3fv(this.addr,!1,t),Vr(n,t)):Ur(n,i)||(zr.set(i),e.uniformMatrix3fv(this.addr,!1,zr),Vr(n,i))}function Zr(e,t){var n=this.cache,i=t.elements;void 0===i?Ur(n,t)||(e.uniformMatrix4fv(this.addr,!1,t),Vr(n,t)):Ur(n,i)||(Fr.set(i),e.uniformMatrix4fv(this.addr,!1,Fr),Vr(n,i))}function Qr(e,t,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.safeSetTexture2D(t||kr,r)}function Kr(e,t,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(t||Dr,r)}function Jr(e,t,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(t||Ir,r)}function ea(e,t,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.safeSetTextureCube(t||Rr,r)}function ta(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function na(e,t){var n=this.cache;Ur(n,t)||(e.uniform2iv(this.addr,t),Vr(n,t))}function ia(e,t){var n=this.cache;Ur(n,t)||(e.uniform3iv(this.addr,t),Vr(n,t))}function ra(e,t){var n=this.cache;Ur(n,t)||(e.uniform4iv(this.addr,t),Vr(n,t))}function aa(e,t){var n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function oa(e,t){e.uniform1fv(this.addr,t)}function sa(e,t){e.uniform1iv(this.addr,t)}function la(e,t){e.uniform2iv(this.addr,t)}function ca(e,t){e.uniform3iv(this.addr,t)}function ua(e,t){e.uniform4iv(this.addr,t)}function ha(e,t){t=Hr(t,this.size,2),e.uniform2fv(this.addr,t)}function da(e,t){t=Hr(t,this.size,3),e.uniform3fv(this.addr,t)}function fa(e,t){t=Hr(t,this.size,4),e.uniform4fv(this.addr,t)}function pa(e,t){t=Hr(t,this.size,4),e.uniformMatrix2fv(this.addr,!1,t)}function ma(e,t){t=Hr(t,this.size,9),e.uniformMatrix3fv(this.addr,!1,t)}function va(e,t){t=Hr(t,this.size,16),e.uniformMatrix4fv(this.addr,!1,t)}function ga(e,t,n){var i=t.length,r=Gr(n,i);e.uniform1iv(this.addr,r);for(let e=0;e!==i;++e)n.safeSetTexture2D(t[e]||kr,r[e])}function ya(e,t,n){var i=t.length,r=Gr(n,i);e.uniform1iv(this.addr,r);for(let e=0;e!==i;++e)n.safeSetTextureCube(t[e]||Rr,r[e])}function xa(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return jr;case 35664:return Wr;case 35665:return Xr;case 35666:return qr;case 35674:return Yr;case 35675:return $r;case 35676:return Zr;case 5124:case 35670:return ta;case 35667:case 35671:return na;case 35668:case 35672:return ia;case 35669:case 35673:return ra;case 5125:return aa;case 35678:case 36198:case 36298:case 36306:case 35682:return Qr;case 35679:case 36299:case 36307:return Jr;case 35680:case 36300:case 36308:case 36293:return ea;case 36289:case 36303:case 36311:case 36292:return Kr}}(t.type)}function ba(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return oa;case 35664:return ha;case 35665:return da;case 35666:return fa;case 35674:return pa;case 35675:return ma;case 35676:return va;case 5124:case 35670:return sa;case 35667:case 35671:return la;case 35668:case 35672:return ca;case 35669:case 35673:return ua;case 35678:case 36198:case 36298:case 36306:case 35682:return ga;case 35680:case 36300:case 36308:case 36293:return ya}}(t.type)}function wa(e){this.id=e,this.seq=[],this.map={}}ba.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),Vr(t,e)},wa.prototype.setValue=function(e,t,n){var i=this.seq;for(let a=0,o=i.length;a!==o;++a){var r=i[a];r.setValue(e,t[r.id],n)}};const _a=/(\w+)(\])?(\[|\.)?/g;function Ma(e,t){e.seq.push(t),e.map[t.id]=t}function Sa(e,t){this.seq=[],this.map={};var n=e.getProgramParameter(t,35718);for(let d=0;d<n;++d){var i=e.getActiveUniform(t,d),r=(h=u=c=o=r=void 0,i),a=e.getUniformLocation(t,i.name),o=this,s=r.name,l=s.length;for(_a.lastIndex=0;;){var c=_a.exec(s),u=_a.lastIndex;let e=c[1];var h="]"===c[2];c=c[3];if(h&&(e|=0),void 0===c||"["===c&&u+2===l){Ma(o,new(void 0===c?xa:ba)(e,r,a));break}{let t=o.map[e];void 0===t&&Ma(o,t=new wa(e)),o=t}}}}function Ea(e,t,n){return t=e.createShader(t),e.shaderSource(t,n),e.compileShader(t),t}Sa.prototype.setValue=function(e,t,n,i){void 0!==(t=this.map[t])&&t.setValue(e,n,i)},Sa.prototype.setOptional=function(e,t,n){void 0!==(t=t[n])&&this.setValue(e,n,t)},Sa.upload=function(e,t,n,i){for(let o=0,s=t.length;o!==s;++o){var r=t[o],a=n[r.id];!1!==a.needsUpdate&&r.setValue(e,a.value,i)}},Sa.seqWithValue=function(e,t){var n=[];for(let r=0,a=e.length;r!==a;++r){var i=e[r];i.id in t&&n.push(i)}return n};let Ta=0;function Ca(e){switch(e){case xt:return["Linear","( value )"];case 3001:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case 3003:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}function Aa(e,t,n){var i=e.getShaderParameter(t,35713),r=e.getShaderInfoLog(t).trim();return i&&""===r?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+n+"\n"+r+function(e){var t=e.split("\n");for(let e=0;e<t.length;e++)t[e]=e+1+": "+t[e];return t.join("\n")}(e.getShaderSource(t))}function La(e,t){return"vec4 "+e+"( vec4 value ) { return "+(t=Ca(t))[0]+"ToLinear"+t[1]+"; }"}function Pa(e){return""!==e}function ka(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function Da(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const Ia=/^[ \t]*#include +<([\w\d./]+)>/gm;function Ra(e){return e.replace(Ia,Na)}function Na(e,t){var n=dr[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return Ra(n)}const Oa=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,Fa=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function za(e){return e.replace(Fa,Ha).replace(Oa,Ba)}function Ba(e,t,n,i){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),Ha(0,t,n,i)}function Ha(e,t,n,i){let r="";for(let e=parseInt(t);e<parseInt(n);e++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+e+" ]").replace(/UNROLLED_LOOP_INDEX/g,e);return r}function Ua(e){let t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function Va(e,t,n,i){const r=e.getContext();var a=n.defines,o=n.vertexShader,s=n.fragmentShader,l=function(e){let t="SHADOWMAP_TYPE_BASIC";return 1===e.shadowMapType?t="SHADOWMAP_TYPE_PCF":2===e.shadowMapType?t="SHADOWMAP_TYPE_PCF_SOFT":3===e.shadowMapType&&(t="SHADOWMAP_TYPE_VSM"),t}(n),c=function(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case 301:case 302:t="ENVMAP_TYPE_CUBE";break;case 306:case 307:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),u=function(e){let t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case 302:case 307:t="ENVMAP_MODE_REFRACTION"}return t}(n),h=function(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case 0:t="ENVMAP_BLENDING_MULTIPLY";break;case 1:t="ENVMAP_BLENDING_MIX";break;case 2:t="ENVMAP_BLENDING_ADD"}return t}(n),d=0<e.gammaFactor?e.gammaFactor:1,f=n.isWebGL2?"":[(f=n).extensionDerivatives||f.envMapCubeUV||f.bumpMap||f.tangentSpaceNormalMap||f.clearcoatNormalMap||f.flatShading||"physical"===f.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(f.extensionFragDepth||f.logarithmicDepthBuffer)&&f.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",f.extensionDrawBuffers&&f.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(f.extensionShaderTextureLOD||f.envMap)&&f.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Pa).join("\n");a=function(e){var t=[];for(const i in e){var n=e[i];!1!==n&&t.push("#define "+i+" "+n)}return t.join("\n")}(a);const p=r.createProgram();let m,v,g,y,x=n.glslVersion?"#version "+n.glslVersion+"\n":"";if(n.isRawShaderMaterial?(0<(m=[a].filter(Pa).join("\n")).length&&(m+="\n"),0<(v=[f,a].filter(Pa).join("\n")).length&&(v+="\n")):(m=[Ua(n),"#define SHADER_NAME "+n.shaderName,a,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+d,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Pa).join("\n"),v=[f,Ua(n),"#define SHADER_NAME "+n.shaderName,a,n.alphaTest?"#define ALPHATEST "+n.alphaTest+(n.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+d,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+h:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.sheen?"#define USE_SHEEN":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==n.toneMapping?"#define TONE_MAPPING":"",0!==n.toneMapping?dr.tonemapping_pars_fragment:"",0!==n.toneMapping?function(e,t){let n;switch(t){case 1:n="Linear";break;case 2:n="Reinhard";break;case 3:n="OptimizedCineon";break;case 4:n="ACESFilmic";break;case 5:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 toneMapping( vec3 color ) { return "+n+"ToneMapping( color ); }"}(0,n.toneMapping):"",n.dithering?"#define DITHERING":"",dr.encodings_pars_fragment,n.map?La("mapTexelToLinear",n.mapEncoding):"",n.matcap?La("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?La("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?La("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.lightMap?La("lightMapTexelToLinear",n.lightMapEncoding):"",(a="linearToOutputTexel",d=Ca(d=n.outputEncoding),"vec4 "+a+"( vec4 value ) { return LinearTo"+d[0]+d[1]+"; }"),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Pa).join("\n")),o=Da(ka(Ra(o),n),n),s=Da(ka(Ra(s),n),n),o=za(o),s=za(s),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(x="#version 300 es\n",m=["#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+m,v=["#define varying in","300 es"===n.glslVersion?"":"out highp vec4 pc_fragColor;","300 es"===n.glslVersion?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+v),u=x+v+s,h=Ea(r,35633,c=x+m+o),l=Ea(r,35632,u),r.attachShader(p,h),r.attachShader(p,l),void 0!==n.index0AttributeName?r.bindAttribLocation(p,0,n.index0AttributeName):!0===n.morphTargets&&r.bindAttribLocation(p,0,"position"),r.linkProgram(p),e.debug.checkShaderErrors){a=r.getProgramInfoLog(p).trim(),d=r.getShaderInfoLog(h).trim(),o=r.getShaderInfoLog(l).trim();let e=!0,t=!0;!1===r.getProgramParameter(p,35714)?(e=!1,s=Aa(r,h,"vertex"),c=Aa(r,l,"fragment"),console.error("THREE.WebGLProgram: shader error: ",r.getError(),"35715",r.getProgramParameter(p,35715),"gl.getProgramInfoLog",a,s,c)):""!==a?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",a):""!==d&&""!==o||(t=!1),t&&(this.diagnostics={runnable:e,programLog:a,vertexShader:{log:d,prefix:m},fragmentShader:{log:o,prefix:v}})}return r.deleteShader(h),r.deleteShader(l),this.getUniforms=function(){return g=void 0===g?new Sa(r,p):g},this.getAttributes=function(){return y=void 0===y?function(e,t){var n={},i=e.getProgramParameter(t,35721);for(let a=0;a<i;a++){var r=e.getActiveAttrib(t,a).name;n[r]=e.getAttribLocation(t,r)}return n}(r,p):y},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(p),this.program=void 0},this.name=n.shaderName,this.id=Ta++,this.cacheKey=t,this.usedTimes=1,this.program=p,this.vertexShader=h,this.fragmentShader=l,this}function Ga(e,t,n,i,r,a){const o=[],s=i.isWebGL2,l=i.logarithmicDepthBuffer,c=i.floatVertexTextures,u=i.maxVertexUniforms,h=i.vertexTextures;let d=i.precision;const f={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},p=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmissionMap"];function m(e){return e&&e.isTexture?e.encoding:e&&e.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),e.texture.encoding):xt}return{getParameters:function(r,o,p,v,g){var y,x=v.fog,b=(v=r.isMeshStandardMaterial?v.environment:null,v=t.get(r.envMap||v),f[r.type]),w=g.isSkinnedMesh?(w=(w=g).skeleton.bones,c?1024:(y=u,y=Math.floor((y-20)/4),(y=Math.min(y,w.length))<w.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+w.length+" bones. This GPU supports "+y+"."),0):y)):0;let _,M;null!==r.precision&&(d=i.getMaxPrecision(r.precision))!==r.precision&&console.warn("THREE.WebGLProgram.getParameters:",r.precision,"not supported, using",d,"instead."),M=(b?(y=pr[b],_=y.vertexShader,y):(_=r.vertexShader,r)).fragmentShader;var S=e.getRenderTarget();return{isWebGL2:s,shaderID:b,shaderName:r.type,vertexShader:_,fragmentShader:M,defines:r.defines,isRawShaderMaterial:!0===r.isRawShaderMaterial,glslVersion:r.glslVersion,precision:d,instancing:!0===g.isInstancedMesh,instancingColor:!0===g.isInstancedMesh&&null!==g.instanceColor,supportsVertexTextures:h,outputEncoding:null!==S?m(S.texture):e.outputEncoding,map:!!r.map,mapEncoding:m(r.map),matcap:!!r.matcap,matcapEncoding:m(r.matcap),envMap:!!v,envMapMode:v&&v.mapping,envMapEncoding:m(v),envMapCubeUV:!!v&&(306===v.mapping||307===v.mapping),lightMap:!!r.lightMap,lightMapEncoding:m(r.lightMap),aoMap:!!r.aoMap,emissiveMap:!!r.emissiveMap,emissiveMapEncoding:m(r.emissiveMap),bumpMap:!!r.bumpMap,normalMap:!!r.normalMap,objectSpaceNormalMap:1===r.normalMapType,tangentSpaceNormalMap:0===r.normalMapType,clearcoatMap:!!r.clearcoatMap,clearcoatRoughnessMap:!!r.clearcoatRoughnessMap,clearcoatNormalMap:!!r.clearcoatNormalMap,displacementMap:!!r.displacementMap,roughnessMap:!!r.roughnessMap,metalnessMap:!!r.metalnessMap,specularMap:!!r.specularMap,alphaMap:!!r.alphaMap,gradientMap:!!r.gradientMap,sheen:!!r.sheen,transmissionMap:!!r.transmissionMap,combine:r.combine,vertexTangents:r.normalMap&&r.vertexTangents,vertexColors:r.vertexColors,vertexUvs:!!(r.map||r.bumpMap||r.normalMap||r.specularMap||r.alphaMap||r.emissiveMap||r.roughnessMap||r.metalnessMap||r.clearcoatMap||r.clearcoatRoughnessMap||r.clearcoatNormalMap||r.displacementMap||r.transmissionMap),uvsVertexOnly:!(r.map||r.bumpMap||r.normalMap||r.specularMap||r.alphaMap||r.emissiveMap||r.roughnessMap||r.metalnessMap||r.clearcoatNormalMap||r.transmissionMap||!r.displacementMap),fog:!!x,useFog:r.fog,fogExp2:x&&x.isFogExp2,flatShading:!!r.flatShading,sizeAttenuation:r.sizeAttenuation,logarithmicDepthBuffer:l,skinning:r.skinning&&0<w,maxBones:w,useVertexTexture:c,morphTargets:r.morphTargets,morphNormals:r.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:o.directional.length,numPointLights:o.point.length,numSpotLights:o.spot.length,numRectAreaLights:o.rectArea.length,numHemiLights:o.hemi.length,numDirLightShadows:o.directionalShadowMap.length,numPointLightShadows:o.pointShadowMap.length,numSpotLightShadows:o.spotShadowMap.length,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:r.dithering,shadowMapEnabled:e.shadowMap.enabled&&0<p.length,shadowMapType:e.shadowMap.type,toneMapping:r.toneMapped?e.toneMapping:0,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:r.premultipliedAlpha,alphaTest:r.alphaTest,doubleSided:2===r.side,flipSided:1===r.side,depthPacking:void 0!==r.depthPacking&&r.depthPacking,index0AttributeName:r.index0AttributeName,extensionDerivatives:r.extensions&&r.extensions.derivatives,extensionFragDepth:r.extensions&&r.extensions.fragDepth,extensionDrawBuffers:r.extensions&&r.extensions.drawBuffers,extensionShaderTextureLOD:r.extensions&&r.extensions.shaderTextureLOD,rendererExtensionFragDepth:s||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:s||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:s||n.has("EXT_shader_texture_lod"),customProgramCacheKey:r.customProgramCacheKey()}},getProgramCacheKey:function(t){var n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.fragmentShader),n.push(t.vertexShader)),void 0!==t.defines)for(const e in t.defines)n.push(e),n.push(t.defines[e]);if(!1===t.isRawShaderMaterial){for(let e=0;e<p.length;e++)n.push(t[p[e]]);n.push(e.outputEncoding),n.push(e.gammaFactor)}return n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){var t=f[e.type];return t?(t=pr[t],Ki.clone(t.uniforms)):e.uniforms},acquireProgram:function(t,n){let i;for(let e=0,t=o.length;e<t;e++){var a=o[e];if(a.cacheKey===n){++(i=a).usedTimes;break}}return void 0===i&&(i=new Va(e,n,t,r),o.push(i)),i},releaseProgram:function(e){var t;0==--e.usedTimes&&(t=o.indexOf(e),o[t]=o[o.length-1],o.pop(),e.destroy())},programs:o}}function ja(){let e=new WeakMap;return{get:function(t){let n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,i){e.get(t)[n]=i},dispose:function(){e=new WeakMap}}}function Wa(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Xa(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function qa(e){const t=[];let n=0;const i=[],r=[],a={id:-1};function o(i,r,o,s,l,c){let u=t[n];var h=e.get(o);return void 0===u?(u={id:i.id,object:i,geometry:r,material:o,program:h.program||a,groupOrder:s,renderOrder:i.renderOrder,z:l,group:c},t[n]=u):(u.id=i.id,u.object=i,u.geometry=r,u.material=o,u.program=h.program||a,u.groupOrder=s,u.renderOrder=i.renderOrder,u.z=l,u.group=c),n++,u}return{opaque:i,transparent:r,init:function(){n=0,i.length=0,r.length=0},push:function(e,t,n,a,s,l){e=o(e,t,n,a,s,l),(!0===n.transparent?r:i).push(e)},unshift:function(e,t,n,a,s,l){e=o(e,t,n,a,s,l),(!0===n.transparent?r:i).unshift(e)},finish:function(){for(let i=n,r=t.length;i<r;i++){var e=t[i];if(null===e.id)break;e.id=null,e.object=null,e.geometry=null,e.material=null,e.program=null,e.group=null}},sort:function(e,t){1<i.length&&i.sort(e||Wa),1<r.length&&r.sort(t||Xa)}}}function Ya(e){let t=new WeakMap;return{get:function(n,i){let r;return!1===t.has(n)?(r=new qa(e),t.set(n,[r])):i>=t.get(n).length?(r=new qa(e),t.get(n).push(r)):r=t.get(n)[i],r},dispose:function(){t=new WeakMap}}}function $a(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new Ot,color:new oi};break;case"SpotLight":n={position:new Ot,direction:new Ot,color:new oi,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Ot,color:new oi,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Ot,skyColor:new oi,groundColor:new oi};break;case"RectAreaLight":n={color:new oi,position:new Ot,halfWidth:new Ot,halfHeight:new Ot}}return e[t.id]=n}}}let Za=0;function Qa(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function Ka(e,t){const n=new $a,i=function(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Tt};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Tt,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let e=0;e<9;e++)r.probe.push(new Ot);const a=new Ot,o=new hn,s=new hn;return{setup:function(a){let o=0,s=0,l=0;for(let e=0;e<9;e++)r.probe[e].set(0,0,0);let c=0,u=0,h=0,d=0,f=0,p=0,m=0,v=0;a.sort(Qa);for(let e=0,t=a.length;e<t;e++){var g,y,x,b,w=a[e],_=w.color,M=w.intensity,S=w.distance,E=w.shadow&&w.shadow.map?w.shadow.map.texture:null;if(w.isAmbientLight)o+=_.r*M,s+=_.g*M,l+=_.b*M;else if(w.isLightProbe)for(let e=0;e<9;e++)r.probe[e].addScaledVector(w.sh.coefficients[e],M);else w.isDirectionalLight?((x=n.get(w)).color.copy(w.color).multiplyScalar(w.intensity),w.castShadow&&(g=w.shadow,(y=i.get(w)).shadowBias=g.bias,y.shadowNormalBias=g.normalBias,y.shadowRadius=g.radius,y.shadowMapSize=g.mapSize,r.directionalShadow[c]=y,r.directionalShadowMap[c]=E,r.directionalShadowMatrix[c]=w.shadow.matrix,p++),r.directional[c]=x,c++):w.isSpotLight?((g=n.get(w)).position.setFromMatrixPosition(w.matrixWorld),g.color.copy(_).multiplyScalar(M),g.distance=S,g.coneCos=Math.cos(w.angle),g.penumbraCos=Math.cos(w.angle*(1-w.penumbra)),g.decay=w.decay,w.castShadow&&(y=w.shadow,(x=i.get(w)).shadowBias=y.bias,x.shadowNormalBias=y.normalBias,x.shadowRadius=y.radius,x.shadowMapSize=y.mapSize,r.spotShadow[h]=x,r.spotShadowMap[h]=E,r.spotShadowMatrix[h]=w.shadow.matrix,v++),r.spot[h]=g,h++):w.isRectAreaLight?((S=n.get(w)).color.copy(_).multiplyScalar(M),S.halfWidth.set(.5*w.width,0,0),S.halfHeight.set(0,.5*w.height,0),r.rectArea[d]=S,d++):w.isPointLight?((_=n.get(w)).color.copy(w.color).multiplyScalar(w.intensity),_.distance=w.distance,_.decay=w.decay,w.castShadow&&(S=w.shadow,(b=i.get(w)).shadowBias=S.bias,b.shadowNormalBias=S.normalBias,b.shadowRadius=S.radius,b.shadowMapSize=S.mapSize,b.shadowCameraNear=S.camera.near,b.shadowCameraFar=S.camera.far,r.pointShadow[u]=b,r.pointShadowMap[u]=E,r.pointShadowMatrix[u]=w.shadow.matrix,m++),r.point[u]=_,u++):w.isHemisphereLight&&((S=n.get(w)).skyColor.copy(w.color).multiplyScalar(M),S.groundColor.copy(w.groundColor).multiplyScalar(M),r.hemi[f]=S,f++)}0<d&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(r.rectAreaLTC1=fr.LTC_FLOAT_1,r.rectAreaLTC2=fr.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(r.rectAreaLTC1=fr.LTC_HALF_1,r.rectAreaLTC2=fr.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=o,r.ambient[1]=s,r.ambient[2]=l;var T=r.hash;T.directionalLength===c&&T.pointLength===u&&T.spotLength===h&&T.rectAreaLength===d&&T.hemiLength===f&&T.numDirectionalShadows===p&&T.numPointShadows===m&&T.numSpotShadows===v||(r.directional.length=c,r.spot.length=h,r.rectArea.length=d,r.point.length=u,r.hemi.length=f,r.directionalShadow.length=p,r.directionalShadowMap.length=p,r.pointShadow.length=m,r.pointShadowMap.length=m,r.spotShadow.length=v,r.spotShadowMap.length=v,r.directionalShadowMatrix.length=p,r.pointShadowMatrix.length=m,r.spotShadowMatrix.length=v,T.directionalLength=c,T.pointLength=u,T.spotLength=h,T.rectAreaLength=d,T.hemiLength=f,T.numDirectionalShadows=p,T.numPointShadows=m,T.numSpotShadows=v,r.version=Za++)},setupView:function(e,t){let n=0,i=0,l=0,c=0,u=0;var h=t.matrixWorldInverse;for(let t=0,v=e.length;t<v;t++){var d,f,p,m=e[t];m.isDirectionalLight?((d=r.directional[n]).direction.setFromMatrixPosition(m.matrixWorld),a.setFromMatrixPosition(m.target.matrixWorld),d.direction.sub(a),d.direction.transformDirection(h),n++):m.isSpotLight?((d=r.spot[l]).position.setFromMatrixPosition(m.matrixWorld),d.position.applyMatrix4(h),d.direction.setFromMatrixPosition(m.matrixWorld),a.setFromMatrixPosition(m.target.matrixWorld),d.direction.sub(a),d.direction.transformDirection(h),l++):m.isRectAreaLight?((f=r.rectArea[c]).position.setFromMatrixPosition(m.matrixWorld),f.position.applyMatrix4(h),s.identity(),o.copy(m.matrixWorld),o.premultiply(h),s.extractRotation(o),f.halfWidth.set(.5*m.width,0,0),f.halfHeight.set(0,.5*m.height,0),f.halfWidth.applyMatrix4(s),f.halfHeight.applyMatrix4(s),c++):m.isPointLight?((f=r.point[i]).position.setFromMatrixPosition(m.matrixWorld),f.position.applyMatrix4(h),i++):m.isHemisphereLight&&((p=r.hemi[u]).direction.setFromMatrixPosition(m.matrixWorld),p.direction.transformDirection(h),p.direction.normalize(),u++)}},state:r}}function Ja(e,t){const n=new Ka(e,t),i=[],r=[];return{init:function(){i.length=0,r.length=0},state:{lightsArray:i,shadowsArray:r,lights:n},setupLights:function(){n.setup(i)},setupLightsView:function(e){n.setupView(i,e)},pushLight:function(e){i.push(e)},pushShadow:function(e){r.push(e)}}}function eo(e,t){let n=new WeakMap;return{get:function(i,r=0){let a;return!1===n.has(i)?(a=new Ja(e,t),n.set(i,[a])):r>=n.get(i).length?(a=new Ja(e,t),n.get(i).push(a)):a=n.get(i)[r],a},dispose:function(){n=new WeakMap}}}class to extends Jn{constructor(e){super(),this.type="MeshDepthMaterial",this.depthPacking=3200,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}to.prototype.isMeshDepthMaterial=!0;class no extends Jn{constructor(e){super(),this.type="MeshDistanceMaterial",this.referencePosition=new Ot,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}no.prototype.isMeshDistanceMaterial=!0;function io(e,t,n){let i=new lr;const r=new Tt,a=new Tt,o=new It,s=[],l=[],c={},u={0:1,1:0,2:2},h=new Ji({defines:{SAMPLE_RATE:.25,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new Tt},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\n\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean * HALF_SAMPLE_RATE;\n\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),d=h.clone();d.defines.HORIZONTAL_PASS=1;var f=new Li;f.setAttribute("position",new ui(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const p=new qi(f,h),m=this;function v(e,t,n){let i=s[n=e<<0|t<<1|n<<2];return void 0===i&&(i=new to({depthPacking:3201,morphTargets:e,skinning:t}),s[n]=i),i}function g(e,t,n){let i=l[n=e<<0|t<<1|n<<2];return void 0===i&&(i=new no({morphTargets:e,skinning:t}),l[n]=i),i}function y(t,n,i,r,a,o,s){let l=null,h=v,d=t.customDepthMaterial;if(!0===r.isPointLight&&(h=g,d=t.customDistanceMaterial),void 0===d){let e=!1,r=(!0===i.morphTargets&&(e=n.morphAttributes&&n.morphAttributes.position&&0<n.morphAttributes.position.length),!1);!0===t.isSkinnedMesh&&(!0===i.skinning?r=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t)),l=h(e,r,n=!0===t.isInstancedMesh)}else l=d;if(e.localClippingEnabled&&!0===i.clipShadows&&0!==i.clippingPlanes.length){t=l.uuid,n=i.uuid;let e=c[t],r=(void 0===e&&(e={},c[t]=e),e[n]);void 0===r&&(r=l.clone(),e[n]=r),l=r}return l.visible=i.visible,l.wireframe=i.wireframe,l.side=3===s?null!==i.shadowSide?i.shadowSide:i.side:null!==i.shadowSide?i.shadowSide:u[i.side],l.clipShadows=i.clipShadows,l.clippingPlanes=i.clippingPlanes,l.clipIntersection=i.clipIntersection,l.wireframeLinewidth=i.wireframeLinewidth,l.linewidth=i.linewidth,!0===r.isPointLight&&!0===l.isMeshDistanceMaterial&&(l.referencePosition.setFromMatrixPosition(r.matrixWorld),l.nearDistance=a,l.farDistance=o),l}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(s,l,c){if(!1!==m.enabled&&(!1!==m.autoUpdate||!1!==m.needsUpdate)&&0!==s.length){var u,f,v=e.getRenderTarget(),g=e.getActiveCubeFace(),x=e.getActiveMipmapLevel(),b=e.state;b.setBlending(0),b.buffers.color.setClear(1,1,1,1),b.buffers.depth.setTest(!0),b.setScissorTest(!1);for(let m=0,v=s.length;m<v;m++){var w=s[m],_=w.shadow;if(void 0===_)console.warn("THREE.WebGLShadowMap:",w,"has no shadow.");else if(!1!==_.autoUpdate||!1!==_.needsUpdate){r.copy(_.mapSize);var M=_.getFrameExtents(),S=(r.multiply(M),a.copy(_.mapSize),(r.x>n||r.y>n)&&(r.x>n&&(a.x=Math.floor(n/M.x),r.x=a.x*M.x,_.mapSize.x=a.x),r.y>n)&&(a.y=Math.floor(n/M.y),r.y=a.y*M.y,_.mapSize.y=a.y),null!==_.map||_.isPointLightShadow||3!==this.type||(M={minFilter:ht,magFilter:ht,format:vt},_.map=new Rt(r.x,r.y,M),_.map.texture.name=w.name+".shadowMap",_.mapPass=new Rt(r.x,r.y,M),_.camera.updateProjectionMatrix()),null===_.map&&(M={minFilter:ut,magFilter:ut,format:vt},_.map=new Rt(r.x,r.y,M),_.map.texture.name=w.name+".shadowMap",_.camera.updateProjectionMatrix()),e.setRenderTarget(_.map),e.clear(),_.getViewportCount());for(let n=0;n<S;n++){var E=_.getViewport(n);o.set(a.x*E.x,a.y*E.y,a.x*E.z,a.y*E.w),b.viewport(o),_.updateMatrices(w,n),i=_.getFrustum(),function n(r,a,o,s,l){if(!1===r.visible)return;if(r.layers.test(a.layers)&&(r.isMesh||r.isLine||r.isPoints)&&(r.castShadow||r.receiveShadow&&3===l)&&(!r.frustumCulled||i.intersectsObject(r))){r.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,r.matrixWorld);const n=t.update(r),i=r.material;if(Array.isArray(i)){const t=n.groups;for(let a=0,c=t.length;a<c;a++){const c=t[a],u=i[c.materialIndex];if(u&&u.visible){const t=y(r,n,u,s,o.near,o.far,l);e.renderBufferDirect(o,null,n,t,r,c)}}}else if(i.visible){const t=y(r,n,i,s,o.near,o.far,l);e.renderBufferDirect(o,null,n,t,r,null)}}const c=r.children;for(let e=0,t=c.length;e<t;e++)n(c[e],a,o,s,l)}(l,c,_.camera,w,this.type)}_.isPointLightShadow||3!==this.type||(M=_,u=c,void 0,f=t.update(p),h.uniforms.shadow_pass.value=M.map.texture,h.uniforms.resolution.value=M.mapSize,h.uniforms.radius.value=M.radius,e.setRenderTarget(M.mapPass),e.clear(),e.renderBufferDirect(u,null,f,h,p,null),d.uniforms.shadow_pass.value=M.mapPass.texture,d.uniforms.resolution.value=M.mapSize,d.uniforms.radius.value=M.radius,e.setRenderTarget(M.map),e.clear(),e.renderBufferDirect(u,null,f,d,p,null)),_.needsUpdate=!1}}m.needsUpdate=!1,e.setRenderTarget(v,g,x)}}}function ro(e,t,n){n=n.isWebGL2;const i=new function(){let t=!1;const n=new It;let i=null;const r=new It(0,0,0,0);return{setMask:function(n){i===n||t||(e.colorMask(n,n,n,n),i=n)},setLocked:function(e){t=e},setClear:function(t,i,a,o,s){!0===s&&(t*=o,i*=o,a*=o),n.set(t,i,a,o),!1===r.equals(n)&&(e.clearColor(t,i,a,o),r.copy(n))},reset:function(){t=!1,i=null,r.set(-1,0,0,0)}}},r=new function(){let t=!1,n=null,i=null,r=null;return{setTest:function(e){(e?D:I)(2929)},setMask:function(i){n===i||t||(e.depthMask(i),n=i)},setFunc:function(t){if(i!==t){if(t)switch(t){case 0:e.depthFunc(512);break;case 1:e.depthFunc(519);break;case 2:e.depthFunc(513);break;case 3:e.depthFunc(515);break;case 4:e.depthFunc(514);break;case 5:e.depthFunc(518);break;case 6:e.depthFunc(516);break;case 7:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);i=t}},setLocked:function(e){t=e},setClear:function(t){r!==t&&(e.clearDepth(t),r=t)},reset:function(){t=!1,n=null,i=null,r=null}}},a=new function(){let t=!1,n=null,i=null,r=null,a=null,o=null,s=null,l=null,c=null;return{setTest:function(e){t||(e?D:I)(2960)},setMask:function(i){n===i||t||(e.stencilMask(i),n=i)},setFunc:function(t,n,o){i===t&&r===n&&a===o||(e.stencilFunc(t,n,o),i=t,r=n,a=o)},setOp:function(t,n,i){o===t&&s===n&&l===i||(e.stencilOp(t,n,i),o=t,s=n,l=i)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,n=null,i=null,r=null,a=null,o=null,s=null,l=null,c=null}}};let o={},s=null,l=!1,c=null,u=null,h=null,d=null,f=null,p=null,m=null,v=!1,g=null,y=null,x=null,b=null,w=null;const _=e.getParameter(35661);let M=!1,S=0;var E=e.getParameter(7938);-1!==E.indexOf("WebGL")?(S=parseFloat(/^WebGL (\d)/.exec(E)[1]),M=1<=S):-1!==E.indexOf("OpenGL ES")&&(S=parseFloat(/^OpenGL ES (\d)/.exec(E)[1]),M=2<=S);let T=null,C={};const A=new It,L=new It;function P(t,n,i){var r=new Uint8Array(4),a=e.createTexture();e.bindTexture(t,a),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(let t=0;t<i;t++)e.texImage2D(n+t,0,6408,1,1,0,6408,5121,r);return a}const k={};function D(t){!0!==o[t]&&(e.enable(t),o[t]=!0)}function I(t){!1!==o[t]&&(e.disable(t),o[t]=!1)}k[3553]=P(3553,3553,1),k[34067]=P(34067,34069,6),i.setClear(0,0,0,1),r.setClear(1),a.setClear(0),D(2929),r.setFunc(3),F(!1),z(1),D(2884),O(0);const R={100:32774,101:32778,102:32779},N=(n?(R[103]=32775,R[104]=32776):null!==(E=t.get("EXT_blend_minmax"))&&(R[103]=E.MIN_EXT,R[104]=E.MAX_EXT),{200:0,201:1,202:768,204:770,210:776,208:774,206:772,203:769,205:771,209:775,207:773});function O(t,n,i,r,a,o,s,g){if(0===t)!0===l&&(I(3042),l=!1);else if(!1===l&&(D(3042),l=!0),5!==t){if(t!==c||g!==v){if(100===u&&100===f||(e.blendEquation(32774),u=100,f=100),g)switch(t){case 1:e.blendFuncSeparate(1,771,1,771);break;case 2:e.blendFunc(1,1);break;case 3:e.blendFuncSeparate(0,0,769,771);break;case 4:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case 1:e.blendFuncSeparate(770,771,1,771);break;case 2:e.blendFunc(770,1);break;case 3:e.blendFunc(0,769);break;case 4:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}h=null,d=null,p=null,m=null,c=t,v=g}}else a=a||n,o=o||i,s=s||r,n===u&&a===f||(e.blendEquationSeparate(R[n],R[a]),u=n,f=a),i===h&&r===d&&o===p&&s===m||(e.blendFuncSeparate(N[i],N[r],N[o],N[s]),h=i,d=r,p=o,m=s),c=t,v=null}function F(t){g!==t&&(t?e.frontFace(2304):e.frontFace(2305),g=t)}function z(t){0!==t?(D(2884),t!==y&&(1===t?e.cullFace(1029):2===t?e.cullFace(1028):e.cullFace(1032))):I(2884),y=t}function B(t,n,i){t?(D(32823),b===n&&w===i||(e.polygonOffset(n,i),b=n,w=i)):I(32823)}function H(t){void 0===t&&(t=33984+_-1),T!==t&&(e.activeTexture(t),T=t)}return{buffers:{color:i,depth:r,stencil:a},enable:D,disable:I,useProgram:function(t){return s!==t&&(e.useProgram(t),s=t,!0)},setBlending:O,setMaterial:function(e,t){(2===e.side?I:D)(2884);let n=1===e.side;F(n=t?!n:n),1===e.blending&&!1===e.transparent?O(0):O(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),r.setFunc(e.depthFunc),r.setTest(e.depthTest),r.setMask(e.depthWrite),i.setMask(e.colorWrite),t=e.stencilWrite,a.setTest(t),t&&(a.setMask(e.stencilWriteMask),a.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),a.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),B(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)},setFlipSided:F,setCullFace:z,setLineWidth:function(t){t!==x&&(M&&e.lineWidth(t),x=t)},setPolygonOffset:B,setScissorTest:function(e){(e?D:I)(3089)},activeTexture:H,bindTexture:function(t,n){null===T&&H();let i=C[T];void 0===i&&(i={type:void 0,texture:void 0},C[T]=i),i.type===t&&i.texture===n||(e.bindTexture(t,n||k[t]),i.type=t,i.texture=n)},unbindTexture:function(){var t=C[T];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},scissor:function(t){!1===A.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),A.copy(t))},viewport:function(t){!1===L.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),L.copy(t))},reset:function(){e.disable(3042),e.disable(2884),e.disable(2929),e.disable(32823),e.disable(3089),e.disable(2960),e.blendEquation(32774),e.blendFunc(1,0),e.blendFuncSeparate(1,0,1,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(513),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(519,0,4294967295),e.stencilOp(7680,7680,7680),e.clearStencil(0),e.cullFace(1029),e.frontFace(2305),e.polygonOffset(0,0),e.activeTexture(33984),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),o={},T=null,C={},s=null,l=!1,c=null,u=null,h=null,d=null,f=null,p=null,m=null,v=!1,g=null,y=null,x=null,b=null,w=null,i.reset(),r.reset(),a.reset()}}}function ao(e,t,n,i,r,a,o){const s=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,u=r.maxTextureSize,h=r.maxSamples,d=new WeakMap;let f,p=!1;try{p="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(e){}function m(e,t){return p?new OffscreenCanvas(e,t):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function v(e,t,n,i){let r=1;return(r=e.width>i||e.height>i?i/Math.max(e.width,e.height):r)<1||!0===t?"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?(t=(i=t?Et.floorPowerOfTwo:Math.floor)(r*e.width),i=i(r*e.height),void 0===f&&(f=m(t,i)),(n=n?m(t,i):f).width=t,n.height=i,n.getContext("2d").drawImage(e,0,0,t,i),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+t+"x"+i+")."),n):("data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e):e}function g(e){return Et.isPowerOfTwo(e.width)&&Et.isPowerOfTwo(e.height)}function y(e,t){return e.generateMipmaps&&t&&e.minFilter!==ut&&e.minFilter!==ht}function x(t,n,r,a){e.generateMipmap(t),i.get(n).__maxMipLevel=Math.log2(Math.max(r,a))}function b(n,i,r){if(!1===s)return i;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}let a=i;return 6403===i&&(5126===r&&(a=33326),5131===r&&(a=33325),5121===r)&&(a=33321),6407===i&&(5126===r&&(a=34837),5131===r&&(a=34843),5121===r)&&(a=32849),33325!==(a=6408===i&&(5126===r&&(a=34836),5131===r&&(a=34842),5121===r)?32856:a)&&33326!==a&&34842!==a&&34836!==a||t.get("EXT_color_buffer_float"),a}function w(e){return e===ut||1004===e||1005===e?9728:9729}function _(t){var n,r;(t=t.target).removeEventListener("dispose",_),n=t,void 0!==(r=i.get(n)).__webglInit&&(e.deleteTexture(r.__webglTexture),i.remove(n)),t.isVideoTexture&&d.delete(t),o.memory.textures--}function M(t){var n=((t=t.target).removeEventListener("dispose",M),t.texture),r=i.get(t),a=i.get(n);if(t){if(void 0!==a.__webglTexture&&e.deleteTexture(a.__webglTexture),t.depthTexture&&t.depthTexture.dispose(),t.isWebGLCubeRenderTarget)for(let t=0;t<6;t++)e.deleteFramebuffer(r.__webglFramebuffer[t]),r.__webglDepthbuffer&&e.deleteRenderbuffer(r.__webglDepthbuffer[t]);else e.deleteFramebuffer(r.__webglFramebuffer),r.__webglDepthbuffer&&e.deleteRenderbuffer(r.__webglDepthbuffer),r.__webglMultisampledFramebuffer&&e.deleteFramebuffer(r.__webglMultisampledFramebuffer),r.__webglColorRenderbuffer&&e.deleteRenderbuffer(r.__webglColorRenderbuffer),r.__webglDepthRenderbuffer&&e.deleteRenderbuffer(r.__webglDepthRenderbuffer);i.remove(n),i.remove(t)}o.memory.textures--}let S=0;function E(e,t){var r,a=i.get(e);if(e.isVideoTexture&&(r=e,s=o.render.frame,d.get(r)!==s)&&(d.set(r,s),r.update()),0<e.version&&a.__version!==e.version){var s=e.image;if(void 0===s)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==s.complete)return void k(a,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+t),n.bindTexture(3553,a.__webglTexture)}function T(t,r){var o=i.get(t);if(0<t.version&&o.__version!==t.version){var l=o,u=t;t=r;if(6===u.image.length){P(l,u),n.activeTexture(33984+t),n.bindTexture(34067,l.__webglTexture),e.pixelStorei(37440,u.flipY),e.pixelStorei(37441,u.premultiplyAlpha),e.pixelStorei(3317,u.unpackAlignment),e.pixelStorei(37443,0);var h=u&&(u.isCompressedTexture||u.image[0].isCompressedTexture),d=u.image[0]&&u.image[0].isDataTexture,f=[];for(let e=0;e<6;e++)f[e]=h||d?d?u.image[e].image:u.image[e]:v(u.image[e],!1,!0,c);var p=g(t=f[0])||s,m=a.convert(u.format),w=a.convert(u.type),_=b(u.internalFormat,m,w);let i;if(L(34067,u,p),h){for(let e=0;e<6;e++){i=f[e].mipmaps;for(let t=0;t<i.length;t++){var M=i[t];u.format!==vt&&u.format!==mt?null!==m?n.compressedTexImage2D(34069+e,t,_,M.width,M.height,0,M.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+e,t,_,M.width,M.height,0,m,w,M.data)}}l.__maxMipLevel=i.length-1}else{i=u.mipmaps;for(let e=0;e<6;e++)if(d){n.texImage2D(34069+e,0,_,f[e].width,f[e].height,0,m,w,f[e].data);for(let t=0;t<i.length;t++){var S=i[t].image[e].image;n.texImage2D(34069+e,t+1,_,S.width,S.height,0,m,w,S.data)}}else{n.texImage2D(34069+e,0,_,m,w,f[e]);for(let t=0;t<i.length;t++){var E=i[t];n.texImage2D(34069+e,t+1,_,m,w,E.image[e])}}l.__maxMipLevel=i.length}y(u,p)&&x(34067,u,t.width,t.height),l.__version=u.version,u.onUpdate&&u.onUpdate(u)}}else n.activeTexture(33984+r),n.bindTexture(34067,o.__webglTexture)}const C={1e3:10497,[ct]:33071,1002:33648},A={[ut]:9728,1004:9984,1005:9986,[ht]:9729,1007:9985,[dt]:9987};function L(n,a,o){o?(e.texParameteri(n,10242,C[a.wrapS]),e.texParameteri(n,10243,C[a.wrapT]),32879!==n&&35866!==n||e.texParameteri(n,32882,C[a.wrapR]),e.texParameteri(n,10240,A[a.magFilter]),e.texParameteri(n,10241,A[a.minFilter])):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),32879!==n&&35866!==n||e.texParameteri(n,32882,33071),a.wrapS===ct&&a.wrapT===ct||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,w(a.magFilter)),e.texParameteri(n,10241,w(a.minFilter)),a.minFilter!==ut&&a.minFilter!==ht&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===t.has("EXT_texture_filter_anisotropic")&&(o=t.get("EXT_texture_filter_anisotropic"),a.type===ft&&!1===t.has("OES_texture_float_linear")||!1===s&&1016===a.type&&!1===t.has("OES_texture_half_float_linear")||(1<a.anisotropy||i.get(a).__currentAnisotropy)&&(e.texParameterf(n,o.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,r.getMaxAnisotropy())),i.get(a).__currentAnisotropy=a.anisotropy))}function P(t,n){void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",_),t.__webglTexture=e.createTexture(),o.memory.textures++)}function k(t,i,r){let o=3553;i.isDataTexture2DArray&&(o=35866),i.isDataTexture3D&&(o=32879),P(t,i),n.activeTexture(33984+r),n.bindTexture(o,t.__webglTexture),e.pixelStorei(37440,i.flipY),e.pixelStorei(37441,i.premultiplyAlpha),e.pixelStorei(3317,i.unpackAlignment),e.pixelStorei(37443,0),r=i;r=!s&&(r.wrapS!==ct||r.wrapT!==ct||r.minFilter!==ut&&r.minFilter!==ht)&&!1===g(i.image);var l=g(r=v(i.image,r,!1,u))||s,c=a.convert(i.format);let h,d=a.convert(i.type),f=b(i.internalFormat,c,d);L(o,i,l);var p=i.mipmaps;if(i.isDepthTexture)f=6402,s?f=i.type===ft?36012:1014===i.type?33190:i.type===pt?35056:33189:i.type===ft&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),i.format===gt&&6402===f&&1012!==i.type&&1014!==i.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=1012,d=a.convert(i.type)),i.format===yt&&6402===f&&(f=34041,i.type!==pt)&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=pt,d=a.convert(i.type)),n.texImage2D(3553,0,f,r.width,r.height,0,c,d,null);else if(i.isDataTexture)if(0<p.length&&l){for(let e=0,t=p.length;e<t;e++)h=p[e],n.texImage2D(3553,e,f,h.width,h.height,0,c,d,h.data);i.generateMipmaps=!1,t.__maxMipLevel=p.length-1}else n.texImage2D(3553,0,f,r.width,r.height,0,c,d,r.data),t.__maxMipLevel=0;else if(i.isCompressedTexture){for(let e=0,t=p.length;e<t;e++)h=p[e],i.format!==vt&&i.format!==mt?null!==c?n.compressedTexImage2D(3553,e,f,h.width,h.height,0,h.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,e,f,h.width,h.height,0,c,d,h.data);t.__maxMipLevel=p.length-1}else if(i.isDataTexture2DArray)n.texImage3D(35866,0,f,r.width,r.height,r.depth,0,c,d,r.data),t.__maxMipLevel=0;else if(i.isDataTexture3D)n.texImage3D(32879,0,f,r.width,r.height,r.depth,0,c,d,r.data),t.__maxMipLevel=0;else if(0<p.length&&l){for(let e=0,t=p.length;e<t;e++)h=p[e],n.texImage2D(3553,e,f,c,d,h);i.generateMipmaps=!1,t.__maxMipLevel=p.length-1}else n.texImage2D(3553,0,f,c,d,r),t.__maxMipLevel=0;y(i,l)&&x(o,i,r.width,r.height),t.__version=i.version,i.onUpdate&&i.onUpdate(i)}function D(t,r,o,s){var l=r.texture,c=a.convert(l.format),u=a.convert(l.type),h=b(l.internalFormat,c,u);32879===s||35866===s?n.texImage3D(s,0,h,r.width,r.height,r.depth,0,c,u,null):n.texImage2D(s,0,h,r.width,r.height,0,c,u,null),e.bindFramebuffer(36160,t),e.framebufferTexture2D(36160,o,s,i.get(l).__webglTexture,0),e.bindFramebuffer(36160,null)}function I(t,n,i){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){let r=33189;i?((o=n.depthTexture)&&o.isDepthTexture&&(o.type===ft?r=36012:1014===o.type&&(r=33190)),o=R(n),e.renderbufferStorageMultisample(36161,o,r,n.width,n.height)):e.renderbufferStorage(36161,r,n.width,n.height),e.framebufferRenderbuffer(36160,36096,36161,t)}else{var r,o;n.depthBuffer&&n.stencilBuffer?(i?(o=R(n),e.renderbufferStorageMultisample(36161,o,35056,n.width,n.height)):e.renderbufferStorage(36161,34041,n.width,n.height),e.framebufferRenderbuffer(36160,33306,36161,t)):(o=n.texture,t=a.convert(o.format),r=a.convert(o.type),o=b(o.internalFormat,t,r),i?(t=R(n),e.renderbufferStorageMultisample(36161,t,o,n.width,n.height)):e.renderbufferStorage(36161,o,n.width,n.height))}e.bindRenderbuffer(36161,null)}function R(e){return s&&e.isWebGLMultisampleRenderTarget?Math.min(h,e.samples):0}let N=!1,O=!1;this.allocateTextureUnit=function(){var e=S;return e>=l&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+l),S+=1,e},this.resetTextureUnits=function(){S=0},this.setTexture2D=E,this.setTexture2DArray=function(e,t){var r=i.get(e);0<e.version&&r.__version!==e.version?k(r,e,t):(n.activeTexture(33984+t),n.bindTexture(35866,r.__webglTexture))},this.setTexture3D=function(e,t){var r=i.get(e);0<e.version&&r.__version!==e.version?k(r,e,t):(n.activeTexture(33984+t),n.bindTexture(32879,r.__webglTexture))},this.setTextureCube=T,this.setupRenderTarget=function(t){var r,l=t.texture,c=i.get(t),u=i.get(l),h=(t.addEventListener("dispose",M),u.__webglTexture=e.createTexture(),o.memory.textures++,!0===t.isWebGLCubeRenderTarget),d=!0===t.isWebGLMultisampleRenderTarget,f=l.isDataTexture3D||l.isDataTexture2DArray,p=g(t)||s;if(!s||l.format!==mt||l.type!==ft&&1016!==l.type||(l.format=vt,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),h){c.__webglFramebuffer=[];for(let t=0;t<6;t++)c.__webglFramebuffer[t]=e.createFramebuffer()}else c.__webglFramebuffer=e.createFramebuffer(),d&&(s?(c.__webglMultisampledFramebuffer=e.createFramebuffer(),c.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,c.__webglColorRenderbuffer),d=a.convert(l.format),r=a.convert(l.type),d=b(l.internalFormat,d,r),r=R(t),e.renderbufferStorageMultisample(36161,r,d,t.width,t.height),e.bindFramebuffer(36160,c.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,c.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),t.depthBuffer&&(c.__webglDepthRenderbuffer=e.createRenderbuffer(),I(c.__webglDepthRenderbuffer,t,!0)),e.bindFramebuffer(36160,null)):console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2."));if(h){n.bindTexture(34067,u.__webglTexture),L(34067,l,p);for(let e=0;e<6;e++)D(c.__webglFramebuffer[e],t,36064,34069+e);y(l,p)&&x(34067,l,t.width,t.height),n.bindTexture(34067,null)}else{let e=3553;f&&(s?e=(r=l.isDataTexture3D)?32879:35866:console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.")),n.bindTexture(e,u.__webglTexture),L(e,l,p),D(c.__webglFramebuffer,t,36064,e),y(l,p)&&x(3553,l,t.width,t.height),n.bindTexture(3553,null)}t.depthBuffer&&function(t){var n=i.get(t),r=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture){if(r)throw new Error("target.depthTexture not supported in Cube render targets");var a=n.__webglFramebuffer,o=t;if(o&&o.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,a),!o.depthTexture||!o.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");if(i.get(o.depthTexture).__webglTexture&&o.depthTexture.image.width===o.width&&o.depthTexture.image.height===o.height||(o.depthTexture.image.width=o.width,o.depthTexture.image.height=o.height,o.depthTexture.needsUpdate=!0),E(o.depthTexture,0),a=i.get(o.depthTexture).__webglTexture,o.depthTexture.format===gt)e.framebufferTexture2D(36160,36096,3553,a,0);else{if(o.depthTexture.format!==yt)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(36160,33306,3553,a,0)}}else if(r){n.__webglDepthbuffer=[];for(let i=0;i<6;i++)e.bindFramebuffer(36160,n.__webglFramebuffer[i]),n.__webglDepthbuffer[i]=e.createRenderbuffer(),I(n.__webglDepthbuffer[i],t,!1)}else e.bindFramebuffer(36160,n.__webglFramebuffer),n.__webglDepthbuffer=e.createRenderbuffer(),I(n.__webglDepthbuffer,t,!1);e.bindFramebuffer(36160,null)}(t)},this.updateRenderTargetMipmap=function(e){var t,r,a=e.texture;y(a,g(e)||s)&&(t=e.isWebGLCubeRenderTarget?34067:3553,r=i.get(a).__webglTexture,n.bindTexture(t,r),x(t,a,e.width,e.height),n.bindTexture(t,null))},this.updateMultisampleRenderTarget=function(t){if(t.isWebGLMultisampleRenderTarget)if(s){var n=i.get(t),r=(e.bindFramebuffer(36008,n.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,n.__webglFramebuffer),t.width),a=t.height;let o=16384;t.depthBuffer&&(o|=256),t.stencilBuffer&&(o|=1024),e.blitFramebuffer(0,0,r,a,0,0,r,a,o,9728),e.bindFramebuffer(36160,n.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(e,t){e&&e.isWebGLRenderTarget&&(!1===N&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),N=!0),e=e.texture),E(e,t)},this.safeSetTextureCube=function(e,t){e&&e.isWebGLCubeRenderTarget&&(!1===O&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),O=!0),e=e.texture),T(e,t)}}function oo(e,t,n){const i=n.isWebGL2;return{convert:function(e){let n;if(1009===e)return 5121;if(1017===e)return 32819;if(1018===e)return 32820;if(1019===e)return 33635;if(1010===e)return 5120;if(1011===e)return 5122;if(1012===e)return 5123;if(1013===e)return 5124;if(1014===e)return 5125;if(e===ft)return 5126;if(1016===e)return i?5131:null!==(n=t.get("OES_texture_half_float"))?n.HALF_FLOAT_OES:null;if(1021===e)return 6406;if(e===mt)return 6407;if(e===vt)return 6408;if(1024===e)return 6409;if(1025===e)return 6410;if(e===gt)return 6402;if(e===yt)return 34041;if(1028===e)return 6403;if(1029===e)return 36244;if(1030===e)return 33319;if(1031===e)return 33320;if(1032===e)return 36248;if(1033===e)return 36249;if(33776===e||33777===e||33778===e||33779===e){if(null===(n=t.get("WEBGL_compressed_texture_s3tc")))return null;if(33776===e)return n.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===e)return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===e)return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===e)return n.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===e||35841===e||35842===e||35843===e){if(null===(n=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(35840===e)return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===e)return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===e)return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===e)return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===e)return null!==(n=t.get("WEBGL_compressed_texture_etc1"))?n.COMPRESSED_RGB_ETC1_WEBGL:null;if((37492===e||37496===e)&&null!==(n=t.get("WEBGL_compressed_texture_etc"))){if(37492===e)return n.COMPRESSED_RGB8_ETC2;if(37496===e)return n.COMPRESSED_RGBA8_ETC2_EAC}return 37808===e||37809===e||37810===e||37811===e||37812===e||37813===e||37814===e||37815===e||37816===e||37817===e||37818===e||37819===e||37820===e||37821===e||37840===e||37841===e||37842===e||37843===e||37844===e||37845===e||37846===e||37847===e||37848===e||37849===e||37850===e||37851===e||37852===e||37853===e?null!==(n=t.get("WEBGL_compressed_texture_astc"))?e:null:36492===e?null!==(n=t.get("EXT_texture_compression_bptc"))?e:null:e===pt?i?34042:null!==(n=t.get("WEBGL_depth_texture"))?n.UNSIGNED_INT_24_8_WEBGL:null:void 0}}}function so(e=[]){tr.call(this),this.cameras=e}so.prototype=Object.assign(Object.create(tr.prototype),{constructor:so,isArrayCamera:!0});class lo extends On{constructor(){super(),this.type="Group"}}function co(){this._targetRay=null,this._grip=null,this._hand=null}function uo(e,t){const n=this;let i=null,r=1,a=null,o="local-floor",s=null;const l=[],c=new Map,u=new tr,h=(u.layers.enable(1),u.viewport=new It,new tr),d=(h.layers.enable(2),h.viewport=new It,[u,h]),f=new so;f.layers.enable(1),f.layers.enable(2);let p=null,m=null;function v(e){var t=c.get(e.inputSource);t&&t.dispatchEvent({type:e.type,data:e.inputSource})}function g(){c.forEach((function(e,t){e.disconnect(t)})),c.clear(),p=null,m=null,e.setFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),M.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function y(e){var t=i.inputSources;for(let e=0;e<l.length;e++)c.set(t[e],l[e]);for(let t=0;t<e.removed.length;t++){var n=e.removed[t],r=c.get(n);r&&(r.dispatchEvent({type:"disconnected",data:n}),c.delete(n))}for(let t=0;t<e.added.length;t++){var a=e.added[t],o=c.get(a);o&&o.dispatchEvent({type:"connected",data:a})}}this.enabled=!1,this.isPresenting=!1,this.getController=function(e){let t=l[e];return void 0===t&&(t=new co,l[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){let t=l[e];return void 0===t&&(t=new co,l[e]=t),t.getGripSpace()},this.getHand=function(e){let t=l[e];return void 0===t&&(t=new co,l[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){r=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){o=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return a},this.getSession=function(){return i},this.setSession=async function(e){null!==(i=e)&&(i.addEventListener("select",v),i.addEventListener("selectstart",v),i.addEventListener("selectend",v),i.addEventListener("squeeze",v),i.addEventListener("squeezestart",v),i.addEventListener("squeezeend",v),i.addEventListener("end",g),i.addEventListener("inputsourceschange",y),!0!==(e=t.getContextAttributes()).xrCompatible&&await t.makeXRCompatible(),e={antialias:e.antialias,alpha:e.alpha,depth:e.depth,stencil:e.stencil,framebufferScaleFactor:r},e=new XRWebGLLayer(i,t,e),i.updateRenderState({baseLayer:e}),a=await i.requestReferenceSpace(o),M.setContext(i),M.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"}))};const x=new Ot,b=new Ot;function w(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}this.getCamera=function(e){f.near=h.near=u.near=e.near,f.far=h.far=u.far=e.far,p===f.near&&m===f.far||(i.updateRenderState({depthNear:f.near,depthFar:f.far}),p=f.near,m=f.far);var t=e.parent,n=f.cameras;w(f,t);for(let e=0;e<n.length;e++)w(n[e],t);e.matrixWorld.copy(f.matrixWorld),e.matrix.copy(f.matrix),e.matrix.decompose(e.position,e.quaternion,e.scale);var r,a,o,s,l,c,d,v,g,y,_=e.children;for(let e=0,t=_.length;e<t;e++)_[e].updateMatrixWorld(!0);return 2===n.length?(e=f,r=u,a=h,x.setFromMatrixPosition(r.matrixWorld),b.setFromMatrixPosition(a.matrixWorld),o=x.distanceTo(b),s=r.projectionMatrix.elements,a=a.projectionMatrix.elements,l=s[14]/(s[10]-1),c=s[14]/(s[10]+1),d=(s[9]+1)/s[5],v=(s[9]-1)/s[5],g=l*(s=(s[8]-1)/s[0]),y=l*(a=(a[8]+1)/a[0]),s=(a=o/(a-s))*-s,r.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(s),e.translateZ(a),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert(),r=l+a,l=c+a,e.projectionMatrix.makePerspective(g-s,o-s+y,d*c/l*r,v*c/l*r,r,l)):f.projectionMatrix.copy(u.projectionMatrix),f};let _=null;const M=new cr;M.setAnimationLoop((function(t,n){if(null!==(s=n.getViewerPose(a))){var r=s.views,o=i.renderState.baseLayer;e.setFramebuffer(o.framebuffer);let t=!1;r.length!==f.cameras.length&&(f.cameras.length=0,t=!0);for(let e=0;e<r.length;e++){var c=r[e],u=o.getViewport(c),h=d[e];h.matrix.fromArray(c.transform.matrix),h.projectionMatrix.fromArray(c.projectionMatrix),h.viewport.set(u.x,u.y,u.width,u.height),0===e&&f.matrix.copy(h.matrix),!0===t&&f.cameras.push(h)}}var p=i.inputSources;for(let e=0;e<l.length;e++){var m=l[e],v=p[e];m.update(v,n,a)}_&&_(t,n)})),this.setAnimationLoop=function(e){_=e},this.dispose=function(){}}function ho(e){function t(t,n){t.opacity.value=n.opacity,n.color&&t.diffuse.value.copy(n.color),n.emissive&&t.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity),n.map&&(t.map.value=n.map),n.alphaMap&&(t.alphaMap.value=n.alphaMap),n.specularMap&&(t.specularMap.value=n.specularMap);var i=e.get(n).envMap;let r,a;i&&(t.envMap.value=i,t.flipEnvMap.value=i.isCubeTexture&&i._needsFlipEnvMap?-1:1,t.reflectivity.value=n.reflectivity,t.refractionRatio.value=n.refractionRatio,void 0!==(i=e.get(i).__maxMipLevel))&&(t.maxMipLevel.value=i),n.lightMap&&(t.lightMap.value=n.lightMap,t.lightMapIntensity.value=n.lightMapIntensity),n.aoMap&&(t.aoMap.value=n.aoMap,t.aoMapIntensity.value=n.aoMapIntensity),n.map?r=n.map:n.specularMap?r=n.specularMap:n.displacementMap?r=n.displacementMap:n.normalMap?r=n.normalMap:n.bumpMap?r=n.bumpMap:n.roughnessMap?r=n.roughnessMap:n.metalnessMap?r=n.metalnessMap:n.alphaMap?r=n.alphaMap:n.emissiveMap?r=n.emissiveMap:n.clearcoatMap?r=n.clearcoatMap:n.clearcoatNormalMap?r=n.clearcoatNormalMap:n.clearcoatRoughnessMap&&(r=n.clearcoatRoughnessMap),void 0!==r&&(!0===(r=r.isWebGLRenderTarget?r.texture:r).matrixAutoUpdate&&r.updateMatrix(),t.uvTransform.value.copy(r.matrix)),n.aoMap?a=n.aoMap:n.lightMap&&(a=n.lightMap),void 0!==a&&(!0===(a=a.isWebGLRenderTarget?a.texture:a).matrixAutoUpdate&&a.updateMatrix(),t.uv2Transform.value.copy(a.matrix))}function n(t,n){t.roughness.value=n.roughness,t.metalness.value=n.metalness,n.roughnessMap&&(t.roughnessMap.value=n.roughnessMap),n.metalnessMap&&(t.metalnessMap.value=n.metalnessMap),n.emissiveMap&&(t.emissiveMap.value=n.emissiveMap),n.bumpMap&&(t.bumpMap.value=n.bumpMap,t.bumpScale.value=n.bumpScale,1===n.side)&&(t.bumpScale.value*=-1),n.normalMap&&(t.normalMap.value=n.normalMap,t.normalScale.value.copy(n.normalScale),1===n.side)&&t.normalScale.value.negate(),n.displacementMap&&(t.displacementMap.value=n.displacementMap,t.displacementScale.value=n.displacementScale,t.displacementBias.value=n.displacementBias),e.get(n).envMap&&(t.envMapIntensity.value=n.envMapIntensity)}return{refreshFogUniforms:function(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)},refreshMaterialUniforms:function(e,i,r,a){if(i.isMeshBasicMaterial)t(e,i);else if(i.isMeshLambertMaterial)t(e,i),p=e,(m=i).emissiveMap&&(p.emissiveMap.value=m.emissiveMap);else if(i.isMeshToonMaterial)t(e,i),p=e,(m=i).gradientMap&&(p.gradientMap.value=m.gradientMap),m.emissiveMap&&(p.emissiveMap.value=m.emissiveMap),m.bumpMap&&(p.bumpMap.value=m.bumpMap,p.bumpScale.value=m.bumpScale,1===m.side)&&(p.bumpScale.value*=-1),m.normalMap&&(p.normalMap.value=m.normalMap,p.normalScale.value.copy(m.normalScale),1===m.side)&&p.normalScale.value.negate(),m.displacementMap&&(p.displacementMap.value=m.displacementMap,p.displacementScale.value=m.displacementScale,p.displacementBias.value=m.displacementBias);else if(i.isMeshPhongMaterial){t(e,i);var o=e,s=i;o.specular.value.copy(s.specular),o.shininess.value=Math.max(s.shininess,1e-4),s.emissiveMap&&(o.emissiveMap.value=s.emissiveMap),s.bumpMap&&(o.bumpMap.value=s.bumpMap,o.bumpScale.value=s.bumpScale,1===s.side)&&(o.bumpScale.value*=-1),s.normalMap&&(o.normalMap.value=s.normalMap,o.normalScale.value.copy(s.normalScale),1===s.side)&&o.normalScale.value.negate(),s.displacementMap&&(o.displacementMap.value=s.displacementMap,o.displacementScale.value=s.displacementScale,o.displacementBias.value=s.displacementBias)}else if(i.isMeshStandardMaterial)t(e,i),i.isMeshPhysicalMaterial?(n(o=e,s=i),o.reflectivity.value=s.reflectivity,o.clearcoat.value=s.clearcoat,o.clearcoatRoughness.value=s.clearcoatRoughness,s.sheen&&o.sheen.value.copy(s.sheen),s.clearcoatMap&&(o.clearcoatMap.value=s.clearcoatMap),s.clearcoatRoughnessMap&&(o.clearcoatRoughnessMap.value=s.clearcoatRoughnessMap),s.clearcoatNormalMap&&(o.clearcoatNormalScale.value.copy(s.clearcoatNormalScale),o.clearcoatNormalMap.value=s.clearcoatNormalMap,1===s.side)&&o.clearcoatNormalScale.value.negate(),o.transmission.value=s.transmission,s.transmissionMap&&(o.transmissionMap.value=s.transmissionMap)):n(e,i);else if(i.isMeshMatcapMaterial){t(e,i);var l=e,c=i;c.matcap&&(l.matcap.value=c.matcap),c.bumpMap&&(l.bumpMap.value=c.bumpMap,l.bumpScale.value=c.bumpScale,1===c.side)&&(l.bumpScale.value*=-1),c.normalMap&&(l.normalMap.value=c.normalMap,l.normalScale.value.copy(c.normalScale),1===c.side)&&l.normalScale.value.negate(),c.displacementMap&&(l.displacementMap.value=c.displacementMap,l.displacementScale.value=c.displacementScale,l.displacementBias.value=c.displacementBias)}else if(i.isMeshDepthMaterial)t(e,i),l=e,(c=i).displacementMap&&(l.displacementMap.value=c.displacementMap,l.displacementScale.value=c.displacementScale,l.displacementBias.value=c.displacementBias);else if(i.isMeshDistanceMaterial){t(e,i);var u=e,h=i;h.displacementMap&&(u.displacementMap.value=h.displacementMap,u.displacementScale.value=h.displacementScale,u.displacementBias.value=h.displacementBias),u.referencePosition.value.copy(h.referencePosition),u.nearDistance.value=h.nearDistance,u.farDistance.value=h.farDistance}else if(i.isMeshNormalMaterial)t(e,i),u=e,(h=i).bumpMap&&(u.bumpMap.value=h.bumpMap,u.bumpScale.value=h.bumpScale,1===h.side)&&(u.bumpScale.value*=-1),h.normalMap&&(u.normalMap.value=h.normalMap,u.normalScale.value.copy(h.normalScale),1===h.side)&&u.normalScale.value.negate(),h.displacementMap&&(u.displacementMap.value=h.displacementMap,u.displacementScale.value=h.displacementScale,u.displacementBias.value=h.displacementBias);else if(i.isLineBasicMaterial)f=i,(d=e).diffuse.value.copy(f.color),d.opacity.value=f.opacity,i.isLineDashedMaterial&&(d=i,(f=e).dashSize.value=d.dashSize,f.totalSize.value=d.dashSize+d.gapSize,f.scale.value=d.scale);else if(i.isPointsMaterial){let t;d=i,(f=e).diffuse.value.copy(d.color),f.opacity.value=d.opacity,f.size.value=d.size*r,f.scale.value=.5*a,d.map&&(f.map.value=d.map),d.alphaMap&&(f.alphaMap.value=d.alphaMap),d.map?t=d.map:d.alphaMap&&(t=d.alphaMap),void 0!==t&&(!0===t.matrixAutoUpdate&&t.updateMatrix(),f.uvTransform.value.copy(t.matrix))}else if(i.isSpriteMaterial){let t;a=i,(r=e).diffuse.value.copy(a.color),r.opacity.value=a.opacity,r.rotation.value=a.rotation,a.map&&(r.map.value=a.map),a.alphaMap&&(r.alphaMap.value=a.alphaMap),a.map?t=a.map:a.alphaMap&&(t=a.alphaMap),void 0!==t&&(!0===t.matrixAutoUpdate&&t.updateMatrix(),r.uvTransform.value.copy(t.matrix))}else i.isShadowMaterial?(e.color.value.copy(i.color),e.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1);var d,f,p,m}}}function fo(e){const t=void 0!==(e=e||{}).canvas?e.canvas:((h=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")).style.display="block",h),n=void 0!==e.context?e.context:null,i=void 0!==e.alpha&&e.alpha,r=void 0===e.depth||e.depth,a=void 0===e.stencil||e.stencil,o=void 0!==e.antialias&&e.antialias,s=void 0===e.premultipliedAlpha||e.premultipliedAlpha,l=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,c=void 0!==e.powerPreference?e.powerPreference:"default",u=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat;var h;let d=null,f=null;const p=[],m=[],v=(this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=xt,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4,this);let g=!1,y=null,x=0,b=0,w=null,_=null,M=-1,S=null;const E=new It,T=new It;let C=null,A=t.width,L=t.height,P=1,k=null,D=null;const I=new It(0,0,A,L),R=new It(0,0,A,L);let N=!1;const O=new lr;let F=!1,z=!1;const B=new hn,H=new Ot,U={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function V(){return null===w?P:1}let G,j,W,X,q,Y,$,Z,Q,K,J,ee,te,ne,ie,re,ae,oe,se,le,ce,ue=n;function he(e,n){for(let r=0;r<e.length;r++){var i=e[r];if(null!==(i=t.getContext(i,n)))return i}return null}try{var de={alpha:i,depth:r,stencil:a,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:u};if(t.addEventListener("webglcontextlost",ge,!1),t.addEventListener("webglcontextrestored",ye,!1),null===ue){var fe=["webgl2","webgl","experimental-webgl"];if(!0===v.isWebGL1Renderer&&fe.shift(),null===(ue=he(fe,de)))throw he(fe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===ue.getShaderPrecisionFormat&&(ue.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(e){throw console.error("THREE.WebGLRenderer: "+e.message),e}function pe(){G=new wr(ue),j=new yr(ue,G,e),G.init(j),le=new oo(ue,G,j),(W=new ro(ue,G,j)).scissor(T.copy(R).multiplyScalar(P).floor()),W.viewport(E.copy(I).multiplyScalar(P).floor()),X=new Sr(ue),q=new ja,Y=new ao(ue,G,W,q,j,le,X),$=new br(v),Z=new ur(ue,j),ce=new vr(ue,G,Z,j),Q=new _r(ue,Z,X,ce),K=new Ar(ue,Q,Z,X),ae=new Cr(ue),ie=new xr(q),J=new Ga(v,$,G,j,ce,ie),ee=new ho(q),te=new Ya(q),ne=new eo(G,j),re=new mr(v,$,W,K,s),oe=new gr(ue,G,X,j),se=new Mr(ue,G,X,j),X.programs=J.programs,v.capabilities=j,v.extensions=G,v.properties=q,v.renderLists=te,v.state=W,v.info=X}pe();const me=new uo(v,ue),ve=(this.xr=me,new io(v,K,j.maxTextureSize));function ge(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),g=!0}function ye(){console.log("THREE.WebGLRenderer: Context Restored."),g=!1,pe()}function xe(e){(e=e.target).removeEventListener("dispose",xe),be(e=e),q.remove(e)}function be(e){void 0!==(e=q.get(e).program)&&J.releaseProgram(e)}this.shadowMap=ve,this.getContext=function(){return ue},this.getContextAttributes=function(){return ue.getContextAttributes()},this.forceContextLoss=function(){var e=G.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=G.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return P},this.setPixelRatio=function(e){void 0!==e&&(P=e,this.setSize(A,L,!1))},this.getSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),e=new Tt),e.set(A,L)},this.setSize=function(e,n,i){me.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(A=e,L=n,t.width=Math.floor(e*P),t.height=Math.floor(n*P),!1!==i&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),e=new Tt),e.set(A*P,L*P).floor()},this.setDrawingBufferSize=function(e,n,i){A=e,L=n,P=i,t.width=Math.floor(e*i),t.height=Math.floor(n*i),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),e=new It),e.copy(E)},this.getViewport=function(e){return e.copy(I)},this.setViewport=function(e,t,n,i){e.isVector4?I.set(e.x,e.y,e.z,e.w):I.set(e,t,n,i),W.viewport(E.copy(I).multiplyScalar(P).floor())},this.getScissor=function(e){return e.copy(R)},this.setScissor=function(e,t,n,i){e.isVector4?R.set(e.x,e.y,e.z,e.w):R.set(e,t,n,i),W.scissor(T.copy(R).multiplyScalar(P).floor())},this.getScissorTest=function(){return N},this.setScissorTest=function(e){W.setScissorTest(N=e)},this.setOpaqueSort=function(e){k=e},this.setTransparentSort=function(e){D=e},this.getClearColor=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getClearColor() now requires a Color as an argument"),e=new oi),e.copy(re.getClearColor())},this.setClearColor=function(){re.setClearColor.apply(re,arguments)},this.getClearAlpha=function(){return re.getClearAlpha()},this.setClearAlpha=function(){re.setClearAlpha.apply(re,arguments)},this.clear=function(e,t,n){let i=0;void 0!==e&&!e||(i|=16384),void 0!==t&&!t||(i|=256),void 0!==n&&!n||(i|=1024),ue.clear(i)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",ge,!1),t.removeEventListener("webglcontextrestored",ye,!1),te.dispose(),ne.dispose(),q.dispose(),$.dispose(),K.dispose(),ce.dispose(),me.dispose(),_e.stop()},this.renderBufferImmediate=function(e,t){ce.initAttributes();var n=q.get(e);e.hasPositions&&!n.position&&(n.position=ue.createBuffer()),e.hasNormals&&!n.normal&&(n.normal=ue.createBuffer()),e.hasUvs&&!n.uv&&(n.uv=ue.createBuffer()),e.hasColors&&!n.color&&(n.color=ue.createBuffer()),t=t.getAttributes();e.hasPositions&&(ue.bindBuffer(34962,n.position),ue.bufferData(34962,e.positionArray,35048),ce.enableAttribute(t.position),ue.vertexAttribPointer(t.position,3,5126,!1,0,0)),e.hasNormals&&(ue.bindBuffer(34962,n.normal),ue.bufferData(34962,e.normalArray,35048),ce.enableAttribute(t.normal),ue.vertexAttribPointer(t.normal,3,5126,!1,0,0)),e.hasUvs&&(ue.bindBuffer(34962,n.uv),ue.bufferData(34962,e.uvArray,35048),ce.enableAttribute(t.uv),ue.vertexAttribPointer(t.uv,2,5126,!1,0,0)),e.hasColors&&(ue.bindBuffer(34962,n.color),ue.bufferData(34962,e.colorArray,35048),ce.enableAttribute(t.color),ue.vertexAttribPointer(t.color,3,5126,!1,0,0)),ce.disableUnusedAttributes(),ue.drawArrays(4,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,n,i,r,a){null===t&&(t=U);var o=r.isMesh&&r.matrixWorld.determinant()<0;e=Te(e,t,i,r);W.setMaterial(i,o);let s=n.index;if(t=n.attributes.position,null===s){if(void 0===t||0===t.count)return}else if(0===s.count)return;let l=1,c=(!0===i.wireframe&&(s=Q.getWireframeAttribute(n),l=2),(i.morphTargets||i.morphNormals)&&ae.update(r,n,i,e),ce.setup(r,i,e,n,s),oe);null!==s&&(o=Z.get(s),(c=se).setIndex(o));e=(null!==s?s:t).count,o=n.drawRange.start*l,t=n.drawRange.count*l;var u=null!==a?a.start*l:0,h=(a=null!==a?a.count*l:1/0,Math.max(o,u));e=Math.min(e,o+t,u+a)-1;if(0!==(o=Math.max(0,e-h+1))){if(r.isMesh)!0===i.wireframe?(W.setLineWidth(i.wireframeLinewidth*V()),c.setMode(1)):c.setMode(4);else if(r.isLine){let e=i.linewidth;void 0===e&&(e=1),W.setLineWidth(e*V()),r.isLineSegments?c.setMode(1):r.isLineLoop?c.setMode(2):c.setMode(3)}else r.isPoints?c.setMode(0):r.isSprite&&c.setMode(4);r.isInstancedMesh?c.renderInstances(h,o,r.count):n.isInstancedBufferGeometry?(t=Math.min(n.instanceCount,n._maxInstanceCount),c.renderInstances(h,o,t)):c.render(h,o)}},this.compile=function(e,t){(f=ne.get(e)).init(),e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(f.pushLight(e),e.castShadow)&&f.pushShadow(e)})),f.setupLights();const n=new WeakMap;e.traverse((function(t){var i=t.material;if(i)if(Array.isArray(i))for(let a=0;a<i.length;a++){var r=i[a];!1===n.has(r)&&(Ee(r,e,t),n.set(r))}else!1===n.has(i)&&(Ee(i,e,t),n.set(i))}))};let we=null;const _e=new cr;function Me(e,t,n){var i=!0===t.isScene?t.overrideMaterial:null;for(let h=0,d=e.length;h<d;h++){var r=e[h],a=r.object,o=r.geometry,s=null===i?r.material:i,l=r.group;if(n.isArrayCamera){var c=n.cameras;for(let e=0,n=c.length;e<n;e++){var u=c[e];a.layers.test(u.layers)&&(W.viewport(E.copy(u.viewport)),f.setupLightsView(u),Se(a,t,u,o,s,l))}}else Se(a,t,n,o,s,l)}}function Se(e,t,n,i,r,a){var o,s;e.onBeforeRender(v,t,n,i,r,a),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject?(o=Te(n,t,r,e),W.setMaterial(r),ce.reset(),s=o,e.render((function(e){v.renderBufferImmediate(e,s)}))):v.renderBufferDirect(n,t,i,r,e,a),e.onAfterRender(v,t,n,i,r,a)}function Ee(e,t,n){!0!==t.isScene&&(t=U);var i=q.get(e),r=f.state.lights,a=f.state.shadowsArray,o=r.state.version,s=(a=J.getParameters(e,r.state,a,t,n),n=J.getProgramCacheKey(a),i.program);let l=!0;if(i.environment=e.isMeshStandardMaterial?t.environment:null,i.fog=t.fog,i.envMap=$.get(e.envMap||i.environment),void 0===s)e.addEventListener("dispose",xe);else if(s.cacheKey!==n)be(e);else{if(i.lightsStateVersion===o&&void 0!==a.shaderID)return;l=!1}l&&(a.uniforms=J.getUniforms(e),e.onBeforeCompile(a,v),s=J.acquireProgram(a,n),i.program=s,i.uniforms=a.uniforms,i.outputEncoding=a.outputEncoding),t=i.uniforms,(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(i.numClippingPlanes=ie.numPlanes,i.numIntersection=ie.numIntersection,t.clippingPlanes=ie.uniform),i.needsLights=(n=e).isMeshLambertMaterial||n.isMeshToonMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.isShadowMaterial||n.isShaderMaterial&&!0===n.lights,i.lightsStateVersion=o,i.needsLights&&(t.ambientLightColor.value=r.state.ambient,t.lightProbe.value=r.state.probe,t.directionalLights.value=r.state.directional,t.directionalLightShadows.value=r.state.directionalShadow,t.spotLights.value=r.state.spot,t.spotLightShadows.value=r.state.spotShadow,t.rectAreaLights.value=r.state.rectArea,t.ltc_1.value=r.state.rectAreaLTC1,t.ltc_2.value=r.state.rectAreaLTC2,t.pointLights.value=r.state.point,t.pointLightShadows.value=r.state.pointShadow,t.hemisphereLights.value=r.state.hemi,t.directionalShadowMap.value=r.state.directionalShadowMap,t.directionalShadowMatrix.value=r.state.directionalShadowMatrix,t.spotShadowMap.value=r.state.spotShadowMap,t.spotShadowMatrix.value=r.state.spotShadowMatrix,t.pointShadowMap.value=r.state.pointShadowMap,t.pointShadowMatrix.value=r.state.pointShadowMatrix),s=i.program.getUniforms(),a=Sa.seqWithValue(s.seq,t),i.uniformsList=a}function Te(e,t,n,i){!0!==t.isScene&&(t=U),Y.resetTextureUnits();var r=t.fog,a=n.isMeshStandardMaterial?t.environment:null,o=null===w?v.outputEncoding:w.texture.encoding,s=$.get(n.envMap||a),l=q.get(n),c=f.state.lights;!0!==F||!0!==z&&e===S||(p=e===S&&n.id===M,ie.setState(n,e,p)),n.version===l.__version?(n.fog&&l.fog!==r||l.environment!==a||l.needsLights&&l.lightsStateVersion!==c.state.version||void 0!==l.numClippingPlanes&&(l.numClippingPlanes!==ie.numPlanes||l.numIntersection!==ie.numIntersection)||l.outputEncoding!==o||l.envMap!==s)&&Ee(n,t,i):(Ee(n,t,i),l.__version=n.version);let u=!1,h=!1,d=!1;var p=l.program;a=p.getUniforms(),c=l.uniforms;return W.useProgram(p.program)&&(u=!0,h=!0,d=!0),n.id!==M&&(M=n.id,h=!0),(u||S!==e)&&(a.setValue(ue,"projectionMatrix",e.projectionMatrix),j.logarithmicDepthBuffer&&a.setValue(ue,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),S!==e&&(S=e,h=!0,d=!0),(n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshStandardMaterial||n.envMap)&&void 0!==(o=a.map.cameraPosition)&&o.setValue(ue,H.setFromMatrixPosition(e.matrixWorld)),(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial)&&a.setValue(ue,"isOrthographic",!0===e.isOrthographicCamera),n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.isShadowMaterial||n.skinning)&&a.setValue(ue,"viewMatrix",e.matrixWorldInverse),n.skinning&&(a.setOptional(ue,i,"bindMatrix"),a.setOptional(ue,i,"bindMatrixInverse"),s=i.skeleton)&&(t=s.bones,j.floatVertexTextures?(null===s.boneTexture&&(o=Math.sqrt(4*t.length),o=Et.ceilPowerOfTwo(o),o=Math.max(o,4),(e=new Float32Array(o*o*4)).set(s.boneMatrices),t=new ar(e,o,o,vt,ft),s.boneMatrices=e,s.boneTexture=t,s.boneTextureSize=o),a.setValue(ue,"boneTexture",s.boneTexture,Y),a.setValue(ue,"boneTextureSize",s.boneTextureSize)):a.setOptional(ue,s,"boneMatrices")),!h&&l.receiveShadow===i.receiveShadow||(l.receiveShadow=i.receiveShadow,a.setValue(ue,"receiveShadow",i.receiveShadow)),h&&(a.setValue(ue,"toneMappingExposure",v.toneMappingExposure),l.needsLights&&(t=d,(e=c).ambientLightColor.needsUpdate=t,e.lightProbe.needsUpdate=t,e.directionalLights.needsUpdate=t,e.directionalLightShadows.needsUpdate=t,e.pointLights.needsUpdate=t,e.pointLightShadows.needsUpdate=t,e.spotLights.needsUpdate=t,e.spotLightShadows.needsUpdate=t,e.rectAreaLights.needsUpdate=t,e.hemisphereLights.needsUpdate=t),r&&n.fog&&ee.refreshFogUniforms(c,r),ee.refreshMaterialUniforms(c,n,P,L),Sa.upload(ue,l.uniformsList,c,Y)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(Sa.upload(ue,l.uniformsList,c,Y),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&a.setValue(ue,"center",i.center),a.setValue(ue,"modelViewMatrix",i.modelViewMatrix),a.setValue(ue,"normalMatrix",i.normalMatrix),a.setValue(ue,"modelMatrix",i.matrixWorld),p}_e.setAnimationLoop((function(e){me.isPresenting||we&&we(e)})),"undefined"!=typeof window&&_e.setContext(window),this.setAnimationLoop=function(e){we=e,me.setAnimationLoop(e),null===e?_e.stop():_e.start()},this.render=function(e,t){let n,i;var r,a;void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),n=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),i=arguments[3]),void 0!==t&&!0!==t.isCamera?console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera."):!0!==g&&(ce.resetDefaultState(),M=-1,!(S=null)===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),!0===me.enabled&&!0===me.isPresenting&&(t=me.getCamera(t)),!0===e.isScene&&e.onBeforeRender(v,e,t,n||w),(f=ne.get(e,m.length)).init(),m.push(f),B.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),O.setFromProjectionMatrix(B),z=this.localClippingEnabled,F=ie.init(this.clippingPlanes,z,t),(d=te.get(e,p.length)).init(),p.push(d),function e(t,n,i,r){if(!1===t.visible)return;if(t.layers.test(n.layers))if(t.isGroup)i=t.renderOrder;else if(t.isLOD)!0===t.autoUpdate&&t.update(n);else if(t.isLight)f.pushLight(t),t.castShadow&&f.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||O.intersectsSprite(t)){r&&H.setFromMatrixPosition(t.matrixWorld).applyMatrix4(B);const e=K.update(t),n=t.material;n.visible&&d.push(t,e,n,i,H.z,null)}}else if(t.isImmediateRenderObject)r&&H.setFromMatrixPosition(t.matrixWorld).applyMatrix4(B),d.push(t,null,t.material,i,H.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.frame!==X.render.frame&&(t.skeleton.update(),t.skeleton.frame=X.render.frame),!t.frustumCulled||O.intersectsObject(t))){r&&H.setFromMatrixPosition(t.matrixWorld).applyMatrix4(B);const e=K.update(t),n=t.material;if(Array.isArray(n)){const r=e.groups;for(let a=0,o=r.length;a<o;a++){const o=r[a],s=n[o.materialIndex];s&&s.visible&&d.push(t,e,s,i,H.z,o)}}else n.visible&&d.push(t,e,n,i,H.z,null)}const a=t.children;for(let t=0,o=a.length;t<o;t++)e(a[t],n,i,r)}(e,t,0,v.sortObjects),d.finish(),!0===v.sortObjects&&d.sort(k,D),!0===F&&ie.beginShadows(),r=f.state.shadowsArray,ve.render(r,e,t),f.setupLights(),f.setupLightsView(t),!0===F&&ie.endShadows(),!0===this.info.autoReset&&this.info.reset(),void 0!==n&&this.setRenderTarget(n),re.render(d,e,t,i),r=d.opaque,a=d.transparent,0<r.length&&Me(r,e,t),0<a.length&&Me(a,e,t),!0===e.isScene&&e.onAfterRender(v,e,t),null!==w&&(Y.updateRenderTargetMipmap(w),Y.updateMultisampleRenderTarget(w)),W.buffers.depth.setTest(!0),W.buffers.depth.setMask(!0),W.buffers.color.setMask(!0),W.setPolygonOffset(!1),m.pop(),f=0<m.length?m[m.length-1]:null,p.pop(),d=0<p.length?p[p.length-1]:null)},this.setFramebuffer=function(e){y!==e&&null===w&&ue.bindFramebuffer(36160,e),y=e},this.getActiveCubeFace=function(){return x},this.getActiveMipmapLevel=function(){return b},this.getRenderTarget=function(){return w},this.setRenderTarget=function(e,t=0,n=0){w=e,x=t,b=n,e&&void 0===q.get(e).__webglFramebuffer&&Y.setupRenderTarget(e);let i=y,r=!1,a=!1;var o;C=e?(((o=e.texture).isDataTexture3D||o.isDataTexture2DArray)&&(a=!0),o=q.get(e).__webglFramebuffer,e.isWebGLCubeRenderTarget?(i=o[t],r=!0):i=e.isWebGLMultisampleRenderTarget?q.get(e).__webglMultisampledFramebuffer:o,E.copy(e.viewport),T.copy(e.scissor),e.scissorTest):(E.copy(I).multiplyScalar(P).floor(),T.copy(R).multiplyScalar(P).floor(),N),_!==i&&(ue.bindFramebuffer(36160,i),_=i),W.viewport(E),W.scissor(T),W.setScissorTest(C),r?(o=q.get(e.texture),ue.framebufferTexture2D(36160,36064,34069+t,o.__webglTexture,n)):a&&(o=q.get(e.texture),e=t||0,ue.framebufferTextureLayer(36160,36064,o.__webglTexture,n||0,e))},this.readRenderTargetPixels=function(e,t,n,i,r,a,o){if(e&&e.isWebGLRenderTarget){let h=q.get(e).__webglFramebuffer;if(h=e.isWebGLCubeRenderTarget&&void 0!==o?h[o]:h){let o=!1;h!==_&&(ue.bindFramebuffer(36160,h),o=!0);try{var s,l=e.texture,c=l.format,u=l.type;c!==vt&&le.convert(c)!==ue.getParameter(35739)?console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format."):(s=1016===u&&(G.has("EXT_color_buffer_half_float")||j.isWebGL2&&G.has("EXT_color_buffer_float")),1009===u||le.convert(u)===ue.getParameter(35738)||u===ft&&(j.isWebGL2||G.has("OES_texture_float")||G.has("WEBGL_color_buffer_float"))||s?36053===ue.checkFramebufferStatus(36160)?0<=t&&t<=e.width-i&&0<=n&&n<=e.height-r&&ue.readPixels(t,n,i,r,le.convert(c),le.convert(u),a):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete."):console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type."))}finally{o&&ue.bindFramebuffer(36160,_)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t,n=0){var i=Math.pow(2,-n),r=Math.floor(t.image.width*i),a=(i=Math.floor(t.image.height*i),le.convert(t.format));Y.setTexture2D(t,0),ue.copyTexImage2D(3553,n,a,e.x,e.y,r,i,0),W.unbindTexture()},this.copyTextureToTexture=function(e,t,n,i=0){var r=t.image.width,a=t.image.height,o=le.convert(n.format),s=le.convert(n.type);Y.setTexture2D(n,0),ue.pixelStorei(37440,n.flipY),ue.pixelStorei(37441,n.premultiplyAlpha),ue.pixelStorei(3317,n.unpackAlignment),t.isDataTexture?ue.texSubImage2D(3553,i,e.x,e.y,r,a,o,s,t.image.data):t.isCompressedTexture?ue.compressedTexSubImage2D(3553,i,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,o,t.mipmaps[0].data):ue.texSubImage2D(3553,i,e.x,e.y,o,s,t.image),0===i&&n.generateMipmaps&&ue.generateMipmap(3553),W.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n,i,r=0){if(v.isWebGL1Renderer)console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");else{var{width:n,height:a,data:o}=n.image,s=le.convert(i.format),l=le.convert(i.type);let p;if(i.isDataTexture3D)Y.setTexture3D(i,0),p=32879;else{if(!i.isDataTexture2DArray)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");Y.setTexture2DArray(i,0),p=35866}ue.pixelStorei(37440,i.flipY),ue.pixelStorei(37441,i.premultiplyAlpha),ue.pixelStorei(3317,i.unpackAlignment);var c=ue.getParameter(3314),u=ue.getParameter(32878),h=ue.getParameter(3316),d=ue.getParameter(3315),f=ue.getParameter(32877);ue.pixelStorei(3314,n),ue.pixelStorei(32878,a),ue.pixelStorei(3316,e.min.x),ue.pixelStorei(3315,e.min.y),ue.pixelStorei(32877,e.min.z),ue.texSubImage3D(p,r,t.x,t.y,t.z,e.max.x-e.min.x+1,e.max.y-e.min.y+1,e.max.z-e.min.z+1,s,l,o),ue.pixelStorei(3314,c),ue.pixelStorei(32878,u),ue.pixelStorei(3316,h),ue.pixelStorei(3315,d),ue.pixelStorei(32877,f),0===r&&i.generateMipmaps&&ue.generateMipmap(p),W.unbindTexture()}},this.initTexture=function(e){Y.setTexture2D(e,0),W.unbindTexture()},this.resetState=function(){W.reset(),ce.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}lo.prototype.isGroup=!0,Object.assign(co.prototype,{constructor:co,getHandSpace:function(){return null===this._hand&&(this._hand=new lo,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand},getTargetRaySpace:function(){return null===this._targetRay&&(this._targetRay=new lo,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return null===this._grip&&(this._grip=new lo,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this},disconnect:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this},update:function(e,t,n){let i=null,r=null,a=null;var o=this._targetRay,s=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState)if(l&&e.hand){a=!0;for(const i of e.hand.values()){var c=t.getJointPose(i,n),u=(void 0===l.joints[i.jointName]&&((u=new lo).matrixAutoUpdate=!1,u.visible=!1,l.joints[i.jointName]=u,l.add(u)),l.joints[i.jointName]);null!==c&&(u.matrix.fromArray(c.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.jointRadius=c.radius),u.visible=null!==c}var h=l.joints["index-finger-tip"],d=l.joints["thumb-tip"];h=h.position.distanceTo(d.position);l.inputState.pinching&&.025<h?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&h<=.015&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==o&&null!==(i=t.getPose(e.targetRaySpace,n))&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale)),null!==s&&e.gripSpace&&null!==(r=t.getPose(e.gripSpace,n))&&(s.matrix.fromArray(r.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale));return null!==o&&(o.visible=null!==i),null!==s&&(s.visible=null!==r),null!==l&&(l.visible=null!==a),this}}),Object.assign(uo.prototype,_t.prototype);class po{constructor(e,t){this.name="",this.color=new oi(e),this.density=void 0!==t?t:25e-5}clone(){return new po(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}po.prototype.isFogExp2=class extends fo{}.prototype.isWebGL1Renderer=!0;class mo{constructor(e,t,n){this.name="",this.color=new oi(e),this.near=void 0!==t?t:1,this.far=void 0!==n?n:1e3}clone(){return new mo(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}mo.prototype.isFog=!0;class vo extends On{constructor(){super(),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){var t=super.toJSON(e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.environment&&(t.object.environment=this.environment.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}function go(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=bt,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Et.generateUUID()}vo.prototype.isScene=!0,Object.defineProperty(go.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(go.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(let i=0,r=this.stride;i<r;i++)this.array[e+i]=t.array[n+i];return this},set:function(e,t=0){return this.array.set(e,t),this},clone:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Et.generateUUID()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer),(e=new go(new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),this.stride)).setUsage(this.usage),e},onUpload:function(e){return this.onUploadCallback=e,this},toJSON:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Et.generateUUID()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});const yo=new Ot;function xo(e,t,n,i){this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===i}Object.defineProperties(xo.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}},needsUpdate:{set:function(e){this.data.needsUpdate=e}}}),Object.assign(xo.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(e){for(let t=0,n=this.data.count;t<n;t++)yo.x=this.getX(t),yo.y=this.getY(t),yo.z=this.getZ(t),yo.applyMatrix4(e),this.setXYZ(t,yo.x,yo.y,yo.z);return this},setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this},setXYZW:function(e,t,n,i,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=r,this},clone:function(e){if(void 0!==e)return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new xo(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized);console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");var t=[];for(let e=0;e<this.count;e++){var n=e*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)t.push(this.data.array[n+e])}return new ui(new this.array.constructor(t),this.itemSize,this.normalized)},toJSON:function(e){if(void 0!==e)return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized};console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");var t=[];for(let e=0;e<this.count;e++){var n=e*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)t.push(this.data.array[n+e])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}});class bo extends Jn{constructor(e){super(),this.type="SpriteMaterial",this.color=new oi(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}}let wo;bo.prototype.isSpriteMaterial=!0;const _o=new Ot,Mo=new Ot,So=new Ot,Eo=new Tt,To=new Tt,Co=new hn,Ao=new Ot,Lo=new Ot,Po=new Ot,ko=new Tt,Do=new Tt,Io=new Tt;function Ro(e,t,n,i,r,a){Eo.subVectors(e,n).addScalar(.5).multiply(i),void 0!==r?(To.x=a*Eo.x-r*Eo.y,To.y=r*Eo.x+a*Eo.y):To.copy(Eo),e.copy(t),e.x+=To.x,e.y+=To.y,e.applyMatrix4(Co)}(class extends On{constructor(e){var t;super(),this.type="Sprite",void 0===wo&&(wo=new Li,t=new go(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5),wo.setIndex([0,1,2,0,2,3]),wo.setAttribute("position",new xo(t,3,0,!1)),wo.setAttribute("uv",new xo(t,2,3,!1))),this.geometry=wo,this.material=void 0!==e?e:new bo,this.center=new Tt(.5,.5)}raycast(e,t){let n,i;null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Mo.setFromMatrixScale(this.matrixWorld),Co.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),So.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Mo.multiplyScalar(-So.z),0!==(r=this.material.rotation)&&(i=Math.cos(r),n=Math.sin(r));var r=this.center,a=(Ro(Ao.set(-.5,-.5,0),So,r,Mo,n,i),Ro(Lo.set(.5,-.5,0),So,r,Mo,n,i),Ro(Po.set(.5,.5,0),So,r,Mo,n,i),ko.set(0,0),Do.set(1,0),Io.set(1,1),e.ray.intersectTriangle(Ao,Lo,Po,!1,_o));null===a&&(Ro(Lo.set(-.5,.5,0),So,r,Mo,n,i),Do.set(0,1),null===(a=e.ray.intersectTriangle(Ao,Po,Lo,!1,_o)))||(r=e.ray.origin.distanceTo(_o))<e.near||r>e.far||t.push({distance:r,point:_o.clone(),uv:Qn.getUV(_o,Ao,Lo,Po,ko,Do,Io,new Tt),face:null,object:this})}copy(e){return super.copy(e),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}).prototype.isSprite=!0;const No=new Ot,Oo=new Ot;const Fo=new Ot,zo=new It,Bo=new It,Ho=new Ot,Uo=new hn;function Vo(e,t){qi.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new hn,this.bindMatrixInverse=new hn}function Go(){On.call(this),this.type="Bone"}Vo.prototype=Object.assign(Object.create(qi.prototype),{constructor:Vo,isSkinnedMesh:!0,copy:function(e){return qi.prototype.copy.call(this,e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this},bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){var e=new It,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.x=t.getX(i),e.y=t.getY(i),e.z=t.getZ(i),e.w=t.getW(i);var n=1/e.manhattanLength();n!=1/0?e.multiplyScalar(n):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){qi.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:function(e,t){var n=this.skeleton,i=this.geometry;zo.fromBufferAttribute(i.attributes.skinIndex,e),Bo.fromBufferAttribute(i.attributes.skinWeight,e),Fo.fromBufferAttribute(i.attributes.position,e).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let e=0;e<4;e++){var r,a=Bo.getComponent(e);0!==a&&(r=zo.getComponent(e),Uo.multiplyMatrices(n.bones[r].matrixWorld,n.boneInverses[r]),t.addScaledVector(Ho.copy(Fo).applyMatrix4(Uo),a))}return t.applyMatrix4(this.bindMatrixInverse)}}),Go.prototype=Object.assign(Object.create(On.prototype),{constructor:Go,isBone:!0});const jo=new hn,Wo=new hn;class Xo{constructor(e=[],t=[]){this.uuid=Et.generateUUID(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){var e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let e=0,t=this.bones.length;e<t;e++)this.boneInverses.push(new hn)}}calculateInverses(){for(let t=this.boneInverses.length=0,n=this.bones.length;t<n;t++){var e=new hn;this.bones[t]&&e.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(e)}}pose(){for(let t=0,n=this.bones.length;t<n;t++){var e=this.bones[t];e&&e.matrixWorld.copy(this.boneInverses[t]).invert()}for(let e=0,n=this.bones.length;e<n;e++){var t=this.bones[e];t&&(t.parent&&t.parent.isBone?(t.matrix.copy(t.parent.matrixWorld).invert(),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))}}update(){var e=this.bones,t=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let i=0,a=e.length;i<a;i++){var r=e[i]?e[i].matrixWorld:Wo;jo.multiplyMatrices(r,t[i]),jo.toArray(n,16*i)}null!==i&&(i.needsUpdate=!0)}clone(){return new Xo(this.bones,this.boneInverses)}getBoneByName(e){for(let n=0,i=this.bones.length;n<i;n++){var t=this.bones[n];if(t.name===e)return t}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){var n=e.bones[i];let r=t[n];void 0===r&&(console.warn("THREE.Skeleton: No bone found with UUID:",n),r=new Go),this.bones.push(r),this.boneInverses.push((new hn).fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){var e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]},t=(e.uuid=this.uuid,this.bones),n=this.boneInverses;for(let r=0,a=t.length;r<a;r++){var i=t[r];i=(e.bones.push(i.uuid),n[r]);e.boneInverses.push(i.toArray())}return e}}const qo=new hn,Yo=new hn,$o=[],Zo=new qi;function Qo(e,t,n){qi.call(this,e,t),this.instanceMatrix=new ui(new Float32Array(16*n),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1}Qo.prototype=Object.assign(Object.create(qi.prototype),{constructor:Qo,isInstancedMesh:!0,copy:function(e){return qi.prototype.copy.call(this,e),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this},getColorAt:function(e,t){t.fromArray(this.instanceColor.array,3*e)},getMatrixAt:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)},raycast:function(e,t){var n=this.matrixWorld,i=this.count;if(Zo.geometry=this.geometry,Zo.material=this.material,void 0!==Zo.material)for(let a=0;a<i;a++){this.getMatrixAt(a,qo),Yo.multiplyMatrices(n,qo),Zo.matrixWorld=Yo,Zo.raycast(e,$o);for(let e=0,n=$o.length;e<n;e++){var r=$o[e];r.instanceId=a,r.object=this,t.push(r)}$o.length=0}},setColorAt:function(e,t){null===this.instanceColor&&(this.instanceColor=new ui(new Float32Array(3*this.count),3)),t.toArray(this.instanceColor.array,3*e)},setMatrixAt:function(e,t){t.toArray(this.instanceMatrix.array,16*e)},updateMorphTargets:function(){},dispose:function(){this.dispatchEvent({type:"dispose"})}});class Ko extends Jn{constructor(e){super(),this.type="LineBasicMaterial",this.color=new oi(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.morphTargets=e.morphTargets,this}}Ko.prototype.isLineBasicMaterial=!0;const Jo=new Ot,es=new Ot,ts=new hn,ns=new un,is=new tn;function rs(e=new Li,t=new Ko){On.call(this),this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}rs.prototype=Object.assign(Object.create(On.prototype),{constructor:rs,isLine:!0,copy:function(e){return On.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){var t=e.attributes.position,n=[0];for(let e=1,i=t.count;e<i;e++)Jo.fromBufferAttribute(t,e-1),es.fromBufferAttribute(t,e),n[e]=n[e-1],n[e]+=Jo.distanceTo(es);e.setAttribute("lineDistance",new xi(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this},raycast:function(e,t){var n=this.geometry,i=this.matrixWorld,r=e.params.Line.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),is.copy(n.boundingSphere),is.applyMatrix4(i),is.radius+=r,!1!==e.ray.intersectsSphere(is)){ts.copy(i).invert(),ns.copy(e.ray).applyMatrix4(ts);var a=(i=r/((this.scale.x+this.scale.y+this.scale.z)/3))*i,o=new Ot,s=new Ot,l=new Ot,c=new Ot,u=this.isLineSegments?2:1;if(n.isBufferGeometry){r=n.index;var h,d=n.attributes.position;if(null!==r){var f=r.array;for(let n=0,i=f.length-1;n<i;n+=u){var p=f[n],m=f[n+1];a<(p=(o.fromBufferAttribute(d,p),s.fromBufferAttribute(d,m),ns.distanceSqToSegment(o,s,c,l)))||(c.applyMatrix4(this.matrixWorld),(m=e.ray.origin.distanceTo(c))<e.near)||m>e.far||t.push({distance:m,point:l.clone().applyMatrix4(this.matrixWorld),index:n,face:null,faceIndex:null,object:this})}}else for(let n=0,i=d.count-1;n<i;n+=u)o.fromBufferAttribute(d,n),s.fromBufferAttribute(d,n+1),a<ns.distanceSqToSegment(o,s,c,l)||(c.applyMatrix4(this.matrixWorld),(h=e.ray.origin.distanceTo(c))<e.near)||h>e.far||t.push({distance:h,point:l.clone().applyMatrix4(this.matrixWorld),index:n,face:null,faceIndex:null,object:this})}else n.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},updateMorphTargets:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(0<n.length){var i=t[n[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=i.length;e<t;e++){var r=i[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[r]=e}}}}else void 0!==(t=e.morphTargets)&&0<t.length&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}});const as=new Ot,os=new Ot;function ss(e,t){rs.call(this,e,t),this.type="LineSegments"}ss.prototype=Object.assign(Object.create(rs.prototype),{constructor:ss,isLineSegments:!0,computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){var t=e.attributes.position,n=[];for(let e=0,i=t.count;e<i;e+=2)as.fromBufferAttribute(t,e),os.fromBufferAttribute(t,e+1),n[e]=0===e?0:n[e-1],n[e+1]=n[e]+as.distanceTo(os);e.setAttribute("lineDistance",new xi(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}});(class extends rs{constructor(e,t){super(e,t),this.type="LineLoop"}}).prototype.isLineLoop=!0;class ls extends Jn{constructor(e){super(),this.type="PointsMaterial",this.color=new oi(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this}}ls.prototype.isPointsMaterial=!0;const cs=new hn,us=new un,hs=new tn,ds=new Ot;function fs(e=new Li,t=new ls){On.call(this),this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}function ps(e,t,n,i,r,a,o){var s=us.distanceSqToPoint(e);s<n&&(n=new Ot,us.closestPointToPoint(e,n),n.applyMatrix4(i),(e=r.ray.origin.distanceTo(n))<r.near||e>r.far||a.push({distance:e,distanceToRay:Math.sqrt(s),point:n,index:t,face:null,object:o}))}fs.prototype=Object.assign(Object.create(On.prototype),{constructor:fs,isPoints:!0,copy:function(e){return On.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},raycast:function(e,t){var n=this.geometry,i=this.matrixWorld,r=e.params.Points.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),hs.copy(n.boundingSphere),hs.applyMatrix4(i),hs.radius+=r,!1!==e.ray.intersectsSphere(hs)){cs.copy(i).invert(),us.copy(e.ray).applyMatrix4(cs);var a=(r=r/((this.scale.x+this.scale.y+this.scale.z)/3))*r;if(n.isBufferGeometry){r=n.index;var o=n.attributes.position;if(null!==r){var s=r.array;for(let n=0,r=s.length;n<r;n++){var l=s[n];ds.fromBufferAttribute(o,l),ps(ds,l,a,i,e,t,this)}}else for(let n=0,r=o.count;n<r;n++)ds.fromBufferAttribute(o,n),ps(ds,n,a,i,e,t,this)}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},updateMorphTargets:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(0<n.length){var i=t[n[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=i.length;e<t;e++){var r=i[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[r]=e}}}}else void 0!==(t=e.morphTargets)&&0<t.length&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}});class ms extends kt{constructor(e,t,n,i,r,a,o,s,l,c,u,h){super(null,a,o,s,l,c,i,r,u,h),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}ms.prototype.isCompressedTexture=class extends kt{constructor(e,t,n,i,r,a,o,s,l){super(e,t,n,i,r,a,o,s,l),this.format=void 0!==o?o:mt,this.minFilter=void 0!==a?a:ht,this.magFilter=void 0!==r?r:ht,this.generateMipmaps=!1;const c=this;"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback((function t(){c.needsUpdate=!0,e.requestVideoFrameCallback(t)}))}clone(){return new this.constructor(this.image).copy(this)}update(){var e=this.image;0=="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}.prototype.isVideoTexture=!0,class extends kt{constructor(e,t,n,i,r,a,o,s,l,c){if((c=void 0!==c?c:gt)!==gt&&c!==yt)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");super(null,i,r,a,o,s,c,n=void 0===(n=void 0===n&&c===gt?1012:n)&&c===yt?pt:n,l),this.image={width:e,height:t},this.magFilter=void 0!==o?o:ut,this.minFilter=void 0!==s?s:ut,this.flipY=!1,this.generateMipmaps=!1}}.prototype.isDepthTexture=class extends kt{constructor(e,t,n,i,r,a,o,s,l){super(e,t,n,i,r,a,o,s,l),this.needsUpdate=!0}}.prototype.isCanvasTexture=!0;new Ot,new Ot,new Ot,new Qn;const vs=function(e,t,n){n=n||2;var i=t&&t.length,r=i?t[0]*n:e.length;let a=gs(e,0,r,n,!0);var o=[];if(a&&a.next!==a.prev){let s,l,c,u,h,d,f;if(i&&(a=function(e,t,n,i){var r=[];let a,o,s,l,c;for(a=0,o=t.length;a<o;a++)s=t[a]*i,l=a<o-1?t[a+1]*i:e.length,(c=gs(e,s,l,i,!1))===c.next&&(c.steiner=!0),r.push(function(e){let t=e,n=e;for(;(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next,t!==e;);return n}(c));for(r.sort(xs),a=0;a<r.length;a++)!function(e,t){(t=function(e,t){let n=t;var i=e.x,r=e.y;let a,o=-1/0;do{if(r<=n.y&&r>=n.next.y&&n.next.y!==n.y){var s=n.x+(r-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=i&&s>o){if((o=s)===i){if(r===n.y)return n;if(r===n.next.y)return n.next}a=n.x<n.next.x?n:n.next}}}while(n=n.next,n!==t);if(!a)return null;if(i!==o){var l=a,c=a.x,u=a.y;let t,s=1/0;for(n=a;i>=n.x&&n.x>=c&&i!==n.x&&ws(r<u?i:o,r,c,u,r<u?o:i,r,n.x,n.y)&&(t=Math.abs(r-n.y)/(i-n.x),Cs(n,e))&&(t<s||t===s&&(n.x>a.x||n.x===a.x&&function(e,t){return _s(e.prev,e,t.prev)<0&&_s(t.next,e,e.next)<0}(a,n)))&&(a=n,s=t),(n=n.next)!==l;);}return a}(e,t))&&(e=As(t,e),ys(t,t.next),ys(e,e.next))}(r[a],n),n=ys(n,n.next);return n}(e,t,a,n)),e.length>80*n){s=c=e[0],l=u=e[1];for(let t=n;t<r;t+=n)h=e[t],d=e[t+1],h<s&&(s=h),d<l&&(l=d),h>c&&(c=h),d>u&&(u=d);f=0!==(f=Math.max(c-s,u-l))?1/f:0}!function e(t,n,i,r,a,o,s){if(t){if(!s&&o){var l=t,c=r,u=a,h=o;let e=l;for(;null===e.z&&(e.z=bs(e.x,e.y,c,u,h)),e.prevZ=e.prev,e.nextZ=e.next,(e=e.next)!==l;);e.prevZ.nextZ=null,e.prevZ=null;{var d=e;let t,n,i,r,a,o,s,l,c=1;do{for(n=d,d=null,a=null,o=0;n;){for(o++,i=n,s=0,t=0;t<c&&(s++,i=i.nextZ);t++);for(l=c;0<s||0<l&&i;)0!==s&&(0===l||!i||n.z<=i.z)?(n=(r=n).nextZ,s--):(i=(r=i).nextZ,l--),a?a.nextZ=r:d=r,r.prevZ=a,a=r;n=i}}while(a.nextZ=null,c*=2,1<o)}}let f,p,m=t;for(;t.prev!==t.next;)if(f=t.prev,p=t.next,o?function(e,t,n,i){var r=e.prev,a=e,o=e.next;if(0<=_s(r,a,o))return;var s=(r.x<a.x?r.x<o.x?r:o:a.x<o.x?a:o).x,l=(r.y<a.y?r.y<o.y?r:o:a.y<o.y?a:o).y,c=(r.x>a.x?r.x>o.x?r:o:a.x>o.x?a:o).x,u=(r.y>a.y?r.y>o.y?r:o:a.y>o.y?a:o).y,h=bs(s,l,t,n,i),d=bs(c,u,t,n,i);let f=e.prevZ,p=e.nextZ;for(;f&&f.z>=h&&p&&p.z<=d;){if(f!==e.prev&&f!==e.next&&ws(r.x,r.y,a.x,a.y,o.x,o.y,f.x,f.y)&&0<=_s(f.prev,f,f.next))return;if(f=f.prevZ,p!==e.prev&&p!==e.next&&ws(r.x,r.y,a.x,a.y,o.x,o.y,p.x,p.y)&&0<=_s(p.prev,p,p.next))return;p=p.nextZ}for(;f&&f.z>=h;){if(f!==e.prev&&f!==e.next&&ws(r.x,r.y,a.x,a.y,o.x,o.y,f.x,f.y)&&0<=_s(f.prev,f,f.next))return;f=f.prevZ}for(;p&&p.z<=d;){if(p!==e.prev&&p!==e.next&&ws(r.x,r.y,a.x,a.y,o.x,o.y,p.x,p.y)&&0<=_s(p.prev,p,p.next))return;p=p.nextZ}return 1}(t,r,a,o):function(e){var t=e.prev,n=e,i=e.next;if(0<=_s(t,n,i))return;let r=e.next.next;for(;r!==e.prev;){if(ws(t.x,t.y,n.x,n.y,i.x,i.y,r.x,r.y)&&0<=_s(r.prev,r,r.next))return;r=r.next}return 1}(t))n.push(f.i/i),n.push(t.i/i),n.push(p.i/i),Ps(t),t=p.next,m=p.next;else if((t=p)===m){s?1===s?e(t=function(e,t,n){let i=e;do{var r=i.prev,a=i.next.next;!Ms(r,a)&&Ss(r,i,i.next,a)&&Cs(r,a)&&Cs(a,r)&&(t.push(r.i/n),t.push(i.i/n),t.push(a.i/n),Ps(i),Ps(i.next),i=e=a),i=i.next}while(i!==e);return ys(i)}(ys(t),n,i),n,i,r,a,o,2):2===s&&function(t,n,i,r,a,o){let s=t;do{let t=s.next.next;for(;t!==s.prev;){var l;if(s.i!==t.i&&function(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Ss(n,n.next,e,t))return 1}while(n=n.next,n!==e)}(e,t)&&(Cs(e,t)&&Cs(t,e)&&function(e,t){let n=e,i=!1;for(var r=(e.x+t.x)/2,a=(e.y+t.y)/2;n.y>a!=n.next.y>a&&n.next.y!==n.y&&r<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next,n!==e;);return i}(e,t)&&(_s(e.prev,e,t.prev)||_s(e,t.prev,t))||Ms(e,t)&&0<_s(e.prev,e,e.next)&&0<_s(t.prev,t,t.next))}(s,t))return l=As(s,t),s=ys(s,s.next),l=ys(l,l.next),e(s,n,i,r,a,o),e(l,n,i,r,a,o);t=t.next}}while(s=s.next,s!==t)}(t,n,i,r,a,o):e(ys(t),n,i,r,a,o,1);break}}}(a,o,n,s,l,f)}return o};function gs(e,t,n,i,r){let a,o;if(r===0<function(e,t,n,i){let r=0;for(let a=t,o=n-i;a<n;a+=i)r+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return r}(e,t,n,i))for(a=t;a<n;a+=i)o=Ls(a,e[a],e[a+1],o);else for(a=n-i;a>=t;a-=i)o=Ls(a,e[a],e[a+1],o);return o&&Ms(o,o.next)&&(Ps(o),o=o.next),o}function ys(e,t){if(!e)return e;t=t||e;let n,i=e;do{if(n=!1,i.steiner||!Ms(i,i.next)&&0!==_s(i.prev,i,i.next))i=i.next;else{if(Ps(i),(i=t=i.prev)===i.next)break;n=!0}}while(n||i!==t);return t}function xs(e,t){return e.x-t.x}function bs(e,t,n,i,r){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*r)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*r)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function ws(e,t,n,i,r,a,o,s){return 0<=(r-o)*(t-s)-(e-o)*(a-s)&&0<=(e-o)*(i-s)-(n-o)*(t-s)&&0<=(n-o)*(a-s)-(r-o)*(i-s)}function _s(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Ms(e,t){return e.x===t.x&&e.y===t.y}function Ss(e,t,n,i){var r=Ts(_s(e,t,n)),a=Ts(_s(e,t,i)),o=Ts(_s(n,i,e)),s=Ts(_s(n,i,t));return r!==a&&o!==s||0===r&&Es(e,n,t)||0===a&&Es(e,i,t)||0===o&&Es(n,e,i)||!(0!==s||!Es(n,t,i))}function Es(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function Ts(e){return 0<e?1:e<0?-1:0}function Cs(e,t){return _s(e.prev,e,e.next)<0?0<=_s(e,t,e.next)&&0<=_s(e,e.prev,t):_s(e,t,e.prev)<0||_s(e,e.next,t)<0}function As(e,t){var n=new ks(e.i,e.x,e.y),i=new ks(t.i,t.x,t.y),r=e.next,a=t.prev;return(e.next=t).prev=e,(n.next=r).prev=n,(i.next=n).prev=i,(a.next=i).prev=a,i}function Ls(e,t,n,i){return e=new ks(e,t,n),i?(e.next=i.next,(e.prev=i).next.prev=e,i.next=e):(e.prev=e).next=e,e}function Ps(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function ks(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}const Ds={area:function(e){var t=e.length;let n=0;for(let i=t-1,r=0;r<t;i=r++)n+=e[i].x*e[r].y-e[r].x*e[i].y;return.5*n},isClockWise:function(e){return Ds.area(e)<0},triangulateShape:function(e,t){var n=[],i=[],r=[];Is(e),Rs(n,e);let a=e.length;t.forEach(Is);for(let e=0;e<t.length;e++)i.push(a),a+=t[e].length,Rs(n,t[e]);var o=vs(n,i);for(let e=0;e<o.length;e+=3)r.push(o.slice(e,e+3));return r}};function Is(e){var t=e.length;2<t&&e[t-1].equals(e[0])&&e.pop()}function Rs(e,t){for(let n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}class Ns extends Li{constructor(e,t){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,i=[],r=[];for(let a=0,o=e.length;a<o;a++)!function(e){const a=[],o=void 0!==t.curveSegments?t.curveSegments:12,s=void 0!==t.steps?t.steps:1;let l=void 0!==t.depth?t.depth:100,c=void 0===t.bevelEnabled||t.bevelEnabled,u=void 0!==t.bevelThickness?t.bevelThickness:6,h=void 0!==t.bevelSize?t.bevelSize:u-2,d=void 0!==t.bevelOffset?t.bevelOffset:0,f=void 0!==t.bevelSegments?t.bevelSegments:3;const p=t.extrudePath,m=void 0!==t.UVGenerator?t.UVGenerator:Os;void 0!==t.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),l=t.amount);let v,g,y,x,b,w=!1;p&&(v=p.getSpacedPoints(s),w=!0,c=!1,g=p.computeFrenetFrames(s,!1),y=new Ot,x=new Ot,b=new Ot),c||(f=0,u=0,h=0,d=0);let _=(e=e.extractPoints(o)).shape;const M=e.holes;if(!Ds.isClockWise(_)){_=_.reverse();for(let e=0,t=M.length;e<t;e++){var S=M[e];Ds.isClockWise(S)&&(M[e]=S.reverse())}}const E=Ds.triangulateShape(_,M),T=_;for(let e=0,t=M.length;e<t;e++){var C=M[e];_=_.concat(C)}function A(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}const L=_.length,P=E.length;function k(e,t,n){let i,r,a;var o=e.x-t.x,s=e.y-t.y,l=n.x-e.x,c=n.y-e.y,u=o*o+s*s;if(Math.abs(o*c-s*l)>Number.EPSILON){var h=Math.sqrt(u),d=Math.sqrt(l*l+c*c),f=t.x-s/h;t=t.y+o/h;if((n=(i=f+o*(h=((n.x-c/d-f)*c-(n.y+l/d-t)*l)/(o*c-s*l))-e.x,r=t+s*h-e.y,i*i+r*r))<=2)return new Tt(i,r);a=Math.sqrt(n/2)}else{let e=!1;o>Number.EPSILON?l>Number.EPSILON&&(e=!0):o<-Number.EPSILON?l<-Number.EPSILON&&(e=!0):Math.sign(s)===Math.sign(c)&&(e=!0),a=e?(i=-s,r=o,Math.sqrt(u)):(i=o,r=s,Math.sqrt(u/2))}return new Tt(i/a,r/a)}var D=[];for(let e=0,t=T.length,n=t-1,i=e+1;e<t;e++,n++,i++)n===t&&(n=0),i===t&&(i=0),D[e]=k(T[e],T[n],T[i]);var I=[];let R,N=D.concat();for(let e=0,t=M.length;e<t;e++){var O=M[e];R=[];for(let e=0,t=O.length,n=t-1,i=e+1;e<t;e++,n++,i++)n===t&&(n=0),i===t&&(i=0),R[e]=k(O[e],O[n],O[i]);I.push(R),N=N.concat(R)}for(let e=0;e<f;e++){var F=e/f,z=u*Math.cos(F*Math.PI/2);const t=h*Math.sin(F*Math.PI/2)+d;for(let e=0,n=T.length;e<n;e++){var B=A(T[e],D[e],t);Q(B.x,B.y,-z)}for(let e=0,n=M.length;e<n;e++){var H=M[e];R=I[e];for(let e=0,n=H.length;e<n;e++){var U=A(H[e],R[e],t);Q(U.x,U.y,-z)}}}const V=h+d;for(let e=0;e<L;e++){var G=c?A(_[e],N[e],V):_[e];w?(x.copy(g.normals[0]).multiplyScalar(G.x),y.copy(g.binormals[0]).multiplyScalar(G.y),b.copy(v[0]).add(x).add(y),Q(b.x,b.y,b.z)):Q(G.x,G.y,0)}for(let e=1;e<=s;e++)for(let t=0;t<L;t++){var j=c?A(_[t],N[t],V):_[t];w?(x.copy(g.normals[e]).multiplyScalar(j.x),y.copy(g.binormals[e]).multiplyScalar(j.y),b.copy(v[e]).add(x).add(y),Q(b.x,b.y,b.z)):Q(j.x,j.y,l/s*e)}for(let e=f-1;0<=e;e--){var W=e/f,X=u*Math.cos(W*Math.PI/2);const t=h*Math.sin(W*Math.PI/2)+d;for(let e=0,n=T.length;e<n;e++){var q=A(T[e],D[e],t);Q(q.x,q.y,l+X)}for(let e=0,n=M.length;e<n;e++){var Y=M[e];R=I[e];for(let e=0,n=Y.length;e<n;e++){var $=A(Y[e],R[e],t);w?Q($.x,$.y+v[s-1].y,v[s-1].x+X):Q($.x,$.y,l+X)}}}function Z(e,t){let r=e.length;for(;0<=--r;){var a=r;let p=r-1;p<0&&(p=e.length-1);for(let e=0,r=s+2*f;e<r;e++){var o=L*e,l=L*(e+1),c=(u=c=void 0,t+a+o),u=t+p+o,h=t+p+l,d=t+a+l;J(c),J(u),J(d),J(u),J(h),J(d),c=i.length/3,ee((u=m.generateSideWallUV(n,i,c-6,c-3,c-2,c-1))[0]),ee(u[1]),ee(u[3]),ee(u[1]),ee(u[2]),ee(u[3])}}}function Q(e,t,n){a.push(e),a.push(t),a.push(n)}function K(e,t,r){J(e),J(t),J(r),e=i.length/3,ee((t=m.generateTopUV(n,i,e-3,e-2,e-1))[0]),ee(t[1]),ee(t[2])}function J(e){i.push(a[3*e+0]),i.push(a[3*e+1]),i.push(a[3*e+2])}function ee(e){r.push(e.x),r.push(e.y)}(function(){var e=i.length/3;if(c){let e=0*L;for(let n=0;n<P;n++){var t=E[n];K(t[2]+e,t[1]+e,t[0]+e)}e=L*(s+2*f);for(let t=0;t<P;t++){var r=E[t];K(r[0]+e,r[1]+e,r[2]+e)}}else{for(let e=0;e<P;e++){var a=E[e];K(a[2],a[1],a[0])}for(let e=0;e<P;e++){var o=E[e];K(o[0]+L*s,o[1]+L*s,o[2]+L*s)}}n.addGroup(e,i.length/3-e,0)})(),function(){var e=i.length/3;let t=0;Z(T,t),t+=T.length;for(let e=0,n=M.length;e<n;e++){var r=M[e];Z(r,t),t+=r.length}n.addGroup(e,i.length/3-e,1)}()}(e[a]);this.setAttribute("position",new xi(i,3)),this.setAttribute("uv",new xi(r,2)),this.computeVertexNormals()}toJSON(){var e=Li.prototype.toJSON.call(this),t=n=this.parameters.shapes,n=this.parameters.options,i=e;if(i.shapes=[],Array.isArray(t))for(let e=0,n=t.length;e<n;e++){var r=t[e];i.shapes.push(r.uuid)}else i.shapes.push(t.uuid);return void 0!==n.extrudePath&&(i.options.extrudePath=n.extrudePath.toJSON()),i}}const Os={generateTopUV:function(e,t,n,i,r){var a=t[3*n],o=(n=t[3*n+1],t[3*i]),s=(i=t[3*i+1],t[3*r]);t=t[3*r+1];return[new Tt(a,n),new Tt(o,i),new Tt(s,t)]},generateSideWallUV:function(e,t,n,i,r,a){var o=t[3*n],s=t[3*n+1],l=(n=t[3*n+2],t[3*i]),c=t[3*i+1],u=(i=t[3*i+2],t[3*r]),h=t[3*r+1],d=(r=t[3*r+2],t[3*a]),f=t[3*a+1];t=t[3*a+2];return Math.abs(s-c)<.01?[new Tt(o,1-n),new Tt(l,1-i),new Tt(u,1-r),new Tt(d,1-t)]:[new Tt(s,1-n),new Tt(c,1-i),new Tt(h,1-r),new Tt(f,1-t)]}};function Fs(e,t,n){Li.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n};var i=[],r=[],a=[],o=[],s=new Ot,l=new Ot,c=new Ot,u=new Ot,h=new Ot,d=(e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter."),t+1);for(let i=0;i<=n;i++){var f=i/n;for(let n=0;n<=t;n++){var p=n/t;e(p,f,l),r.push(l.x,l.y,l.z),0<=p-1e-5?(e(p-1e-5,f,c),u.subVectors(l,c)):(e(1e-5+p,f,c),u.subVectors(c,l)),0<=f-1e-5?(e(p,f-1e-5,c),h.subVectors(l,c)):(e(p,1e-5+f,c),h.subVectors(c,l)),s.crossVectors(u,h).normalize(),a.push(s.x,s.y,s.z),o.push(p,f)}}for(let e=0;e<n;e++)for(let n=0;n<t;n++){var m=e*d+n,v=e*d+n+1,g=(e+1)*d+n+1,y=(e+1)*d+n;i.push(m,v,y),i.push(v,g,y)}this.setIndex(i),this.setAttribute("position",new xi(r,3)),this.setAttribute("normal",new xi(a,3)),this.setAttribute("uv",new xi(o,2))}(Fs.prototype=Object.create(Li.prototype)).constructor=Fs;class zs extends Li{constructor(e,t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],i=[],r=[],a=[];let o=0,s=0;if(!1===Array.isArray(e))l(e);else for(let t=0;t<e.length;t++)l(e[t]),this.addGroup(o,s,t),o+=s,s=0;function l(e){var o=i.length/3;let l=(e=e.extractPoints(t)).shape;var c=e.holes;!1===Ds.isClockWise(l)&&(l=l.reverse());for(let e=0,t=c.length;e<t;e++){var u=c[e];!0===Ds.isClockWise(u)&&(c[e]=u.reverse())}var h=Ds.triangulateShape(l,c);for(let e=0,t=c.length;e<t;e++){var d=c[e];l=l.concat(d)}for(let e=0,t=l.length;e<t;e++){var f=l[e];i.push(f.x,f.y,0),r.push(0,0,1),a.push(f.x,f.y)}for(let e=0,t=h.length;e<t;e++){var p=(v=h[e])[0]+o,m=v[1]+o,v=v[2]+o;n.push(p,m,v),s+=3}}this.setIndex(n),this.setAttribute("position",new xi(i,3)),this.setAttribute("normal",new xi(r,3)),this.setAttribute("uv",new xi(a,2))}toJSON(){var e=Li.prototype.toJSON.call(this),t=this.parameters.shapes,n=e;if(n.shapes=[],Array.isArray(t))for(let e=0,r=t.length;e<r;e++){var i=t[e];n.shapes.push(i.uuid)}else n.shapes.push(t.uuid);return n}}class Bs extends Ji{constructor(e){super(e),this.type="RawShaderMaterial"}}function Hs(e){Jn.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new oi(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new oi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.flatShading=!1,this.vertexTangents=!1,this.setValues(e)}function Us(e){Hs.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Tt(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,Object.defineProperty(this,"ior",{get:function(){return(1+.4*this.reflectivity)/(1-.4*this.reflectivity)},set:function(e){this.reflectivity=Et.clamp(2.5*(e-1)/(e+1),0,1)}}),this.sheen=null,this.transmission=0,this.transmissionMap=null,this.setValues(e)}Bs.prototype.isRawShaderMaterial=!0,((Hs.prototype=Object.create(Jn.prototype)).constructor=Hs).prototype.isMeshStandardMaterial=!0,Hs.prototype.copy=function(e){return Jn.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.flatShading=e.flatShading,this.vertexTangents=e.vertexTangents,this},((Us.prototype=Object.create(Hs.prototype)).constructor=Us).prototype.isMeshPhysicalMaterial=!0,Us.prototype.copy=function(e){return Hs.prototype.copy.call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.reflectivity=e.reflectivity,e.sheen?this.sheen=(this.sheen||new oi).copy(e.sheen):this.sheen=null,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this};class Vs extends Jn{constructor(e){super(),this.type="MeshPhongMaterial",this.color=new oi(16777215),this.specular=new oi(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new oi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.flatShading=e.flatShading,this}}Vs.prototype.isMeshPhongMaterial=!0;const Gs={arraySlice:function(e,t,n){return Gs.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){var t=e.length,n=new Array(t);for(let e=0;e!==t;++e)n[e]=e;return n.sort((function(t,n){return e[t]-e[n]})),n},sortedArray:function(e,t,n){var i=e.length,r=new e.constructor(i);for(let o=0,s=0;s!==i;++o){var a=n[o]*t;for(let n=0;n!==t;++n)r[s++]=e[a+n]}return r},flattenJSON:function(e,t,n,i){let r=1,a=e[0];for(;void 0!==a&&void 0===a[i];)a=e[r++];if(void 0!==a){let o=a[i];if(void 0!==o)if(Array.isArray(o))for(;void 0!==(o=a[i])&&(t.push(a.time),n.push.apply(n,o)),void 0!==(a=e[r++]););else if(void 0!==o.toArray)for(;void 0!==(o=a[i])&&(t.push(a.time),o.toArray(n,n.length)),void 0!==(a=e[r++]););else for(;void 0!==(o=a[i])&&(t.push(a.time),n.push(o)),void 0!==(a=e[r++]););}},subclip:function(e,t,n,i,r=30){var a=e.clone(),o=(a.name=t,[]);for(let e=0;e<a.tracks.length;++e){var s=a.tracks[e],l=s.getValueSize(),c=[],u=[];for(let e=0;e<s.times.length;++e){var h=s.times[e]*r;if(!(h<n||i<=h)){c.push(s.times[e]);for(let t=0;t<l;++t)u.push(s.values[e*l+t])}}0!==c.length&&(s.times=Gs.convertArray(c,s.times.constructor),s.values=Gs.convertArray(u,s.values.constructor),o.push(s))}a.tracks=o;let d=1/0;for(let e=0;e<a.tracks.length;++e)d>a.tracks[e].times[0]&&(d=a.tracks[e].times[0]);for(let e=0;e<a.tracks.length;++e)a.tracks[e].shift(-1*d);return a.resetDuration(),a},makeClipAdditive:function(e,t=0,n=e,i=30){var r=n.tracks.length,a=t/(i=i<=0?30:i);for(let t=0;t<r;++t){const i=n.tracks[t],r=i.ValueTypeName;if("bool"!==r&&"string"!==r){var o=e.tracks.find((function(e){return e.name===i.name&&e.ValueTypeName===r}));if(void 0!==o){let e=0;var s=i.getValueSize();i.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(e=s/3);let t=0;var l,c,u,h=o.getValueSize(),d=(o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(t=h/3),i.times.length-1);let n;n=a<=i.times[0]?(c=s-(l=e),Gs.arraySlice(i.values,l,c)):a>=i.times[d]?(c=(l=d*s+e)+s-e,Gs.arraySlice(i.values,l,c)):(u=s-(s=e),(d=i.createInterpolant()).evaluate(a),Gs.arraySlice(d.resultBuffer,s,u)),"quaternion"===r&&(new Nt).fromArray(n).normalize().conjugate().toArray(n);var f=o.times.length;for(let e=0;e<f;++e){var p=e*h+t;if("quaternion"===r)Nt.multiplyQuaternionsFlat(o.values,p,n,0,o.values,p);else{var m=h-2*t;for(let e=0;e<m;++e)o.values[p+e]-=n[e]}}}}}return e.blendMode=2501,e}};function js(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n}function Ws(e,t,n,i){js.call(this,e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Xs(e,t,n,i){js.call(this,e,t,n,i)}function qs(e,t,n,i){js.call(this,e,t,n,i)}Object.assign(js.prototype,{evaluate:function(e){var t=this.parameterPositions;let n=this._cachedIndex,i=t[n],r=t[n-1];e:{t:{let c;n:{i:if(!(e<i)){for(var a=n+2;;){if(void 0===i){if(e<r)break i;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,r)}if(n===a)break;if(r=i,e<(i=t[++n]))break t}c=t.length;break n}if(e>=r)break e;var o=t[1];e<o&&(n=2,r=o);for(var s=n-2;;){if(void 0===r)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(n===s)break;if(i=r,e>=(r=t[--n-1]))break t}c=n,n=0}for(;n<c;){var l=n+c>>>1;e<t[l]?c=l:n=1+l}if(i=t[n],void 0===(r=t[n-1]))return this._cachedIndex=0,this.beforeStart_(0,e,i);if(void 0===i)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,r,e)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,e,i)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){var t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i;for(let e=0;e!==i;++e)t[e]=n[r+e];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(js.prototype,{beforeStart_:js.prototype.copySampleValue_,afterEnd_:js.prototype.copySampleValue_}),Ws.prototype=Object.assign(Object.create(js.prototype),{constructor:Ws,DefaultSettings_:{endingStart:2400,endingEnd:2400},intervalChanged_:function(e,t,n){var i=this.parameterPositions;let r=e-2,a=e+1,o=i[r],s=i[a];if(void 0===o)switch(this.getSettings_().endingStart){case 2401:r=e,o=2*t-n;break;case 2402:r=i.length-2,o=t+i[r]-i[r+1];break;default:r=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case 2401:a=e,s=2*n-t;break;case 2402:a=1,s=n+i[1]-i[0];break;default:a=e-1,s=t}var l=.5*(n-t),c=this.valueSize;this._weightPrev=l/(t-o),this._weightNext=l/(s-n),this._offsetPrev=r*c,this._offsetNext=a*c},interpolate_:function(e,t,n,i){var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,c=this._offsetPrev,u=this._offsetNext,h=(e=this._weightPrev,this._weightNext),d=-e*(t=(i=(n=(n-t)/(i-t))*n)*n)+2*e*i-e*n,f=(1+e)*t+(-1.5-2*e)*i+(-.5+e)*n+1,p=(-1-h)*t+(1.5+h)*i+.5*n,m=h*t-h*i;for(let e=0;e!==o;++e)r[e]=d*a[c+e]+f*a[l+e]+p*a[s+e]+m*a[u+e];return r}}),Xs.prototype=Object.assign(Object.create(js.prototype),{constructor:Xs,interpolate_:function(e,t,n,i){var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,c=(n-t)/(i-t),u=1-c;for(let e=0;e!==o;++e)r[e]=a[l+e]*u+a[s+e]*c;return r}}),qs.prototype=Object.assign(Object.create(js.prototype),{constructor:qs,interpolate_:function(e){return this.copySampleValue_(e-1)}});class Ys{constructor(e,t,n,i){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Gs.convertArray(t,this.TimeBufferType),this.values=Gs.convertArray(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){var t=e.constructor;let n;return t.toJSON!==this.toJSON?n=t.toJSON(e):(n={name:e.name,times:Gs.convertArray(e.times,Array),values:Gs.convertArray(e.values,Array)},(t=e.getInterpolation())!==e.DefaultInterpolation&&(n.interpolation=t)),n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new qs(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new Xs(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Ws(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}console.warn("THREE.KeyframeTrack:",n)}else this.createInterpolant=t;return this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){var t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]+=e}return this}scale(e){if(1!==e){var t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]*=e}return this}trim(e,t){var n,i=this.times,r=i.length;let a=0,o=r-1;for(;a!==r&&i[a]<e;)++a;for(;-1!==o&&i[o]>t;)--o;return++o,0===a&&o===r||(a>=o&&(o=Math.max(o,1),a=o-1),n=this.getValueSize(),this.times=Gs.arraySlice(i,a,o),this.values=Gs.arraySlice(this.values,a*n,o*n)),this}validate(){let e=!0;var t=this.getValueSize(),n=(t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1),this.times),i=this.values,r=n.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let t=0;t!==r;t++){var o=n[t];if("number"==typeof o&&isNaN(o)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,t,o),e=!1;break}if(null!==a&&a>o){console.error("THREE.KeyframeTrack: Out of order keys.",this,t,o,a),e=!1;break}a=o}if(void 0!==i&&Gs.isTypedArray(i))for(let t=0,n=i.length;t!==n;++t){var s=i[t];if(isNaN(s)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,t,s),e=!1;break}}return e}optimize(){var e=Gs.arraySlice(this.times),t=Gs.arraySlice(this.values),n=this.getValueSize(),i=2302===this.getInterpolation(),r=e.length-1;let a=1;for(let f=1;f<r;++f){let r=!1;var o=e[f];if(o!==e[f+1]&&(1!==f||o!==e[0]))if(i)r=!0;else{var s=f*n,l=s-n,c=s+n;for(let e=0;e!==n;++e){var u=t[s+e];if(u!==t[l+e]||u!==t[c+e]){r=!0;break}}}if(r){if(f!==a){e[a]=e[f];var h=f*n,d=a*n;for(let e=0;e!==n;++e)t[d+e]=t[h+e]}++a}}if(0<r){e[a]=e[r];for(let e=r*n,i=a*n,o=0;o!==n;++o)t[i+o]=t[e+o];++a}return a!==e.length?(this.times=Gs.arraySlice(e,0,a),this.values=Gs.arraySlice(t,0,a*n)):(this.times=e,this.values=t),this}clone(){var e=Gs.arraySlice(this.times,0),t=Gs.arraySlice(this.values,0);return(e=new this.constructor(this.name,e,t)).createInterpolant=this.createInterpolant,e}}Ys.prototype.TimeBufferType=Float32Array,Ys.prototype.ValueBufferType=Float32Array,Ys.prototype.DefaultInterpolation=2301;class $s extends Ys{}$s.prototype.ValueTypeName="bool",$s.prototype.ValueBufferType=Array,$s.prototype.DefaultInterpolation=2300,$s.prototype.InterpolantFactoryMethodLinear=void 0,$s.prototype.InterpolantFactoryMethodSmooth=void 0;class Zs extends Ys{}Zs.prototype.ValueTypeName="color";class Qs extends Ys{}function Ks(e,t,n,i){js.call(this,e,t,n,i)}Qs.prototype.ValueTypeName="number",Ks.prototype=Object.assign(Object.create(js.prototype),{constructor:Ks,interpolate_:function(e,t,n,i){var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(n-t)/(i-t);let l=e*o;for(var c=l+o;l!==c;l+=4)Nt.slerpFlat(r,0,a,l-o,a,l,s);return r}});class Js extends Ys{InterpolantFactoryMethodLinear(e){return new Ks(this.times,this.values,this.getValueSize(),e)}}Js.prototype.ValueTypeName="quaternion",Js.prototype.DefaultInterpolation=2301,Js.prototype.InterpolantFactoryMethodSmooth=void 0;class el extends Ys{}el.prototype.ValueTypeName="string",el.prototype.ValueBufferType=Array,el.prototype.DefaultInterpolation=2300,el.prototype.InterpolantFactoryMethodLinear=void 0,el.prototype.InterpolantFactoryMethodSmooth=void 0;class tl extends Ys{}class nl{constructor(e,t=-1,n,i=2500){this.name=e,this.tracks=n,this.duration=t,this.blendMode=i,this.uuid=Et.generateUUID(),this.duration<0&&this.resetDuration()}static parse(e){var t=[],n=e.tracks,i=1/(e.fps||1);for(let e=0,r=n.length;e!==r;++e)t.push(function(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t,n,i=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Qs;case"vector":case"vector2":case"vector3":case"vector4":return tl;case"color":return Zs;case"quaternion":return Js;case"bool":case"boolean":return $s;case"string":return el}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);return void 0===e.times&&(t=[],n=[],Gs.flattenJSON(e.keys,t,n,"value"),e.times=t,e.values=n),void 0!==i.parse?i.parse(e):new i(e.name,e.times,e.values,e.interpolation)}(n[e]).scale(i));var r=new this(e.name,e.duration,t,e.blendMode);return r.uuid=e.uuid,r}static toJSON(e){var t=[],n=e.tracks;e={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let e=0,i=n.length;e!==i;++e)t.push(Ys.toJSON(n[e]));return e}static CreateFromMorphTargetSequence(e,t,n,i){var r=t.length,a=[];for(let e=0;e<r;e++){let s=[],l=[];s.push((e+r-1)%r,e,(e+1)%r),l.push(0,1,0);var o=Gs.getKeyframeOrder(s);s=Gs.sortedArray(s,1,o),l=Gs.sortedArray(l,1,o),i||0!==s[0]||(s.push(r),l.push(l[0])),a.push(new Qs(".morphTargetInfluences["+t[e].name+"]",s,l).scale(1/n))}return new this(e,-1,a)}static findByName(e,t){let n=e;Array.isArray(e)||(n=e.geometry&&e.geometry.animations||e.animations);for(let e=0;e<n.length;e++)if(n[e].name===t)return n[e];return null}static CreateClipsFromMorphTargetSequences(e,t,n){var i={},r=/^([\w-]*?)([\d]+)$/;for(let t=0,n=e.length;t<n;t++){var a=e[t],o=a.name.match(r);if(o&&1<o.length){let e=i[o=o[1]];e||(i[o]=e=[]),e.push(a)}}var s=[];for(const e in i)s.push(this.CreateFromMorphTargetSequence(e,i[e],t,n));return s}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;function n(e,t,n,i,r){var a,o;0!==n.length&&(a=[],o=[],Gs.flattenJSON(n,a,o,i),0!==a.length)&&r.push(new e(t,a,o))}var i=[],r=e.name||"default",a=e.fps||30,o=e.blendMode;let s=e.length||-1;var l=e.hierarchy||[];for(let e=0;e<l.length;e++){var c=l[e].keys;if(c&&0!==c.length)if(c[0].morphTargets){var u={};let e;for(e=0;e<c.length;e++)if(c[e].morphTargets)for(let t=0;t<c[e].morphTargets.length;t++)u[c[e].morphTargets[t]]=-1;for(const t in u){var h=[],d=[];for(let n=0;n!==c[e].morphTargets.length;++n){var f=c[e];h.push(f.time),d.push(f.morphTarget===t?1:0)}i.push(new Qs(".morphTargetInfluence["+t+"]",h,d))}s=u.length*(a||1)}else{var p=".bones["+t[e].name+"]";n(tl,p+".position",c,"pos",i),n(Js,p+".quaternion",c,"rot",i),n(tl,p+".scale",c,"scl",i)}}return 0===i.length?null:new this(r,s,i,o)}resetDuration(){let e=0;for(let n=0,i=this.tracks.length;n!==i;++n){var t=this.tracks[n];e=Math.max(e,t.times[t.times.length-1])}return this.duration=e,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){var e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}const il={enabled:!(tl.prototype.ValueTypeName="vector"),files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};const rl=new function(e,t,n){const i=this;let r=!1,a=0,o=0,s=void 0;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){o++,!1===r&&void 0!==i.onStart&&i.onStart(e,a,o),r=!0},this.itemEnd=function(e){a++,void 0!==i.onProgress&&i.onProgress(e,a,o),a===o&&(r=!1,void 0!==i.onLoad)&&i.onLoad()},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return s?s(e):e},this.setURLModifier=function(e){return s=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){return-1!==(e=l.indexOf(e))&&l.splice(e,2),this},this.getHandler=function(e){for(let i=0,r=l.length;i<r;i+=2){var t=l[i],n=l[i+1];if(t.global&&(t.lastIndex=0),t.test(e))return n}return null}};function al(e){this.manager=void 0!==e?e:rl,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}Object.assign(al.prototype,{load:function(){},loadAsync:function(e,t){const n=this;return new Promise((function(i,r){n.load(e,i,t,r)}))},parse:function(){},setCrossOrigin:function(e){return this.crossOrigin=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}});const ol={};function sl(e){al.call(this,e)}function ll(e){al.call(this,e)}sl.prototype=Object.assign(Object.create(al.prototype),{constructor:sl,load:function(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,a=il.get(e);if(void 0!==a)return r.manager.itemStart(e),setTimeout((function(){t&&t(a),r.manager.itemEnd(e)}),0),a;if(void 0===ol[e]){var o=e.match(/^data:(.*?)(;base64)?,(.*)$/);let d;if(o){var s=o[1],l=!!o[2];let n=o[3];n=decodeURIComponent(n),l&&(n=atob(n));try{let i;var c=(this.responseType||"").toLowerCase();switch(c){case"arraybuffer":case"blob":var u=new Uint8Array(n.length);for(let e=0;e<n.length;e++)u[e]=n.charCodeAt(e);i="blob"===c?new Blob([u.buffer],{type:s}):u.buffer;break;case"document":var h=new DOMParser;i=h.parseFromString(n,s);break;case"json":i=JSON.parse(n);break;default:i=n}setTimeout((function(){t&&t(i),r.manager.itemEnd(e)}),0)}catch(a){setTimeout((function(){i&&i(a),r.manager.itemError(e),r.manager.itemEnd(e)}),0)}}else{ol[e]=[],ol[e].push({onLoad:t,onProgress:n,onError:i}),(d=new XMLHttpRequest).open("GET",e,!0),d.addEventListener("load",(function(t){var n=this.response,i=ol[e];if(delete ol[e],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),il.add(e,n);for(let e=0,t=i.length;e<t;e++){var a=i[e];a.onLoad&&a.onLoad(n)}}else{for(let e=0,n=i.length;e<n;e++){var o=i[e];o.onError&&o.onError(t)}r.manager.itemError(e)}r.manager.itemEnd(e)}),!1),d.addEventListener("progress",(function(t){var n=ol[e];for(let e=0,r=n.length;e<r;e++){var i=n[e];i.onProgress&&i.onProgress(t)}}),!1),d.addEventListener("error",(function(t){var n=ol[e];delete ol[e];for(let e=0,r=n.length;e<r;e++){var i=n[e];i.onError&&i.onError(t)}r.manager.itemError(e),r.manager.itemEnd(e)}),!1),d.addEventListener("abort",(function(t){var n=ol[e];delete ol[e];for(let e=0,r=n.length;e<r;e++){var i=n[e];i.onError&&i.onError(t)}r.manager.itemError(e),r.manager.itemEnd(e)}),!1),void 0!==this.responseType&&(d.responseType=this.responseType),void 0!==this.withCredentials&&(d.withCredentials=this.withCredentials),d.overrideMimeType&&d.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(const e in this.requestHeader)d.setRequestHeader(e,this.requestHeader[e]);d.send(null)}return r.manager.itemStart(e),d}ol[e].push({onLoad:t,onProgress:n,onError:i})},setResponseType:function(e){return this.responseType=e,this},setMimeType:function(e){return this.mimeType=e,this}}),ll.prototype=Object.assign(Object.create(al.prototype),{constructor:ll,load:function(e,t,n,i){const r=this,a=[],o=new ms,s=new sl(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(r.withCredentials);let l=0;if(Array.isArray(e))for(let c=0,u=e.length;c<u;++c)!function(c){s.load(e[c],(function(e){e=r.parse(e,!0),a[c]={width:e.width,height:e.height,format:e.format,mipmaps:e.mipmaps},6===(l+=1)&&(1===e.mipmapCount&&(o.minFilter=ht),o.image=a,o.format=e.format,o.needsUpdate=!0,t)&&t(o)}),n,i)}(c);else s.load(e,(function(e){var n=r.parse(e,!0);if(n.isCubemap){var i=n.mipmaps.length/n.mipmapCount;for(let e=0;e<i;e++){a[e]={mipmaps:[]};for(let t=0;t<n.mipmapCount;t++)a[e].mipmaps.push(n.mipmaps[e*n.mipmapCount+t]),a[e].format=n.format,a[e].width=n.width,a[e].height=n.height}o.image=a}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=ht),o.format=n.format,o.needsUpdate=!0,t&&t(o)}),n,i);return o}});class cl extends al{constructor(e){super(e)}load(e,t,n,i){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,a=il.get(e);if(void 0!==a)return r.manager.itemStart(e),setTimeout((function(){t&&t(a),r.manager.itemEnd(e)}),0),a;const o=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1),il.add(e,this),t&&t(this),r.manager.itemEnd(e)}function l(t){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1),i&&i(t),r.manager.itemError(e),r.manager.itemEnd(e)}return o.addEventListener("load",s,!1),o.addEventListener("error",l,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),r.manager.itemStart(e),o.src=e,o}}class ul extends al{constructor(e){super(e)}load(e,t,n,i){const r=new ir,a=new cl(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let o=0;for(let n=0;n<e.length;++n)!function(n){a.load(e[n],(function(e){r.images[n]=e,6==++o&&(r.needsUpdate=!0,t)&&t(r)}),void 0,i)}(n);return r}}function hl(e){al.call(this,e)}function dl(e){al.call(this,e)}function fl(){this.type="Curve",this.arcLengthDivisions=200}hl.prototype=Object.assign(Object.create(al.prototype),{constructor:hl,load:function(e,t,n,i){const r=this,a=new ar;var o=new sl(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(r.withCredentials),o.load(e,(function(e){(e=r.parse(e))&&(void 0!==e.image?a.image=e.image:void 0!==e.data&&(a.image.width=e.width,a.image.height=e.height,a.image.data=e.data),a.wrapS=void 0!==e.wrapS?e.wrapS:ct,a.wrapT=void 0!==e.wrapT?e.wrapT:ct,a.magFilter=void 0!==e.magFilter?e.magFilter:ht,a.minFilter=void 0!==e.minFilter?e.minFilter:ht,a.anisotropy=void 0!==e.anisotropy?e.anisotropy:1,void 0!==e.encoding&&(a.encoding=e.encoding),void 0!==e.flipY&&(a.flipY=e.flipY),void 0!==e.format&&(a.format=e.format),void 0!==e.type&&(a.type=e.type),void 0!==e.mipmaps&&(a.mipmaps=e.mipmaps,a.minFilter=dt),1===e.mipmapCount&&(a.minFilter=ht),a.needsUpdate=!0,t)&&t(a,e)}),n,i),a}}),dl.prototype=Object.assign(Object.create(al.prototype),{constructor:dl,load:function(e,t,n,i){const r=new kt;var a=new cl(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,(function(n){r.image=n,n=0<e.search(/\.jpe?g($|\?)/i)||0===e.search(/^data\:image\/jpeg/),r.format=n?mt:vt,r.needsUpdate=!0,void 0!==t&&t(r)}),n,i),r}}),Object.assign(fl.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){return e=this.getUtoTmapping(e),this.getPoint(e,t)},getPoints:function(e=5){var t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e=5){var t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t=[];let n,i=this.getPoint(0),r=0;t.push(0);for(let a=1;a<=e;a++)n=this.getPoint(a/e),r+=n.distanceTo(i),t.push(r),i=n;return this.cacheArcLengths=t},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var n=this.getLengths();let i=0;var r=n.length;let a,o,s=(a=t||e*n[r-1],0),l=r-1;for(;s<=l;)if((o=n[i=Math.floor(s+(l-s)/2)]-a)<0)s=i+1;else{if(!(0<o)){l=i;break}l=i-1}return n[i=l]===a?i/(r-1):(i+(e=(a-(t=n[i]))/((e=n[i+1])-t)))/(r-1)},getTangent:function(e,t){let n=e-1e-4,i=e+1e-4;n<0&&(n=0),1<i&&(i=1);e=this.getPoint(n);var r=this.getPoint(i);return(t=t||new(e.isVector2?Tt:Ot)).copy(r).sub(e).normalize(),t},getTangentAt:function(e,t){return e=this.getUtoTmapping(e),this.getTangent(e,t)},computeFrenetFrames:function(e,t){var n=new Ot,i=[],r=[],a=[],o=new Ot,s=new hn;for(let t=0;t<=e;t++){var l=t/e;i[t]=this.getTangentAt(l,new Ot),i[t].normalize()}r[0]=new Ot,a[0]=new Ot;let c=Number.MAX_VALUE;var u,h=Math.abs(i[0].x),d=Math.abs(i[0].y),f=Math.abs(i[0].z);h<=c&&(c=h,n.set(1,0,0)),d<=c&&(c=d,n.set(0,1,0)),f<=c&&n.set(0,0,1),o.crossVectors(i[0],n).normalize(),r[0].crossVectors(i[0],o),a[0].crossVectors(i[0],r[0]);for(let t=1;t<=e;t++)r[t]=r[t-1].clone(),a[t]=a[t-1].clone(),o.crossVectors(i[t-1],i[t]),o.length()>Number.EPSILON&&(o.normalize(),u=Math.acos(Et.clamp(i[t-1].dot(i[t]),-1,1)),r[t].applyMatrix4(s.makeRotationAxis(o,u))),a[t].crossVectors(i[t],r[t]);if(!0===t){let t=Math.acos(Et.clamp(r[0].dot(r[e]),-1,1));t/=e,0<i[0].dot(o.crossVectors(r[0],r[e]))&&(t=-t);for(let n=1;n<=e;n++)r[n].applyMatrix4(s.makeRotationAxis(i[n],t*n)),a[n].crossVectors(i[n],r[n])}return{tangents:i,normals:r,binormals:a}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}});class pl extends fl{constructor(e=0,t=0,n=1,i=1,r=0,a=2*Math.PI,o=!1,s=0){super(),this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=i,this.aStartAngle=r,this.aEndAngle=a,this.aClockwise=o,this.aRotation=s}getPoint(e,t){t=t||new Tt;var n=2*Math.PI;let i=this.aEndAngle-this.aStartAngle;for(var r=Math.abs(i)<Number.EPSILON;i<0;)i+=n;for(;i>n;)i-=n;i<Number.EPSILON&&(i=r?0:n),!0!==this.aClockwise||r||(i===n?i=-n:i-=n);var a,o;r=this.aStartAngle+e*i;let s=this.aX+this.xRadius*Math.cos(r),l=this.aY+this.yRadius*Math.sin(r);return 0!==this.aRotation&&(e=Math.cos(this.aRotation),r=Math.sin(this.aRotation),s=(a=s-this.aX)*e-(o=l-this.aY)*r+this.aX,l=a*r+o*e+this.aY),t.set(s,l)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){var e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}pl.prototype.isEllipseCurve=!0;class ml extends pl{constructor(e,t,n,i,r,a){super(e,t,n,n,i,r,a),this.type="ArcCurve"}}function vl(){let e=0,t=0,n=0,i=0;function r(r,a,o,s){e=r,t=o,n=-3*r+3*a-2*o-s,i=2*r-2*a+o+s}return{initCatmullRom:function(e,t,n,i,a){r(t,n,a*(n-e),a*(i-t))},initNonuniformCatmullRom:function(e,t,n,i,a,o,s){e=(t-e)/a-(n-e)/(a+o)+(n-t)/o,a=(n-t)/o-(i-t)/(o+s)+(i-n)/s,r(t,n,e*=o,a*=o)},calc:function(r){var a=r*r;return e+t*r+n*a+i*(a*r)}}}ml.prototype.isArcCurve=!0;const gl=new Ot,yl=new vl,xl=new vl,bl=new vl;class wl extends fl{constructor(e=[],t=!1,n="centripetal",i=.5){super(),this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=i}getPoint(e,t=new Ot){var n=this.points,i=n.length;e=(i-(this.closed?0:1))*e;let r,a,o=Math.floor(e),s=e-o;this.closed?o+=0<o?0:(Math.floor(Math.abs(o)/i)+1)*i:0===s&&o===i-1&&(o=i-2,s=1),r=this.closed||0<o?n[(o-1)%i]:(gl.subVectors(n[0],n[1]).add(n[0]),gl);e=n[o%i];var l=n[(o+1)%i];if(a=this.closed||o+2<i?n[(o+2)%i]:(gl.subVectors(n[i-1],n[i-2]).add(n[i-1]),gl),"centripetal"===this.curveType||"chordal"===this.curveType){n="chordal"===this.curveType?.5:.25;let t=Math.pow(r.distanceToSquared(e),n),i=Math.pow(e.distanceToSquared(l),n),o=Math.pow(l.distanceToSquared(a),n);i<1e-4&&(i=1),t<1e-4&&(t=i),o<1e-4&&(o=i),yl.initNonuniformCatmullRom(r.x,e.x,l.x,a.x,t,i,o),xl.initNonuniformCatmullRom(r.y,e.y,l.y,a.y,t,i,o),bl.initNonuniformCatmullRom(r.z,e.z,l.z,a.z,t,i,o)}else"catmullrom"===this.curveType&&(yl.initCatmullRom(r.x,e.x,l.x,a.x,this.tension),xl.initCatmullRom(r.y,e.y,l.y,a.y,this.tension),bl.initCatmullRom(r.z,e.z,l.z,a.z,this.tension));return t.set(yl.calc(s),xl.calc(s),bl.calc(s)),t}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){var t=e.points[n];this.points.push(t.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){var e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){var t=this.points[n];e.points.push(t.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){var t=e.points[n];this.points.push((new Ot).fromArray(t))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function _l(e,t,n,i,r){var a=e*e;return(2*n-2*i+(t=.5*(i-t))+(r=.5*(r-n)))*(e*a)+(-3*n+3*i-2*t-r)*a+t*e+n}function Ml(e,t,n,i){return(r=1-(r=e))*r*t+2*(1-e)*e*n+e*e*i;var r}function Sl(e,t,n,i,r){return(a=1-(a=e))*a*a*t+3*(a=1-e)*a*e*n+3*(1-e)*e*e*i+e*e*e*r;var a}class El extends fl{constructor(e=new Tt,t=new Tt,n=new Tt,i=new Tt){super(),this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e,t=new Tt){var n=this.v0,i=this.v1,r=this.v2,a=this.v3;return t.set(Sl(e,n.x,i.x,r.x,a.x),Sl(e,n.y,i.y,r.y,a.y)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){var e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}El.prototype.isCubicBezierCurve=wl.prototype.isCatmullRomCurve3=!0;class Tl extends fl{constructor(e=new Ot,t=new Ot,n=new Ot,i=new Ot){super(),this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e,t=new Ot){var n=this.v0,i=this.v1,r=this.v2,a=this.v3;return t.set(Sl(e,n.x,i.x,r.x,a.x),Sl(e,n.y,i.y,r.y,a.y),Sl(e,n.z,i.z,r.z,a.z)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){var e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Cl extends fl{constructor(e=new Tt,t=new Tt){super(),this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Tt){return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){return(t=t||new Tt).copy(this.v2).sub(this.v1).normalize(),t}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){var e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}Cl.prototype.isLineCurve=Tl.prototype.isCubicBezierCurve3=!0;class Al extends fl{constructor(e=new Tt,t=new Tt,n=new Tt){super(),this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new Tt){var n=this.v0,i=this.v1,r=this.v2;return t.set(Ml(e,n.x,i.x,r.x),Ml(e,n.y,i.y,r.y)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){var e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}Al.prototype.isQuadraticBezierCurve=!0;class Ll extends fl{constructor(e=new Ot,t=new Ot,n=new Ot){super(),this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new Ot){var n=this.v0,i=this.v1,r=this.v2;return t.set(Ml(e,n.x,i.x,r.x),Ml(e,n.y,i.y,r.y),Ml(e,n.z,i.z,r.z)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){var e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Pl extends fl{constructor(e=[]){super(),this.type="SplineCurve",this.points=e}getPoint(e,t=new Tt){e=((o=this.points).length-1)*e;var n=Math.floor(e),i=(e=e-n,o[0===n?n:n-1]),r=o[n],a=o[n>o.length-2?o.length-1:n+1],o=o[n>o.length-3?o.length-1:n+2];return t.set(_l(e,i.x,r.x,a.x,o.x),_l(e,i.y,r.y,a.y,o.y)),t}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){var t=e.points[n];this.points.push(t.clone())}return this}toJSON(){var e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){var t=this.points[n];e.points.push(t.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){var t=e.points[n];this.points.push((new Tt).fromArray(t))}return this}}Pl.prototype.isSplineCurve=Ll.prototype.isQuadraticBezierCurve3=!0;var kl=Object.freeze({__proto__:null,ArcCurve:ml,CatmullRomCurve3:wl,CubicBezierCurve:El,CubicBezierCurve3:Tl,EllipseCurve:pl,LineCurve:Cl,LineCurve3:class extends fl{constructor(e=new Ot,t=new Ot){super(),this.type="LineCurve3",this.isLineCurve3=!0,this.v1=e,this.v2=t}getPoint(e,t=new Ot){return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){var e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},QuadraticBezierCurve:Al,QuadraticBezierCurve3:Ll,SplineCurve:Pl});class Dl extends fl{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Cl(t,e))}getPoint(e){var t,n,i,r=e*this.getLength(),a=this.getCurveLengths();let o=0;for(;o<a.length;){if(a[o]>=r)return t=a[o]-r,i=(n=this.curves[o]).getLength(),n.getPointAt(0===i?0:1-t/i);o++}return null}getLength(){var e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;var e=[];let t=0;for(let n=0,i=this.curves.length;n<i;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e}getSpacedPoints(e=40){var t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){var t=[];let n;for(let s=0,l=this.curves;s<l.length;s++){var i=l[s],r=i&&i.isEllipseCurve?2*e:i&&(i.isLineCurve||i.isLineCurve3)?1:i&&i.isSplineCurve?e*i.points.length:e,a=i.getPoints(r);for(let e=0;e<a.length;e++){var o=a[e];n&&n.equals(o)||(t.push(o),n=o)}}return this.autoClose&&1<t.length&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){var t=e.curves[n];this.curves.push(t.clone())}return this.autoClose=e.autoClose,this}toJSON(){var e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,i=this.curves.length;n<i;n++){var t=this.curves[n];e.curves.push(t.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){var t=e.curves[n];this.curves.push((new kl[t.type]).fromJSON(t))}return this}}class Il extends Dl{constructor(e){super(),this.type="Path",this.currentPoint=new Tt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){var n=new Cl(this.currentPoint.clone(),new Tt(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,i){return e=new Al(this.currentPoint.clone(),new Tt(e,t),new Tt(n,i)),this.curves.push(e),this.currentPoint.set(n,i),this}bezierCurveTo(e,t,n,i,r,a){return e=new El(this.currentPoint.clone(),new Tt(e,t),new Tt(n,i),new Tt(r,a)),this.curves.push(e),this.currentPoint.set(r,a),this}splineThru(e){var t=[this.currentPoint.clone()].concat(e);t=new Pl(t);return this.curves.push(t),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,i,r,a){var o=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+o,t+s,n,i,r,a),this}absarc(e,t,n,i,r,a){return this.absellipse(e,t,n,n,i,r,a),this}ellipse(e,t,n,i,r,a,o,s){var l=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+l,t+c,n,i,r,a,o,s),this}absellipse(e,t,n,i,r,a,o,s){return e=new pl(e,t,n,i,r,a,o,s),0<this.curves.length&&((t=e.getPoint(0)).equals(this.currentPoint)||this.lineTo(t.x,t.y)),this.curves.push(e),n=e.getPoint(1),this.currentPoint.copy(n),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){var e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Rl extends Il{constructor(e){super(e),this.uuid=Et.generateUUID(),this.type="Shape",this.holes=[]}getPointsHoles(e){var t=[];for(let n=0,i=this.holes.length;n<i;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){var t=e.holes[n];this.holes.push(t.clone())}return this}toJSON(){var e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,i=this.holes.length;n<i;n++){var t=this.holes[n];e.holes.push(t.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){var t=e.holes[n];this.holes.push((new Il).fromJSON(t))}return this}}class Nl extends On{constructor(e,t=1){super(),this.type="Light",this.color=new oi(e),this.intensity=t}copy(e){return super.copy(e),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){return(e=super.toJSON(e)).object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}Nl.prototype.isLight=!0;(class extends Nl{constructor(e,t,n){super(e,n),this.type="HemisphereLight",this.position.copy(On.DefaultUp),this.updateMatrix(),this.groundColor=new oi(t)}copy(e){return Nl.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}).prototype.isHemisphereLight=!0;const Ol=new hn,Fl=new Ot,zl=new Ot;class Bl{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new Tt(512,512),this.map=null,this.mapPass=null,this.matrix=new hn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new lr,this._frameExtents=new Tt(1,1),this._viewportCount=1,this._viewports=[new It(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){var t=this.camera,n=this.matrix;Fl.setFromMatrixPosition(e.matrixWorld),t.position.copy(Fl),zl.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(zl),t.updateMatrixWorld(),Ol.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Ol),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){var e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Hl extends Bl{constructor(){super(new tr(50,1,.5,500)),this.focus=1}updateMatrices(e){var t=this.camera,n=2*Et.RAD2DEG*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,r=e.distance||t.far;n===t.fov&&i===t.aspect&&r===t.far||(t.fov=n,t.aspect=i,t.far=r,t.updateProjectionMatrix()),super.updateMatrices(e)}}Hl.prototype.isSpotLightShadow=!0;(class extends Nl{constructor(e,t,n=0,i=Math.PI/3,r=0,a=1){super(e,t),this.type="SpotLight",this.position.copy(On.DefaultUp),this.updateMatrix(),this.target=new On,this.distance=n,this.angle=i,this.penumbra=r,this.decay=a,this.shadow=new Hl}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}copy(e){return super.copy(e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}).prototype.isSpotLight=!0;const Ul=new hn,Vl=new Ot,Gl=new Ot;class jl extends Bl{constructor(){super(new tr(90,1,.5,500)),this._frameExtents=new Tt(4,2),this._viewportCount=6,this._viewports=[new It(2,1,1,1),new It(0,1,1,1),new It(3,1,1,1),new It(1,1,1,1),new It(3,0,1,1),new It(1,0,1,1)],this._cubeDirections=[new Ot(1,0,0),new Ot(-1,0,0),new Ot(0,0,1),new Ot(0,0,-1),new Ot(0,1,0),new Ot(0,-1,0)],this._cubeUps=[new Ot(0,1,0),new Ot(0,1,0),new Ot(0,1,0),new Ot(0,1,0),new Ot(0,0,1),new Ot(0,0,-1)]}updateMatrices(e,t=0){var n=this.camera,i=this.matrix;Vl.setFromMatrixPosition(e.matrixWorld),n.position.copy(Vl),Gl.copy(n.position),Gl.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(Gl),n.updateMatrixWorld(),i.makeTranslation(-Vl.x,-Vl.y,-Vl.z),Ul.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Ul)}}jl.prototype.isPointLightShadow=!0;(class extends Nl{constructor(e,t,n=0,i=1){super(e,t),this.type="PointLight",this.distance=n,this.decay=i,this.shadow=new jl}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}copy(e){return super.copy(e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}).prototype.isPointLight=!0;class Wl extends er{constructor(e=-1,t=1,n=1,i=-1,r=.1,a=2e3){super(),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=i,this.near=r,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,n,i,r,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let r=n-e,a=n+e,o=i+t,s=i-t;null!==this.view&&this.view.enabled&&(n=(this.right-this.left)/this.view.fullWidth/this.zoom,e=(this.top-this.bottom)/this.view.fullHeight/this.zoom,r+=n*this.view.offsetX,a=r+n*this.view.width,o-=e*this.view.offsetY,s=o-e*this.view.height),this.projectionMatrix.makeOrthographic(r,a,o,s,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){return(e=On.prototype.toJSON.call(this,e)).object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}Wl.prototype.isOrthographicCamera=!0;class Xl extends Bl{constructor(){super(new Wl(-5,5,5,-5,.5,500))}}Xl.prototype.isDirectionalLightShadow=!0;(class extends Nl{constructor(e,t){super(e,t),this.type="DirectionalLight",this.position.copy(On.DefaultUp),this.updateMatrix(),this.target=new On,this.shadow=new Xl}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}).prototype.isDirectionalLight=!0;(class extends Nl{constructor(e,t){super(e,t),this.type="AmbientLight"}}).prototype.isAmbientLight=!0;(class extends Nl{constructor(e,t,n=10,i=10){super(e,t),this.type="RectAreaLight",this.width=n,this.height=i}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){return(e=super.toJSON(e)).object.width=this.width,e.object.height=this.height,e}}).prototype.isRectAreaLight=!0;class ql{constructor(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Ot)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){var n=e.x,i=e.y,r=(e=e.z,this.coefficients);return t.copy(r[0]).multiplyScalar(.282095),t.addScaledVector(r[1],.488603*i),t.addScaledVector(r[2],.488603*e),t.addScaledVector(r[3],.488603*n),t.addScaledVector(r[4],n*i*1.092548),t.addScaledVector(r[5],i*e*1.092548),t.addScaledVector(r[6],.315392*(3*e*e-1)),t.addScaledVector(r[7],n*e*1.092548),t.addScaledVector(r[8],.546274*(n*n-i*i)),t}getIrradianceAt(e,t){var n=e.x,i=e.y,r=(e=e.z,this.coefficients);return t.copy(r[0]).multiplyScalar(.886227),t.addScaledVector(r[1],1.023328*i),t.addScaledVector(r[2],1.023328*e),t.addScaledVector(r[3],1.023328*n),t.addScaledVector(r[4],.858086*n*i),t.addScaledVector(r[5],.858086*i*e),t.addScaledVector(r[6],.743125*e*e-.247708),t.addScaledVector(r[7],.858086*n*e),t.addScaledVector(r[8],.429043*(n*n-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(e,t=0){var n=this.coefficients;for(let i=0;i<9;i++)n[i].fromArray(e,t+3*i);return this}toArray(e=[],t=0){var n=this.coefficients;for(let i=0;i<9;i++)n[i].toArray(e,t+3*i);return e}static getBasisAt(e,t){var n=e.x,i=e.y;e=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*e,t[3]=.488603*n,t[4]=1.092548*n*i,t[5]=1.092548*i*e,t[6]=.315392*(3*e*e-1),t[7]=1.092548*n*e,t[8]=.546274*(n*n-i*i)}}ql.prototype.isSphericalHarmonics3=!0;class Yl extends Nl{constructor(e=new ql,t=1){super(void 0,t),this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){return(e=super.toJSON(e)).object.sh=this.sh.toArray(),e}}Yl.prototype.isLightProbe=!0;const $l=function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)};function Zl(){Li.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}function Ql(e,t,n,i){"number"==typeof n&&(i=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),ui.call(this,e,t,n),this.meshPerAttribute=i||1}function Kl(e){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),al.call(this,e),this.options={premultiplyAlpha:"none"}}Zl.prototype=Object.assign(Object.create(Li.prototype),{constructor:Zl,isInstancedBufferGeometry:!0,copy:function(e){return Li.prototype.copy.call(this,e),this.instanceCount=e.instanceCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e=Li.prototype.toJSON.call(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}),Ql.prototype=Object.assign(Object.create(ui.prototype),{constructor:Ql,isInstancedBufferAttribute:!0,copy:function(e){return ui.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},toJSON:function(){var e=ui.prototype.toJSON.call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}),Kl.prototype=Object.assign(Object.create(al.prototype),{constructor:Kl,isImageBitmapLoader:!0,setOptions:function(e){return this.options=e,this},load:function(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,a=il.get(e);if(void 0!==a)return r.manager.itemStart(e),setTimeout((function(){t&&t(a),r.manager.itemEnd(e)}),0),a;var o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",o.headers=this.requestHeader,fetch(e,o).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,Object.assign(r.options,{colorSpaceConversion:"none"}))})).then((function(n){il.add(e,n),t&&t(n),r.manager.itemEnd(e)})).catch((function(t){i&&i(t),r.manager.itemError(e),r.manager.itemEnd(e)})),r.manager.itemStart(e)}});class Jl{constructor(){this.type="ShapePath",this.color=new oi,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Il,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,i){return this.currentPath.quadraticCurveTo(e,t,n,i),this}bezierCurveTo(e,t,n,i,r,a){return this.currentPath.bezierCurveTo(e,t,n,i,r,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e,t){function n(e){var t=[];for(let r=0,a=e.length;r<a;r++){var n=e[r],i=new Rl;i.curves=n.curves,t.push(i)}return t}var i=Ds.isClockWise,r=this.subPaths;if(0===r.length)return[];if(!0===t)return n(r);let a,o,s;var l=[];if(1===r.length)o=r[0],(s=new Rl).curves=o.curves,l.push(s);else{var c,u,h=!i(r[0].getPoints()),d=(h=e?!h:h,[]),f=[];let t=[],g=0;f[g]=void 0,t[g]=[];for(let n=0,s=r.length;n<s;n++)a=i(c=(o=r[n]).getPoints()),(e?!a:a)?(!h&&f[g]&&g++,f[g]={s:new Rl,p:c},f[g].s.curves=o.curves,h&&g++,t[g]=[]):t[g].push({h:o,p:c[0]});if(!f[0])return n(r);if(1<f.length){let e=!1;var p=[];for(let e=0,t=f.length;e<t;e++)d[e]=[];for(let n=0,i=f.length;n<i;n++){var m=t[n];for(let t=0;t<m.length;t++){var v=m[t];let i=!0;for(let r=0;r<f.length;r++)!function(e,t){var n=t.length;let i=!1;for(let a=n-1,o=0;o<n;a=o++){let n=t[a],s=t[o],l=s.x-n.x,c=s.y-n.y;if(Math.abs(c)>Number.EPSILON){if(c<0&&(n=t[o],l=-l,s=t[a],c=-c),!(e.y<n.y||e.y>s.y))if(e.y===n.y){if(e.x===n.x)return 1}else{var r=c*(e.x-n.x)-l*(e.y-n.y);if(0==r)return 1;r<0||(i=!i)}}else if(e.y===n.y&&(s.x<=e.x&&e.x<=n.x||n.x<=e.x&&e.x<=s.x))return 1}return i}(v.p,f[r].p)||(n!==r&&p.push({froms:n,tos:r,hole:t}),i?(i=!1,d[r].push(v)):e=!0);i&&d[n].push(v)}}0<p.length&&(e||(t=d))}for(let e=0,n=f.length;e<n;e++){s=f[e].s,l.push(s);for(let n=0,i=(u=t[e]).length;n<i;n++)s.holes.push(u[n].h)}}return l}}let ec;(class{constructor(e){this.type="Font",this.data=e}generateShapes(e,t=100){var n=[],i=function(e,t,n){var i=Array.from(e),r=t/n.resolution,a=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*r,o=[];let s=0,l=0;for(let e=0;e<i.length;e++){var c=i[e];"\n"===c?(s=0,l-=a):(c=function(e,t,n,i,r){var a=r.glyphs[e]||r.glyphs["?"];if(a){var o=new Jl;let e,r,l,c,u,h,d,f;if(a.o){var s=a._cachedOutline||(a._cachedOutline=a.o.split(" "));for(let a=0,p=s.length;a<p;)switch(s[a++]){case"m":e=s[a++]*t+n,r=s[a++]*t+i,o.moveTo(e,r);break;case"l":e=s[a++]*t+n,r=s[a++]*t+i,o.lineTo(e,r);break;case"q":l=s[a++]*t+n,c=s[a++]*t+i,u=s[a++]*t+n,h=s[a++]*t+i,o.quadraticCurveTo(u,h,l,c);break;case"b":l=s[a++]*t+n,c=s[a++]*t+i,u=s[a++]*t+n,h=s[a++]*t+i,d=s[a++]*t+n,f=s[a++]*t+i,o.bezierCurveTo(u,h,d,f,l,c)}}return{offsetX:a.ha*t,path:o}}console.error('THREE.Font: character "'+e+'" does not exists in font family '+r.familyName+".")}(c,r,s,l,n),s+=c.offsetX,o.push(c.path))}return o}(e,t,this.data);for(let e=0,t=i.length;e<t;e++)Array.prototype.push.apply(n,i[e].toShapes());return n}}).prototype.isFont=!0;const tc=function(){return ec=void 0===ec?new(window.AudioContext||window.webkitAudioContext):ec};class nc extends al{constructor(e){super(e)}load(e,t,n,i){const r=this;var a=new sl(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(n){try{var a=n.slice(0);tc().decodeAudioData(a,(function(e){t(e)}))}catch(n){i?i(n):console.error(n),r.manager.itemError(e)}}),n,i)}}(class extends Yl{constructor(e,t=1){super(void 0,t),t=(new oi).set(e),this.sh.coefficients[0].set(t.r,t.g,t.b).multiplyScalar(2*Math.sqrt(Math.PI))}}).prototype.isAmbientLightProbe=class extends Yl{constructor(e,t,n=1){super(void 0,n);n=(new oi).set(e),e=(new oi).set(t),t=new Ot(n.r,n.g,n.b),n=new Ot(e.r,e.g,e.b);var i=(e=Math.sqrt(Math.PI))*Math.sqrt(.75);this.sh.coefficients[0].copy(t).add(n).multiplyScalar(e),this.sh.coefficients[1].copy(t).sub(n).multiplyScalar(i)}}.prototype.isHemisphereLightProbe=!0,new hn,new hn;class ic{constructor(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=rc(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;var t;return this.autoStart&&!this.running?(this.start(),0):(this.running&&(e=((t=rc())-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e),e)}}function rc(){return("undefined"==typeof performance?Date:performance).now()}class ac{constructor(e,t,n){let i,r,a;switch(this.binding=e,this.valueSize=n,t){case"quaternion":i=this._slerp,r=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":i=this._select,r=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:i=this._lerp,r=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=r,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){var n=this.buffer,i=this.valueSize,r=e*i+i;let a=this.cumulativeWeight;if(0===a){for(let e=0;e!==i;++e)n[r+e]=n[e];a=t}else e=t/(a+=t),this._mixBufferRegion(n,r,0,e,i);this.cumulativeWeight=a}accumulateAdditive(e){var t=this.buffer,n=this.valueSize,i=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){var t,n=this.valueSize,i=this.buffer,r=e*n+n,a=(e=this.cumulativeWeight,this.cumulativeWeightAdditive),o=this.binding;this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,e<1&&(t=n*this._origIndex,this._mixBufferRegion(i,r,t,1-e,n)),0<a&&this._mixBufferRegionAdditive(i,r,this._addIndex*n,1,n);for(let e=n,t=n+n;e!==t;++e)if(i[e]!==i[e+n]){o.setValue(i,r);break}}saveOriginalState(){var e=this.binding,t=this.buffer,n=this.valueSize,i=n*this._origIndex;e.getValue(t,i);for(let e=n,r=i;e!==r;++e)t[e]=t[i+e%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){var e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){var e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,i,r){if(.5<=i)for(let i=0;i!==r;++i)e[t+i]=e[n+i]}_slerp(e,t,n,i){Nt.slerpFlat(e,t,e,t,e,n,i)}_slerpAdditive(e,t,n,i,r){r=this._workIndex*r,Nt.multiplyQuaternionsFlat(e,r,e,t,e,n),Nt.slerpFlat(e,t,e,t,e,r,i)}_lerp(e,t,n,i,r){var a=1-i;for(let s=0;s!==r;++s){var o=t+s;e[o]=e[o]*a+e[n+s]*i}}_lerpAdditive(e,t,n,i,r){for(let o=0;o!==r;++o){var a=t+o;e[a]=e[a]+e[n+o]*i}}}tt="\\[\\]\\.:\\/";const oc=new RegExp("["+tt+"]","g");var sc="[^"+tt+"]",lc=(tt="[^"+tt.replace("\\.","")+"]",/((?:WC+[\/:])*)/.source.replace("WC",sc)),cc=(tt=/(WCOD+)?/.source.replace("WCOD",tt),/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",sc));sc=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",sc);const uc=new RegExp("^"+lc+tt+cc+sc+"$"),hc=["material","materials","bones"];function dc(e,t,n){n=n||fc.parseTrackName(t),this._targetGroup=e,this._bindings=e.subscribe_(t,n)}function fc(e,t,n){this.path=t,this.parsedPath=n||fc.parseTrackName(t),this.node=fc.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}Object.assign(dc.prototype,{getValue:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_;void 0!==(n=this._bindings[n])&&n.getValue(e,t)},setValue:function(e,t){var n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(e,t)},bind:function(){var e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){var e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}),Object.assign(fc,{Composite:dc,create:function(e,t,n){return new(e&&e.isAnimationObjectGroup?fc.Composite:fc)(e,t,n)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(oc,"")},parseTrackName:function(e){if(!(n=uc.exec(e)))throw new Error("PropertyBinding: Cannot parse trackName: "+e);var t,n,i=(n={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]}).nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==i&&-1!==i&&(t=n.nodeName.substring(i+1),-1!==hc.indexOf(t))&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=t),null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n},findNode:function(e,t){if(!t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){const i=function(e){for(let r=0;r<e.length;r++){var n=e[r];if(n.name===t||n.uuid===t)return n;if(n=i(n.children))return n}return null};if(n=i(e.children))return n}return null}}),Object.assign(fc.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){var n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)e[t++]=n[i]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){var n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++]},function(e,t){var n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){var n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){let e=this.node;var t=this.parsedPath,n=t.objectName,i=t.propertyName;let r=t.propertyIndex;if(e||(e=fc.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(n){let i=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let t=0;t<e.length;t++)if(e[t].name===i){i=t;break}break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==i){if(void 0===e[i])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[i]}}var a=e[i];if(void 0===a)t=t.nodeName,console.error("THREE.PropertyBinding: Trying to update property for track: "+t+"."+i+" but it wasn't found.",e);else{let t=this.Versioning.None,n=(void 0!==(this.targetObject=e).needsUpdate?t=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(t=this.Versioning.MatrixWorldNeedsUpdate),this.BindingType.Direct);if(void 0!==r){if("morphTargetInfluences"===i){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[r]&&(r=e.morphTargetDictionary[r])}n=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=r}else void 0!==a.fromArray&&void 0!==a.toArray?(n=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(n=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=i;this.getValue=this.GetterByBindingType[n],this.setValue=this.SetterByBindingTypeAndVersioning[n][t]}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(fc.prototype,{_getValue_unbound:fc.prototype.getValue,_setValue_unbound:fc.prototype.setValue});class pc{constructor(e,t,n=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=i;var r=t.tracks,a=r.length,o=new Array(a),s={endingStart:2400,endingEnd:2400};for(let e=0;e!==a;++e){var l=r[e].createInterpolant(null);(o[e]=l).settings=s}this._interpolantSettings=s,this._interpolants=o,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){var i,r;return e.fadeOut(t),this.fadeIn(t),n&&(r=(n=this._clip.duration)/(i=e._clip.duration),e.warp(1,i/n,t),this.warp(r,1,t)),this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){var i=(o=this._mixer).time,r=this.timeScale;let a=this._timeScaleInterpolant;null===a&&(a=o._lendControlInterpolant(),this._timeScaleInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=i,o[1]=i+n,s[0]=e/r,s[1]=t/r,this}stopWarping(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,i){if(this.enabled){var r=this._startTime;if(null!==r){if((r=(e-r)*n)<0||0===n)return;this._startTime=null,t=n*r}t*=this._updateTimeScale(e);var a=this._updateTime(t),o=this._updateWeight(e);if(0<o){var s=this._interpolants,l=this._propertyBindings;if(2501===this.blendMode)for(let e=0,t=s.length;e!==t;++e)s[e].evaluate(a),l[e].accumulateAdditive(o);else for(let e=0,t=s.length;e!==t;++e)s[e].evaluate(a),l[e].accumulate(i,o)}}else this._updateWeight(e)}_updateWeight(e){let t=0;var n,i;return this.enabled&&(t=this.weight,null!==(n=this._weightInterpolant))&&(t*=i=n.evaluate(e)[0],e>n.parameterPositions[1])&&(this.stopFading(),0===i)&&(this.enabled=!1),this._effectiveWeight=t}_updateTimeScale(e){let t=0;var n;return this.paused||(t=this.timeScale,null!==(n=this._timeScaleInterpolant)&&(t*=n.evaluate(e)[0],e>n.parameterPositions[1])&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)),this._effectiveTimeScale=t}_updateTime(e){var t=this._clip.duration,n=this.loop;let i=this.time+e,r=this._loopCount;var a,o=2202===n;if(0===e)return-1!==r&&o&&1==(1&r)?t-i:i;if(2200===n){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else{if(!(i<0)){this.time=i;break e}i=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else if(-1===r&&(0<=e?(r=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),i>=t||i<0?(i-=t*(n=Math.floor(i/t)),r+=Math.abs(n),(a=this.repetitions-r)<=0?(this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=0<e?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:0<e?1:-1})):(1==a?this._setEndings(a=e<0,!a,o):this._setEndings(!1,!1,o),this._loopCount=r,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:n}))):this.time=i,o&&1==(1&r))return t-i;return i}_setEndings(e,t,n){var i=this._interpolantSettings;n?(i.endingStart=2401,i.endingEnd=2401):(i.endingStart=e?this.zeroSlopeAtStart?2401:2400:2402,i.endingEnd=t?this.zeroSlopeAtEnd?2401:2400:2402)}_scheduleFading(e,t,n){var i=(a=this._mixer).time;let r=this._weightInterpolant;null===r&&(r=a._lendControlInterpolant(),this._weightInterpolant=r);var a=r.parameterPositions,o=r.sampleValues;return a[0]=i,o[0]=t,a[1]=i+e,o[1]=n,this}}function mc(e,t,n){go.call(this,e,t),this.meshPerAttribute=n||1}function vc(e,t,n,i,r){this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=i,this.count=r,this.version=0}function gc(e,t,n=0,i=1/0){this.ray=new un(e,t),this.near=n,this.far=i,this.camera=null,this.layers=new _n,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function yc(e,t){return e.distance-t.distance}function xc(e,t,n,i){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===i){var r=e.children;for(let e=0,i=r.length;e<i;e++)xc(r[e],t,n,!0)}}function bc(e){On.call(this),this.material=e,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}(class extends _t{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){var n=e._localRoot||this._root,i=e._clip.tracks,r=i.length,a=e._propertyBindings,o=e._interpolants,s=n.uuid;let l=(e=this._bindingsByRootAndName)[s];void 0===l&&(l={},e[s]=l);for(let e=0;e!==r;++e){var c=i[e],u=c.name;let r=l[u];if(void 0===r){if(void 0!==(r=a[e])){null===r._cacheIndex&&(++r.referenceCount,this._addInactiveBinding(r,s,u));continue}var h=t&&t._propertyBindings[e].binding.parsedPath;++(r=new ac(fc.create(n,u,h),c.ValueTypeName,c.getValueSize())).referenceCount,this._addInactiveBinding(r,s,u)}a[e]=r,o[e].resultBuffer=r.buffer}}_activateAction(e){if(!this._isActiveAction(e)){null===e._cacheIndex&&(t=(e._localRoot||this._root).uuid,n=e._clip.uuid,i=this._actionsByClip[n],this._bindAction(e,i&&i.knownActions[0]),this._addInactiveAction(e,n,t));var t,n,i,r=e._propertyBindings;for(let e=0,t=r.length;e!==t;++e){var a=r[e];0==a.useCount++&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){var t=e._propertyBindings;for(let e=0,i=t.length;e!==i;++e){var n=t[e];0==--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){return null!==(e=e._cacheIndex)&&e<this._nActiveActions}_addInactiveAction(e,t,n){var i=this._actions,r=this._actionsByClip;let a=r[t];void 0===a?(a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=a):(r=a.knownActions,e._byClipCacheIndex=r.length,r.push(e)),e._cacheIndex=i.length,i.push(e),a.actionByRoot[n]=e}_removeInactiveAction(e){var t,n=(t=this._actions)[t.length-1],i=e._cacheIndex,r=(i=(t[n._cacheIndex=i]=n,t.pop(),e._cacheIndex=null,e._clip.uuid),(t=(n=this._actionsByClip)[i]).knownActions),a=r[r.length-1],o=e._byClipCacheIndex;r[a._byClipCacheIndex=o]=a,r.pop(),e._byClipCacheIndex=null,delete t.actionByRoot[(e._localRoot||this._root).uuid],0===r.length&&delete n[i],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){var t=e._propertyBindings;for(let e=0,i=t.length;e!==i;++e){var n=t[e];0==--n.referenceCount&&this._removeInactiveBinding(n)}}_lendAction(e){var t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,r=t[i];t[e._cacheIndex=i]=e,t[r._cacheIndex=n]=r}_takeBackAction(e){var t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,r=t[i];t[e._cacheIndex=i]=e,t[r._cacheIndex=n]=r}_addInactiveBinding(e,t,n){var i=this._bindingsByRootAndName,r=this._bindings;let a=i[t];void 0===a&&(a={},i[t]=a),(a[n]=e)._cacheIndex=r.length,r.push(e)}_removeInactiveBinding(e){var t=this._bindings,n=(i=e.binding).rootNode.uuid,i=i.path,r=this._bindingsByRootAndName,a=r[n],o=t[t.length-1];e=e._cacheIndex;t[o._cacheIndex=e]=o,t.pop(),delete a[i],0===Object.keys(a).length&&delete r[n]}_lendBinding(e){var t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,r=t[i];t[e._cacheIndex=i]=e,t[r._cacheIndex=n]=r}_takeBackBinding(e){var t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,r=t[i];t[e._cacheIndex=i]=e,t[r._cacheIndex=n]=r}_lendControlInterpolant(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return void 0===n&&(e[(n=new Xs(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t]=n),n}_takeBackControlInterpolant(e){var t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,r=t[i];t[e.__cacheIndex=i]=e,t[r.__cacheIndex=n]=r}clipAction(e,t,n){var i=t||this._root,r=i.uuid;let a="string"==typeof e?nl.findByName(i,e):e;i=null!==a?a.uuid:e,e=this._actionsByClip[i];let o=null;if(void 0===n&&(n=null!==a?a.blendMode:2500),void 0!==e){var s=e.actionByRoot[r];if(void 0!==s&&s.blendMode===n)return s;o=e.knownActions[0],null===a&&(a=o._clip)}return null===a?null:(s=new pc(this,a,t,n),this._bindAction(s,o),this._addInactiveAction(s,i,r),s)}existingAction(e,t){var n=(t=t||this._root).uuid;t=(t="string"==typeof e?nl.findByName(t,e):e)?t.uuid:e;return void 0!==(e=this._actionsByClip[t])&&e.actionByRoot[n]||null}stopAllAction(){var e=this._actions;for(let t=this._nActiveActions-1;0<=t;--t)e[t].stop();return this}update(e){e*=this.timeScale;var t=this._actions,n=this._nActiveActions,i=this.time+=e,r=Math.sign(e),a=this._accuIndex^=1;for(let o=0;o!==n;++o)t[o]._update(i,e,r,a);var o=this._bindings,s=this._nActiveBindings;for(let e=0;e!==s;++e)o[e].apply(a);return this}setTime(e){for(let e=this.time=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){var t=this._actions,n=(e=e.uuid,this._actionsByClip),i=n[e];if(void 0!==i){var r=i.knownActions;for(let e=0,n=r.length;e!==n;++e){var a=r[e],o=(this._deactivateAction(a),a._cacheIndex),s=t[t.length-1];a._cacheIndex=null,a._byClipCacheIndex=null,t[s._cacheIndex=o]=s,t.pop(),this._removeInactiveBindingsForAction(a)}delete n[e]}}uncacheRoot(e){var t=e.uuid,n=this._actionsByClip;for(const e in n){var i=n[e].actionByRoot[t];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var r=this._bindingsByRootAndName[t];if(void 0!==r)for(const e in r){var a=r[e];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){null!==(e=this.existingAction(e,t))&&(this._deactivateAction(e),this._removeInactiveAction(e))}}).prototype._controlInterpolantsResultBuffer=new Float32Array(1),mc.prototype=Object.assign(Object.create(go.prototype),{constructor:mc,isInstancedInterleavedBuffer:!0,copy:function(e){return go.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},clone:function(e){return(e=go.prototype.clone.call(this,e)).meshPerAttribute=this.meshPerAttribute,e},toJSON:function(e){return(e=go.prototype.toJSON.call(this,e)).isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}),Object.defineProperty(vc.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(vc.prototype,{isGLBufferAttribute:!0,setBuffer:function(e){return this.buffer=e,this},setType:function(e,t){return this.type=e,this.elementSize=t,this},setItemSize:function(e){return this.itemSize=e,this},setCount:function(e){return this.count=e,this}}),Object.assign(gc.prototype,{set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)},intersectObject:function(e,t=!1,n=[]){return xc(e,this,n,t),n.sort(yc),n},intersectObjects:function(e,t=!1,n=[]){for(let i=0,r=e.length;i<r;i++)xc(e[i],this,n,t);return n.sort(yc),n}}),((bc.prototype=Object.create(On.prototype)).constructor=bc).prototype.isImmediateRenderObject=!0;const wc=new Ot,_c=new hn,Mc=new hn,Sc=new Float32Array(1);new Int32Array(Sc.buffer),Math.pow(2,8);const Ec=[.125,.215,.35,.446,.526,.582],Tc=5+Ec.length,Cc=new si({side:1,depthWrite:!1,depthTest:!1}),{}=(new qi(new $i,Cc),function(){var e=[],t=[],n=[];let i=8;for(let d=0;d<Tc;d++){var r=Math.pow(2,i);t.push(r);let f=1/r;4<d?f=Ec[d-8+4-1]:0==d&&(f=0),n.push(f);var a=-(r=1/(r-1))/2,o=[a,a,r=1+r/2,a,r,r,a,a,r,r,a,r],s=new Float32Array(108),l=new Float32Array(72),c=new Float32Array(36);for(let e=0;e<6;e++){var u=e%3*2/3-1,h=2<e?0:-1;u=(s.set([u,h,0,u+2/3,h,0,u+2/3,1+h,0,u,h,0,u+2/3,1+h,0,u,1+h,0],18*e),l.set(o,12*e),[e,e,e,e,e,e]);c.set(u,6*e)}(a=new Li).setAttribute("position",new ui(s,3)),a.setAttribute("uv",new ui(l,2)),a.setAttribute("faceIndex",new ui(c,1)),e.push(a),4<i&&i--}return{_lodPlanes:e,_sizeLods:t,_sigmas:n}}());Math.sqrt(5),fl.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(fl.prototype),(e.prototype.constructor=e).prototype.getPoint=t,e},Il.prototype.fromPoints=function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)},class extends ss{constructor(e=10,t=10,n=4473924,i=8947848){n=new oi(n),i=new oi(i);var r=t/2,a=e/t,o=e/2,s=[],l=[];for(let e=0,u=0,h=-o;e<=t;e++,h+=a){s.push(-o,0,h,o,0,h),s.push(h,0,-o,h,0,o);var c=e===r?n:i;c.toArray(l,u),u+=3,c.toArray(l,u),u+=3,c.toArray(l,u),u+=3,c.toArray(l,u),u+=3}var u=((e=new Li).setAttribute("position",new xi(s,3)),e.setAttribute("color",new xi(l,3)),new Ko({vertexColors:!0,toneMapped:!1}));super(e,u),this.type="GridHelper"}}.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},class extends ss{constructor(e){var t=function e(t){const n=[];t&&t.isBone&&n.push(t);for(let i=0;i<t.children.length;i++)n.push.apply(n,e(t.children[i]));return n}(e),n=new Li,i=[],r=[],a=new oi(0,0,1),o=new oi(0,1,0);for(let e=0;e<t.length;e++){var s=t[e];s.parent&&s.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),r.push(a.r,a.g,a.b),r.push(o.r,o.g,o.b))}n.setAttribute("position",new xi(i,3)),n.setAttribute("color",new xi(r,3)),super(n,new Ko({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){var t=this.bones,n=this.geometry,i=n.getAttribute("position");Mc.copy(this.root.matrixWorld).invert();for(let e=0,n=0;e<t.length;e++){var r=t[e];r.parent&&r.parent.isBone&&(_c.multiplyMatrices(Mc,r.matrixWorld),wc.setFromMatrixPosition(_c),i.setXYZ(n,wc.x,wc.y,wc.z),_c.multiplyMatrices(Mc,r.parent.matrixWorld),wc.setFromMatrixPosition(_c),i.setXYZ(n+1,wc.x,wc.y,wc.z),n+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},al.prototype.extractUrlBase=function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),$l(e)},al.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Bt.prototype.center=function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Bt.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},Bt.prototype.isIntersectionBox=function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},Bt.prototype.isIntersectionSphere=function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},Bt.prototype.size=function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)},tn.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()},lr.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)},Et.random16=function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},Et.nearestPowerOfTwo=function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Et.floorPowerOfTwo(e)},Et.nextPowerOfTwo=function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Et.ceilPowerOfTwo(e)},Ct.prototype.flattenToArrayOffset=function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},Ct.prototype.multiplyVector3=function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},Ct.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},Ct.prototype.applyToBufferAttribute=function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},Ct.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},Ct.prototype.getInverse=function(e){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()},hn.prototype.extractPosition=function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},hn.prototype.flattenToArrayOffset=function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},hn.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new Ot).setFromMatrixColumn(this,3)},hn.prototype.setRotationFromQuaternion=function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},hn.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},hn.prototype.multiplyVector3=function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},hn.prototype.multiplyVector4=function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},hn.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},hn.prototype.rotateAxis=function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},hn.prototype.crossVector=function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},hn.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")},hn.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},hn.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},hn.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},hn.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},hn.prototype.applyToBufferAttribute=function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},hn.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},hn.prototype.makeFrustum=function(e,t,n,i,r,a){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,i,n,r,a)},hn.prototype.getInverse=function(e){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()},Hn.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},Nt.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Nt.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()},un.prototype.isIntersectionBox=function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},un.prototype.isIntersectionPlane=function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},un.prototype.isIntersectionSphere=function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},Qn.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},Qn.prototype.barycoordFromPoint=function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},Qn.prototype.midpoint=function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},Qn.prototypenormal=function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},Qn.prototype.plane=function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)},Qn.barycoordFromPoint=function(e,t,n,i,r){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Qn.getBarycoord(e,t,n,i,r)},Qn.normal=function(e,t,n,i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Qn.getNormal(e,t,n,i)},Rl.prototype.extractAllPoints=function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},Rl.prototype.extrude=function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Ns(this,e)},Rl.prototype.makeGeometry=function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new zs(this,e)},Tt.prototype.fromAttribute=function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},Tt.prototype.distanceToManhattan=function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},Tt.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Ot.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},Ot.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},Ot.prototype.getPositionFromMatrix=function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},Ot.prototype.getScaleFromMatrix=function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},Ot.prototype.getColumnFromMatrix=function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},Ot.prototype.applyProjection=function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},Ot.prototype.fromAttribute=function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},Ot.prototype.distanceToManhattan=function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},Ot.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},It.prototype.fromAttribute=function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},It.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},On.prototype.getChildByName=function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},On.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},On.prototype.translate=function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},On.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},On.prototype.applyMatrix=function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)},Object.defineProperties(On.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),qi.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")},Object.defineProperties(qi.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Object.defineProperties(class extends On{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);var t=e.levels;for(let e=0,i=t.length;e<i;e++){var n=t[e];this.addLevel(n.object.clone(),n.distance)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0){t=Math.abs(t);var n=this.levels;let i;for(i=0;i<n.length&&!(t<n[i].distance);i++);return n.splice(i,0,{distance:t,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){var t=this.levels;if(0<t.length){let n,i;for(n=1,i=t.length;n<i&&!(e<t[n].distance);n++);return t[n-1].object}return null}raycast(e,t){var n;0<this.levels.length&&(No.setFromMatrixPosition(this.matrixWorld),n=e.ray.origin.distanceTo(No),this.getObjectForDistance(n).raycast(e,t))}update(e){var t=this.levels;if(1<t.length){No.setFromMatrixPosition(e.matrixWorld),Oo.setFromMatrixPosition(this.matrixWorld);var n=No.distanceTo(Oo)/e.zoom;let i,r;for(t[0].object.visible=!0,i=1,r=t.length;i<r&&n>=t[i].distance;i++)t[i-1].object.visible=!1,t[i].object.visible=!0;for(this._currentLevel=i-1;i<r;i++)t[i].object.visible=!1}}toJSON(e){var t=super.toJSON(e),n=(!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[],this.levels);for(let e=0,r=n.length;e<r;e++){var i=n[e];t.object.levels.push({object:i.object.uuid,distance:i.distance})}return t}}.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(Xo.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Vo.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(fl.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),tr.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(Nl.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(ui.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===wt},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(wt)}}}),ui.prototype.setDynamic=function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?wt:bt),this},ui.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},ui.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},Li.prototype.addIndex=function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},Li.prototype.addAttribute=function(e,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new ui(t,arguments[2])))},Li.prototype.addDrawCall=function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},Li.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},Li.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},Li.prototype.removeAttribute=function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},Li.prototype.applyMatrix=function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)},Object.defineProperties(Li.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(Zl.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(e){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=e}}}),Object.defineProperties(gc.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(e){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=e}}}),Object.defineProperties(go.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===wt},set:function(e){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(e)}}}),go.prototype.setDynamic=function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?wt:bt),this},go.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},Ns.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")},Ns.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")},Ns.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")},vo.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")},Object.defineProperties(class e{constructor(e){"string"==typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}clone(){return new e(void 0===this.value.clone?this.value:this.value.clone())}}.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(Jn.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new oi}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===e}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}}}),Object.defineProperties(Vs.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(Us.prototype,{transparency:{get:function(){return console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission},set:function(e){console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission=e}}}),Object.defineProperties(Ji.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),fo.prototype.clearTarget=function(e,t,n,i){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,i)},fo.prototype.animate=function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},fo.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},fo.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},fo.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},fo.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},fo.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},fo.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},fo.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},fo.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},fo.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},fo.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},fo.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},fo.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},fo.prototype.enableScissorTest=function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},fo.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},fo.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},fo.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},fo.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},fo.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},fo.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},fo.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},fo.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},fo.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},fo.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()},Object.defineProperties(fo.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===e?3001:xt}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(io.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Rt.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Object.defineProperties(class extends On{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(!0===this.isPlaying)console.warn("THREE.Audio: Audio is already playing.");else{if(!1!==this.hasPlaybackControl)return this._startedAt=this.context.currentTime+e,(e=this.context.createBufferSource()).buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect();console.warn("THREE.Audio: this Audio has no playback control.")}}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e=e||[],!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}.prototype,{load:{value:function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const t=this;return(new nc).load(e,(function(e){t.setBuffer(e)})),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),nr.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)},nr.prototype.clear=function(e,t,n,i){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(e,t,n,i)},Lt.crossOrigin=void 0,Lt.loadTexture=function(e,t,n,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var r=((r=new dl).setCrossOrigin(this.crossOrigin),r.load(e,n,void 0,i));return t&&(r.mapping=t),r},Lt.loadTextureCube=function(e,t,n,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var r=((r=new ul).setCrossOrigin(this.crossOrigin),r.load(e,n,void 0,i));return t&&(r.mapping=t),r},Lt.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},Lt.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"126"}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="126");var Ac,Lc,Pc={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","\tvec4 texel = texture2D( tDiffuse, vUv );","\tgl_FragColor = opacity * texel;","}"].join("\n")};function kc(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}function Dc(e){this._mesh=new qi(Lc,e)}function Ic(e,t){kc.call(this),this.textureID=void 0!==t?t:"tDiffuse",e instanceof Ji?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=Ki.clone(e.uniforms),this.material=new Ji({defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new kc.FullScreenQuad(this.material)}function Rc(e,t){kc.call(this),this.scene=e,this.camera=t,this.clear=!0,this.needsSwap=!1,this.inverse=!1}function Nc(){kc.call(this),this.needsSwap=!1}function Oc(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}Object.assign(kc.prototype,{setSize:function(){},render:function(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}),kc.FullScreenQuad=(Ac=new Wl(-1,1,1,-1,0,1),Lc=new hr(2,2),Object.defineProperty(Dc.prototype,"material",{get:function(){return this._mesh.material},set:function(e){this._mesh.material=e}}),Object.assign(Dc.prototype,{dispose:function(){this._mesh.geometry.dispose()},render:function(e){e.render(this._mesh,Ac)}}),Dc),Ic.prototype=Object.assign(Object.create(kc.prototype),{constructor:Ic,render:function(e,t,n){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=n.texture),this.fsQuad.material=this.material,this.renderToScreen?e.setRenderTarget(null):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil)),this.fsQuad.render(e)}}),Rc.prototype=Object.assign(Object.create(kc.prototype),{constructor:Rc,render:function(e,t,n){var i,r,a=e.getContext(),o=e.state;o.buffers.color.setMask(!1),o.buffers.depth.setMask(!1),o.buffers.color.setLocked(!0),o.buffers.depth.setLocked(!0),r=this.inverse?(i=0,1):(i=1,0),o.buffers.stencil.setTest(!0),o.buffers.stencil.setOp(a.REPLACE,a.REPLACE,a.REPLACE),o.buffers.stencil.setFunc(a.ALWAYS,i,4294967295),o.buffers.stencil.setClear(r),o.buffers.stencil.setLocked(!0),e.setRenderTarget(n),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),o.buffers.color.setLocked(!1),o.buffers.depth.setLocked(!1),o.buffers.stencil.setLocked(!1),o.buffers.stencil.setFunc(a.EQUAL,1,4294967295),o.buffers.stencil.setOp(a.KEEP,a.KEEP,a.KEEP),o.buffers.stencil.setLocked(!0)}}),Nc.prototype=Object.create(kc.prototype),Object.assign(Nc.prototype,{render:function(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}});var Fc,zc,Bc=function(e,t){var n,i;this.renderer=e,void 0===t?(n={minFilter:ht,magFilter:ht,format:vt},i=e.getSize(new Tt),this._pixelRatio=e.getPixelRatio(),this._width=i.width,this._height=i.height,(t=new Rt(this._width*this._pixelRatio,this._height*this._pixelRatio,n)).texture.name="EffectComposer.rt1"):(this._pixelRatio=1,this._width=t.width,this._height=t.height),this.renderTarget1=t,this.renderTarget2=t.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new Ic(Pc),this.clock=new ic};function Hc(e){this._mesh=new qi(zc,e)}function Uc(e){null==e&&(e=Math),this.grad3=[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]],this.grad4=[[0,1,1,1],[0,1,1,-1],[0,1,-1,1],[0,1,-1,-1],[0,-1,1,1],[0,-1,1,-1],[0,-1,-1,1],[0,-1,-1,-1],[1,0,1,1],[1,0,1,-1],[1,0,-1,1],[1,0,-1,-1],[-1,0,1,1],[-1,0,1,-1],[-1,0,-1,1],[-1,0,-1,-1],[1,1,0,1],[1,1,0,-1],[1,-1,0,1],[1,-1,0,-1],[-1,1,0,1],[-1,1,0,-1],[-1,-1,0,1],[-1,-1,0,-1],[1,1,1,0],[1,1,-1,0],[1,-1,1,0],[1,-1,-1,0],[-1,1,1,0],[-1,1,-1,0],[-1,-1,1,0],[-1,-1,-1,0]],this.p=[];for(var t=0;t<256;t++)this.p[t]=Math.floor(256*e.random());for(this.perm=[],t=0;t<512;t++)this.perm[t]=this.p[255&t];this.simplex=[[0,1,2,3],[0,1,3,2],[0,0,0,0],[0,2,3,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,3,0],[0,2,1,3],[0,0,0,0],[0,3,1,2],[0,3,2,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,3,2,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,0,3],[0,0,0,0],[1,3,0,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,3,0,1],[2,3,1,0],[1,0,2,3],[1,0,3,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,3,1],[0,0,0,0],[2,1,3,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,1,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,0,1,2],[3,0,2,1],[0,0,0,0],[3,1,2,0],[2,1,0,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,1,0,2],[0,0,0,0],[3,2,0,1],[3,2,1,0]]}function Vc(e,t,n,i){kc.call(this),this.width=void 0!==n?n:512,this.height=void 0!==i?i:512,this.clear=!0,this.camera=t,this.scene=e,this.kernelRadius=8,this.kernelSize=32,this.kernel=[],this.noiseTexture=null,this.output=0,this.minDistance=.005,this.maxDistance=.1,this._visibilityCache=new Qc.a,this.generateSampleKernel(),this.generateRandomKernelRotations(),(n=new C.DepthTexture).type=C.UnsignedShortType,this.beautyRenderTarget=new C.WebGLRenderTarget(this.width,this.height,{minFilter:C.LinearFilter,magFilter:C.LinearFilter,format:C.RGBAFormat}),this.normalRenderTarget=new C.WebGLRenderTarget(this.width,this.height,{minFilter:C.NearestFilter,magFilter:C.NearestFilter,format:C.RGBAFormat,depthTexture:n}),this.ssaoRenderTarget=new C.WebGLRenderTarget(this.width,this.height,{minFilter:C.LinearFilter,magFilter:C.LinearFilter,format:C.RGBAFormat}),this.blurRenderTarget=this.ssaoRenderTarget.clone(),this.ssaoMaterial=new C.ShaderMaterial({defines:_()({},Kc.defines),uniforms:C.UniformsUtils.clone(Kc.uniforms),vertexShader:Kc.vertexShader,fragmentShader:Kc.fragmentShader,blending:C.NoBlending}),this.ssaoMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.ssaoMaterial.uniforms.tNormal.value=this.normalRenderTarget.texture,this.ssaoMaterial.uniforms.tDepth.value=this.normalRenderTarget.depthTexture,this.ssaoMaterial.uniforms.tNoise.value=this.noiseTexture,this.ssaoMaterial.uniforms.kernel.value=this.kernel,this.ssaoMaterial.uniforms.cameraNear.value=this.camera.near,this.ssaoMaterial.uniforms.cameraFar.value=this.camera.far,this.ssaoMaterial.uniforms.resolution.value.set(this.width,this.height),this.ssaoMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssaoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.normalMaterial=new C.MeshNormalMaterial,this.normalMaterial.blending=C.NoBlending,this.blurMaterial=new C.ShaderMaterial({defines:_()({},eu.defines),uniforms:C.UniformsUtils.clone(eu.uniforms),vertexShader:eu.vertexShader,fragmentShader:eu.fragmentShader}),this.blurMaterial.uniforms.tDiffuse.value=this.ssaoRenderTarget.texture,this.blurMaterial.uniforms.resolution.value.set(this.width,this.height),this.depthRenderMaterial=new C.ShaderMaterial({defines:_()({},Jc.defines),uniforms:C.UniformsUtils.clone(Jc.uniforms),vertexShader:Jc.vertexShader,fragmentShader:Jc.fragmentShader,blending:C.NoBlending}),this.depthRenderMaterial.uniforms.tDepth.value=this.normalRenderTarget.depthTexture,this.depthRenderMaterial.uniforms.cameraNear.value=this.camera.near,this.depthRenderMaterial.uniforms.cameraFar.value=this.camera.far,this.copyMaterial=new C.ShaderMaterial({uniforms:C.UniformsUtils.clone(Pc.uniforms),vertexShader:Pc.vertexShader,fragmentShader:Pc.fragmentShader,transparent:!0,depthTest:!1,depthWrite:!1,blendSrc:C.DstColorFactor,blendDst:C.ZeroFactor,blendEquation:C.AddEquation,blendSrcAlpha:C.DstAlphaFactor,blendDstAlpha:C.ZeroFactor,blendEquationAlpha:C.AddEquation}),this.fsQuad=new kc.FullScreenQuad(null),this.originalClearColor=new C.Color}Object.assign(Bc.prototype,{swapBuffers:function(){var e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e},addPass:function(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)},insertPass:function(e,t){this.passes.splice(t,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)},removePass:function(e){-1!==(e=this.passes.indexOf(e))&&this.passes.splice(e,1)},isLastEnabledPass:function(e){for(var t=e+1;t<this.passes.length;t++)if(this.passes[t].enabled)return!1;return!0},render:function(e){void 0===e&&(e=this.clock.getDelta());for(var t,n,i,r=this.renderer.getRenderTarget(),a=!1,o=this.passes.length,s=0;s<o;s++)!1!==(i=this.passes[s]).enabled&&(i.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(s),i.render(this.renderer,this.writeBuffer,this.readBuffer,e,a),i.needsSwap&&(a&&(t=this.renderer.getContext(),(n=this.renderer.state.buffers.stencil).setFunc(t.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),n.setFunc(t.EQUAL,1,4294967295)),this.swapBuffers()),i instanceof Rc?a=!0:i instanceof Nc&&(a=!1));this.renderer.setRenderTarget(r)},reset:function(e){var t;void 0===e&&(t=this.renderer.getSize(new Tt),this._pixelRatio=this.renderer.getPixelRatio(),this._width=t.width,this._height=t.height,(e=this.renderTarget1.clone()).setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)),this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2},setSize:function(e,t){this._width=e,this._height=t;var n=this._width*this._pixelRatio,i=this._height*this._pixelRatio;this.renderTarget1.setSize(n,i),this.renderTarget2.setSize(n,i);for(var r=0;r<this.passes.length;r++)this.passes[r].setSize(n,i)},setPixelRatio:function(e){this._pixelRatio=e,this.setSize(this._width,this._height)}}),Object.assign(Oc.prototype,{setSize:function(){},render:function(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}),Oc.FullScreenQuad=(Fc=new Wl(-1,1,1,-1,0,1),zc=new hr(2,2),Object.defineProperty(Hc.prototype,"material",{get:function(){return this._mesh.material},set:function(e){this._mesh.material=e}}),Object.assign(Hc.prototype,{dispose:function(){this._mesh.geometry.dispose()},render:function(e){e.render(this._mesh,Fc)}}),Hc);var Gc,jc,Wc=function(e,t,n,i,r){kc.call(this),this.scene=e,this.camera=t,this.overrideMaterial=n,this.clearColor=i,this.clearAlpha=void 0!==r?r:0,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new oi},Xc=(Wc.prototype=Object.assign(Object.create(kc.prototype),{constructor:Wc,render:function(e,t,n){var i,r,a=e.autoClear;e.autoClear=!1,void 0!==this.overrideMaterial&&(r=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(e.getClearColor(this._oldClearColor),i=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:n),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor&&e.setClearColor(this._oldClearColor,i),void 0!==this.overrideMaterial&&(this.scene.overrideMaterial=r),e.autoClear=a}}),{defines:{NUM_SAMPLES:7,NUM_RINGS:4,NORMAL_TEXTURE:0,DIFFUSE_TEXTURE:0,DEPTH_PACKING:1,PERSPECTIVE_CAMERA:1},uniforms:{tDepth:{value:null},tDiffuse:{value:null},tNormal:{value:null},size:{value:new Tt(512,512)},cameraNear:{value:1},cameraFar:{value:100},cameraProjectionMatrix:{value:new hn},cameraInverseProjectionMatrix:{value:new hn},scale:{value:1},intensity:{value:.1},bias:{value:.5},minResolution:{value:0},kernelRadius:{value:100},randomSeed:{value:0}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["#include <common>","varying vec2 vUv;","#if DIFFUSE_TEXTURE == 1","uniform sampler2D tDiffuse;","#endif","uniform sampler2D tDepth;","#if NORMAL_TEXTURE == 1","uniform sampler2D tNormal;","#endif","uniform float cameraNear;","uniform float cameraFar;","uniform mat4 cameraProjectionMatrix;","uniform mat4 cameraInverseProjectionMatrix;","uniform float scale;","uniform float intensity;","uniform float bias;","uniform float kernelRadius;","uniform float minResolution;","uniform vec2 size;","uniform float randomSeed;","// RGBA depth","#include <packing>","vec4 getDefaultColor( const in vec2 screenPosition ) {","\t#if DIFFUSE_TEXTURE == 1","\treturn texture2D( tDiffuse, vUv );","\t#else","\treturn vec4( 1.0 );","\t#endif","}","float getDepth( const in vec2 screenPosition ) {","\t#if DEPTH_PACKING == 1","\treturn unpackRGBAToDepth( texture2D( tDepth, screenPosition ) );","\t#else","\treturn texture2D( tDepth, screenPosition ).x;","\t#endif","}","float getViewZ( const in float depth ) {","\t#if PERSPECTIVE_CAMERA == 1","\treturn perspectiveDepthToViewZ( depth, cameraNear, cameraFar );","\t#else","\treturn orthographicDepthToViewZ( depth, cameraNear, cameraFar );","\t#endif","}","vec3 getViewPosition( const in vec2 screenPosition, const in float depth, const in float viewZ ) {","\tfloat clipW = cameraProjectionMatrix[2][3] * viewZ + cameraProjectionMatrix[3][3];","\tvec4 clipPosition = vec4( ( vec3( screenPosition, depth ) - 0.5 ) * 2.0, 1.0 );","\tclipPosition *= clipW; // unprojection.","\treturn ( cameraInverseProjectionMatrix * clipPosition ).xyz;","}","vec3 getViewNormal( const in vec3 viewPosition, const in vec2 screenPosition ) {","\t#if NORMAL_TEXTURE == 1","\treturn unpackRGBToNormal( texture2D( tNormal, screenPosition ).xyz );","\t#else","\treturn normalize( cross( dFdx( viewPosition ), dFdy( viewPosition ) ) );","\t#endif","}","float scaleDividedByCameraFar;","float minResolutionMultipliedByCameraFar;","float getOcclusion( const in vec3 centerViewPosition, const in vec3 centerViewNormal, const in vec3 sampleViewPosition ) {","\tvec3 viewDelta = sampleViewPosition - centerViewPosition;","\tfloat viewDistance = length( viewDelta );","\tfloat scaledScreenDistance = scaleDividedByCameraFar * viewDistance;","\treturn max(0.0, (dot(centerViewNormal, viewDelta) - minResolutionMultipliedByCameraFar) / scaledScreenDistance - bias) / (1.0 + pow2( scaledScreenDistance ) );","}","// moving costly divides into consts","const float ANGLE_STEP = PI2 * float( NUM_RINGS ) / float( NUM_SAMPLES );","const float INV_NUM_SAMPLES = 1.0 / float( NUM_SAMPLES );","float getAmbientOcclusion( const in vec3 centerViewPosition ) {","\t// precompute some variables require in getOcclusion.","\tscaleDividedByCameraFar = scale / cameraFar;","\tminResolutionMultipliedByCameraFar = minResolution * cameraFar;","\tvec3 centerViewNormal = getViewNormal( centerViewPosition, vUv );","\t// jsfiddle that shows sample pattern: https://jsfiddle.net/a16ff1p7/","\tfloat angle = rand( vUv + randomSeed ) * PI2;","\tvec2 radius = vec2( kernelRadius * INV_NUM_SAMPLES ) / size;","\tvec2 radiusStep = radius;","\tfloat occlusionSum = 0.0;","\tfloat weightSum = 0.0;","\tfor( int i = 0; i < NUM_SAMPLES; i ++ ) {","\t\tvec2 sampleUv = vUv + vec2( cos( angle ), sin( angle ) ) * radius;","\t\tradius += radiusStep;","\t\tangle += ANGLE_STEP;","\t\tfloat sampleDepth = getDepth( sampleUv );","\t\tif( sampleDepth >= ( 1.0 - EPSILON ) ) {","\t\t\tcontinue;","\t\t}","\t\tfloat sampleViewZ = getViewZ( sampleDepth );","\t\tvec3 sampleViewPosition = getViewPosition( sampleUv, sampleDepth, sampleViewZ );","\t\tocclusionSum += getOcclusion( centerViewPosition, centerViewNormal, sampleViewPosition );","\t\tweightSum += 1.0;","\t}","\tif( weightSum == 0.0 ) discard;","\treturn occlusionSum * ( intensity / weightSum );","}","void main() {","\tfloat centerDepth = getDepth( vUv );","\tif( centerDepth >= ( 1.0 - EPSILON ) ) {","\t\tdiscard;","\t}","\tfloat centerViewZ = getViewZ( centerDepth );","\tvec3 viewPosition = getViewPosition( vUv, centerDepth, centerViewZ );","\tfloat ambientOcclusion = getAmbientOcclusion( viewPosition );","\tgl_FragColor = getDefaultColor( vUv );","\tgl_FragColor.xyz *=  1.0 - ambientOcclusion;","}"].join("\n")}),qc={defines:{KERNEL_RADIUS:4,DEPTH_PACKING:1,PERSPECTIVE_CAMERA:1},uniforms:{tDiffuse:{value:null},size:{value:new Tt(512,512)},sampleUvOffsets:{value:[new Tt(0,0)]},sampleWeights:{value:[1]},tDepth:{value:null},cameraNear:{value:10},cameraFar:{value:1e3},depthCutoff:{value:10}},vertexShader:["#include <common>","uniform vec2 size;","varying vec2 vUv;","varying vec2 vInvSize;","void main() {","\tvUv = uv;","\tvInvSize = 1.0 / size;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["#include <common>","#include <packing>","uniform sampler2D tDiffuse;","uniform sampler2D tDepth;","uniform float cameraNear;","uniform float cameraFar;","uniform float depthCutoff;","uniform vec2 sampleUvOffsets[ KERNEL_RADIUS + 1 ];","uniform float sampleWeights[ KERNEL_RADIUS + 1 ];","varying vec2 vUv;","varying vec2 vInvSize;","float getDepth( const in vec2 screenPosition ) {","\t#if DEPTH_PACKING == 1","\treturn unpackRGBAToDepth( texture2D( tDepth, screenPosition ) );","\t#else","\treturn texture2D( tDepth, screenPosition ).x;","\t#endif","}","float getViewZ( const in float depth ) {","\t#if PERSPECTIVE_CAMERA == 1","\treturn perspectiveDepthToViewZ( depth, cameraNear, cameraFar );","\t#else","\treturn orthographicDepthToViewZ( depth, cameraNear, cameraFar );","\t#endif","}","void main() {","\tfloat depth = getDepth( vUv );","\tif( depth >= ( 1.0 - EPSILON ) ) {","\t\tdiscard;","\t}","\tfloat centerViewZ = -getViewZ( depth );","\tbool rBreak = false, lBreak = false;","\tfloat weightSum = sampleWeights[0];","\tvec4 diffuseSum = texture2D( tDiffuse, vUv ) * weightSum;","\tfor( int i = 1; i <= KERNEL_RADIUS; i ++ ) {","\t\tfloat sampleWeight = sampleWeights[i];","\t\tvec2 sampleUvOffset = sampleUvOffsets[i] * vInvSize;","\t\tvec2 sampleUv = vUv + sampleUvOffset;","\t\tfloat viewZ = -getViewZ( getDepth( sampleUv ) );","\t\tif( abs( viewZ - centerViewZ ) > depthCutoff ) rBreak = true;","\t\tif( ! rBreak ) {","\t\t\tdiffuseSum += texture2D( tDiffuse, sampleUv ) * sampleWeight;","\t\t\tweightSum += sampleWeight;","\t\t}","\t\tsampleUv = vUv - sampleUvOffset;","\t\tviewZ = -getViewZ( getDepth( sampleUv ) );","\t\tif( abs( viewZ - centerViewZ ) > depthCutoff ) lBreak = true;","\t\tif( ! lBreak ) {","\t\t\tdiffuseSum += texture2D( tDiffuse, sampleUv ) * sampleWeight;","\t\t\tweightSum += sampleWeight;","\t\t}","\t}","\tgl_FragColor = diffuseSum / weightSum;","}"].join("\n")},Yc={createSampleWeights:function(e,t){for(var n,i,r=[],a=0;a<=e;a++)r.push((n=a,i=t,Math.exp(-n*n/(i*i*2))/(Math.sqrt(2*Math.PI)*i)));return r},createSampleOffsets:function(e,t){for(var n=[],i=0;i<=e;i++)n.push(t.clone().multiplyScalar(i));return n},configure:function(e,t,n,i){e.defines.KERNEL_RADIUS=t,e.uniforms.sampleUvOffsets.value=Yc.createSampleOffsets(t,i),e.uniforms.sampleWeights.value=Yc.createSampleWeights(t,n),e.needsUpdate=!0}},$c={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","#include <packing>","void main() {","\tfloat depth = 1.0 - unpackRGBAToDepth( texture2D( tDiffuse, vUv ) );","\tgl_FragColor = vec4( vec3( depth ), opacity );","}"].join("\n")},Zc=function(e,t,n,i,r){kc.call(this),this.scene=e,this.camera=t,this.clear=!0,this.needsSwap=!1,this.supportsDepthTextureExtension=void 0!==n&&n,this.supportsNormalTexture=void 0!==i&&i,this.originalClearColor=new C.Color,this._oldClearColor=new C.Color,this.oldClearAlpha=1,this.params={output:0,saoBias:.5,saoIntensity:.18,saoScale:1,saoKernelRadius:100,saoMinResolution:0,saoBlur:!0,saoBlurRadius:8,saoBlurStdDev:4,saoBlurDepthCutoff:.01},this.resolution=void 0!==r?new C.Vector2(r.x,r.y):new C.Vector2(256,256),this.saoRenderTarget=new C.WebGLRenderTarget(this.resolution.x,this.resolution.y,{minFilter:C.LinearFilter,magFilter:C.LinearFilter,format:C.RGBAFormat}),this.blurIntermediateRenderTarget=this.saoRenderTarget.clone(),this.beautyRenderTarget=this.saoRenderTarget.clone(),this.normalRenderTarget=new C.WebGLRenderTarget(this.resolution.x,this.resolution.y,{minFilter:C.NearestFilter,magFilter:C.NearestFilter,format:C.RGBAFormat}),this.depthRenderTarget=this.normalRenderTarget.clone(),this.supportsDepthTextureExtension&&((n=new C.DepthTexture).type=C.UnsignedShortType,this.beautyRenderTarget.depthTexture=n,this.beautyRenderTarget.depthBuffer=!0),this.depthMaterial=new C.MeshDepthMaterial,this.depthMaterial.depthPacking=C.RGBADepthPacking,this.depthMaterial.blending=C.NoBlending,this.normalMaterial=new C.MeshNormalMaterial,this.normalMaterial.blending=C.NoBlending,this.saoMaterial=new C.ShaderMaterial({defines:_()({},Xc.defines),fragmentShader:Xc.fragmentShader,vertexShader:Xc.vertexShader,uniforms:C.UniformsUtils.clone(Xc.uniforms)}),this.saoMaterial.extensions.derivatives=!0,this.saoMaterial.defines.DEPTH_PACKING=this.supportsDepthTextureExtension?0:1,this.saoMaterial.defines.NORMAL_TEXTURE=this.supportsNormalTexture?1:0,this.saoMaterial.defines.PERSPECTIVE_CAMERA=this.camera.isPerspectiveCamera?1:0,this.saoMaterial.uniforms.tDepth.value=this.supportsDepthTextureExtension?n:this.depthRenderTarget.texture,this.saoMaterial.uniforms.tNormal.value=this.normalRenderTarget.texture,this.saoMaterial.uniforms.size.value.set(this.resolution.x,this.resolution.y),this.saoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.saoMaterial.uniforms.cameraProjectionMatrix.value=this.camera.projectionMatrix,this.saoMaterial.blending=C.NoBlending,this.vBlurMaterial=new C.ShaderMaterial({uniforms:C.UniformsUtils.clone(qc.uniforms),defines:_()({},qc.defines),vertexShader:qc.vertexShader,fragmentShader:qc.fragmentShader}),this.vBlurMaterial.defines.DEPTH_PACKING=this.supportsDepthTextureExtension?0:1,this.vBlurMaterial.defines.PERSPECTIVE_CAMERA=this.camera.isPerspectiveCamera?1:0,this.vBlurMaterial.uniforms.tDiffuse.value=this.saoRenderTarget.texture,this.vBlurMaterial.uniforms.tDepth.value=this.supportsDepthTextureExtension?n:this.depthRenderTarget.texture,this.vBlurMaterial.uniforms.size.value.set(this.resolution.x,this.resolution.y),this.vBlurMaterial.blending=C.NoBlending,this.hBlurMaterial=new C.ShaderMaterial({uniforms:C.UniformsUtils.clone(qc.uniforms),defines:_()({},qc.defines),vertexShader:qc.vertexShader,fragmentShader:qc.fragmentShader}),this.hBlurMaterial.defines.DEPTH_PACKING=this.supportsDepthTextureExtension?0:1,this.hBlurMaterial.defines.PERSPECTIVE_CAMERA=this.camera.isPerspectiveCamera?1:0,this.hBlurMaterial.uniforms.tDiffuse.value=this.blurIntermediateRenderTarget.texture,this.hBlurMaterial.uniforms.tDepth.value=this.supportsDepthTextureExtension?n:this.depthRenderTarget.texture,this.hBlurMaterial.uniforms.size.value.set(this.resolution.x,this.resolution.y),this.hBlurMaterial.blending=C.NoBlending,this.materialCopy=new C.ShaderMaterial({uniforms:C.UniformsUtils.clone(Pc.uniforms),vertexShader:Pc.vertexShader,fragmentShader:Pc.fragmentShader,blending:C.NoBlending}),this.materialCopy.transparent=!0,this.materialCopy.depthTest=!1,this.materialCopy.depthWrite=!1,this.materialCopy.blending=C.CustomBlending,this.materialCopy.blendSrc=C.DstColorFactor,this.materialCopy.blendDst=C.ZeroFactor,this.materialCopy.blendEquation=C.AddEquation,this.materialCopy.blendSrcAlpha=C.DstAlphaFactor,this.materialCopy.blendDstAlpha=C.ZeroFactor,this.materialCopy.blendEquationAlpha=C.AddEquation,this.depthCopy=new C.ShaderMaterial({uniforms:C.UniformsUtils.clone($c.uniforms),vertexShader:$c.vertexShader,fragmentShader:$c.fragmentShader,blending:C.NoBlending}),this.fsQuad=new kc.FullScreenQuad(null)},Qc=(lc=(Zc.OUTPUT={Beauty:1,Default:0,SAO:2,Depth:3,Normal:4},Zc.prototype=_()(r()(kc.prototype),{constructor:Zc,render:function(e,t,n){var i,r;this.renderToScreen&&(this.materialCopy.blending=C.NoBlending,this.materialCopy.uniforms.tDiffuse.value=n.texture,this.materialCopy.needsUpdate=!0,this.renderPass(e,this.materialCopy,null)),1!==this.params.output&&(e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha(),i=e.autoClear,e.autoClear=!1,e.setRenderTarget(this.depthRenderTarget),e.clear(),this.saoMaterial.uniforms.bias.value=this.params.saoBias,this.saoMaterial.uniforms.intensity.value=this.params.saoIntensity,this.saoMaterial.uniforms.scale.value=this.params.saoScale,this.saoMaterial.uniforms.kernelRadius.value=this.params.saoKernelRadius,this.saoMaterial.uniforms.minResolution.value=this.params.saoMinResolution,this.saoMaterial.uniforms.cameraNear.value=this.camera.near,this.saoMaterial.uniforms.cameraFar.value=10,r=this.params.saoBlurDepthCutoff*(this.camera.far-this.camera.near),this.vBlurMaterial.uniforms.depthCutoff.value=r,this.hBlurMaterial.uniforms.depthCutoff.value=r,this.vBlurMaterial.uniforms.cameraNear.value=this.camera.near,this.vBlurMaterial.uniforms.cameraFar.value=this.camera.far,this.hBlurMaterial.uniforms.cameraNear.value=this.camera.near,this.hBlurMaterial.uniforms.cameraFar.value=this.camera.far,this.params.saoBlurRadius=Math.floor(this.params.saoBlurRadius),this.prevStdDev===this.params.saoBlurStdDev&&this.prevNumSamples===this.params.saoBlurRadius||(Yc.configure(this.vBlurMaterial,this.params.saoBlurRadius,this.params.saoBlurStdDev,new C.Vector2(0,1)),Yc.configure(this.hBlurMaterial,this.params.saoBlurRadius,this.params.saoBlurStdDev,new C.Vector2(1,0)),this.prevStdDev=this.params.saoBlurStdDev,this.prevNumSamples=this.params.saoBlurRadius),e.setClearColor(0),e.setRenderTarget(this.beautyRenderTarget),e.clear(),e.render(this.scene,this.camera),this.supportsDepthTextureExtension||this.renderOverride(e,this.depthMaterial,this.depthRenderTarget,0,1),this.supportsNormalTexture&&this.renderOverride(e,this.normalMaterial,this.normalRenderTarget,7829503,1),this.renderPass(e,this.saoMaterial,this.saoRenderTarget,16777215,1),this.params.saoBlur&&(this.renderPass(e,this.vBlurMaterial,this.blurIntermediateRenderTarget,16777215,1),this.renderPass(e,this.hBlurMaterial,this.saoRenderTarget,16777215,1)),r=this.materialCopy,3===this.params.output?this.supportsDepthTextureExtension?(this.materialCopy.uniforms.tDiffuse.value=this.beautyRenderTarget.depthTexture,this.materialCopy.needsUpdate=!0):(this.depthCopy.uniforms.tDiffuse.value=this.depthRenderTarget.texture,this.depthCopy.needsUpdate=!0,r=this.depthCopy):(4===this.params.output?this.materialCopy.uniforms.tDiffuse.value=this.normalRenderTarget.texture:this.materialCopy.uniforms.tDiffuse.value=this.saoRenderTarget.texture,this.materialCopy.needsUpdate=!0),0===this.params.output?r.blending=C.CustomBlending:r.blending=C.NoBlending,this.renderPass(e,r,this.renderToScreen?null:n),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=i)},renderPass:function(e,t,n,i,r){e.getClearColor(this.originalClearColor);var a=e.getClearAlpha(),o=e.autoClear;e.setRenderTarget(n),e.autoClear=!1,null!=i&&(e.setClearColor(i),e.setClearAlpha(r||0),e.clear()),this.fsQuad.material=t,this.fsQuad.render(e),e.autoClear=o,e.setClearColor(this.originalClearColor),e.setClearAlpha(a)},renderOverride:function(e,t,n,i,r){e.getClearColor(this.originalClearColor);var a=e.getClearAlpha(),o=e.autoClear;e.setRenderTarget(n),e.autoClear=!1,i=t.clearColor||i,r=t.clearAlpha||r,null!=i&&(e.setClearColor(i),e.setClearAlpha(r||0),e.clear()),this.scene.overrideMaterial=t,e.render(this.scene,this.camera),this.scene.overrideMaterial=null,e.autoClear=o,e.setClearColor(this.originalClearColor),e.setClearAlpha(a)},setSize:function(e,t){this.beautyRenderTarget.setSize(e,t),this.saoRenderTarget.setSize(e,t),this.blurIntermediateRenderTarget.setSize(e,t),this.normalRenderTarget.setSize(e,t),this.depthRenderTarget.setSize(e,t),this.saoMaterial.uniforms.size.value.set(e,t),this.saoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.saoMaterial.uniforms.cameraProjectionMatrix.value=this.camera.projectionMatrix,this.saoMaterial.needsUpdate=!0,this.vBlurMaterial.uniforms.size.value.set(e,t),this.vBlurMaterial.needsUpdate=!0,this.hBlurMaterial.uniforms.size.value.set(e,t),this.hBlurMaterial.needsUpdate=!0}}),n(144)),n.n(lc)),Kc=(Uc.prototype.dot=function(e,t,n){return e[0]*t+e[1]*n},Uc.prototype.dot3=function(e,t,n,i){return e[0]*t+e[1]*n+e[2]*i},Uc.prototype.dot4=function(e,t,n,i,r){return e[0]*t+e[1]*n+e[2]*i+e[3]*r},Uc.prototype.noise=function(e,t){var n=(e+t)*(.5*(Math.sqrt(3)-1)),i=Math.floor(e+n),r=(t=t-((n=Math.floor(t+n))-(r=(i+n)*(l=(3-Math.sqrt(3))/6))))<(e=e-(i-r))?(u=1,0):(u=0,1),a=e-u+l,o=t-r+l,s=e-1+2*l,l=t-1+2*l,c=(i=255&i,n=255&n,this.perm[i+this.perm[n]]%12),u=this.perm[i+u+this.perm[n+r]]%12;r=this.perm[1+i+this.perm[1+n]]%12;return 70*((n=(i=.5-e*e-t*t)<0?0:(i*=i)*i*this.dot(this.grad3[c],e,t))+(c=(i=.5-a*a-o*o)<0?0:(i*=i)*i*this.dot(this.grad3[u],a,o))+(t=(e=.5-s*s-l*l)<0?0:(e*=e)*e*this.dot(this.grad3[r],s,l)))},Uc.prototype.noise3d=function(e,t,n){var i,r=(e+t+n)*(1/3),a=Math.floor(e+r),o=Math.floor(t+r),s=(n=n-((r=Math.floor(n+r))-(s=(a+o+r)*(1/6))),(t=t-(o-s))<=(e=e-(a-s))?n<=t?(w=i=y=1,b=x=0):i=n<=e?(w=b=x=0,y=1):(w=x=y=0,b=1):t<n?(i=x=y=0,w=b=1):e<n?(i=b=y=0,w=x=1):(w=i=x=1,b=y=0)),l=e-y+1/6,c=t-x+1/6,u=n-b+1/6,h=e-i+1/6*2,d=t-w+1/6*2,f=n-s+1/6*2,p=e-1+.5,m=t-1+.5,v=n-1+.5,g=(a=255&a,o=255&o,r=255&r,this.perm[a+this.perm[o+this.perm[r]]]%12),y=this.perm[a+y+this.perm[o+x+this.perm[r+b]]]%12,x=this.perm[a+i+this.perm[o+w+this.perm[r+s]]]%12,b=this.perm[1+a+this.perm[1+o+this.perm[1+r]]]%12,w=(i=.6-e*e-t*t-n*n)<0?0:(i*=i)*i*this.dot3(this.grad3[g],e,t,n);return 32*(w+(a=(s=.6-l*l-c*c-u*u)<0?0:(s*=s)*s*this.dot3(this.grad3[y],l,c,u))+(r=(o=.6-h*h-d*d-f*f)<0?0:(o*=o)*o*this.dot3(this.grad3[x],h,d,f))+(g=(i=.6-p*p-m*m-v*v)<0?0:(i*=i)*i*this.dot3(this.grad3[b],p,m,v)))},Uc.prototype.noise4d=function(e,t,n,i){var r,a,o=this.grad4,s=this.simplex,l=this.perm,c=(Math.sqrt(5)-1)/4,u=(5-Math.sqrt(5))/20,h=(c=(e+t+n+i)*c,Math.floor(e+c)),d=3<=s[M=((t=t-((a=Math.floor(t+c))-(M=(h+a+(r=Math.floor(n+c))+(c=Math.floor(i+c)))*u)))<(e=e-(h-M))?32:0)+((n=n-(r-M))<e?16:0)+(n<t?8:0)+((i=i-(c-M))<e?4:0)+(i<t?2:0)+(i<n?1:0)][0]?1:0,f=3<=s[M][1]?1:0,p=3<=s[M][2]?1:0,m=3<=s[M][3]?1:0,v=2<=s[M][0]?1:0,g=2<=s[M][1]?1:0,y=2<=s[M][2]?1:0,x=2<=s[M][3]?1:0,b=1<=s[M][0]?1:0,w=1<=s[M][1]?1:0,_=1<=s[M][2]?1:0,M=(s=1<=s[M][3]?1:0,e-d+u),S=t-f+u,E=n-p+u,T=i-m+u,C=e-v+2*u,A=t-g+2*u,L=n-y+2*u,P=i-x+2*u,k=e-b+3*u,D=t-w+3*u,I=n-_+3*u,R=i-s+3*u,N=e-1+4*u,O=t-1+4*u,F=n-1+4*u,z=(u=i-1+4*u,l[(h=255&h)+l[(a=255&a)+l[(r=255&r)+l[c=255&c]]]]%32);d=l[h+d+l[a+f+l[r+p+l[c+m]]]]%32,f=l[h+v+l[a+g+l[r+y+l[c+x]]]]%32,p=l[h+b+l[a+w+l[r+_+l[c+s]]]]%32,m=l[1+h+l[1+a+l[1+r+l[1+c]]]]%32;return 27*((g=(v=.6-e*e-t*t-n*n-i*i)<0?0:(v*=v)*v*this.dot4(o[z],e,t,n,i))+(x=(y=.6-M*M-S*S-E*E-T*T)<0?0:(y*=y)*y*this.dot4(o[d],M,S,E,T))+(w=(b=.6-C*C-A*A-L*L-P*P)<0?0:(b*=b)*b*this.dot4(o[f],C,A,L,P))+(s=(_=.6-k*k-D*D-I*I-R*R)<0?0:(_*=_)*_*this.dot4(o[p],k,D,I,R))+(a=(h=.6-N*N-O*O-F*F-u*u)<0?0:(h*=h)*h*this.dot4(o[m],N,O,F,u)))},{defines:{PERSPECTIVE_CAMERA:1,KERNEL_SIZE:32},uniforms:{tDiffuse:{value:null},tNormal:{value:null},tDepth:{value:null},tNoise:{value:null},kernel:{value:null},cameraNear:{value:null},cameraFar:{value:null},resolution:{value:new Tt},cameraProjectionMatrix:{value:new hn},cameraInverseProjectionMatrix:{value:new hn},kernelRadius:{value:8},minDistance:{value:.005},maxDistance:{value:.05}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D tDiffuse;","uniform sampler2D tNormal;","uniform sampler2D tDepth;","uniform sampler2D tNoise;","uniform vec3 kernel[ KERNEL_SIZE ];","uniform vec2 resolution;","uniform float cameraNear;","uniform float cameraFar;","uniform mat4 cameraProjectionMatrix;","uniform mat4 cameraInverseProjectionMatrix;","uniform float kernelRadius;","uniform float minDistance;","uniform float maxDistance;","varying vec2 vUv;","#include <packing>","float getDepth( const in vec2 screenPosition ) {","\treturn texture2D( tDepth, screenPosition ).x;","}","float getLinearDepth( const in vec2 screenPosition ) {","\t#if PERSPECTIVE_CAMERA == 1","\t\tfloat fragCoordZ = texture2D( tDepth, screenPosition ).x;","\t\tfloat viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );","\t\treturn viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );","\t#else","\t\treturn texture2D( tDepth, screenPosition ).x;","\t#endif","}","float getViewZ( const in float depth ) {","\t#if PERSPECTIVE_CAMERA == 1","\t\treturn perspectiveDepthToViewZ( depth, cameraNear, cameraFar );","\t#else","\t\treturn orthographicDepthToViewZ( depth, cameraNear, cameraFar );","\t#endif","}","vec3 getViewPosition( const in vec2 screenPosition, const in float depth, const in float viewZ ) {","\tfloat clipW = cameraProjectionMatrix[2][3] * viewZ + cameraProjectionMatrix[3][3];","\tvec4 clipPosition = vec4( ( vec3( screenPosition, depth ) - 0.5 ) * 2.0, 1.0 );","\tclipPosition *= clipW; // unprojection.","\treturn ( cameraInverseProjectionMatrix * clipPosition ).xyz;","}","vec3 getViewNormal( const in vec2 screenPosition ) {","\treturn unpackRGBToNormal( texture2D( tNormal, screenPosition ).xyz );","}","void main() {","\tfloat depth = getDepth( vUv );","\tfloat viewZ = getViewZ( depth );","\tvec3 viewPosition = getViewPosition( vUv, depth, viewZ );","\tvec3 viewNormal = getViewNormal( vUv );"," vec2 noiseScale = vec2( resolution.x / 4.0, resolution.y / 4.0 );","\tvec3 random = texture2D( tNoise, vUv * noiseScale ).xyz;","\tvec3 tangent = normalize( random - viewNormal * dot( random, viewNormal ) );","\tvec3 bitangent = cross( viewNormal, tangent );","\tmat3 kernelMatrix = mat3( tangent, bitangent, viewNormal );"," float occlusion = 0.0;"," for ( int i = 0; i < KERNEL_SIZE; i ++ ) {","\t\tvec3 sampleVector = kernelMatrix * kernel[ i ];","\t\tvec3 samplePoint = viewPosition + ( sampleVector * kernelRadius );","\t\tvec4 samplePointNDC = cameraProjectionMatrix * vec4( samplePoint, 1.0 );","\t\tsamplePointNDC /= samplePointNDC.w;","\t\tvec2 samplePointUv = samplePointNDC.xy * 0.5 + 0.5;","\t\tfloat realDepth = getLinearDepth( samplePointUv );","\t\tfloat sampleDepth = viewZToOrthographicDepth( samplePoint.z, cameraNear, cameraFar );","\t\tfloat delta = sampleDepth - realDepth;","\t\tif ( delta > minDistance && delta < maxDistance ) {","\t\t\tocclusion += 1.0;","\t\t}","\t}","\tocclusion = clamp( occlusion / float( KERNEL_SIZE ), 0.0, 1.0 );","\tgl_FragColor = vec4( vec3( 1.0 - occlusion ), 1.0 );","}"].join("\n")}),Jc={defines:{PERSPECTIVE_CAMERA:1},uniforms:{tDepth:{value:null},cameraNear:{value:null},cameraFar:{value:null}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D tDepth;","uniform float cameraNear;","uniform float cameraFar;","varying vec2 vUv;","#include <packing>","float getLinearDepth( const in vec2 screenPosition ) {","\t#if PERSPECTIVE_CAMERA == 1","\t\tfloat fragCoordZ = texture2D( tDepth, screenPosition ).x;","\t\tfloat viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );","\t\treturn viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );","\t#else","\t\treturn texture2D( tDepth, screenPosition ).x;","\t#endif","}","void main() {","\tfloat depth = getLinearDepth( vUv );","\tgl_FragColor = vec4( vec3( 1.0 - depth ), 1.0 );","}"].join("\n")},eu={uniforms:{tDiffuse:{value:null},resolution:{value:new Tt}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D tDiffuse;","uniform vec2 resolution;","varying vec2 vUv;","void main() {","\tvec2 texelSize = ( 1.0 / resolution );","\tfloat result = 0.0;","\tfor ( int i = - 2; i <= 2; i ++ ) {","\t\tfor ( int j = - 2; j <= 2; j ++ ) {","\t\t\tvec2 offset = ( vec2( float( i ), float( j ) ) ) * texelSize;","\t\t\tresult += texture2D( tDiffuse, vUv + offset ).r;","\t\t}","\t}","\tgl_FragColor = vec4( vec3( result / ( 5.0 * 5.0 ) ), 1.0 );","}"].join("\n")};function tu(e){var t=new Object;return t.enableRenderSAO=function(n){var i,r=e.scene,a=r.renderer,o=r.camera;0==n?e.RenderSAO.saoPass.enabled=!1:(i=new Bc(a),n=new Wc(r,o),i.addPass(n),n=new Zc(r,o,!1,!1),t.saoPass=n,i.addPass(n),t.composer=i,window.addEventListener("resize",(function(){var e=window.innerWidth||1,t=window.innerHeight||1;o.aspect=e/t,o.updateProjectionMatrix(),a.setSize(e,t),i.setSize(e,t)})))},t.render=function(){null!=t.composer&&t.composer.render()},t}function nu(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}function iu(e){this._mesh=new C.Mesh(jc,e)}Vc.prototype=_()(r()(kc.prototype),{constructor:Vc,dispose:function(){this.beautyRenderTarget.dispose(),this.normalRenderTarget.dispose(),this.ssaoRenderTarget.dispose(),this.blurRenderTarget.dispose(),this.normalMaterial.dispose(),this.blurMaterial.dispose(),this.copyMaterial.dispose(),this.depthRenderMaterial.dispose(),this.fsQuad.dispose()},render:function(e,t){switch(e.setRenderTarget(this.beautyRenderTarget),e.clear(),e.render(this.scene,this.camera),this.overrideVisibility(),this.renderOverride(e,this.normalMaterial,this.normalRenderTarget,7829503,1),this.restoreVisibility(),this.ssaoMaterial.uniforms.kernelRadius.value=this.kernelRadius,this.ssaoMaterial.uniforms.minDistance.value=this.minDistance,this.ssaoMaterial.uniforms.maxDistance.value=this.maxDistance,this.renderPass(e,this.ssaoMaterial,this.ssaoRenderTarget),this.renderPass(e,this.blurMaterial,this.blurRenderTarget),this.output){case Vc.OUTPUT.SSAO:this.copyMaterial.uniforms.tDiffuse.value=this.ssaoRenderTarget.texture,this.copyMaterial.blending=C.NoBlending,this.renderPass(e,this.copyMaterial,this.renderToScreen?null:t);break;case Vc.OUTPUT.Blur:this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget.texture,this.copyMaterial.blending=C.NoBlending,this.renderPass(e,this.copyMaterial,this.renderToScreen?null:t);break;case Vc.OUTPUT.Beauty:this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=C.NoBlending,this.renderPass(e,this.copyMaterial,this.renderToScreen?null:t);break;case Vc.OUTPUT.Depth:this.renderPass(e,this.depthRenderMaterial,this.renderToScreen?null:t);break;case Vc.OUTPUT.Normal:this.copyMaterial.uniforms.tDiffuse.value=this.normalRenderTarget.texture,this.copyMaterial.blending=C.NoBlending,this.renderPass(e,this.copyMaterial,this.renderToScreen?null:t);break;case Vc.OUTPUT.Default:this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=C.NoBlending,this.renderPass(e,this.copyMaterial,this.renderToScreen?null:t),this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget.texture,this.copyMaterial.blending=C.CustomBlending,this.renderPass(e,this.copyMaterial,this.renderToScreen?null:t);break;default:console.warn("THREE.SSAOPass: Unknown output type.")}},renderPass:function(e,t,n,i,r){e.getClearColor(this.originalClearColor);var a=e.getClearAlpha(),o=e.autoClear;e.setRenderTarget(n),e.autoClear=!1,null!=i&&(e.setClearColor(i),e.setClearAlpha(r||0),e.clear()),this.fsQuad.material=t,this.fsQuad.render(e),e.autoClear=o,e.setClearColor(this.originalClearColor),e.setClearAlpha(a)},renderOverride:function(e,t,n,i,r){e.getClearColor(this.originalClearColor);var a=e.getClearAlpha(),o=e.autoClear;e.setRenderTarget(n),e.autoClear=!1,i=t.clearColor||i,r=t.clearAlpha||r,null!=i&&(e.setClearColor(i),e.setClearAlpha(r||0),e.clear()),this.scene.overrideMaterial=t,e.render(this.scene,this.camera),this.scene.overrideMaterial=null,e.autoClear=o,e.setClearColor(this.originalClearColor),e.setClearAlpha(a)},setSize:function(e,t){this.width=e,this.height=t,this.beautyRenderTarget.setSize(e,t),this.ssaoRenderTarget.setSize(e,t),this.normalRenderTarget.setSize(e,t),this.blurRenderTarget.setSize(e,t),this.ssaoMaterial.uniforms.resolution.value.set(e,t),this.ssaoMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssaoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.blurMaterial.uniforms.resolution.value.set(e,t)},generateSampleKernel:function(){for(var e=this.kernelSize,t=this.kernel,n=0;n<e;n++){var i=new C.Vector3;i.x=2*Math.random()-1,i.y=2*Math.random()-1,i.z=Math.random(),i.normalize();var r=C.MathUtils.lerp(.1,1,(r=n/e)*r);i.multiplyScalar(r),t.push(i)}},generateRandomKernelRotations:function(){for(var e=new Uc,t=new Float32Array(64),n=0;n<16;n++){var i=4*n,r=2*Math.random()-1,a=2*Math.random()-1;r=e.noise3d(r,a,0);t[i]=r,t[1+i]=r,t[2+i]=r,t[3+i]=1}this.noiseTexture=new C.DataTexture(t,4,4,C.RGBAFormat,C.FloatType),this.noiseTexture.wrapS=C.RepeatWrapping,this.noiseTexture.wrapT=C.RepeatWrapping},overrideVisibility:function(){var e=this.scene,t=this._visibilityCache;e.traverse((function(e){t.set(e,e.visible),(e.isPoints||e.isLine)&&(e.visible=!1)}))},restoreVisibility:function(){var e=this.scene,t=this._visibilityCache;e.traverse((function(e){var n=t.get(e);e.visible=n})),t.clear()}}),Vc.OUTPUT={Default:0,SSAO:1,Blur:2,Beauty:3,Depth:4,Normal:5},["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","\tvec4 texel = texture2D( tDiffuse, vUv );","\tgl_FragColor = opacity * texel;","}"].join("\n"),new C.Vector2,new C.Matrix4,new C.Matrix4,["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["uniform sampler2D tDiffuse;","uniform sampler2D tNormal;","uniform sampler2D tDepth;","uniform sampler2D tNoise;","uniform vec3 kernel[ KERNEL_SIZE ];","uniform vec2 resolution;","uniform float cameraNear;","uniform float cameraFar;","uniform mat4 cameraProjectionMatrix;","uniform mat4 cameraInverseProjectionMatrix;","uniform float kernelRadius;","uniform float minDistance;","uniform float maxDistance;","varying vec2 vUv;","#include <packing>","float getDepth( const in vec2 screenPosition ) {","\treturn texture2D( tDepth, screenPosition ).x;","}","float getLinearDepth( const in vec2 screenPosition ) {","\t#if PERSPECTIVE_CAMERA == 1","\t\tfloat fragCoordZ = texture2D( tDepth, screenPosition ).x;","\t\tfloat viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );","\t\treturn viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );","\t#else","\t\treturn texture2D( tDepth, screenPosition ).x;","\t#endif","}","float getViewZ( const in float depth ) {","\t#if PERSPECTIVE_CAMERA == 1","\t\treturn perspectiveDepthToViewZ( depth, cameraNear, cameraFar );","\t#else","\t\treturn orthographicDepthToViewZ( depth, cameraNear, cameraFar );","\t#endif","}","vec3 getViewPosition( const in vec2 screenPosition, const in float depth, const in float viewZ ) {","\tfloat clipW = cameraProjectionMatrix[2][3] * viewZ + cameraProjectionMatrix[3][3];","\tvec4 clipPosition = vec4( ( vec3( screenPosition, depth ) - 0.5 ) * 2.0, 1.0 );","\tclipPosition *= clipW; // unprojection.","\treturn ( cameraInverseProjectionMatrix * clipPosition ).xyz;","}","vec3 getViewNormal( const in vec2 screenPosition ) {","\treturn unpackRGBToNormal( texture2D( tNormal, screenPosition ).xyz );","}","void main() {","\tfloat depth = getDepth( vUv );","\tfloat viewZ = getViewZ( depth );","\tvec3 viewPosition = getViewPosition( vUv, depth, viewZ );","\tvec3 viewNormal = getViewNormal( vUv );"," vec2 noiseScale = vec2( resolution.x / 4.0, resolution.y / 4.0 );","\tvec3 random = texture2D( tNoise, vUv * noiseScale ).xyz;","\tvec3 tangent = normalize( random - viewNormal * dot( random, viewNormal ) );","\tvec3 bitangent = cross( viewNormal, tangent );","\tmat3 kernelMatrix = mat3( tangent, bitangent, viewNormal );"," float occlusion = 0.0;"," for ( int i = 0; i < KERNEL_SIZE; i ++ ) {","\t\tvec3 sampleVector = kernelMatrix * kernel[ i ];","\t\tvec3 samplePoint = viewPosition + ( sampleVector * kernelRadius );","\t\tvec4 samplePointNDC = cameraProjectionMatrix * vec4( samplePoint, 1.0 );","\t\tsamplePointNDC /= samplePointNDC.w;","\t\tvec2 samplePointUv = samplePointNDC.xy * 0.5 + 0.5;","\t\tfloat realDepth = getLinearDepth( samplePointUv );","\t\tfloat sampleDepth = viewZToOrthographicDepth( samplePoint.z, cameraNear, cameraFar );","\t\tfloat delta = sampleDepth - realDepth;","\t\tif ( delta > minDistance && delta < maxDistance ) {","\t\t\tocclusion += 1.0;","\t\t}","\t}","\tocclusion = clamp( occlusion / float( KERNEL_SIZE ), 0.0, 1.0 );","\tgl_FragColor = vec4( vec3( 1.0 - occlusion ), 1.0 );","}"].join("\n"),["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["uniform sampler2D tDepth;","uniform float cameraNear;","uniform float cameraFar;","varying vec2 vUv;","#include <packing>","float getLinearDepth( const in vec2 screenPosition ) {","\t#if PERSPECTIVE_CAMERA == 1","\t\tfloat fragCoordZ = texture2D( tDepth, screenPosition ).x;","\t\tfloat viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );","\t\treturn viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );","\t#else","\t\treturn texture2D( tDepth, screenPosition ).x;","\t#endif","}","void main() {","\tfloat depth = getLinearDepth( vUv );","\tgl_FragColor = vec4( vec3( 1.0 - depth ), 1.0 );","}"].join("\n"),new C.Vector2,["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["uniform sampler2D tDiffuse;","uniform vec2 resolution;","varying vec2 vUv;","void main() {","\tvec2 texelSize = ( 1.0 / resolution );","\tfloat result = 0.0;","\tfor ( int i = - 2; i <= 2; i ++ ) {","\t\tfor ( int j = - 2; j <= 2; j ++ ) {","\t\t\tvec2 offset = ( vec2( float( i ), float( j ) ) ) * texelSize;","\t\t\tresult += texture2D( tDiffuse, vUv + offset ).r;","\t\t}","\t}","\tgl_FragColor = vec4( vec3( result / ( 5.0 * 5.0 ) ), 1.0 );","}"].join("\n"),n(0),_()(nu.prototype,{setSize:function(){},render:function(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}),nu.FullScreenQuad=(Gc=new C.OrthographicCamera(-1,1,1,-1,0,1),jc=new C.PlaneGeometry(2,2),re()(iu.prototype,"material",{get:function(){return this._mesh.material},set:function(e){this._mesh.material=e}}),_()(iu.prototype,{dispose:function(){this._mesh.geometry.dispose()},render:function(e){e.render(this._mesh,Gc)}}),iu);var ru=function(e,t,n,i,r){nu.call(this),this.scene=e,this.camera=t,this.overrideMaterial=n,this.clearColor=i,this.clearAlpha=void 0!==r?r:0,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new C.Color},au=(ru.prototype=_()(r()(nu.prototype),{constructor:ru,render:function(e,t,n){var i,r,a=e.autoClear;e.autoClear=!1,void 0!==this.overrideMaterial&&(r=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(e.getClearColor(this._oldClearColor),i=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:n),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor&&e.setClearColor(this._oldClearColor,i),void 0!==this.overrideMaterial&&(this.scene.overrideMaterial=r),e.autoClear=a}}),function(e,t){nu.call(this),this.textureID=void 0!==t?t:"tDiffuse",e instanceof C.ShaderMaterial?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=C.UniformsUtils.clone(e.uniforms),this.material=new C.ShaderMaterial({defines:_()({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new nu.FullScreenQuad(this.material)}),ou=(au.prototype=_()(r()(nu.prototype),{constructor:au,render:function(e,t,n){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=n.texture),this.fsQuad.material=this.material,this.renderToScreen?e.setRenderTarget(null):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil)),this.fsQuad.render(e)}}),{defines:{SMAA_THRESHOLD:"0.1"},uniforms:{tDiffuse:{value:null},resolution:{value:new C.Vector2(1/1024,1/512)}},vertexShader:["uniform vec2 resolution;","varying vec2 vUv;","varying vec4 vOffset[ 3 ];","void SMAAEdgeDetectionVS( vec2 texcoord ) {","\tvOffset[ 0 ] = texcoord.xyxy + resolution.xyxy * vec4( -1.0, 0.0, 0.0,  1.0 );","\tvOffset[ 1 ] = texcoord.xyxy + resolution.xyxy * vec4(  1.0, 0.0, 0.0, -1.0 );","\tvOffset[ 2 ] = texcoord.xyxy + resolution.xyxy * vec4( -2.0, 0.0, 0.0,  2.0 );","}","void main() {","\tvUv = uv;","\tSMAAEdgeDetectionVS( vUv );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D tDiffuse;","varying vec2 vUv;","varying vec4 vOffset[ 3 ];","vec4 SMAAColorEdgeDetectionPS( vec2 texcoord, vec4 offset[3], sampler2D colorTex ) {","\tvec2 threshold = vec2( SMAA_THRESHOLD, SMAA_THRESHOLD );","\tvec4 delta;","\tvec3 C = texture2D( colorTex, texcoord ).rgb;","\tvec3 Cleft = texture2D( colorTex, offset[0].xy ).rgb;","\tvec3 t = abs( C - Cleft );","\tdelta.x = max( max( t.r, t.g ), t.b );","\tvec3 Ctop = texture2D( colorTex, offset[0].zw ).rgb;","\tt = abs( C - Ctop );","\tdelta.y = max( max( t.r, t.g ), t.b );","\tvec2 edges = step( threshold, delta.xy );","\tif ( dot( edges, vec2( 1.0, 1.0 ) ) == 0.0 )","\t\tdiscard;","\tvec3 Cright = texture2D( colorTex, offset[1].xy ).rgb;","\tt = abs( C - Cright );","\tdelta.z = max( max( t.r, t.g ), t.b );","\tvec3 Cbottom  = texture2D( colorTex, offset[1].zw ).rgb;","\tt = abs( C - Cbottom );","\tdelta.w = max( max( t.r, t.g ), t.b );","\tfloat maxDelta = max( max( max( delta.x, delta.y ), delta.z ), delta.w );","\tvec3 Cleftleft  = texture2D( colorTex, offset[2].xy ).rgb;","\tt = abs( C - Cleftleft );","\tdelta.z = max( max( t.r, t.g ), t.b );","\tvec3 Ctoptop = texture2D( colorTex, offset[2].zw ).rgb;","\tt = abs( C - Ctoptop );","\tdelta.w = max( max( t.r, t.g ), t.b );","\tmaxDelta = max( max( maxDelta, delta.z ), delta.w );","\tedges.xy *= step( 0.5 * maxDelta, delta.xy );","\treturn vec4( edges, 0.0, 0.0 );","}","void main() {","\tgl_FragColor = SMAAColorEdgeDetectionPS( vUv, vOffset, tDiffuse );","}"].join("\n")}),su={defines:{SMAA_MAX_SEARCH_STEPS:"8",SMAA_AREATEX_MAX_DISTANCE:"16",SMAA_AREATEX_PIXEL_SIZE:"( 1.0 / vec2( 160.0, 560.0 ) )",SMAA_AREATEX_SUBTEX_SIZE:"( 1.0 / 7.0 )"},uniforms:{tDiffuse:{value:null},tArea:{value:null},tSearch:{value:null},resolution:{value:new C.Vector2(1/1024,1/512)}},vertexShader:["uniform vec2 resolution;","varying vec2 vUv;","varying vec4 vOffset[ 3 ];","varying vec2 vPixcoord;","void SMAABlendingWeightCalculationVS( vec2 texcoord ) {","\tvPixcoord = texcoord / resolution;","\tvOffset[ 0 ] = texcoord.xyxy + resolution.xyxy * vec4( -0.25, 0.125, 1.25, 0.125 );","\tvOffset[ 1 ] = texcoord.xyxy + resolution.xyxy * vec4( -0.125, 0.25, -0.125, -1.25 );","\tvOffset[ 2 ] = vec4( vOffset[ 0 ].xz, vOffset[ 1 ].yw ) + vec4( -2.0, 2.0, -2.0, 2.0 ) * resolution.xxyy * float( SMAA_MAX_SEARCH_STEPS );","}","void main() {","\tvUv = uv;","\tSMAABlendingWeightCalculationVS( vUv );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["#define SMAASampleLevelZeroOffset( tex, coord, offset ) texture2D( tex, coord + float( offset ) * resolution, 0.0 )","uniform sampler2D tDiffuse;","uniform sampler2D tArea;","uniform sampler2D tSearch;","uniform vec2 resolution;","varying vec2 vUv;","varying vec4 vOffset[3];","varying vec2 vPixcoord;","#if __VERSION__ == 100","vec2 round( vec2 x ) {","\treturn sign( x ) * floor( abs( x ) + 0.5 );","}","#endif","float SMAASearchLength( sampler2D searchTex, vec2 e, float bias, float scale ) {","\te.r = bias + e.r * scale;","\treturn 255.0 * texture2D( searchTex, e, 0.0 ).r;","}","float SMAASearchXLeft( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {","\tvec2 e = vec2( 0.0, 1.0 );","\tfor ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) {","\t\te = texture2D( edgesTex, texcoord, 0.0 ).rg;","\t\ttexcoord -= vec2( 2.0, 0.0 ) * resolution;","\t\tif ( ! ( texcoord.x > end && e.g > 0.8281 && e.r == 0.0 ) ) break;","\t}","\ttexcoord.x += 0.25 * resolution.x;","\ttexcoord.x += resolution.x;","\ttexcoord.x += 2.0 * resolution.x;","\ttexcoord.x -= resolution.x * SMAASearchLength(searchTex, e, 0.0, 0.5);","\treturn texcoord.x;","}","float SMAASearchXRight( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {","\tvec2 e = vec2( 0.0, 1.0 );","\tfor ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) {","\t\te = texture2D( edgesTex, texcoord, 0.0 ).rg;","\t\ttexcoord += vec2( 2.0, 0.0 ) * resolution;","\t\tif ( ! ( texcoord.x < end && e.g > 0.8281 && e.r == 0.0 ) ) break;","\t}","\ttexcoord.x -= 0.25 * resolution.x;","\ttexcoord.x -= resolution.x;","\ttexcoord.x -= 2.0 * resolution.x;","\ttexcoord.x += resolution.x * SMAASearchLength( searchTex, e, 0.5, 0.5 );","\treturn texcoord.x;","}","float SMAASearchYUp( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {","\tvec2 e = vec2( 1.0, 0.0 );","\tfor ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) {","\t\te = texture2D( edgesTex, texcoord, 0.0 ).rg;","\t\ttexcoord += vec2( 0.0, 2.0 ) * resolution;","\t\tif ( ! ( texcoord.y > end && e.r > 0.8281 && e.g == 0.0 ) ) break;","\t}","\ttexcoord.y -= 0.25 * resolution.y;","\ttexcoord.y -= resolution.y;","\ttexcoord.y -= 2.0 * resolution.y;","\ttexcoord.y += resolution.y * SMAASearchLength( searchTex, e.gr, 0.0, 0.5 );","\treturn texcoord.y;","}","float SMAASearchYDown( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {","\tvec2 e = vec2( 1.0, 0.0 );","\tfor ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) {","\t\te = texture2D( edgesTex, texcoord, 0.0 ).rg;","\t\ttexcoord -= vec2( 0.0, 2.0 ) * resolution;","\t\tif ( ! ( texcoord.y < end && e.r > 0.8281 && e.g == 0.0 ) ) break;","\t}","\ttexcoord.y += 0.25 * resolution.y;","\ttexcoord.y += resolution.y;","\ttexcoord.y += 2.0 * resolution.y;","\ttexcoord.y -= resolution.y * SMAASearchLength( searchTex, e.gr, 0.5, 0.5 );","\treturn texcoord.y;","}","vec2 SMAAArea( sampler2D areaTex, vec2 dist, float e1, float e2, float offset ) {","\tvec2 texcoord = float( SMAA_AREATEX_MAX_DISTANCE ) * round( 4.0 * vec2( e1, e2 ) ) + dist;","\ttexcoord = SMAA_AREATEX_PIXEL_SIZE * texcoord + ( 0.5 * SMAA_AREATEX_PIXEL_SIZE );","\ttexcoord.y += SMAA_AREATEX_SUBTEX_SIZE * offset;","\treturn texture2D( areaTex, texcoord, 0.0 ).rg;","}","vec4 SMAABlendingWeightCalculationPS( vec2 texcoord, vec2 pixcoord, vec4 offset[ 3 ], sampler2D edgesTex, sampler2D areaTex, sampler2D searchTex, ivec4 subsampleIndices ) {","\tvec4 weights = vec4( 0.0, 0.0, 0.0, 0.0 );","\tvec2 e = texture2D( edgesTex, texcoord ).rg;","\tif ( e.g > 0.0 ) {","\t\tvec2 d;","\t\tvec2 coords;","\t\tcoords.x = SMAASearchXLeft( edgesTex, searchTex, offset[ 0 ].xy, offset[ 2 ].x );","\t\tcoords.y = offset[ 1 ].y;","\t\td.x = coords.x;","\t\tfloat e1 = texture2D( edgesTex, coords, 0.0 ).r;","\t\tcoords.x = SMAASearchXRight( edgesTex, searchTex, offset[ 0 ].zw, offset[ 2 ].y );","\t\td.y = coords.x;","\t\td = d / resolution.x - pixcoord.x;","\t\tvec2 sqrt_d = sqrt( abs( d ) );","\t\tcoords.y -= 1.0 * resolution.y;","\t\tfloat e2 = SMAASampleLevelZeroOffset( edgesTex, coords, ivec2( 1, 0 ) ).r;","\t\tweights.rg = SMAAArea( areaTex, sqrt_d, e1, e2, float( subsampleIndices.y ) );","\t}","\tif ( e.r > 0.0 ) {","\t\tvec2 d;","\t\tvec2 coords;","\t\tcoords.y = SMAASearchYUp( edgesTex, searchTex, offset[ 1 ].xy, offset[ 2 ].z );","\t\tcoords.x = offset[ 0 ].x;","\t\td.x = coords.y;","\t\tfloat e1 = texture2D( edgesTex, coords, 0.0 ).g;","\t\tcoords.y = SMAASearchYDown( edgesTex, searchTex, offset[ 1 ].zw, offset[ 2 ].w );","\t\td.y = coords.y;","\t\td = d / resolution.y - pixcoord.y;","\t\tvec2 sqrt_d = sqrt( abs( d ) );","\t\tcoords.y -= 1.0 * resolution.y;","\t\tfloat e2 = SMAASampleLevelZeroOffset( edgesTex, coords, ivec2( 0, 1 ) ).g;","\t\tweights.ba = SMAAArea( areaTex, sqrt_d, e1, e2, float( subsampleIndices.x ) );","\t}","\treturn weights;","}","void main() {","\tgl_FragColor = SMAABlendingWeightCalculationPS( vUv, vPixcoord, vOffset, tDiffuse, tArea, tSearch, ivec4( 0.0 ) );","}"].join("\n")},lu={uniforms:{tDiffuse:{value:null},tColor:{value:null},resolution:{value:new C.Vector2(1/1024,1/512)}},vertexShader:["uniform vec2 resolution;","varying vec2 vUv;","varying vec4 vOffset[ 2 ];","void SMAANeighborhoodBlendingVS( vec2 texcoord ) {","\tvOffset[ 0 ] = texcoord.xyxy + resolution.xyxy * vec4( -1.0, 0.0, 0.0, 1.0 );","\tvOffset[ 1 ] = texcoord.xyxy + resolution.xyxy * vec4( 1.0, 0.0, 0.0, -1.0 );","}","void main() {","\tvUv = uv;","\tSMAANeighborhoodBlendingVS( vUv );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D tDiffuse;","uniform sampler2D tColor;","uniform vec2 resolution;","varying vec2 vUv;","varying vec4 vOffset[ 2 ];","vec4 SMAANeighborhoodBlendingPS( vec2 texcoord, vec4 offset[ 2 ], sampler2D colorTex, sampler2D blendTex ) {","\tvec4 a;","\ta.xz = texture2D( blendTex, texcoord ).xz;","\ta.y = texture2D( blendTex, offset[ 1 ].zw ).g;","\ta.w = texture2D( blendTex, offset[ 1 ].xy ).a;","\tif ( dot(a, vec4( 1.0, 1.0, 1.0, 1.0 )) < 1e-5 ) {","\t\treturn texture2D( colorTex, texcoord, 0.0 );","\t} else {","\t\tvec2 offset;","\t\toffset.x = a.a > a.b ? a.a : -a.b;","\t\toffset.y = a.g > a.r ? -a.g : a.r;","\t\tif ( abs( offset.x ) > abs( offset.y )) {","\t\t\toffset.y = 0.0;","\t\t} else {","\t\t\toffset.x = 0.0;","\t\t}","\t\tvec4 C = texture2D( colorTex, texcoord, 0.0 );","\t\ttexcoord += sign( offset ) * resolution;","\t\tvec4 Cop = texture2D( colorTex, texcoord, 0.0 );","\t\tfloat s = abs( offset.x ) > abs( offset.y ) ? abs( offset.x ) : abs( offset.y );","\t\tC.xyz = pow(C.xyz, vec3(2.2));","\t\tCop.xyz = pow(Cop.xyz, vec3(2.2));","\t\tvec4 mixed = mix(C, Cop, s);","\t\tmixed.xyz = pow(mixed.xyz, vec3(1.0 / 2.2));","\t\treturn mixed;","\t}","}","void main() {","\tgl_FragColor = SMAANeighborhoodBlendingPS( vUv, vOffset, tColor, tDiffuse );","}"].join("\n")},cu=function(e,t){nu.call(this),this.edgesRT=new C.WebGLRenderTarget(e,t,{depthBuffer:!1,generateMipmaps:!1,minFilter:C.LinearFilter,format:C.RGBFormat}),this.edgesRT.texture.name="SMAAPass.edges",this.weightsRT=new C.WebGLRenderTarget(e,t,{depthBuffer:!1,generateMipmaps:!1,minFilter:C.LinearFilter,format:C.RGBAFormat}),this.weightsRT.texture.name="SMAAPass.weights";var n,i=this;(n=((n=new Image).src=this.getAreaTexture(),n.onload=function(){i.areaTexture.needsUpdate=!0},this.areaTexture=new C.Texture,this.areaTexture.name="SMAAPass.area",this.areaTexture.image=n,this.areaTexture.format=C.RGBFormat,this.areaTexture.minFilter=C.LinearFilter,this.areaTexture.generateMipmaps=!1,this.areaTexture.flipY=!1,new Image)).src=this.getSearchTexture(),n.onload=function(){i.searchTexture.needsUpdate=!0},this.searchTexture=new C.Texture,this.searchTexture.name="SMAAPass.search",this.searchTexture.image=n,this.searchTexture.magFilter=C.NearestFilter,this.searchTexture.minFilter=C.NearestFilter,this.searchTexture.generateMipmaps=!1,this.searchTexture.flipY=!1,this.uniformsEdges=C.UniformsUtils.clone(ou.uniforms),this.uniformsEdges.resolution.value.set(1/e,1/t),this.materialEdges=new C.ShaderMaterial({defines:_()({},ou.defines),uniforms:this.uniformsEdges,vertexShader:ou.vertexShader,fragmentShader:ou.fragmentShader}),this.uniformsWeights=C.UniformsUtils.clone(su.uniforms),this.uniformsWeights.resolution.value.set(1/e,1/t),this.uniformsWeights.tDiffuse.value=this.edgesRT.texture,this.uniformsWeights.tArea.value=this.areaTexture,this.uniformsWeights.tSearch.value=this.searchTexture,this.materialWeights=new C.ShaderMaterial({defines:_()({},su.defines),uniforms:this.uniformsWeights,vertexShader:su.vertexShader,fragmentShader:su.fragmentShader}),this.uniformsBlend=C.UniformsUtils.clone(lu.uniforms),this.uniformsBlend.resolution.value.set(1/e,1/t),this.uniformsBlend.tDiffuse.value=this.weightsRT.texture,this.materialBlend=new C.ShaderMaterial({uniforms:this.uniformsBlend,vertexShader:lu.vertexShader,fragmentShader:lu.fragmentShader}),this.needsSwap=!1,this.fsQuad=new nu.FullScreenQuad(null)},uu=(cu.prototype=_()(r()(nu.prototype),{constructor:cu,render:function(e,t,n){this.uniformsEdges.tDiffuse.value=n.texture,this.fsQuad.material=this.materialEdges,e.setRenderTarget(this.edgesRT),this.clear&&e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.materialWeights,e.setRenderTarget(this.weightsRT),this.clear&&e.clear(),this.fsQuad.render(e),this.uniformsBlend.tColor.value=n.texture,this.fsQuad.material=this.materialBlend,this.renderToScreen?e.setRenderTarget(null):(e.setRenderTarget(t),this.clear&&e.clear()),this.fsQuad.render(e)},setSize:function(e,t){this.edgesRT.setSize(e,t),this.weightsRT.setSize(e,t),this.materialEdges.uniforms.resolution.value.set(1/e,1/t),this.materialWeights.uniforms.resolution.value.set(1/e,1/t),this.materialBlend.uniforms.resolution.value.set(1/e,1/t)},getAreaTexture:function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAIwCAIAAACOVPcQAACBeklEQVR42u39W4xlWXrnh/3WWvuciIzMrKxrV8/0rWbY0+SQFKcb4owIkSIFCjY9AC1BT/LYBozRi+EX+cV+8IMsYAaCwRcBwjzMiw2jAWtgwC8WR5Q8mDFHZLNHTarZGrLJJllt1W2qKrsumZWZcTvn7L3W54e1vrXX3vuciLPPORFR1XE2EomorB0nVuz//r71re/y/1eMvb4Cb3N11xV/PP/2v4UBAwJG/7H8urx6/25/Gf8O5hypMQ0EEEQwAqLfoN/Z+97f/SW+/NvcgQk4sGBJK6H7N4PFVL+K+e0N11yNfkKvwUdwdlUAXPHHL38oa15f/i/46Ih6SuMSPmLAYAwyRKn7dfMGH97jaMFBYCJUgotIC2YAdu+LyW9vvubxAP8kAL8H/koAuOKP3+q6+xGnd5kdYCeECnGIJViwGJMAkQKfDvB3WZxjLKGh8VSCCzhwEWBpMc5/kBbjawT4HnwJfhr+pPBIu7uu+OOTo9vsmtQcniMBGkKFd4jDWMSCRUpLjJYNJkM+IRzQ+PQvIeAMTrBS2LEiaiR9b/5PuT6Ap/AcfAFO4Y3dA3DFH7/VS+M8k4baEAQfMI4QfbVDDGIRg7GKaIY52qAjTAgTvGBAPGIIghOCYAUrGFNgzA7Q3QhgCwfwAnwe5vDejgG44o/fbm1C5ZlYQvQDARPAIQGxCWBM+wWl37ZQESb4gImexGMDouhGLx1Cst0Saa4b4AqO4Hk4gxo+3DHAV/nx27p3JziPM2pVgoiia5MdEzCGULprIN7gEEeQ5IQxEBBBQnxhsDb5auGmAAYcHMA9eAAz8PBol8/xij9+C4Djlim4gJjWcwZBhCBgMIIYxGAVIkH3ZtcBuLdtRFMWsPGoY9rN+HoBji9VBYdwD2ZQg4cnO7OSq/z4rU5KKdwVbFAjNojCQzTlCLPFSxtamwh2jMUcEgg2Wm/6XgErIBhBckQtGN3CzbVacERgCnfgLswhnvqf7QyAq/z4rRZm1YglYE3affGITaZsdIe2FmMIpnOCap25I6jt2kCwCW0D1uAD9sZctNGXcQIHCkINDQgc78aCr+zjtw3BU/ijdpw3zhCwcaONwBvdeS2YZKkJNJsMPf2JKEvC28RXxxI0ASJyzQCjCEQrO4Q7sFArEzjZhaFc4cdv+/JFdKULM4px0DfUBI2hIsy06BqLhGTQEVdbfAIZXYMPesq6VoCHICzUyjwInO4Y411//LYLs6TDa9wvg2CC2rElgAnpTBziThxaL22MYhzfkghz6GAs2VHbbdM91VZu1MEEpupMMwKyVTb5ij9+u4VJG/5EgEMMmFF01cFai3isRbKbzb+YaU/MQbAm2XSMoUPAmvZzbuKYRIFApbtlrfFuUGd6vq2hXNnH78ZLh/iFhsQG3T4D1ib7k5CC6vY0DCbtrohgLEIClXiGtl10zc0CnEGIhhatLBva7NP58Tvw0qE8yWhARLQ8h4+AhQSP+I4F5xoU+VilGRJs6wnS7ruti/4KvAY/CfdgqjsMy4pf8fodQO8/gnuX3f/3xi3om1/h7THr+co3x93PP9+FBUfbNUjcjEmhcrkT+8K7ml7V10Jo05mpIEFy1NmCJWx9SIKKt+EjAL4Ez8EBVOB6havuT/rByPvHXK+9zUcfcbb254+9fydJknYnRr1oGfdaiAgpxu1Rx/Rek8KISftx3L+DfsLWAANn8Hvw0/AFeAGO9DFV3c6D+CcWbL8Dj9e7f+T1k8AZv/d7+PXWM/Z+VvdCrIvuAKO09RpEEQJM0Ci6+B4xhTWr4cZNOvhktabw0ta0rSJmqz3Yw5/AKXwenod7cAhTmBSPKf6JBdvH8IP17h95pXqw50/+BFnj88fev4NchyaK47OPhhtI8RFSvAfDSNh0Ck0p2gLxGkib5NJj/JWCr90EWQJvwBzO4AHcgztwAFN1evHPUVGwfXON+0debT1YeGON9Yy9/63X+OguiwmhIhQhD7l4sMqlG3D86Suc3qWZ4rWjI1X7u0Ytw6x3rIMeIOPDprfe2XzNgyj6PahhBjO4C3e6puDgXrdg+/5l948vF3bqwZetZ+z9Rx9zdIY5pInPK4Nk0t+l52xdK2B45Qd87nM8fsD5EfUhIcJcERw4RdqqH7Yde5V7m1vhNmtedkz6EDzUMF/2jJYWbC+4fzzA/Y+/8PPH3j9dcBAPIRP8JLXd5BpAu03aziOL3VVHZzz3CXWDPWd+SH2AnxIqQoTZpo9Ckc6HIrFbAbzNmlcg8Ag8NFDDAhbJvTBZXbC94P7t68EXfv6o+21gUtPETU7bbkLxvNKRFG2+KXzvtObonPP4rBvsgmaKj404DlshFole1Glfh02fE7bYR7dZ82oTewIBGn1Md6CG6YUF26X376oevOLzx95vhUmgblI6LBZwTCDY7vMq0op5WVXgsObOXJ+1x3qaBl9j1FeLxbhU9w1F+Wiba6s1X/TBz1LnUfuYDi4r2C69f1f14BWfP+p+W2GFKuC9phcELMYRRLur9DEZTUdEH+iEqWdaM7X4WOoPGI+ZYD2+wcQ+y+ioHUZ9dTDbArzxmi/bJI9BND0Ynd6lBdve/butBw8+f/T9D3ABa3AG8W3VPX4hBin+bj8dMMmSpp5pg7fJ6xrBFE2WQQEWnV8Qg3FbAWzYfM1rREEnmvkN2o1+acG2d/9u68GDzx91v3mAjb1zkpqT21OipPKO0b9TO5W0nTdOmAQm0TObts3aBKgwARtoPDiCT0gHgwnbArzxmtcLc08HgF1asN0C4Ms/fvD5I+7PhfqyXE/b7RbbrGyRQRT9ARZcwAUmgdoz0ehJ9Fn7QAhUjhDAQSw0bV3T3WbNa59jzmiP6GsWbGXDX2ytjy8+f9T97fiBPq9YeLdBmyuizZHaqXITnXiMUEEVcJ7K4j3BFPurtB4bixW8wTpweL8DC95szWMOqucFYGsWbGU7p3TxxxefP+r+oTVktxY0v5hbq3KiOKYnY8ddJVSBxuMMVffNbxwIOERShst73HZ78DZrHpmJmH3K6sGz0fe3UUj0eyRrSCGTTc+rjVNoGzNSv05srAxUBh8IhqChiQgVNIIBH3AVPnrsnXQZbLTm8ammv8eVXn/vWpaTem5IXRlt+U/LA21zhSb9cye6jcOfCnOwhIAYXAMVTUNV0QhVha9xjgA27ODJbLbmitt3tRN80lqG6N/khgot4ZVlOyO4WNg3OIMzhIZQpUEHieg2im6F91hB3I2tubql6BYNN9Hj5S7G0G2tahslBWKDnOiIvuAEDzakDQKDNFQT6gbn8E2y4BBubM230YIpBnDbMa+y3dx0n1S0BtuG62lCCXwcY0F72T1VRR3t2ONcsmDjbmzNt9RFs2LO2hQNyb022JisaI8rAWuw4HI3FuAIhZdOGIcdjLJvvObqlpqvWTJnnQbyi/1M9O8UxWhBs//H42I0q1Yb/XPGONzcmm+ri172mHKvZBpHkJaNJz6v9jxqiklDj3U4CA2ugpAaYMWqNXsdXbmJNd9egCnJEsphXNM+MnK3m0FCJ5S1kmJpa3DgPVbnQnPGWIDspW9ozbcO4K/9LkfaQO2KHuqlfFXSbdNzcEcwoqNEFE9zcIXu9/6n/ym/BC/C3aJLzEKPuYVlbFnfhZ8kcWxV3dbv4bKl28566wD+8C53aw49lTABp9PWbsB+knfc/Li3eVizf5vv/xmvnPKg5ihwKEwlrcHqucuVcVOxEv8aH37E3ZqpZypUulrHEtIWKUr+txHg+ojZDGlwnqmkGlzcVi1dLiNSJiHjfbRNOPwKpx9TVdTn3K05DBx4psIk4Ei8aCkJahRgffk4YnEXe07T4H2RR1u27E6wfQsBDofUgjFUFnwC2AiVtA+05J2zpiDK2Oa0c5fmAecN1iJzmpqFZxqYBCYhFTCsUNEmUnIcZ6aEA5rQVhEywG6w7HSW02XfOoBlQmjwulOFQAg66SvJblrTEX1YtJ3uG15T/BH1OfOQeuR8g/c0gdpT5fx2SKbs9EfHTKdM8A1GaJRHLVIwhcGyydZsbifAFVKl5EMKNU2Hryo+06BeTgqnxzYjThVySDikbtJPieco75lYfKAJOMEZBTjoITuWHXXZVhcUDIS2hpiXHV9Ku4u44bN5OYLDOkJo8w+xJSMbhBRHEdEs9JZUCkQrPMAvaHyLkxgkEHxiNkx/x2YB0mGsQ8EUWj/stW5YLhtS5SMu+/YBbNPDCkGTUybN8krRLBGPlZkVOA0j+a1+rkyQKWGaPHPLZOkJhioQYnVZ2hS3zVxMtgC46KuRwbJNd9nV2PHgb36F194ecf/Yeu2vAFe5nm/bRBFrnY4BauE8ERmZRFUn0k8hbftiVYSKMEme2dJCJSCGYAlNqh87bXOPdUkGy24P6d1ll21MBqqx48Fvv8ZHH8HZFY7j/uAq1xMJUFqCSUlJPmNbIiNsmwuMs/q9CMtsZsFO6SprzCS1Z7QL8xCQClEelpjTduDMsmWD8S1PT152BtvmIGvUeDA/yRn83u/x0/4qxoPHjx+PXY9pqX9bgMvh/Nz9kpP4pOe1/fYf3axUiMdHLlPpZCNjgtNFAhcHEDxTumNONhHrBduW+vOyY++70WWnPXj98eA4kOt/mj/5E05l9+O4o8ePx67HFqyC+qSSnyselqjZGaVK2TadbFLPWAQ4NBhHqDCCV7OTpo34AlSSylPtIdd2AJZlyzYQrDJ5lcWGNceD80CunPLGGzsfD+7wRb95NevJI5docQ3tgCyr5bGnyaPRlmwNsFELViOOx9loebGNq2moDOKpHLVP5al2cymWHbkfzGXL7kfRl44H9wZy33tvt+PB/Xnf93e+nh5ZlU18wCiRUa9m7kib9LYuOk+hudQNbxwm0AQqbfloimaB2lM5fChex+ylMwuTbfmXQtmWlenZljbdXTLuOxjI/fDDHY4Hjx8/Hrse0zXfPFxbUN1kKqSCCSk50m0Ajtx3ub9XHBKHXESb8iO6E+qGytF4nO0OG3SXzbJlhxBnKtKyl0NwybjvYCD30aMdjgePHz8eu56SVTBbgxJMliQ3Oauwg0QHxXE2Ez/EIReLdQj42Gzb4CLS0YJD9xUx7bsi0vJi5mUbW1QzL0h0PFk17rtiIPfJk52MB48fPx67npJJwyrBa2RCCQRTbGZSPCxTPOiND4G2pYyOQ4h4jINIJh5wFU1NFZt+IsZ59LSnDqBjZ2awbOku+yInunLcd8VA7rNnOxkPHj9+PGY9B0MWJJNozOJmlglvDMXDEozdhQWbgs/U6oBanGzLrdSNNnZFjOkmbi5bNt1lX7JLLhn3vXAg9/h4y/Hg8ePHI9dzQMEkWCgdRfYykYKnkP7D4rIujsujaKPBsB54vE2TS00ccvFY/Tth7JXeq1hz+qgVy04sAJawTsvOknHfCwdyT062HA8eP348Zj0vdoXF4pilKa2BROed+9fyw9rWRXeTFXESMOanvDZfJuJaSXouQdMdDJZtekZcLLvEeK04d8m474UDuaenW44Hjx8/Xns9YYqZpszGWB3AN/4VHw+k7WSFtJ3Qicuqb/NlVmgXWsxh570xg2UwxUw3WfO6B5nOuO8aA7lnZxuPB48fPx6znm1i4bsfcbaptF3zNT78eFPtwi1OaCNOqp1x3zUGcs/PN++AGD1+fMXrSVm2baTtPhPahbPhA71wIHd2bXzRa69nG+3CraTtPivahV/55tXWg8fyRY/9AdsY8VbSdp8V7cKrrgdfM//z6ILQFtJ2nxHtwmuoB4/kf74+gLeRtvvMaBdeSz34+vifx0YG20jbfTa0C6+tHrwe//NmOG0L8EbSdp8R7cLrrQe/996O+ai3ujQOskpTNULa7jOjXXj99eCd8lHvoFiwsbTdZ0a78PrrwTvlo966pLuRtB2fFe3Cm6oHP9kNH/W2FryxtN1nTLvwRurBO+Kj3pWXHidtx2dFu/Bm68Fb81HvykuPlrb7LGkX3mw9eGs+6h1Y8MbSdjegXcguQLjmevDpTQLMxtJ2N6NdyBZu9AbrwVvwUW+LbteULUpCdqm0HTelXbhNPe8G68Gb8lFvVfYfSNuxvrTdTWoXbozAzdaDZzfkorOj1oxVxlIMlpSIlpLrt8D4hrQL17z+c3h6hU/wv4Q/utps4+bm+6P/hIcf0JwQ5oQGPBL0eKPTYEXTW+eL/2DKn73J9BTXYANG57hz1cEMviVf/4tf5b/6C5pTQkMIWoAq7hTpOJjtAM4pxKu5vg5vXeUrtI09/Mo/5H+4z+Mp5xULh7cEm2QbRP2tFIKR7WM3fPf/jZ3SWCqLM2l4NxID5zB72HQXv3jj/8mLR5xXNA5v8EbFQEz7PpRfl1+MB/hlAN65qgDn3wTgH13hK7T59bmP+NIx1SHHU84nLOITt3iVz8mNO+lPrjGAnBFqmioNn1mTyk1ta47R6d4MrX7tjrnjYUpdUbv2rVr6YpVfsGG58AG8Ah9eyUN8CX4WfgV+G8LVWPDGb+Zd4cU584CtqSbMKxauxTg+dyn/LkVgA+IR8KHtejeFKRtTmLLpxN6mYVLjYxwXf5x2VofiZcp/lwKk4wGOpYDnoIZPdg/AAbwMfx0+ge9dgZvYjuqKe4HnGnykYo5TvJbG0Vj12JagRhwKa44H95ShkZa5RyLGGdfYvG7aw1TsF6iapPAS29mNS3NmsTQZCmgTzFwgL3upCTgtBTRwvGMAKrgLn4evwin8+afJRcff+8izUGUM63GOOuAs3tJkw7J4kyoNreqrpO6cYLQeFUd7TTpr5YOTLc9RUUogUOVJQ1GYJaFLAW0oTmKyYS46ZooP4S4EON3xQ5zC8/CX4CnM4c1PE8ApexpoYuzqlP3d4S3OJP8ZDK7cKWNaTlqmgDiiHwl1YsE41w1zT4iRTm3DBqxvOUsbMKKDa/EHxagtnta072ejc3DOIh5ojvh8l3tk1JF/AV6FU6jh3U8HwEazLgdCLYSQ+MYiAI2ltomkzttUb0gGHdSUUgsIYjTzLG3mObX4FBRaYtpDVNZrih9TgTeYOBxsEnN1gOCTM8Bsw/ieMc75w9kuAT6A+/AiHGvN/+Gn4KRkiuzpNNDYhDGFndWRpE6SVfm8U5bxnSgVV2jrg6JCKmneqey8VMFgq2+AM/i4L4RUbfSi27lNXZ7R7W9RTcq/q9fk4Xw3AMQd4I5ifAZz8FcVtm9SAom/dyN4lczJQW/kC42ZrHgcCoIf1oVMKkVItmMBi9cOeNHGLqOZk+QqQmrbc5YmYgxELUUN35z2iohstgfLIFmcMV7s4CFmI74L9+EFmGsi+tGnAOD4Yk9gIpo01Y4cA43BWGygMdr4YZekG3OBIUXXNukvJS8tqa06e+lSDCtnqqMFu6hWHXCF+WaYt64m9QBmNxi7Ioy7D+fa1yHw+FMAcPt7SysFLtoG4PXAk7JOA3aAxBRqUiAdU9Yp5lK3HLSRFtOim0sa8euEt08xvKjYjzeJ2GU7YawexrnKI9tmobInjFXCewpwriY9+RR4aaezFhMhGCppKwom0ChrgFlKzyPKkGlTW1YQrE9HJqu8hKGgMc6hVi5QRq0PZxNfrYNgE64utmRv6KKHRpxf6VDUaOvNP5jCEx5q185My/7RKz69UQu2im5k4/eownpxZxNLwiZ1AZTO2ZjWjkU9uaB2HFn6Q3u0JcsSx/qV9hTEApRzeBLDJQXxYmTnq7bdLa3+uqFrxLJ5w1TehnNHx5ECvCh2g2c3hHH5YsfdaSKddztfjQ6imKFGSyFwlLzxEGPp6r5IevVjk1AMx3wMqi1NxDVjLBiPs9tbsCkIY5we5/ML22zrCScFxnNtzsr9Wcc3CnD+pYO+4VXXiDE0oc/vQQ/fDK3oPESJMYXNmJa/DuloJZkcTpcYE8lIH8Dz8DJMiynNC86Mb2lNaaqP/+L7f2fcE/yP7/Lde8xfgSOdMxvOixZf/9p3+M4hT1+F+zApxg9XfUvYjc8qX2lfOOpK2gNRtB4flpFu9FTKCp2XJRgXnX6olp1zyYjTKJSkGmLE2NjUr1bxFM4AeAAHBUFIeSLqXR+NvH/M9fOnfHzOD2vCSyQJKzfgsCh+yi/Mmc35F2fUrw7miW33W9hBD1vpuUojFphIyvg7aTeoymDkIkeW3XLHmguMzbIAJejN6B5MDrhipE2y6SoFRO/AK/AcHHZHNIfiWrEe/C6cr3f/yOvrQKB+zMM55/GQdLDsR+ifr5Fiuu+/y+M78LzOE5dsNuXC3PYvYWd8NXvphLSkJIasrlD2/HOqQ+RjcRdjKTGWYhhVUm4yxlyiGPuMsZR7sMCHUBeTuNWA7if+ifXgc/hovftHXs/DV+Fvwe+f8shzMiMcweFgBly3//vwJfg5AN4450fn1Hd1Rm1aBLu22Dy3y3H2+OqMemkbGZ4jozcDjJf6596xOLpC0eMTHbKnxLxH27uZ/bMTGs2jOaMOY4m87CfQwF0dw53oa1k80JRuz/XgS+8fX3N9Af4qPIMfzKgCp4H5TDGe9GGeFPzSsZz80SlPTxXjgwJmC45njzgt2vbQ4b4OAdUK4/vWhO8d8v6EE8fMUsfakXbPpFJeLs2ubM/qdm/la3WP91uWhxXHjoWhyRUq2iJ/+5mA73zwIIo+LoZ/SgvIRjAd1IMvvn98PfgOvAJfhhm8scAKVWDuaRaK8aQ9f7vuPDH6Bj47ZXau7rqYJ66mTDwEDU6lLbCjCK0qTXyl5mnDoeNRxanj3FJbaksTk0faXxHxLrssgPkWB9LnA/MFleXcJozzjwsUvUG0X/QCve51qkMDXp9mtcyOy3rwBfdvVJK7D6/ACSzg3RoruIq5UDeESfEmVclDxnniU82vxMLtceD0hGZWzBNPMM/jSPne2OVatiTKUpY5vY7gc0LdUAWeWM5tH+O2I66AOWw9xT2BuyRVLGdoDHUsVRXOo/c+ZdRXvFfnxWyIV4upFLCl9eAL7h8Zv0QH8Ry8pA2cHzQpGesctVA37ZtklBTgHjyvdSeKY/RZw/kJMk0Y25cSNRWSigQtlULPTw+kzuJPeYEkXjQRpoGZobYsLF79pyd1dMRHInbgFTZqNLhDqiIsTNpoex2WLcy0/X6rHcdMMQvFSd5dWA++4P7xv89deACnmr36uGlL69bRCL6BSZsS6c0TU2TKK5gtWCzgAOOwQcurqk9j8whvziZSMLcq5hbuwBEsYjopUBkqw1yYBGpLA97SRElEmx5MCInBY5vgLk94iKqSWmhIGmkJ4Bi9m4L645J68LyY4wsFYBfUg5feP/6gWWm58IEmKQM89hq7KsZNaKtP5TxxrUZZVkNmMJtjbKrGxLNEbHPJxhqy7lAmbC32ZqeF6lTaknRWcYaFpfLUBh/rwaQycCCJmW15Kstv6jRHyJFry2C1ahkkIW0LO75s61+owxK1y3XqweX9m5YLM2DPFeOjn/iiqCKJ+yKXF8t5Yl/kNsqaSCryxPq5xWTFIaP8KSW0RYxqupaUf0RcTNSSdJZGcKYdYA6kdtrtmyBckfKXwqk0pHpUHlwWaffjNRBYFPUDWa8e3Lt/o0R0CdisKDM89cX0pvRHEfM8ca4t0s2Xx4kgo91MPQJ/0c9MQYq0co8MBh7bz1fio0UUHLR4aAIOvOmoYO6kwlEVODSSTliWtOtH6sPkrtctF9ZtJ9GIerBskvhdVS5cFNv9s1BU0AbdUgdK4FG+dRnjFmDTzniRMdZO1QhzMK355vigbdkpz9P6qjUGE5J2qAcXmwJ20cZUiAD0z+pGMx6xkzJkmEf40Hr4qZfVg2XzF9YOyoV5BjzVkUJngKf8lgNYwKECEHrCNDrWZzMlflS3yBhr/InyoUgBc/lKT4pxVrrC6g1YwcceK3BmNxZcAtz3j5EIpqguh9H6wc011YN75cKDLpFDxuwkrPQmUwW4KTbj9mZTwBwLq4aQMUZbHm1rylJ46dzR0dua2n3RYCWZsiHROeywyJGR7mXKlpryyCiouY56sFkBWEnkEB/raeh/Sw4162KeuAxMQpEkzy5alMY5wamMsWKKrtW2WpEWNnReZWONKWjrdsKZarpFjqCslq773PLmEhM448Pc3+FKr1+94vv/rfw4tEcu+lKTBe4kZSdijBrykwv9vbCMPcLQTygBjzVckSLPRVGslqdunwJ4oegtFOYb4SwxNgWLCmD7T9kVjTv5YDgpo0XBmN34Z/rEHp0sgyz7lngsrm4lvMm2Mr1zNOJYJ5cuxuQxwMGJq/TP5emlb8fsQBZviK4t8hFL+zbhtlpwaRSxQRWfeETjuauPsdGxsBVdO7nmP4xvzSoT29pRl7kGqz+k26B3Oy0YNV+SXbbQas1ctC/GarskRdFpKczVAF1ZXnLcpaMuzVe6lZ2g/1ndcvOVgRG3sdUAY1bKD6achijMPdMxV4muKVorSpiDHituH7rSTs7n/4y5DhRXo4FVBN4vO/zbAcxhENzGbHCzU/98Mcx5e7a31kWjw9FCe/zNeYyQjZsWb1uc7U33pN4Mji6hCLhivqfa9Ss6xLg031AgfesA/l99m9fgvnaF9JoE6bYKmkGNK3aPbHB96w3+DnxFm4hs0drLsk7U8kf/N/CvwQNtllna0rjq61sH8L80HAuvwH1tvBy2ChqWSCaYTaGN19sTvlfzFD6n+iKTbvtayfrfe9ueWh6GJFoxLdr7V72a5ZpvHcCPDzma0wTO4EgbLyedxstO81n57LYBOBzyfsOhUKsW1J1BB5vr/tz8RyqOFylQP9Tvst2JALsC5lsH8PyQ40DV4ANzYa4dedNiKNR1s+x2wwbR7q4/4cTxqEk4LWDebfisuo36JXLiWFjOtLrlNWh3K1rRS4xvHcDNlFnNmWBBAl5SWaL3oPOfnvbr5pdjVnEaeBJSYjuLEkyLLsWhKccadmOphZkOPgVdalj2QpSmfOsADhMWE2ZBu4+EEJI4wKTAuCoC4xwQbWXBltpxbjkXJtKxxabo9e7tyhlgb6gNlSbUpMh+l/FaqzVwewGu8BW1Zx7pTpQDJUjb8tsUTW6+GDXbMn3mLbXlXJiGdggxFAoUrtPS3wE4Nk02UZG2OOzlk7fRs7i95QCLo3E0jtrjnM7SR3uS1p4qtS2nJ5OwtQVHgOvArLBFijZUV9QtSl8dAY5d0E0hM0w3HS2DpIeB6m/A1+HfhJcGUq4sOxH+x3f5+VO+Ds9rYNI7zPXOYWPrtf8bYMx6fuOAX5jzNR0PdsuON+X1f7EERxMJJoU6GkTEWBvVolVlb5lh3tKCg6Wx1IbaMDdJ+9sUCc5KC46hKGCk3IVOS4TCqdBNfUs7Kd4iXf2RjnT/LLysJy3XDcHLh/vde3x8DoGvwgsa67vBk91G5Pe/HbOe7xwym0NXbtiuuDkGO2IJDh9oQvJ4cY4vdoqLDuoH9Zl2F/ofsekn8lkuhIlhQcffUtSjytFyp++p6NiE7Rqx/lodgKVoceEp/CP4FfjrquZaTtj2AvH5K/ywpn7M34K/SsoYDAdIN448I1/0/wveW289T1/lX5xBzc8N5IaHr0XMOQdHsIkDuJFifj20pBm5jzwUv9e2FhwRsvhAbalCIuIw3bhJihY3p6nTFFIZgiSYjfTf3aXuOjmeGn4bPoGvwl+CFzTRczBIuHBEeImHc37/lGfwZR0cXzVDOvaKfNHvwe+suZ771K/y/XcBlsoN996JpBhoE2toYxOznNEOS5TJc6Id5GEXLjrWo+LEWGNpPDU4WAwsIRROu+1vM+0oW37z/MBN9kqHnSArwPfgFJ7Cq/Ai3Ie7g7ncmI09v8sjzw9mzOAEXoIHxURueaAce5V80f/DOuuZwHM8vsMb5wBzOFWM7wymTXPAEvm4vcFpZ2ut0VZRjkiP2MlmLd6DIpbGSiHOjdnUHN90hRYmhTnmvhzp1iKDNj+b7t5hi79lWGwQ+HN9RsfFMy0FXbEwhfuczKgCbyxYwBmcFhhvo/7a44v+i3XWcwDP86PzpGQYdWh7csP5dBvZ1jNzdxC8pBGuxqSW5vw40nBpj5JhMwvOzN0RWqERHMr4Lv1kWX84xLR830G3j6yqZ1a8UstTlW+qJPOZ+sZ7xZPKTJLhiNOAFd6tk+jrTH31ncLOxid8+nzRb128HhUcru/y0Wn6iT254YPC6FtVSIMoW2sk727AhvTtrWKZTvgsmckfXYZWeNRXx/3YQ2OUxLDrbHtN11IwrgXT6c8dATDwLniYwxzO4RzuQqTKSC5gAofMZ1QBK3zQ4JWobFbcvJm87FK+6JXrKahLn54m3p+McXzzYtP8VF/QpJuh1OwieElEoI1pRxPS09FBrkq2tWCU59+HdhNtTIqKm8EBrw2RTOEDpG3IKo2Y7mFdLm3ZeVjYwVw11o/oznceMve4CgMfNym/utA/d/ILMR7gpXzRy9eDsgLcgbs8O2Va1L0zzIdwGGemTBuwROHeoMShkUc7P+ISY3KH5ZZeWqO8mFTxQYeXTNuzvvK5FGPdQfuu00DwYFY9dyhctEt+OJDdnucfpmyhzUJzfsJjr29l8S0bXBfwRS9ZT26tmMIdZucch5ZboMz3Nio3nIOsYHCGoDT4kUA9MiXEp9Xsui1S8th/kbWIrMBxDGLodWUQIWcvnXy+9M23xPiSMOiRPqM+YMXkUN3gXFrZJwXGzUaMpJfyRS9ZT0lPe8TpScuRlbMHeUmlaKDoNuy62iWNTWNFYjoxFzuJs8oR+RhRx7O4SVNSXpa0ZJQ0K1LAHDQ+D9IepkMXpcsq5EVCvClBUIzDhDoyKwDw1Lc59GbTeORivugw1IcuaEOaGWdNm+Ps5fQ7/tm0DjMegq3yM3vb5j12qUId5UZD2oxDSEWOZMSqFl/W+5oynWDa/aI04tJRQ2eTXusg86SQVu/nwSYwpW6wLjlqIzwLuxGIvoAvul0PS+ZNz0/akp/pniO/8JDnGyaCkzbhl6YcqmK/69prxPqtpx2+Km9al9sjL+rwMgHw4jE/C8/HQ3m1vBuL1fldbzd8mOueVJ92syqdEY4KJjSCde3mcRw2TA6szxedn+zwhZMps0XrqEsiUjnC1hw0TELC2Ek7uAAdzcheXv1BYLagspxpzSAoZZUsIzIq35MnFQ9DOrlNB30jq3L4pkhccKUAA8/ocvN1Rzx9QyOtERs4CVsJRK/DF71kPYrxYsGsm6RMh4cps5g1DOmM54Ly1ii0Hd3Y/BMk8VWFgBVmhqrkJCPBHAolwZaWzLR9Vb7bcWdX9NyUYE+uB2BKfuaeBUcjDljbYVY4DdtsVWvzRZdWnyUzDpjNl1Du3aloAjVJTNDpcIOVVhrHFF66lLfJL1zJr9PQ2nFJSBaKoDe+sAvLufZVHVzYh7W0h/c6AAZ+7Tvj6q9j68G/cTCS/3n1vLKHZwNi+P+pS0WkZNMBMUl+LDLuiE4omZy71r3UFMwNJV+VJ/GC5ixVUkBStsT4gGKh0Gm4Oy3qvq7Lbmq24nPdDuDR9deR11XzP4vFu3TYzfnIyiSVmgizUYGqkIXNdKTY9pgb9D2Ix5t0+NHkVzCdU03suWkkVZAoCONCn0T35gAeW38de43mf97sMOpSvj4aa1KYUm58USI7Wxxes03bAZdRzk6UtbzMaCQ6IxO0dy7X+XsjoD16hpsBeGz9dfzHj+R/Hp8nCxZRqkEDTaCKCSywjiaoMJ1TITE9eg7Jqnq8HL6gDwiZb0u0V0Rr/rmvqjxKuaLCX7ZWXTvAY+uvm3z8CP7nzVpngqrJpZKwWnCUjIviYVlirlGOzPLI3SMVyp/elvBUjjDkNhrtufFFErQ8pmdSlbK16toBHlt/HV8uHMX/vEGALkV3RJREiSlopxwdMXOZPLZ+ix+kAHpMKIk8UtE1ygtquttwxNhphrIZ1IBzjGF3IIGxGcBj6q8bHJBG8T9vdsoWrTFEuebEZuVxhhClH6P5Zo89OG9fwHNjtNQTpD0TG9PJLEYqvEY6Rlxy+ZZGfL0Aj62/bnQCXp//eeM4KzfQVJbgMQbUjlMFIm6TpcfWlZje7NBSV6IsEVmumWIbjiloUzQX9OzYdo8L1wjw2PrrpimONfmfNyzKklrgnEkSzT5QWYQW40YShyzqsRmMXbvVxKtGuYyMKaU1ugenLDm5Ily4iT14fP11Mx+xJv+zZ3MvnfdFqxU3a1W/FTB4m3Qfsyc1XUcdVhDeUDZXSFHHLQj/Y5jtC7ZqM0CXGwB4bP11i3LhOvzPGygYtiUBiwQV/4wFO0majijGsafHyRLu0yG6q35cL1rOpVxr2s5cM2jJYMCdc10Aj6q/blRpWJ//+dmm5psMl0KA2+AFRx9jMe2WbC4jQxnikd4DU8TwUjRVacgdlhmr3bpddzuJ9zXqr2xnxJfzP29RexdtjDVZqzkqa6PyvcojGrfkXiJ8SEtml/nYskicv0ivlxbqjemwUjMw5evdg8fUX9nOiC/lf94Q2i7MURk9nW1MSj5j8eAyV6y5CN2S6qbnw3vdA1Iwq+XOSCl663udN3IzLnrt+us25cI1+Z83SXQUldqQq0b5XOT17bGpLd6ssN1VMPf8c+jG8L3NeCnMdF+Ra3fRa9dft39/LuZ/3vwHoHrqGmQFafmiQw6eyzMxS05K4bL9uA+SKUQzCnSDkqOGokXyJvbgJ/BHI+qvY69//4rl20NsmK2ou2dTsyIALv/91/8n3P2Aao71WFGi8KKv1fRC5+J67Q/507/E/SOshqN5TsmYIjVt+kcjAx98iz/4SaojbIV1rexE7/C29HcYD/DX4a0rBOF5VTu7omsb11L/AWcVlcVZHSsqGuXLLp9ha8I//w3Mv+T4Ew7nTBsmgapoCrNFObIcN4pf/Ob/mrvHTGqqgAupL8qWjWPS9m/31jAe4DjA+4+uCoQoT/zOzlrNd3qd4SdphFxsUvYwGWbTWtISc3wNOWH+kHBMfc6kpmpwPgHWwqaSUG2ZWWheYOGQGaHB+eQ/kn6b3pOgLV+ODSn94wDvr8Bvb70/LLuiPPEr8OGVWfDmr45PZyccEmsVXZGe1pRNX9SU5+AVQkNTIVPCHF/jGmyDC9j4R9LfWcQvfiETmgMMUCMN1uNCakkweZsowdYobiMSlnKA93u7NzTXlSfe+SVbfnPQXmg9LpYAQxpwEtONyEyaueWM4FPjjyjG3uOaFmBTWDNgBXGEiQpsaWhnAqIijB07Dlsy3fUGeP989xbWkyf+FF2SNEtT1E0f4DYYVlxFlbaSMPIRMk/3iMU5pME2SIWJvjckciebkQuIRRyhUvkHg/iUljG5kzVog5hV7vIlCuBrmlhvgPfNHQM8lCf+FEGsYbMIBC0qC9a0uuy2wLXVbLBaP5kjHokCRxapkQyzI4QEcwgYHRZBp+XEFTqXFuNVzMtjXLJgX4gAid24Hjwc4N3dtVSe+NNiwTrzH4WVUOlDobUqr1FuAgYllc8pmzoVrELRHSIW8ViPxNy4xwjBpyR55I6J220qQTZYR4guvUICJiSpr9gFFle4RcF/OMB7BRiX8sSfhpNSO3lvEZCQfLUVTKT78Ek1LRLhWN+yLyTnp8qWUZ46b6vxdRGXfHVqx3eI75YaLa4iNNiK4NOW7wPW6lhbSOF9/M9qw8e/aoB3d156qTzxp8pXx5BKAsYSTOIIiPkp68GmTq7sZtvyzBQaRLNxIZ+paozHWoLFeExIhRBrWitHCAHrCF7/thhD8JhYz84wg93QRV88wLuLY8zF8sQ36qF1J455bOlgnELfshKVxYOXKVuKx0jaj22sczTQqPqtV/XDgpswmGTWWMSDw3ssyUunLLrVPGjYRsH5ggHeHSWiV8kT33ycFSfMgkoOK8apCye0J6VW6GOYvffgU9RWsukEi2kUV2nl4dOYUzRik9p7bcA4ggdJ53LxKcEe17B1R8eqAd7dOepV8sTXf5lhejoL85hUdhDdknPtKHFhljOT+bdq0hxbm35p2nc8+Ja1Iw+tJykgp0EWuAAZYwMVwac5KzYMslhvgHdHRrxKnvhTYcfKsxTxtTETkjHO7rr3zjoV25lAQHrqpV7bTiy2aXMmUhTBnKS91jhtR3GEoF0oLnWhWNnYgtcc4N0FxlcgT7yz3TgNIKkscx9jtV1ZKpWW+Ub1tc1eOv5ucdgpx+FJy9pgbLE7xDyXb/f+hLHVGeitHOi6A7ybo3sF8sS7w7cgdk0nJaOn3hLj3uyD0Zp5pazFIUXUpuTTU18d1EPkDoX8SkmWTnVIozEdbTcZjoqxhNHf1JrSS/AcvHjZ/SMHhL/7i5z+POsTUh/8BvNfYMTA8n+yU/MlTZxSJDRStqvEuLQKWwDctMTQogUDyQRoTQG5Kc6oQRE1yV1jCA7ri7jdZyK0sYTRjCR0Hnnd+y7nHxNgTULqw+8wj0mQKxpYvhjm9uSUxg+TTy7s2GtLUGcywhXSKZN275GsqlclX90J6bRI1aouxmgL7Q0Nen5ziM80SqMIo8cSOo+8XplT/5DHNWsSUr/6lLN/QQ3rDyzLruEW5enpf7KqZoShEduuSFOV7DLX7Ye+GmXb6/hnNNqKsVXuMDFpb9Y9eH3C6NGEzuOuI3gpMH/I6e+zDiH1fXi15t3vA1czsLws0TGEtmPEJdiiFPwlwKbgLHAFk4P6ZyPdymYYHGE0dutsChQBl2JcBFlrEkY/N5bQeXQ18gjunuMfMfsBlxJSx3niO485fwO4fGD5T/+3fPQqkneWVdwnw/3bMPkW9Wbqg+iC765Zk+xcT98ibKZc2EdgHcLoF8cSOo/Oc8fS+OyEULF4g4sJqXVcmfMfsc7A8v1/yfGXmL9I6Fn5pRwZhsPv0TxFNlAfZCvG+Oohi82UC5f/2IsJo0cTOm9YrDoKhFPEUr/LBYTUNht9zelHXDqwfPCIw4owp3mOcIQcLttWXFe3VZ/j5H3cIc0G6oPbCR+6Y2xF2EC5cGUm6wKC5tGEzhsWqw5hNidUiKX5gFWE1GXh4/Qplw4sVzOmx9QxU78g3EF6wnZlEN4FzJ1QPSLEZz1KfXC7vd8ssGdIbNUYpVx4UapyFUHzJoTOo1McSkeNn1M5MDQfs4qQuhhX5vQZFw8suwWTcyYTgioISk2YdmkhehG4PkE7w51inyAGGaU+uCXADabGzJR1fn3lwkty0asIo8cROm9Vy1g0yDxxtPvHDAmpu+PKnM8Ix1wwsGw91YJqhteaWgjYBmmQiebmSpwKKzE19hx7jkzSWOm66oPbzZ8Yj6kxVSpYjVAuvLzYMCRo3oTQecOOjjgi3NQ4l9K5/hOGhNTdcWVOTrlgYNkEXINbpCkBRyqhp+LdRB3g0OU6rMfW2HPCFFMV9nSp+uB2woepdbLBuJQyaw/ZFysXrlXwHxI0b0LovEkiOpXGA1Ijagf+KUNC6rKNa9bQnLFqYNkEnMc1uJrg2u64ELPBHpkgWbmwKpJoDhMwNbbGzAp7Yg31wS2T5rGtzit59PrKhesWG550CZpHEzpv2NGRaxlNjbMqpmEIzygJqQfjypycs2pg2cS2RY9r8HUqkqdEgKTWtWTKoRvOBPDYBltja2SO0RGjy9UHtxwRjA11ujbKF+ti5cIR9eCnxUg6owidtyoU5tK4NLji5Q3HCtiyF2IqLGYsHViOXTXOYxucDqG0HyttqYAKqYo3KTY1ekyDXRAm2AWh9JmsVh/ccg9WJ2E8YjG201sPq5ULxxX8n3XLXuMInbft2mk80rRGjCGctJ8/GFdmEQ9Ug4FlE1ll1Y7jtiraqm5Fe04VV8lvSVBL8hiPrfFVd8+7QH3Qbu2ipTVi8cvSGivc9cj8yvH11YMHdNSERtuOslM97feYFOPKzGcsI4zW0YGAbTAOaxCnxdfiYUmVWslxiIblCeAYr9VYR1gM7GmoPrilunSxxeT3DN/2eBQ9H11+nk1adn6VK71+5+Jfct4/el10/7KBZfNryUunWSCPxPECk1rdOv1WVSrQmpC+Tl46YD3ikQYcpunSQgzVB2VHFhxHVGKDgMEY5GLlQnP7FMDzw7IacAWnO6sBr12u+XanW2AO0wQ8pknnFhsL7KYIqhkEPmEXFkwaN5KQphbkUmG72wgw7WSm9RiL9QT925hkjiVIIhphFS9HKI6/8QAjlpXqg9W2C0apyaVDwKQwrwLY3j6ADR13ZyUNByQXHQu6RY09Hu6zMqXRaNZGS/KEJs0cJEe9VH1QdvBSJv9h09eiRmy0V2uJcqHcShcdvbSNg5fxkenkVprXM9rDVnX24/y9MVtncvbKY706anNl3ASll9a43UiacVquXGhvq4s2FP62NGKfQLIQYu9q1WmdMfmUrDGt8eDS0cXozH/fjmUH6Jruvm50hBDSaEU/2Ru2LEN/dl006TSc/g7tfJERxGMsgDUEr104pfWH9lQaN+M4KWQjwZbVc2rZVNHsyHal23wZtIs2JJqtIc/WLXXRFCpJkfE9jvWlfFbsNQ9pP5ZBS0zKh4R0aMFj1IjTcTnvi0Zz2rt7NdvQb2mgbju1plsH8MmbnEk7KbK0b+wC2iy3aX3szW8xeZvDwET6hWZYwqTXSSG+wMETKum0Dq/q+x62gt2ua2ppAo309TRk9TPazfV3qL9H8z7uhGqGqxNVg/FKx0HBl9OVUORn8Q8Jx9gFttGQUDr3tzcXX9xGgN0EpzN9mdZ3GATtPhL+CjxFDmkeEU6x56kqZRusLzALXVqkCN7zMEcqwjmywDQ6OhyUe0Xao1Qpyncrg6wKp9XfWDsaZplElvQ/b3sdweeghorwBDlHzgk1JmMc/wiERICVy2VJFdMjFuLQSp3S0W3+sngt2njwNgLssFGVQdJ0tu0KH4ky1LW4yrbkuaA6Iy9oz/qEMMXMMDWyIHhsAyFZc2peV9hc7kiKvfULxCl9iddfRK1f8kk9qvbdOoBtOg7ZkOZ5MsGrSHsokgLXUp9y88smniwWyuFSIRVmjplga3yD8Uij5QS1ZiM4U3Qw5QlSm2bXjFe6jzzBFtpg+/YBbLAWG7OPynNjlCw65fukGNdkJRf7yM1fOxVzbxOJVocFoYIaGwH22mIQkrvu1E2nGuebxIgW9U9TSiukPGU+Lt++c3DJPKhyhEEbXCQLUpae2exiKy6tMPe9mDRBFCEMTWrtwxN8qvuGnt6MoihKWS5NSyBhbH8StXoAz8PLOrRgLtOT/+4vcu+7vDLnqNvztOq7fmd8sMmY9Xzn1zj8Dq8+XVdu2Nv0IIySgEdQo3xVHps3Q5i3fLFsV4aiqzAiBhbgMDEd1uh8qZZ+lwhjkgokkOIv4xNJmyncdfUUzgB4oFMBtiu71Xumpz/P+cfUP+SlwFExwWW62r7b+LSPxqxn/gvMZ5z9C16t15UbNlq+jbGJtco7p8wbYlL4alSyfWdeuu0j7JA3JFNuVAwtst7F7FhWBbPFNKIUORndWtLraFLmMu7KFVDDOzqkeaiN33YAW/r76wR4XDN/yN1z7hejPau06EddkS/6XThfcz1fI/4K736fO48vlxt2PXJYFaeUkFS8U15XE3428xdtn2kc8GQlf1vkIaNRRnOMvLTWrZbElEHeLWi1o0dlKPAh1MVgbbVquPJ5+Cr8LU5/H/+I2QlHIU2ClXM9G8v7Rr7oc/hozfUUgsPnb3D+I+7WF8kNO92GY0SNvuxiE+2Bt8prVJTkzE64sfOstxuwfxUUoyk8VjcTlsqe2qITSFoSj6Epd4KsT6BZOWmtgE3hBfir8IzZDwgV4ZTZvD8VvPHERo8v+vL1DASHTz/i9OlKueHDjK5Rnx/JB1Vb1ioXdBra16dmt7dgik10yA/FwJSVY6XjA3oy4SqM2frqDPPSRMex9qs3XQtoWxMj7/Er8GWYsXgjaVz4OYumP2+9kbxvny/6kvWsEBw+fcb5bInc8APdhpOSs01tEqIkoiZjbAqKMruLbJYddHuHFRIyJcbdEdbl2sVLaySygunutBg96Y2/JjKRCdyHV+AEFtTvIpbKIXOamknYSiB6KV/0JetZITgcjjk5ZdaskBtWO86UF0ap6ozGXJk2WNiRUlCPFir66lzdm/SLSuK7EUdPz8f1z29Skq6F1fXg8+5UVR6bszncP4Tn4KUkkdJ8UFCY1zR1i8RmL/qQL3rlei4THG7OODlnKko4oI01kd3CaM08Ia18kC3GNoVaO9iDh+hWxSyTXFABXoau7Q6q9OxYg/OVEMw6jdbtSrJ9cBcewGmaZmg+bvkUnUUaGr+ZfnMH45Ivevl61hMcXsxYLFTu1hTm2zViCp7u0o5l+2PSUh9bDj6FgYypufBDhqK2+oXkiuHFHR3zfj+9PtA8oR0xnqX8qn+sx3bFODSbbF0X8EUvWQ8jBIcjo5bRmLOljDNtcqNtOe756h3l0VhKa9hDd2l1eqmsnh0MNMT/Cqnx6BInumhLT8luljzQ53RiJeA/0dxe5NK0o2fA1+GLXr6eNQWHNUOJssQaTRlGpLHKL9fD+IrQzTOMZS9fNQD4AnRNVxvTdjC+fJdcDDWQcyB00B0t9BDwTxXgaAfzDZ/DBXzRnfWMFRwuNqocOmX6OKNkY63h5n/fFcB28McVHqnXZVI27K0i4rDLNE9lDKV/rT+udVbD8dFFu2GGZ8mOt0kAXcoX3ZkIWVtw+MNf5NjR2FbivROHmhV1/pj2egv/fMGIOWTIWrV3Av8N9imV9IWml36H6cUjqEWNv9aNc+veb2sH46PRaHSuMBxvtW+twxctq0z+QsHhux8Q7rCY4Ct8lqsx7c6Sy0dl5T89rIeEuZKoVctIk1hNpfavER6yyH1Vvm3MbsUHy4ab4hWr/OZPcsRBphnaV65/ZcdYPNNwsjN/djlf9NqCw9U5ExCPcdhKxUgLSmfROpLp4WSUr8ojdwbncbvCf+a/YzRaEc6QOvXcGO256TXc5Lab9POvB+AWY7PigWYjzhifbovuunzRawsO24ZqQQAqguBtmpmPB7ysXJfyDDaV/aPGillgz1MdQg4u5MYaEtBNNHFjkRlSpd65lp4hd2AVPTfbV7FGpyIOfmNc/XVsPfg7vzaS/3nkvLL593ANLvMuRMGpQIhiF7kUEW9QDpAUbTWYBcbp4WpacHHY1aacqQyjGZS9HI3yCBT9kUZJhVOD+zUDvEH9ddR11fzPcTDQ5TlgB0KwqdXSavk9BC0pKp0WmcuowSw07VXmXC5guzSa4p0UvRw2lbDiYUx0ExJJRzWzi6Gm8cnEkfXXsdcG/M/jAJa0+bmCgdmQ9CYlNlSYZOKixmRsgiFxkrmW4l3KdFKv1DM8tk6WxPYJZhUUzcd8Kdtgrw/gkfXXDT7+avmfVak32qhtkg6NVdUS5wgkru1YzIkSduTW1FDwVWV3JQVJVuieTc0y4iDpFwc7/BvSalvKdQM8sv662cevz/+8sQVnjVAT0W2wLllw1JiMhJRxgDjCjLQsOzSFSgZqx7lAW1JW0e03yAD3asC+GD3NbQhbe+mN5GXH1F83KDOM4n/e5JIuH4NpdQARrFPBVptUNcjj4cVMcFSRTE2NpR1LEYbYMmfWpXgP9KejaPsLUhuvLCsVXznAG9dfx9SR1ud/3hZdCLHb1GMdPqRJgqDmm76mHbvOXDtiO2QPUcKo/TWkQ0i2JFXpBoo7vij1i1Lp3ADAo+qvG3V0rM//vFnnTE4hxd5Ka/Cor5YEdsLVJyKtDgVoHgtW11pWSjolPNMnrlrVj9Fv2Qn60twMwKPqr+N/wvr8z5tZcDsDrv06tkqyzESM85Ycv6XBWA2birlNCXrI6VbD2lx2L0vQO0QVTVVLH4SE67fgsfVXv8n7sz7/85Z7cMtbE6f088wSaR4kCkCm10s6pKbJhfqiUNGLq+0gLWC6eUAZFPnLjwqtKd8EwGvWX59t7iPW4X/eAN1svgRVSY990YZg06BD1ohLMtyFTI4pKTJsS9xREq9EOaPWiO2gpms7397x6nQJkbh+Fz2q/rqRROX6/M8bJrqlVW4l6JEptKeUFuMYUbtCQ7CIttpGc6MY93x1r1vgAnRXvY5cvwWPqb9uWQm+lP95QxdNMeWhOq1x0Db55C7GcUv2ZUuN6n8iKzsvOxibC//Yfs9Na8r2Rlz02vXXDT57FP/zJi66/EJSmsJKa8QxnoqW3VLQ+jZVUtJwJ8PNX1NQCwfNgdhhHD9on7PdRdrdGPF28rJr1F+3LBdeyv+8yYfLoMYet1vX4upNAjVvwOUWnlNXJXlkzk5Il6kqeoiL0C07qno+/CYBXq/+utlnsz7/Mzvy0tmI4zm4ag23PRN3t/CWryoUVJGm+5+K8RJ0V8Hc88/XHUX/HfiAq7t+BH+x6v8t438enWmdJwFA6ZINriLGKv/95f8lT9/FnyA1NMVEvQyaXuu+gz36f/DD73E4pwqpLcvm/o0Vle78n//+L/NPvoefp1pTJye6e4A/D082FERa5/opeH9zpvh13cNm19/4v/LDe5xMWTi8I0Ta0qKlK27AS/v3/r+/x/2GO9K2c7kVMonDpq7//jc5PKCxeNPpFVzaRr01wF8C4Pu76hXuX18H4LduTr79guuFD3n5BHfI+ZRFhY8w29TYhbbLi/bvBdqKE4fUgg1pBKnV3FEaCWOWyA+m3WpORZr/j+9TKJtW8yBTF2/ZEODI9/QavHkVdGFp/Pjn4Q+u5hXapsP5sOH+OXXA1LiKuqJxiMNbhTkbdJTCy4llEt6NnqRT4dhg1V3nbdrm6dYMecA1yTOL4PWTE9L5VzPFlLBCvlG58AhehnN4uHsAYinyJ+AZ/NkVvELbfOBUuOO5syBIEtiqHU1k9XeISX5bsimrkUUhnGDxourN8SgUsCZVtKyGbyGzHXdjOhsAvOAswSRyIBddRdEZWP6GZhNK/yjwew9ehBo+3jEADu7Ay2n8mDc+TS7awUHg0OMzR0LABhqLD4hJEh/BEGyBdGlSJoXYXtr+3HS4ijzVpgi0paWXtdruGTknXBz+11qT1Q2inxaTzQCO46P3lfLpyS4fou2PH/PupwZgCxNhGlj4IvUuWEsTkqMWm6i4xCSMc9N1RDQoCVcuGItJ/MRWefais+3synowi/dESgJjkilnWnBTGvRWmaw8oR15257t7CHmCf8HOn7cwI8+NQBXMBEmAa8PMRemrNCEhLGEhDQKcGZWS319BX9PFBEwGTbRBhLbDcaV3drFcDqk5kCTd2JF1Wp0HraqBx8U0wwBTnbpCadwBA/gTH/CDrcCs93LV8E0YlmmcyQRQnjBa8JESmGUfIjK/7fkaDJpmD2QptFNVJU1bbtIAjjWQizepOKptRjbzR9Kag6xZmMLLjHOtcLT3Tx9o/0EcTT1XN3E45u24AiwEypDJXihKjQxjLprEwcmRKclaDNZCVqr/V8mYWyFADbusiY5hvgFoU2vio49RgJLn5OsReRFN6tabeetiiy0V7KFHT3HyZLx491u95sn4K1QQSPKM9hNT0wMVvAWbzDSVdrKw4zRjZMyJIHkfq1VAVCDl/bUhNKlGq0zGr05+YAceXVPCttVk0oqjVwMPt+BBefx4yPtGVkUsqY3CHDPiCM5ngupUwCdbkpd8kbPrCWHhkmtIKLEetF2499eS1jZlIPGYnlcPXeM2KD9vLS0bW3ktYNqUllpKLn5ZrsxlIzxvDu5eHxzGLctkZLEY4PgSOg2IUVVcUONzUDBEpRaMoXNmUc0tFZrTZquiLyKxrSm3DvIW9Fil+AkhXu5PhEPx9mUNwqypDvZWdKlhIJQY7vn2OsnmBeOWnYZ0m1iwbbw1U60by5om47iHRV6fOgzjMf/DAZrlP40Z7syxpLK0lJ0gqaAK1c2KQKu7tabTXkLFz0sCftuwX++MyNeNn68k5Buq23YQhUh0SNTJa1ioQ0p4nUG2y0XilF1JqODqdImloPS4Bp111DEWT0jJjVv95uX9BBV7eB3bUWcu0acSVM23YZdd8R8UbQUxJ9wdu3oMuhdt929ME+mh6JXJ8di2RxbTi6TbrDquqV4aUKR2iwT6aZbyOwEXN3DUsWr8Hn4EhwNyHuXHh7/pdaUjtR7vnDh/d8c9xD/s5f501eQ1+CuDiCvGhk1AN/4Tf74RfxPwD3toLarR0zNtsnPzmS64KIRk861dMWCU8ArasG9T9H0ZBpsDGnjtAOM2+/LuIb2iIUGXNgl5ZmKD/Tw8TlaAuihaFP5yrw18v4x1898zIdP+DDAX1bM3GAMvPgRP/cJn3zCW013nrhHkrITyvYuwOUkcHuKlRSW5C6rzIdY4ppnF7J8aAJbQepgbJYBjCY9usGXDKQxq7RZfh9eg5d1UHMVATRaD/4BHK93/1iAgYZ/+jqPn8Dn4UExmWrpa3+ZOK6MvM3bjwfzxNWA2dhs8+51XHSPJiaAhGSpWevEs5xHLXcEGFXYiCONySH3fPWq93JIsBiSWvWyc3CAN+EcXoT7rCSANloPPoa31rt/5PUA/gp8Q/jDD3hyrjzlR8VkanfOvB1XPubt17vzxAfdSVbD1pzAnfgyF3ycadOTOTXhpEUoLC1HZyNGW3dtmjeXgr2r56JNmRwdNNWaQVBddd6rh4MhviEB9EFRD/7RGvePvCbwAL4Mx/D6M541hHO4D3e7g6PafdcZVw689z7NGTwo5om7A8sPhccT6qKcl9NJl9aM/9kX+e59Hh1yPqGuCCZxuITcsmNaJ5F7d0q6J3H48TO1/+M57085q2icdu2U+W36Ldllz9Agiv4YGljoEN908EzvDOrBF98/vtJwCC/BF2AG75xxEmjmMIcjxbjoaxqOK3/4hPOZzhMPBpYPG44CM0dTVm1LjLtUWWVz1Bcf8tEx0zs8O2A2YVHRxKYOiy/aOVoAaMu0i7ubu43njjmd4ibMHU1sIDHaQNKrZND/FZYdk54oCXetjq7E7IVl9eAL7t+oHnwXXtLx44czzoRFHBztYVwtH1d+NOMkupZ5MTM+gUmq90X+Bh9zjRlmaQ+m7YMqUL/veemcecAtOJ0yq1JnVlN27di2E0+Klp1tAJ4KRw1eMI7aJjsO3R8kPSI3fUFXnIOfdQe86sIIVtWDL7h//Ok6vj8vwDk08NEcI8zz7OhBy+WwalzZeZ4+0XniRfst9pAJqQHDGLzVQ2pheZnnv1OWhwO43/AgcvAEXEVVpa4db9sGvNK8wjaENHkfFQ4Ci5i7dqnQlPoLQrHXZDvO3BIXZbJOBrOaEbML6sFL798I4FhKihjHMsPjBUZYCMFr6nvaArxqXPn4lCa+cHfSa2cP27g3Z3ziYTRrcbQNGLQmGF3F3cBdzzzX7AILx0IB9rbwn9kx2G1FW3Inic+ZLIsVvKR8Zwfj0l1fkqo8LWY1M3IX14OX3r9RKTIO+d9XzAI8qRPGPn/4NC2n6o4rN8XJ82TOIvuVA8zLKUHRFgBCetlDZlqR1gLKjS39xoE7Bt8UvA6BxuEDjU3tFsEijgA+615tmZkXKqiEENrh41iLDDZNq4pKTWR3LZfnos81LOuNa15cD956vLMsJd1rqYp51gDUQqMYm2XsxnUhD2jg1DM7SeuJxxgrmpfISSXVIJIS5qJJSvJPEQ49DQTVIbYWJ9QWa/E2+c/oPK1drmC7WSfJRNKBO5Yjvcp7Gc3dmmI/Xh1kDTEuiSnWqQf37h+fTMhGnDf6dsS8SQfQWlqqwXXGlc/PEZ/SC5mtzIV0nAshlQdM/LvUtYutrEZ/Y+EAFtq1k28zQhOwLr1AIeANzhF8t9qzTdZf2qRKO6MWE9ohBYwibbOmrFtNmg3mcS+tB28xv2uKd/agYCvOP+GkSc+0lr7RXzyufL7QbkUpjLjEWFLqOIkAGu2B0tNlO9Eau2W1qcOUvVRgKzypKIQZ5KI3q0MLzqTNRYqiZOqmtqloIRlmkBHVpHmRYV6/HixbO6UC47KOFJnoMrVyr7wYz+SlW6GUaghYbY1I6kkxA2W1fSJokUdSh2LQ1GAimRGm0MT+uu57H5l7QgOWxERpO9moLRPgTtquWCfFlGlIjQaRly9odmzMOWY+IBO5tB4sW/0+VWGUh32qYk79EidWKrjWuiLpiVNGFWFRJVktyeXWmbgBBzVl8anPuXyNJlBJOlKLTgAbi/EYHVHxWiDaVR06GnHQNpJcWcK2jJtiCfG2sEHLzuI66sGrMK47nPIInPnu799935aOK2cvmvubrE38ZzZjrELCmXM2hM7UcpXD2oC3+ECVp7xtIuxptJ0jUr3sBmBS47TVxlvJ1Sqb/E0uLdvLj0lLr29ypdd/eMX3f6lrxGlKwKQxEGvw0qHbkbwrF3uHKwVENbIV2wZ13kNEF6zD+x24aLNMfDTCbDPnEikZFyTNttxWBXDaBuM8KtI2rmaMdUY7cXcUPstqTGvBGSrFWIpNMfbdea990bvAOC1YX0qbc6smDS1mPxSJoW4fwEXvjMmhlijDRq6qale6aJEuFGoppYDoBELQzLBuh/mZNx7jkinv0EtnUp50lO9hbNK57lZaMAWuWR5Yo9/kYwcYI0t4gWM47Umnl3YmpeBPqSyNp3K7s2DSAS/39KRuEN2bS4xvowV3dFRMx/VFcp2Yp8w2nTO9hCXtHG1kF1L4KlrJr2wKfyq77R7MKpFKzWlY9UkhYxyHWW6nBWPaudvEAl3CGcNpSXPZ6R9BbBtIl6cHL3gIBi+42CYXqCx1gfGWe7Ap0h3luyXdt1MKy4YUT9xSF01G16YEdWsouW9mgDHd3veyA97H+Ya47ZmEbqMY72oPztCGvK0onL44AvgC49saZKkWRz4veWljE1FHjbRJaWv6ZKKtl875h4CziFCZhG5rx7tefsl0aRT1bMHZjm8dwL/6u7wCRysaQblQoG5yAQN5zpatMNY/+yf8z+GLcH/Qn0iX2W2oEfXP4GvwQHuIL9AYGnaO3zqAX6946nkgqZNnUhx43DIdQtMFeOPrgy/y3Yd85HlJWwjLFkU3kFwq28xPnuPhMWeS+tDLV9Otllq7pQCf3uXJDN9wFDiUTgefHaiYbdfi3b3u8+iY6TnzhgehI1LTe8lcd7s1wJSzKbahCRxKKztTLXstGAiu3a6rPuQs5pk9TWAan5f0BZmGf7Ylxzzk/A7PAs4QPPPAHeFQ2hbFHszlgZuKZsJcUmbDC40sEU403cEjczstOEypa+YxevL4QBC8oRYqWdK6b7sK25tfE+oDZgtOQ2Jg8T41HGcBE6fTWHn4JtHcu9S7uYgU5KSCkl/mcnq+5/YBXOEr6lCUCwOTOM1taOI8mSxx1NsCXBEmLKbMAg5MkwbLmpBaFOPrNSlO2HnLiEqW3tHEwd8AeiQLmn+2gxjC3k6AxREqvKcJbTEzlpLiw4rNZK6oJdidbMMGX9FULKr0AkW+2qDEPBNNm5QAt2Ik2nftNWHetubosHLo2nG4vQA7GkcVCgVCgaDixHqo9UUn1A6OshapaNR/LPRYFV8siT1cCtJE0k/3WtaNSuUZYKPnsVIW0xXWnMUxq5+En4Kvw/MqQmVXnAXj9Z+9zM98zM/Agy7F/qqj2Nh67b8HjFnPP3iBn/tkpdzwEJX/whIcQUXOaikeliCRGUk7tiwF0rItwMEhjkZ309hikFoRAmLTpEXWuHS6y+am/KB/fM50aLEhGnSMwkpxzOov4H0AvgovwJ1iGzDLtJn/9BU+fAINfwUe6FHSLhu83viV/+/HrOePX+STT2B9uWGbrMHHLldRBlhS/CJQmcRxJFqZica01XixAZsYiH1uolZxLrR/SgxVIJjkpQP4PE9sE59LKLr7kltSBogS5tyszzH8Fvw8/AS8rNOg0xUS9fIaHwb+6et8Q/gyvKRjf5OusOzGx8evA/BP4IP11uN/grca5O0lcsPLJ5YjwI4QkJBOHa0WdMZYGxPbh2W2nR9v3WxEWqgp/G3+6VZbRLSAAZ3BhdhAaUL33VUSw9yjEsvbaQ9u4A/gGXwZXoEHOuU1GSj2chf+Mo+f8IcfcAxfIKVmyunRbYQVnoevwgfw3TXXcw++xNuP4fhyueEUNttEduRVaDttddoP0eSxLe2LENk6itYxlrxBNBYrNNKSQmeaLcm9c8UsaB5WyO6675yyQIAWSDpBVoA/gxmcwEvwoDv0m58UE7gHn+fJOa8/Ywan8EKRfjsopF83eCglX/Sfr7OeaRoQfvt1CGvIDccH5BCvw1sWIzRGC/66t0VTcLZQZtm6PlAasbOJ9iwWtUo7biktTSIPxnR24jxP1ZKaqq+2RcXM9OrBAm/AAs7hDJ5bNmGb+KIfwCs8a3jnjBrOFeMjHSCdbKr+2uOLfnOd9eiA8Hvvwwq54VbP2OqwkB48Ytc4YEOiH2vTXqodabfWEOzso4qxdbqD5L6tbtNPECqbhnA708DZH4QOJUXqScmUlks7Ot6FBuZw3n2mEbaUX7kDzxHOOQk8nKWMzAzu6ZZ8sOFw4RK+6PcuXo9tB4SbMz58ApfKDXf3szjNIIbGpD5TKTRxGkEMLjLl+K3wlWXBsCUxIDU+jbOiysESqAy1MGUJpXgwbTWzNOVEziIXZrJ+VIztl1PUBxTSo0dwn2bOmfDRPD3TRTGlfbCJvO9KvuhL1hMHhB9wPuPRLGHcdOWG2xc0U+5bQtAJT0nRTewXL1pgk2+rZAdeWmz3jxAqfNQQdzTlbF8uJ5ecEIWvTkevAHpwz7w78QujlD/Lr491bD8/1vhM2yrUQRrWXNQY4fGilfctMWYjL72UL/qS9eiA8EmN88nbNdour+PBbbAjOjIa4iBhfFg6rxeKdEGcL6p3EWR1Qq2Qkhs2DrnkRnmN9tG2EAqmgPw6hoL7Oza7B+3SCrR9tRftko+Lsf2F/mkTndN2LmzuMcKTuj/mX2+4Va3ki16+nnJY+S7MefpkidxwnV+4wkXH8TKnX0tsYzYp29DOOoSW1nf7nTh2akYiWmcJOuTidSaqESrTYpwjJJNVGQr+rLI7WsqerHW6Kp/oM2pKuV7T1QY9gjqlZp41/WfKpl56FV/0kvXQFRyeQ83xaTu5E8p5dNP3dUF34ihyI3GSpeCsywSh22ZJdWto9winhqifb7VRvgktxp13vyjrS0EjvrRfZ62uyqddSWaWYlwTPAtJZ2oZ3j/Sgi/mi+6vpzesfAcWNA0n8xVyw90GVFGuZjTXEQy+6GfLGLMLL523f5E0OmxVjDoOuRiH91RKU+vtoCtH7TgmvBLvtFXWLW15H9GTdVw8ow4IlRLeHECN9ym1e9K0I+Cbnhgv4Yu+aD2HaQJ80XDqOzSGAV4+4yCqBxrsJAX6ZTIoX36QnvzhhzzMfFW2dZVLOJfo0zbce5OvwXMFaZ81mOnlTVXpDZsQNuoYWveketKb5+6JOOsgX+NTm7H49fUTlx+WLuWL7qxnOFh4BxpmJx0p2gDzA/BUARuS6phR+pUsY7MMboAHx5xNsSVfVZcYSwqCKrqon7zM+8ecCkeS4nm3rINuaWvVNnMRI1IRpxTqx8PZUZ0Br/UEduo3B3hNvmgZfs9gQPj8vIOxd2kndir3awvJ6BLvoUuOfFWNYB0LR1OQJoUySKb9IlOBx74q1+ADC2G6rOdmFdJcD8BkfualA+BdjOOzP9uUhGUEX/TwhZsUduwRr8wNuXKurCixLBgpQI0mDbJr9dIqUuV+92ngkJZ7xduCk2yZKbfWrH1VBiTg9VdzsgRjW3CVXCvAwDd+c1z9dWw9+B+8MJL/eY15ZQ/HqvTwVdsZn5WQsgRRnMaWaecu3jFvMBEmgg+FJFZsnSl0zjB9OqPYaBD7qmoVyImFvzi41usesV0julaAR9dfR15Xzv9sEruRDyk1nb+QaLU67T885GTls6YgcY+UiMa25M/pwGrbCfzkvR3e0jjtuaFtnwuagHTSb5y7boBH119HXhvwP487jJLsLJ4XnUkHX5sLbS61dpiAXRoZSCrFJ+EjpeU3puVfitngYNo6PJrAigKktmwjyQdZpfq30mmtulaAx9Zfx15Xzv+cyeuiBFUs9zq8Kq+XB9a4PVvph3GV4E3y8HENJrN55H1X2p8VyqSKwVusJDKzXOZzplWdzBUFK9e+B4+uv468xvI/b5xtSAkBHQaPvtqWzllVvEOxPbuiE6+j2pvjcKsbvI7txnRErgfH7LdXqjq0IokKzga14GzQ23SSbCQvO6r+Or7SMIr/efOkkqSdMnj9mBx2DRsiY29Uj6+qK9ZrssCKaptR6HKURdwUYeUWA2kPzVKQO8ku2nU3Anhs/XWkBx3F/7wJtCTTTIKftthue1ty9xvNYLY/zo5KSbIuKbXpbEdSyeRyYdAIwKY2neyoc3+k1XUaufYga3T9daMUx/r8z1s10ITknIO0kuoMt+TB8jK0lpayqqjsJ2qtXAYwBU932zinimgmd6mTRDnQfr88q36NAI+tv24E8Pr8zxtasBqx0+xHH9HhlrwsxxNUfKOHQaZBITNf0uccj8GXiVmXAuPEAKSdN/4GLHhs/XWj92dN/uetNuBMnVR+XWDc25JLjo5Mg5IZIq226tmCsip2zZliL213YrTlL2hcFjpCduyim3M7/eB16q/blQsv5X/esDRbtJeabLIosWy3ycavwLhtxdWzbMmHiBTiVjJo6lCLjXZsi7p9PEPnsq6X6wd4bP11i0rD5fzPm/0A6brrIsllenZs0lCJlU4abakR59enZKrKe3BZihbTxlyZ2zl1+g0wvgmA166/bhwDrcn/7Ddz0eWZuJvfSESug6NzZsox3Z04FIxz0mUjMwVOOVTq1CQ0AhdbBGVdjG/CgsfUX7esJl3K/7ytWHRv683praW/8iDOCqWLLhpljDY1ZpzK75QiaZoOTpLKl60auHS/97oBXrv+umU9+FL+5+NtLFgjqVLCdbmj7pY5zPCPLOHNCwXGOcLquOhi8CmCWvbcuO73XmMUPab+ug3A6/A/78Bwe0bcS2+tgHn4J5pyS2WbOck0F51Vq3LcjhLvZ67p1ABbaL2H67bg78BfjKi/jr3+T/ABV3ilLmNXTI2SpvxWBtt6/Z//D0z/FXaGbSBgylzlsEGp+5//xrd4/ae4d8DUUjlslfIYS3t06HZpvfQtvv0N7AHWqtjP2pW08QD/FLy//da38vo8PNlKHf5y37Dxdfe/oj4kVIgFq3koLReSR76W/bx//n9k8jonZxzWTANVwEniDsg87sOSd/z7//PvMp3jQiptGVWFX2caezzAXwfgtzYUvbr0iozs32c3Uge7varH+CNE6cvEYmzbPZ9hMaYDdjK4V2iecf6EcEbdUDVUARda2KzO/JtCuDbNQB/iTeL0EG1JSO1jbXS+nLxtPMDPw1fh5+EPrgSEKE/8Gry5A73ui87AmxwdatyMEBCPNOCSKUeRZ2P6Myb5MRvgCHmA9ywsMifU+AYXcB6Xa5GibUC5TSyerxyh0j6QgLVpdyhfArRTTLqQjwe4HOD9s92D4Ap54odXAPBWLAwB02igG5Kkc+piN4lvODIFGAZgT+EO4Si1s7fjSR7vcQETUkRm9O+MXyo9OYhfe4xt9STQ2pcZRLayCV90b4D3jR0DYAfyxJ+eywg2IL7NTMXna7S/RpQ63JhWEM8U41ZyQGjwsVS0QBrEKLu8xwZsbi4wLcCT+OGidPIOCe1PiSc9Qt+go+vYqB7cG+B9d8cAD+WJPz0Am2gxXgU9IneOqDpAAXOsOltVuMzpdakJXrdPCzXiNVUpCeOos5cxnpQT39G+XVLhs1osQVvJKPZyNq8HDwd4d7pNDuWJPxVX7MSzqUDU6gfadKiNlUFTzLeFHHDlzO4kpa7aiKhBPGKwOqxsBAmYkOIpipyXcQSPlRTf+Tii0U3EJGaZsDER2qoB3h2hu0qe+NNwUooYU8y5mILbJe6OuX+2FTKy7bieTDAemaQyQ0CPthljSWO+xmFDIYiESjM5xKd6Ik5lvLq5GrQ3aCMLvmCA9wowLuWJb9xF59hVVP6O0CrBi3ZjZSNOvRy+I6klNVRJYRBaEzdN+imiUXQ8iVF8fsp+W4JXw7WISW7fDh7lptWkCwZ4d7QTXyBPfJMYK7SijjFppGnlIVJBJBYj7eUwtiP1IBXGI1XCsjNpbjENVpSAJ2hq2LTywEly3hUYazt31J8w2+aiLx3g3fohXixPfOMYm6zCGs9LVo9MoW3MCJE7R5u/WsOIjrqBoHUO0bJE9vxBpbhsd3+Nb4/vtPCZ4oZYCitNeYuC/8UDvDvy0qvkiW/cgqNqRyzqSZa/s0mqNGjtKOoTm14zZpUauiQgVfqtQiZjq7Q27JNaSK5ExRcrGCXO1FJYh6jR6CFqK7bZdQZ4t8g0rSlPfP1RdBtqaa9diqtzJkQ9duSryi2brQXbxDwbRUpFMBHjRj8+Nt7GDKgvph9okW7LX47gu0SpGnnFQ1S1lYldOsC7hYteR574ZuKs7Ei1lBsfdz7IZoxzzCVmmVqaSySzQbBVAWDek+N4jh9E/4VqZrJjPwiv9BC1XcvOWgO8275CVyBPvAtTVlDJfZkaZGU7NpqBogAj/xEHkeAuJihWYCxGN6e8+9JtSegFXF1TrhhLGP1fak3pebgPz192/8gB4d/6WT7+GdYnpH7hH/DJzzFiYPn/vjW0SgNpTNuPIZoAEZv8tlGw4+RLxy+ZjnKa5NdFoC7UaW0aduoYse6+bXg1DLg6UfRYwmhGEjqPvF75U558SANrElK/+MdpXvmqBpaXOa/MTZaa1DOcSiLaw9j0NNNst3c+63c7EKTpkvKHzu6bPbP0RkuHAVcbRY8ijP46MIbQeeT1mhA+5PV/inyDdQipf8LTvMXbwvoDy7IruDNVZKTfV4CTSRUYdybUCnGU7KUTDxLgCknqUm5aAW6/1p6eMsOYsphLzsHrE0Y/P5bQedx1F/4yPHnMB3/IOoTU9+BL8PhtjuFKBpZXnYNJxTuv+2XqolKR2UQgHhS5novuxVySJhBNRF3SoKK1XZbbXjVwWNyOjlqWJjrWJIy+P5bQedyldNScP+HZ61xKSK3jyrz+NiHG1hcOLL/+P+PDF2gOkekKGiNWKgJ+8Z/x8Iv4DdQHzcpZyF4v19I27w9/yPGDFQvmEpKtqv/TLiWMfn4sofMm9eAH8Ao0zzh7h4sJqYtxZd5/D7hkYPneDzl5idlzNHcIB0jVlQ+8ULzw/nc5/ojzl2juE0apD7LRnJxe04dMz2iOCFNtGFpTuXA5AhcTRo8mdN4kz30nVjEC4YTZQy4gpC7GlTlrePKhGsKKgeXpCYeO0MAd/GH7yKQUlXPLOasOH3FnSphjHuDvEu4gB8g66oNbtr6eMbFIA4fIBJkgayoXriw2XEDQPJrQeROAlY6aeYOcMf+IVYTU3XFlZufMHinGywaW3YLpObVBAsbjF4QJMsVUSayjk4voPsHJOQfPWDhCgDnmDl6XIRerD24HsGtw86RMHOLvVSHrKBdeVE26gKB5NKHzaIwLOmrqBWJYZDLhASG16c0Tn+CdRhWDgWXnqRZUTnPIHuMJTfLVpkoYy5CzylHVTGZMTwkGAo2HBlkQplrJX6U+uF1wZz2uwS1SQ12IqWaPuO4baZaEFBdukksJmkcTOm+YJSvoqPFzxFA/YUhIvWxcmSdPWTWwbAKVp6rxTtPFUZfKIwpzm4IoMfaYQLWgmlG5FME2gdBgm+J7J+rtS/XBbaVLsR7bpPQnpMFlo2doWaVceHk9+MkyguZNCJ1He+kuHTWyQAzNM5YSUg/GlTk9ZunAsg1qELVOhUSAK0LABIJHLKbqaEbHZLL1VA3VgqoiOKXYiS+HRyaEKgsfIqX64HYWbLRXy/qWoylIV9gudL1OWBNgBgTNmxA6b4txDT4gi3Ri7xFSLxtXpmmYnzAcWDZgY8d503LFogz5sbonDgkKcxGsWsE1OI+rcQtlgBBCSOKD1mtqYpIU8cTvBmAT0yZe+zUzeY92fYjTtGipXLhuR0ePoHk0ofNWBX+lo8Z7pAZDk8mEw5L7dVyZZoE/pTewbI6SNbiAL5xeygW4xPRuLCGbhcO4RIeTMFYHEJkYyEO9HmJfXMDEj/LaH781wHHZEtqSQ/69UnGpzH7LKIAZEDSPJnTesJTUa+rwTepI9dLJEawYV+ZkRn9g+QirD8vF8Mq0jFQ29js6kCS3E1+jZIhgPNanHdHFqFvPJLHqFwQqbIA4jhDxcNsOCCQLDomaL/dr5lyJaJU6FxPFjO3JOh3kVMcROo8u+C+jo05GjMF3P3/FuDLn5x2M04xXULPwaS6hBYki+MrMdZJSgPHlcB7nCR5bJ9Kr5ACUn9jk5kivdd8tk95SOGrtqu9lr2IhK65ZtEl7ZKrp7DrqwZfRUSN1el7+7NJxZbywOC8neNKTch5vsTEMNsoCCqHBCqIPRjIPkm0BjvFODGtto99rCl+d3wmHkW0FPdpZtC7MMcVtGFQjJLX5bdQ2+x9ypdc313uj8xlsrfuLgWXz1cRhZvJYX0iNVBRcVcmCXZs6aEf3RQF2WI/TcCbKmGU3IOoDJGDdDub0+hYckt6PlGu2BcxmhbTdj/klhccLGJMcqRjMJP1jW2ETqLSWJ/29MAoORluJ+6LPffBZbi5gqi5h6catQpmOT7/OFf5UorRpLzCqcMltBLhwd1are3kztrSzXO0LUbXRQcdLh/RdSZ+swRm819REDrtqzC4es6Gw4JCKlSnjYVpo0xeq33PrADbFLL3RuCmObVmPN+24kfa+AojDuM4umKe2QwCf6EN906HwjujaitDs5o0s1y+k3lgbT2W2i7FJdnwbLXhJUBq/9liTctSmFC/0OqUinb0QddTWamtjbHRFuWJJ6NpqZ8vO3fZJ37Db+2GkaPYLGHs7XTTdiFQJ68SkVJFVmY6McR5UycflNCsccHFaV9FNbR4NttLxw4pQ7wJd066Z0ohVbzihaxHVExd/ay04oxUKWt+AsdiQ9OUyZ2krzN19IZIwafSTFgIBnMV73ADj7V/K8u1MaY2sJp2HWm0f41tqwajEvdHWOJs510MaAqN4aoSiPCXtN2KSi46dUxHdaMquar82O1x5jqhDGvqmoE9LfxcY3zqA7/x3HA67r9ZG4O6Cuxu12/+TP+eLP+I+HErqDDCDVmBDO4larujNe7x8om2rMug0MX0rL1+IWwdwfR+p1TNTyNmVJ85ljWzbWuGv8/C7HD/izjkHNZNYlhZcUOKVzKFUxsxxN/kax+8zPWPSFKw80rJr9Tizyj3o1gEsdwgWGoxPezDdZ1TSENE1dLdNvuKL+I84nxKesZgxXVA1VA1OcL49dFlpFV5yJMhzyCmNQ+a4BqusPJ2bB+xo8V9u3x48VVIEPS/mc3DvAbXyoYr6VgDfh5do5hhHOCXMqBZUPhWYbWZECwVJljLgMUWOCB4MUuMaxGNUQDVI50TQ+S3kFgIcu2qKkNSHVoM0SHsgoZxP2d5HH8B9woOk4x5bPkKtAHucZsdykjxuIpbUrSILgrT8G7G5oCW+K0990o7E3T6AdW4TilH5kDjds+H64kS0mz24grtwlzDHBJqI8YJQExotPvoC4JBq0lEjjQkyBZ8oH2LnRsQ4Hu1QsgDTJbO8fQDnllitkxuVskoiKbRF9VwzMDvxHAdwB7mD9yCplhHFEyUWHx3WtwCbSMMTCUCcEmSGlg4gTXkHpZXWQ7kpznK3EmCHiXInqndkQjunG5kxTKEeGye7jWz9cyMR2mGiFQ15ENRBTbCp+Gh86vAyASdgmJq2MC6hoADQ3GosP0QHbnMHjyBQvQqfhy/BUbeHd5WY/G/9LK/8Ka8Jd7UFeNWEZvzPb458Dn8DGLOe3/wGL/4xP+HXlRt+M1PE2iLhR8t+lfgxsuh7AfO2AOf+owWhSZRYQbd622hbpKWKuU+XuvNzP0OseRDa+mObgDHJUSc/pKx31QdKffQ5OIJpt8GWjlgTwMc/w5MPCR/yl1XC2a2Yut54SvOtMev55Of45BOat9aWG27p2ZVORRvnEk1hqWMVUmqa7S2YtvlIpspuF1pt0syuZS2NV14mUidCSfzQzg+KqvIYCMljIx2YK2AO34fX4GWdu5xcIAb8MzTw+j/lyWM+Dw/gjs4GD6ehNgA48kX/AI7XXM/XAN4WHr+9ntywqoCakCqmKP0rmQrJJEErG2Upg1JObr01lKQy4jskWalKYfJ/EDLMpjNSHFEUAde2fltaDgmrNaWQ9+AAb8I5vKjz3L1n1LriB/BXkG/wwR9y/oRX4LlioHA4LzP2inzRx/DWmutRweFjeP3tNeSGlaE1Fde0OS11yOpmbIp2u/jF1n2RRZviJM0yBT3IZl2HWImKjQOxIyeU325b/qWyU9Moj1o07tS0G7qJDoGHg5m8yeCxMoEH8GU45tnrNM84D2l297DQ9t1YP7jki/7RmutRweEA77/HWXOh3HCxkRgldDQkAjNTMl2Iloc1qN5JfJeeTlyTRzxURTdn1Ixv2uKjs12AbdEWlBtmVdk2k7FFwj07PCZ9XAwW3dG+8xKzNFr4EnwBZpy9Qzhh3jDXebBpYcpuo4fQ44u+fD1dweEnHzI7v0xuuOALRUV8rXpFyfSTQYkhd7IHm07jpyhlkCmI0ALYqPTpUxXS+z4jgDj1Pflvmz5ecuItpIBxyTHpSTGWd9g1ApfD/bvwUhL4nT1EzqgX7cxfCcNmb3mPL/qi9SwTHJ49oj5ZLjccbTG3pRmlYi6JCG0mQrAt1+i2UXTZ2dv9IlQpN5naMYtviaXlTrFpoMsl3bOAFEa8sqPj2WCMrx3Yjx99qFwO59Aw/wgx+HlqNz8oZvA3exRDvuhL1jMQHPaOJ0+XyA3fp1OfM3qObEVdhxjvynxNMXQV4+GJyvOEFqeQBaIbbO7i63rpxCltdZShPFxkjM2FPVkn3TG+Rp9pO3l2RzFegGfxGDHIAh8SteR0C4HopXzRF61nheDw6TFN05Ebvq8M3VKKpGjjO6r7nhudTEGMtYM92HTDaR1FDMXJ1eThsbKfywyoWwrzRSXkc51flG3vIid62h29bIcFbTGhfV+faaB+ohj7dPN0C2e2lC96+XouFByen9AsunLDJZ9z7NExiUc0OuoYW6UZkIyx2YUR2z6/TiRjyKMx5GbbjLHvHuf7YmtKghf34LJfx63Yg8vrvN2zC7lY0x0tvKezo4HmGYDU+Gab6dFL+KI761lDcNifcjLrrr9LWZJctG1FfU1uwhoQE22ObjdfkSzY63CbU5hzs21WeTddH2BaL11Gi7lVdlxP1nkxqhnKhVY6knS3EPgVGg1JpN5cP/hivujOelhXcPj8HC/LyI6MkteVjlolBdMmF3a3DbsuAYhL44dxzthWSN065xxUd55Lmf0wRbOYOqH09/o9WbO2VtFdaMb4qBgtFJoT1SqoN8wPXMoXLb3p1PUEhxfnnLzGzBI0Ku7FxrKsNJj/8bn/H8fPIVOd3rfrklUB/DOeO+nkghgSPzrlPxluCMtOnDL4Yml6dK1r3vsgMxgtPOrMFUZbEUbTdIzii5beq72G4PD0DKnwjmBULUVFmy8t+k7fZ3pKc0Q4UC6jpVRqS9Umv8bxw35flZVOU1X7qkjnhZlsMbk24qQ6Hz7QcuL6sDC0iHHki96Uh2UdvmgZnjIvExy2TeJdMDZNSbdZyAHe/Yd1xsQhHiKzjh7GxQ4yqMPaywPkjMamvqrYpmO7Knad+ZQC5msCuAPWUoxrxVhrGv7a+KLXFhyONdTMrZ7ke23qiO40ZJUyzgYyX5XyL0mV7NiUzEs9mjtbMN0dERqwyAJpigad0B3/zRV7s4PIfXSu6YV/MK7+OrYe/JvfGMn/PHJe2fyUdtnFrKRNpXV0Y2559aWPt/G4BlvjTMtXlVIWCnNyA3YQBDmYIodFz41PvXPSa6rq9lWZawZ4dP115HXV/M/tnFkkrBOdzg6aP4pID+MZnTJ1SuuB6iZlyiox4HT2y3YBtkUKWooacBQUDTpjwaDt5poBHl1/HXltwP887lKKXxNUEyPqpGTyA699UqY/lt9yGdlUKra0fFWS+36iylVWrAyd7Uw0CZM0z7xKTOduznLIjG2Hx8cDPLb+OvK6Bv7n1DYci4CxUuRxrjBc0bb4vD3rN5Zz36ntLb83eVJIB8LiIzCmn6SMPjlX+yNlTjvIGjs+QzHPf60Aj62/jrzG8j9vYMFtm1VoRWCJdmw7z9N0t+c8cxZpPeK4aTRicS25QhrVtUp7U578chk4q04Wx4YoQSjFryUlpcQ1AbxZ/XVMknIU//OGl7Q6z9Zpxi0+3yFhSkjUDpnCIUhLWVX23KQ+L9vKvFKI0ZWFQgkDLvBoylrHNVmaw10zwCPrr5tlodfnf94EWnQ0lFRWy8pW9LbkLsyUVDc2NSTHGDtnD1uMtchjbCeb1mpxFP0YbcClhzdLu6lfO8Bj6q+bdT2sz/+8SZCV7VIxtt0DUn9L7r4cLYWDSXnseEpOGFuty0qbOVlS7NNzs5FOGJUqQpl2Q64/yBpZf90sxbE+//PGdZ02HSipCbmD6NItmQ4Lk5XUrGpDMkhbMm2ZVheNYV+VbUWTcv99+2NyX1VoafSuC+AN6q9bFIMv5X/eagNWXZxEa9JjlMwNWb00akGUkSoepp1/yRuuqHGbUn3UdBSTxBU6SEVklzWRUkPndVvw2PrrpjvxOvzPmwHc0hpmq82npi7GRro8dXp0KXnUQmhZbRL7NEVp1uuZmO45vuzKsHrktS3GLWXODVjw+vXXLYx4Hf7njRPd0i3aoAGX6W29GnaV5YdyDj9TFkakje7GHYzDoObfddHtOSpoi2SmzJHrB3hM/XUDDEbxP2/oosszcRlehWXUvzHv4TpBVktHqwenFo8uLVmy4DKLa5d3RtLrmrM3aMFr1183E4sewf+85VWeg1c5ag276NZrM9IJVNcmLEvDNaV62aq+14IAOGFsBt973Ra8Xv11YzXwNfmft7Jg2oS+XOyoC8/cwzi66Dhmgk38kUmP1CUiYWOX1bpD2zWXt2FCp7uq8703APAa9dfNdscR/M/bZLIyouVxqJfeWvG9Je+JVckHQ9+CI9NWxz+blX/KYYvO5n2tAP/vrlZ7+8/h9y+9qeB/Hnt967e5mevX10rALDWK//FaAT5MXdBXdP0C/BAes792c40H+AiAp1e1oH8HgH94g/Lttx1gp63op1eyoM/Bvw5/G/7xFbqJPcCXnmBiwDPb/YKO4FX4OjyCb289db2/Noqicw4i7N6TVtoz8tNwDH+8x/i6Ae7lmaQVENzJFb3Di/BFeAwz+Is9SjeQySpPqbLFlNmyz47z5a/AF+AYFvDmHqibSXTEzoT4Gc3OALaqAP4KPFUJ6n+1x+rGAM6Zd78bgJ0a8QN4GU614vxwD9e1Amy6CcskNrczLx1JIp6HE5UZD/DBHrFr2oNlgG4Odv226BodoryjGJ9q2T/AR3vQrsOCS0ctXZi3ruLlhpFDJYl4HmYtjQCP9rhdn4suySLKDt6wLcC52h8xPlcjju1fn+yhuw4LZsAGUuo2b4Fx2UwQu77uqRHXGtg92aN3tQCbFexc0uk93vhTXbct6y7MulLycoUljx8ngDMBg1tvJjAazpEmOtxlzclvj1vQf1Tx7QlPDpGpqgtdSKz/d9/hdy1vTfFHSmC9dGDZbLiezz7Ac801HirGZsWjydfZyPvHXL/Y8Mjzg8BxTZiuwKz4Eb8sBE9zznszmjvFwHKPIWUnwhqfVRcd4Ck0K6ate48m1oOfrX3/yOtvAsJ8zsPAM89sjnddmuLuDPjX9Bu/L7x7xpMzFk6nWtyQfPg278Gn4Aekz2ZgOmU9eJ37R14vwE/BL8G3aibCiWMWWDQ0ZtkPMnlcGeAu/Ag+8ZyecU5BPuy2ILD+sQqyZhAKmn7XZd+jIMTN9eBL7x95xVLSX4On8EcNlXDqmBlqS13jG4LpmGbkF/0CnOi3H8ETOIXzmnmtb0a16Tzxj1sUvQCBiXZGDtmB3KAefPH94xcUa/6vwRn80GOFyjEXFpba4A1e8KQfFF+259tx5XS4egYn8fQsLGrqGrHbztr+uByTahWuL1NUGbDpsnrwBfePPwHHIf9X4RnM4Z2ABWdxUBlqQ2PwhuDxoS0vvqB1JzS0P4h2nA/QgTrsJFn+Y3AOjs9JFC07CGWX1oNX3T/yHOzgDjwPn1PM3g9Jk9lZrMEpxnlPmBbjyo2+KFXRU52TJM/2ALcY57RUzjObbjqxVw++4P6RAOf58pcVsw9Daje3htriYrpDOonre3CudSe6bfkTEgHBHuDiyu5MCsc7BHhYDx7ePxLjqigXZsw+ijMHFhuwBmtoTPtOxOrTvYJDnC75dnUbhfwu/ZW9AgYd+peL68HD+0emKquiXHhWjJg/UrkJYzuiaL3E9aI/ytrCvAd4GcYZMCkSQxfUg3v3j8c4e90j5ZTPdvmJJGHnOCI2nHS8081X013pHuBlV1gB2MX1YNmWLHqqGN/TWmG0y6clJWthxNUl48q38Bi8vtMKyzzpFdSDhxZ5WBA5ZLt8Jv3895DduBlgbPYAj8C4B8hO68FDkoh5lydC4FiWvBOVqjYdqjiLv92t8yPDjrDaiHdUD15qkSURSGmXJwOMSxWAXYwr3zaAufJ66l+94vv3AO+vPcD7aw/w/toDvL/2AO+vPcD7aw/wHuD9tQd4f+0B3l97gPfXHuD9tQd4f+0B3l97gG8LwP8G/AL8O/A5OCq0Ys2KIdv/qOIXG/4mvFAMF16gZD+2Xvu/B8as5+8bfllWyg0zaNO5bfXj6vfhhwD86/Aq3NfRS9t9WPnhfnvCIw/CT8GLcFTMnpntdF/z9V+PWc/vWoIH+FL3Znv57PitcdGP4R/C34avw5fgRVUInCwbsn1yyA8C8zm/BH8NXoXnVE6wVPjdeCI38kX/3+Ct9dbz1pTmHFRu+Hm4O9Ch3clr99negxfwj+ER/DR8EV6B5+DuQOnTgUw5rnkY+FbNU3gNXh0o/JYTuWOvyBf9FvzX663HH/HejO8LwAl8Hl5YLTd8q7sqA3wbjuExfAFegQdwfyDoSkWY8swzEf6o4Qyewefg+cHNbqMQruSL/u/WWc+E5g7vnnEXgDmcDeSGb/F4cBcCgT+GGRzDU3hZYburAt9TEtHgbM6JoxJ+6NMzzTcf6c2bycv2+KK/f+l6LBzw5IwfqZJhA3M472pWT/ajKxnjv4AFnMEpnBTPND6s2J7qHbPAqcMK74T2mZ4VGB9uJA465It+/eL1WKhYOD7xHOkr1ajK7d0C4+ke4Hy9qXZwpgLr+Znm/uNFw8xQOSy8H9IzjUrd9+BIfenYaylf9FsXr8fBAadnPIEDna8IBcwlxnuA0/Wv6GAWPd7dDIKjMdSWueAsBj4M7TOd06qBbwDwKr7oleuxMOEcTuEZTHWvDYUO7aHqAe0Bbq+HEFRzOz7WVoTDQkVds7A4sIIxfCQdCefFRoIOF/NFL1mPab/nvOakSL/Q1aFtNpUb/nFOVX6gzyg/1nISyDfUhsokIzaBR9Kxm80s5mK+6P56il1jXic7nhQxsxSm3OwBHl4fFdLqi64nDQZvqE2at7cWAp/IVvrN6/BFL1mPhYrGMBfOi4PyjuSGf6wBBh7p/FZTghCNWGgMzlBbrNJoPJX2mW5mwZfyRffXo7OFi5pZcS4qZUrlViptrXtw+GQoyhDPS+ANjcGBNRiLCQDPZPMHuiZfdFpPSTcQwwKYdRNqpkjm7AFeeT0pJzALgo7g8YYGrMHS0iocy+YTm2vyRUvvpXCIpQ5pe666TJrcygnScUf/p0NDs/iAI/nqDHC8TmQT8x3NF91l76oDdQGwu61Z6E0ABv7uO1dbf/37Zlv+Zw/Pbh8f1s4Avur6657/+YYBvur6657/+YYBvur6657/+YYBvur6657/+aYBvuL6657/+VMA8FXWX/f8zzcN8BXXX/f8zzcNMFdbf93zP38KLPiK6697/uebtuArrr/u+Z9vGmCusP6653/+1FjwVdZf9/zPN7oHX339dc//fNMu+irrr3v+50+Bi+Zq6697/uebA/jz8Pudf9ht/fWv517J/XUzAP8C/BAeX9WCDrUpZ3/dEMBxgPcfbtTVvsYV5Yn32u03B3Ac4P3b8I+vxNBKeeL9dRMAlwO83959qGO78sT769oB7g3w/vGVYFzKE++v6wV4OMD7F7tckFkmT7y/rhHgpQO8b+4Y46XyxPvrugBeNcB7BRiX8sT767oAvmCA9woAHsoT76+rBJjLBnh3txOvkifeX1dswZcO8G6N7sXyxPvr6i340gHe3TnqVfLE++uKAb50gHcXLnrX8sR7gNdPRqwzwLu7Y/FO5Yn3AK9jXCMGeHdgxDuVJ75VAI8ljP7PAb3/RfjcZfePHBB+79dpfpH1CanN30d+mT1h9GqAxxJGM5LQeeQ1+Tb+EQJrElLb38VHQ94TRq900aMIo8cSOo+8Dp8QfsB8zpqE1NO3OI9Zrj1h9EV78PqE0WMJnUdeU6E+Jjyk/hbrEFIfeWbvId8H9oTRFwdZaxJGvziW0Hn0gqYB/wyZ0PwRlxJST+BOw9m77Amj14ii1yGM/txYQudN0qDzGe4EqfA/5GJCagsHcPaEPWH0esekSwmjRxM6b5JEcZ4ww50ilvAOFxBSx4yLW+A/YU8YvfY5+ALC6NGEzhtmyZoFZoarwBLeZxUhtY4rc3bKnjB6TKJjFUHzJoTOozF2YBpsjcyxDgzhQ1YRUse8+J4wenwmaylB82hC5w0zoRXUNXaRBmSMQUqiWSWkLsaVqc/ZE0aPTFUuJWgeTei8SfLZQeMxNaZSIzbII4aE1Nmr13P2hNHjc9E9guYNCZ032YlNwESMLcZiLQHkE4aE1BFg0yAR4z1h9AiAGRA0jyZ03tyIxWMajMPWBIsxYJCnlITU5ShiHYdZ94TR4wCmSxg9jtB5KyPGYzymAYexWEMwAPIsAdYdV6aObmNPGD0aYLoEzaMJnTc0Ygs+YDw0GAtqxBjkuP38bMRWCHn73xNGjz75P73WenCEJnhwyVe3AEe8TtKdJcYhBl97wuhNAObK66lvD/9J9NS75v17wuitAN5fe4D31x7g/bUHeH/tAd5fe4D3AO+vPcD7aw/w/toDvL/2AO+vPcD7aw/w/toDvAd4f/24ABzZ8o+KLsSLS+Pv/TqTb3P4hKlQrTGh+fbIBT0Axqznnb+L/V2mb3HkN5Mb/nEHeK7d4IcDld6lmDW/iH9E+AH1MdOw/Jlu2T1xNmY98sv4wHnD7D3uNHu54WUuOsBTbQuvBsPT/UfzNxGYzwkP8c+Yz3C+r/i6DcyRL/rZ+utRwWH5PmfvcvYEt9jLDS/bg0/B64DWKrQM8AL8FPwS9beQCe6EMKNZYJol37jBMy35otdaz0Bw2H/C2Smc7+WGB0HWDELBmOByA3r5QONo4V+DpzR/hFS4U8wMW1PXNB4TOqYz9urxRV++ntWCw/U59Ty9ebdWbrgfRS9AYKKN63ZokZVygr8GZ/gfIhZXIXPsAlNjPOLBby5c1eOLvmQ9lwkOy5x6QV1j5TYqpS05JtUgUHUp5toHGsVfn4NX4RnMCe+AxTpwmApTYxqMxwfCeJGjpXzRF61nbcHhUBPqWze9svwcHJ+S6NPscKrEjug78Dx8Lj3T8D4YxGIdxmJcwhi34fzZUr7olevZCw5vkOhoClq5zBPZAnygD/Tl9EzDh6kl3VhsHYcDEb+hCtJSvuiV69kLDm+WycrOTArHmB5/VYyP6jOVjwgGawk2zQOaTcc1L+aLXrKeveDwZqlKrw8U9Y1p66uK8dEzdYwBeUQAY7DbyYNezBfdWQ97weEtAKYQg2xJIkuveAT3dYeLGH+ShrWNwZgN0b2YL7qznr3g8JYAo5bQBziPjx7BPZ0d9RCQp4UZbnFdzBddor4XHN4KYMrB2qHFRIzzcLAHQZ5the5ovui94PCWAPefaYnxIdzRwdHCbuR4B+tbiy96Lzi8E4D7z7S0mEPd+eqO3cT53Z0Y8SV80XvB4Z0ADJi/f7X113f+7p7/+UYBvur6657/+YYBvur6657/+aYBvuL6657/+aYBvuL6657/+aYBvuL6657/+aYBvuL6657/+VMA8FXWX/f8z58OgK+y/rrnf75RgLna+uue//lTA/CV1V/3/M837aKvvv6653++UQvmauuve/7nTwfAV1N/3fM/fzr24Cuuv+75nz8FFnxl9dc9//MOr/8/glixwRuUfM4AAAAASUVORK5CYII="},getSearchTexture:function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAAAhCAAAAABIXyLAAAAAOElEQVRIx2NgGAWjYBSMglEwEICREYRgFBZBqDCSLA2MGPUIVQETE9iNUAqLR5gIeoQKRgwXjwAAGn4AtaFeYLEAAAAASUVORK5CYII="}}),{uniforms:{tDiffuse:{value:null},_Brightness:{value:1},_Saturation:{value:1},_Contrast:{value:1}},vertexShader:"\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t}",fragmentShader:"\n\t\tuniform sampler2D tDiffuse;\n\t\tuniform float _Brightness;\n\t\tuniform float _Saturation;\n\t\tuniform float _Contrast;\n\t\tvarying vec2 vUv;\n\t\tvec3 lerpColor(vec3 col1,vec3 col2, float value){\n\t\t\tvec3 newCol = vec3 ((col1.r * (1.0 - value) + col2.r * value), (col1.g * (1.0 - value) + col2.g * value), (col1.b * (1.0 - value) + col2.b * value));\n\t\t\treturn newCol;\n\t\t}\n\t\tfloat mylerp(float a,float b, float value){\n\t\t\treturn (a * (1.0 - value) + b * value);\n\t\t}\n\t\tvoid main() {\n\t\t\t// 获取原图的颜色rgba\n\t\t\tvec4 color = texture2D(tDiffuse, vUv);\n\t\t\t//brigtness亮度直接乘以一个系数，也就是RGB整体缩放，调整亮度\n\t\t\tvec3 finalColor = color.rgb * _Brightness;\n\t\t\t//saturation饱和度：首先根据公式计算同等亮度情况下饱和度最低的值：\n\t\t\tfloat gray = 0.2125 * color.r + 0.7154 * color.g + 0.0721 * color.b;\n\t\t\tvec3 grayColor = vec3(gray, gray, gray);\n\t\t\t//根据Saturation在饱和度最低的图像和原图之间差值\n\t\t\tfinalColor = lerpColor(grayColor, finalColor, _Saturation);\n\t\t\t//contrast对比度：首先计算对比度最低的值\n\t\t\tvec3 avgColor = vec3(0.5, 0.5, 0.5);\n\t\t\t//根据Contrast在对比度最低的图像和原图之间差值\n\t\t\tfinalColor = lerpColor(avgColor, finalColor, _Contrast);\n\t\t\t// 结果rgb,透明度保持原值即可\n\t\t\tgl_FragColor = vec4(vec3(finalColor), color.a);\n\t\t}"});function hu(e){var t=new Object;return t._Brightness=1,t._Saturation=1,t._Contrast=1.5,t.enableRenderPost=function(n){var i,r,a;n?(i=(n=e.scene).renderer,a=n.camera,(r=new Bc(i)).addPass(new ru(n,a)),(n=new au(uu)).uniforms._Brightness.value=t._Brightness,n.uniforms._Saturation.value=t._Saturation,n.uniforms._Contrast.value=t._Contrast,r.addPass(n),a=new cu(window.innerWidth*i.getPixelRatio(),window.innerHeight*i.getPixelRatio()),r.addPass(a),t.composer=r):t.composer=null},t.render=function(){},t}new C.Vector2(1/1024,1/512),["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["precision highp float;","","uniform sampler2D tDiffuse;","","uniform vec2 resolution;","","varying vec2 vUv;","","// FXAA 3.11 implementation by NVIDIA, ported to WebGL by Agost Biro (biro@archilogic.com)","","//----------------------------------------------------------------------------------","// File:        es3-keplerFXAAassetsshaders/FXAA_DefaultES.frag","// SDK Version: v3.00","// Email:       gameworks@nvidia.com","// Site:        http://developer.nvidia.com/","//","// Copyright (c) 2014-2015, NVIDIA CORPORATION. All rights reserved.","//","// Redistribution and use in source and binary forms, with or without","// modification, are permitted provided that the following conditions","// are met:","//  * Redistributions of source code must retain the above copyright","//    notice, this list of conditions and the following disclaimer.","//  * Redistributions in binary form must reproduce the above copyright","//    notice, this list of conditions and the following disclaimer in the","//    documentation and/or other materials provided with the distribution.","//  * Neither the name of NVIDIA CORPORATION nor the names of its","//    contributors may be used to endorse or promote products derived","//    from this software without specific prior written permission.","//","// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS ``AS IS'' AND ANY","// EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE","// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR","// PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR","// CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,","// EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,","// PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR","// PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY","// OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT","// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE","// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.","//","//----------------------------------------------------------------------------------","","#define FXAA_PC 1","#define FXAA_GLSL_100 1","#define FXAA_QUALITY_PRESET 12","","#define FXAA_GREEN_AS_LUMA 1","","/*--------------------------------------------------------------------------*/","#ifndef FXAA_PC_CONSOLE","    //","    // The console algorithm for PC is included","    // for developers targeting really low spec machines.","    // Likely better to just run FXAA_PC, and use a really low preset.","    //","    #define FXAA_PC_CONSOLE 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_GLSL_120","    #define FXAA_GLSL_120 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_GLSL_130","    #define FXAA_GLSL_130 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_HLSL_3","    #define FXAA_HLSL_3 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_HLSL_4","    #define FXAA_HLSL_4 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_HLSL_5","    #define FXAA_HLSL_5 0","#endif","/*==========================================================================*/","#ifndef FXAA_GREEN_AS_LUMA","    //","    // For those using non-linear color,","    // and either not able to get luma in alpha, or not wanting to,","    // this enables FXAA to run using green as a proxy for luma.","    // So with this enabled, no need to pack luma in alpha.","    //","    // This will turn off AA on anything which lacks some amount of green.","    // Pure red and blue or combination of only R and B, will get no AA.","    //","    // Might want to lower the settings for both,","    //    fxaaConsoleEdgeThresholdMin","    //    fxaaQualityEdgeThresholdMin","    // In order to insure AA does not get turned off on colors","    // which contain a minor amount of green.","    //","    // 1 = On.","    // 0 = Off.","    //","    #define FXAA_GREEN_AS_LUMA 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_EARLY_EXIT","    //","    // Controls algorithm's early exit path.","    // On PS3 turning this ON adds 2 cycles to the shader.","    // On 360 turning this OFF adds 10ths of a millisecond to the shader.","    // Turning this off on console will result in a more blurry image.","    // So this defaults to on.","    //","    // 1 = On.","    // 0 = Off.","    //","    #define FXAA_EARLY_EXIT 1","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_DISCARD","    //","    // Only valid for PC OpenGL currently.","    // Probably will not work when FXAA_GREEN_AS_LUMA = 1.","    //","    // 1 = Use discard on pixels which don't need AA.","    //     For APIs which enable concurrent TEX+ROP from same surface.","    // 0 = Return unchanged color on pixels which don't need AA.","    //","    #define FXAA_DISCARD 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_FAST_PIXEL_OFFSET","    //","    // Used for GLSL 120 only.","    //","    // 1 = GL API supports fast pixel offsets","    // 0 = do not use fast pixel offsets","    //","    #ifdef GL_EXT_gpu_shader4","        #define FXAA_FAST_PIXEL_OFFSET 1","    #endif","    #ifdef GL_NV_gpu_shader5","        #define FXAA_FAST_PIXEL_OFFSET 1","    #endif","    #ifdef GL_ARB_gpu_shader5","        #define FXAA_FAST_PIXEL_OFFSET 1","    #endif","    #ifndef FXAA_FAST_PIXEL_OFFSET","        #define FXAA_FAST_PIXEL_OFFSET 0","    #endif","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_GATHER4_ALPHA","    //","    // 1 = API supports gather4 on alpha channel.","    // 0 = API does not support gather4 on alpha channel.","    //","    #if (FXAA_HLSL_5 == 1)","        #define FXAA_GATHER4_ALPHA 1","    #endif","    #ifdef GL_ARB_gpu_shader5","        #define FXAA_GATHER4_ALPHA 1","    #endif","    #ifdef GL_NV_gpu_shader5","        #define FXAA_GATHER4_ALPHA 1","    #endif","    #ifndef FXAA_GATHER4_ALPHA","        #define FXAA_GATHER4_ALPHA 0","    #endif","#endif","","","/*============================================================================","                        FXAA QUALITY - TUNING KNOBS","------------------------------------------------------------------------------","NOTE the other tuning knobs are now in the shader function inputs!","============================================================================*/","#ifndef FXAA_QUALITY_PRESET","    //","    // Choose the quality preset.","    // This needs to be compiled into the shader as it effects code.","    // Best option to include multiple presets is to","    // in each shader define the preset, then include this file.","    //","    // OPTIONS","    // -----------------------------------------------------------------------","    // 10 to 15 - default medium dither (10=fastest, 15=highest quality)","    // 20 to 29 - less dither, more expensive (20=fastest, 29=highest quality)","    // 39       - no dither, very expensive","    //","    // NOTES","    // -----------------------------------------------------------------------","    // 12 = slightly faster then FXAA 3.9 and higher edge quality (default)","    // 13 = about same speed as FXAA 3.9 and better than 12","    // 23 = closest to FXAA 3.9 visually and performance wise","    //  _ = the lowest digit is directly related to performance","    // _  = the highest digit is directly related to style","    //","    #define FXAA_QUALITY_PRESET 12","#endif","","","/*============================================================================","","                           FXAA QUALITY - PRESETS","","============================================================================*/","","/*============================================================================","                     FXAA QUALITY - MEDIUM DITHER PRESETS","============================================================================*/","#if (FXAA_QUALITY_PRESET == 10)","    #define FXAA_QUALITY_PS 3","    #define FXAA_QUALITY_P0 1.5","    #define FXAA_QUALITY_P1 3.0","    #define FXAA_QUALITY_P2 12.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 11)","    #define FXAA_QUALITY_PS 4","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 3.0","    #define FXAA_QUALITY_P3 12.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 12)","    #define FXAA_QUALITY_PS 5","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 4.0","    #define FXAA_QUALITY_P4 12.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 13)","    #define FXAA_QUALITY_PS 6","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 4.0","    #define FXAA_QUALITY_P5 12.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 14)","    #define FXAA_QUALITY_PS 7","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 4.0","    #define FXAA_QUALITY_P6 12.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 15)","    #define FXAA_QUALITY_PS 8","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 4.0","    #define FXAA_QUALITY_P7 12.0","#endif","","/*============================================================================","                     FXAA QUALITY - LOW DITHER PRESETS","============================================================================*/","#if (FXAA_QUALITY_PRESET == 20)","    #define FXAA_QUALITY_PS 3","    #define FXAA_QUALITY_P0 1.5","    #define FXAA_QUALITY_P1 2.0","    #define FXAA_QUALITY_P2 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 21)","    #define FXAA_QUALITY_PS 4","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 22)","    #define FXAA_QUALITY_PS 5","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 23)","    #define FXAA_QUALITY_PS 6","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 24)","    #define FXAA_QUALITY_PS 7","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 3.0","    #define FXAA_QUALITY_P6 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 25)","    #define FXAA_QUALITY_PS 8","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 4.0","    #define FXAA_QUALITY_P7 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 26)","    #define FXAA_QUALITY_PS 9","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 2.0","    #define FXAA_QUALITY_P7 4.0","    #define FXAA_QUALITY_P8 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 27)","    #define FXAA_QUALITY_PS 10","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 2.0","    #define FXAA_QUALITY_P7 2.0","    #define FXAA_QUALITY_P8 4.0","    #define FXAA_QUALITY_P9 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 28)","    #define FXAA_QUALITY_PS 11","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 2.0","    #define FXAA_QUALITY_P7 2.0","    #define FXAA_QUALITY_P8 2.0","    #define FXAA_QUALITY_P9 4.0","    #define FXAA_QUALITY_P10 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 29)","    #define FXAA_QUALITY_PS 12","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 2.0","    #define FXAA_QUALITY_P7 2.0","    #define FXAA_QUALITY_P8 2.0","    #define FXAA_QUALITY_P9 2.0","    #define FXAA_QUALITY_P10 4.0","    #define FXAA_QUALITY_P11 8.0","#endif","","/*============================================================================","                     FXAA QUALITY - EXTREME QUALITY","============================================================================*/","#if (FXAA_QUALITY_PRESET == 39)","    #define FXAA_QUALITY_PS 12","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.0","    #define FXAA_QUALITY_P2 1.0","    #define FXAA_QUALITY_P3 1.0","    #define FXAA_QUALITY_P4 1.0","    #define FXAA_QUALITY_P5 1.5","    #define FXAA_QUALITY_P6 2.0","    #define FXAA_QUALITY_P7 2.0","    #define FXAA_QUALITY_P8 2.0","    #define FXAA_QUALITY_P9 2.0","    #define FXAA_QUALITY_P10 4.0","    #define FXAA_QUALITY_P11 8.0","#endif","","","","/*============================================================================","","                                API PORTING","","============================================================================*/","#if (FXAA_GLSL_100 == 1) || (FXAA_GLSL_120 == 1) || (FXAA_GLSL_130 == 1)","    #define FxaaBool bool","    #define FxaaDiscard discard","    #define FxaaFloat float","    #define FxaaFloat2 vec2","    #define FxaaFloat3 vec3","    #define FxaaFloat4 vec4","    #define FxaaHalf float","    #define FxaaHalf2 vec2","    #define FxaaHalf3 vec3","    #define FxaaHalf4 vec4","    #define FxaaInt2 ivec2","    #define FxaaSat(x) clamp(x, 0.0, 1.0)","    #define FxaaTex sampler2D","#else","    #define FxaaBool bool","    #define FxaaDiscard clip(-1)","    #define FxaaFloat float","    #define FxaaFloat2 float2","    #define FxaaFloat3 float3","    #define FxaaFloat4 float4","    #define FxaaHalf half","    #define FxaaHalf2 half2","    #define FxaaHalf3 half3","    #define FxaaHalf4 half4","    #define FxaaSat(x) saturate(x)","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_GLSL_100 == 1)","  #define FxaaTexTop(t, p) texture2D(t, p, 0.0)","  #define FxaaTexOff(t, p, o, r) texture2D(t, p + (o * r), 0.0)","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_GLSL_120 == 1)","    // Requires,","    //  #version 120","    // And at least,","    //  #extension GL_EXT_gpu_shader4 : enable","    //  (or set FXAA_FAST_PIXEL_OFFSET 1 to work like DX9)","    #define FxaaTexTop(t, p) texture2DLod(t, p, 0.0)","    #if (FXAA_FAST_PIXEL_OFFSET == 1)","        #define FxaaTexOff(t, p, o, r) texture2DLodOffset(t, p, 0.0, o)","    #else","        #define FxaaTexOff(t, p, o, r) texture2DLod(t, p + (o * r), 0.0)","    #endif","    #if (FXAA_GATHER4_ALPHA == 1)","        // use #extension GL_ARB_gpu_shader5 : enable","        #define FxaaTexAlpha4(t, p) textureGather(t, p, 3)","        #define FxaaTexOffAlpha4(t, p, o) textureGatherOffset(t, p, o, 3)","        #define FxaaTexGreen4(t, p) textureGather(t, p, 1)","        #define FxaaTexOffGreen4(t, p, o) textureGatherOffset(t, p, o, 1)","    #endif","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_GLSL_130 == 1)",'    // Requires "#version 130" or better',"    #define FxaaTexTop(t, p) textureLod(t, p, 0.0)","    #define FxaaTexOff(t, p, o, r) textureLodOffset(t, p, 0.0, o)","    #if (FXAA_GATHER4_ALPHA == 1)","        // use #extension GL_ARB_gpu_shader5 : enable","        #define FxaaTexAlpha4(t, p) textureGather(t, p, 3)","        #define FxaaTexOffAlpha4(t, p, o) textureGatherOffset(t, p, o, 3)","        #define FxaaTexGreen4(t, p) textureGather(t, p, 1)","        #define FxaaTexOffGreen4(t, p, o) textureGatherOffset(t, p, o, 1)","    #endif","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_HLSL_3 == 1)","    #define FxaaInt2 float2","    #define FxaaTex sampler2D","    #define FxaaTexTop(t, p) tex2Dlod(t, float4(p, 0.0, 0.0))","    #define FxaaTexOff(t, p, o, r) tex2Dlod(t, float4(p + (o * r), 0, 0))","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_HLSL_4 == 1)","    #define FxaaInt2 int2","    struct FxaaTex { SamplerState smpl; Texture2D tex; };","    #define FxaaTexTop(t, p) t.tex.SampleLevel(t.smpl, p, 0.0)","    #define FxaaTexOff(t, p, o, r) t.tex.SampleLevel(t.smpl, p, 0.0, o)","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_HLSL_5 == 1)","    #define FxaaInt2 int2","    struct FxaaTex { SamplerState smpl; Texture2D tex; };","    #define FxaaTexTop(t, p) t.tex.SampleLevel(t.smpl, p, 0.0)","    #define FxaaTexOff(t, p, o, r) t.tex.SampleLevel(t.smpl, p, 0.0, o)","    #define FxaaTexAlpha4(t, p) t.tex.GatherAlpha(t.smpl, p)","    #define FxaaTexOffAlpha4(t, p, o) t.tex.GatherAlpha(t.smpl, p, o)","    #define FxaaTexGreen4(t, p) t.tex.GatherGreen(t.smpl, p)","    #define FxaaTexOffGreen4(t, p, o) t.tex.GatherGreen(t.smpl, p, o)","#endif","","","/*============================================================================","                   GREEN AS LUMA OPTION SUPPORT FUNCTION","============================================================================*/","#if (FXAA_GREEN_AS_LUMA == 0)","    FxaaFloat FxaaLuma(FxaaFloat4 rgba) { return rgba.w; }","#else","    FxaaFloat FxaaLuma(FxaaFloat4 rgba) { return rgba.y; }","#endif","","","","","/*============================================================================","","                             FXAA3 QUALITY - PC","","============================================================================*/","#if (FXAA_PC == 1)","/*--------------------------------------------------------------------------*/","FxaaFloat4 FxaaPixelShader(","    //","    // Use noperspective interpolation here (turn off perspective interpolation).","    // {xy} = center of pixel","    FxaaFloat2 pos,","    //","    // Used only for FXAA Console, and not used on the 360 version.","    // Use noperspective interpolation here (turn off perspective interpolation).","    // {xy_} = upper left of pixel","    // {_zw} = lower right of pixel","    FxaaFloat4 fxaaConsolePosPos,","    //","    // Input color texture.","    // {rgb_} = color in linear or perceptual color space","    // if (FXAA_GREEN_AS_LUMA == 0)","    //     {__a} = luma in perceptual color space (not linear)","    FxaaTex tex,","    //","    // Only used on the optimized 360 version of FXAA Console.",'    // For everything but 360, just use the same input here as for "tex".',"    // For 360, same texture, just alias with a 2nd sampler.","    // This sampler needs to have an exponent bias of -1.","    FxaaTex fxaaConsole360TexExpBiasNegOne,","    //","    // Only used on the optimized 360 version of FXAA Console.",'    // For everything but 360, just use the same input here as for "tex".',"    // For 360, same texture, just alias with a 3nd sampler.","    // This sampler needs to have an exponent bias of -2.","    FxaaTex fxaaConsole360TexExpBiasNegTwo,","    //","    // Only used on FXAA Quality.","    // This must be from a constant/uniform.","    // {x_} = 1.0/screenWidthInPixels","    // {_y} = 1.0/screenHeightInPixels","    FxaaFloat2 fxaaQualityRcpFrame,","    //","    // Only used on FXAA Console.","    // This must be from a constant/uniform.","    // This effects sub-pixel AA quality and inversely sharpness.","    //   Where N ranges between,","    //     N = 0.50 (default)","    //     N = 0.33 (sharper)","    // {x__} = -N/screenWidthInPixels","    // {_y_} = -N/screenHeightInPixels","    // {_z_} =  N/screenWidthInPixels","    // {__w} =  N/screenHeightInPixels","    FxaaFloat4 fxaaConsoleRcpFrameOpt,","    //","    // Only used on FXAA Console.","    // Not used on 360, but used on PS3 and PC.","    // This must be from a constant/uniform.","    // {x__} = -2.0/screenWidthInPixels","    // {_y_} = -2.0/screenHeightInPixels","    // {_z_} =  2.0/screenWidthInPixels","    // {__w} =  2.0/screenHeightInPixels","    FxaaFloat4 fxaaConsoleRcpFrameOpt2,","    //","    // Only used on FXAA Console.","    // Only used on 360 in place of fxaaConsoleRcpFrameOpt2.","    // This must be from a constant/uniform.","    // {x__} =  8.0/screenWidthInPixels","    // {_y_} =  8.0/screenHeightInPixels","    // {_z_} = -4.0/screenWidthInPixels","    // {__w} = -4.0/screenHeightInPixels","    FxaaFloat4 fxaaConsole360RcpFrameOpt2,","    //","    // Only used on FXAA Quality.","    // This used to be the FXAA_QUALITY_SUBPIX define.","    // It is here now to allow easier tuning.","    // Choose the amount of sub-pixel aliasing removal.","    // This can effect sharpness.","    //   1.00 - upper limit (softer)","    //   0.75 - default amount of filtering","    //   0.50 - lower limit (sharper, less sub-pixel aliasing removal)","    //   0.25 - almost off","    //   0.00 - completely off","    FxaaFloat fxaaQualitySubpix,","    //","    // Only used on FXAA Quality.","    // This used to be the FXAA_QUALITY_EDGE_THRESHOLD define.","    // It is here now to allow easier tuning.","    // The minimum amount of local contrast required to apply algorithm.","    //   0.333 - too little (faster)","    //   0.250 - low quality","    //   0.166 - default","    //   0.125 - high quality","    //   0.063 - overkill (slower)","    FxaaFloat fxaaQualityEdgeThreshold,","    //","    // Only used on FXAA Quality.","    // This used to be the FXAA_QUALITY_EDGE_THRESHOLD_MIN define.","    // It is here now to allow easier tuning.","    // Trims the algorithm from processing darks.","    //   0.0833 - upper limit (default, the start of visible unfiltered edges)","    //   0.0625 - high quality (faster)","    //   0.0312 - visible limit (slower)","    // Special notes when using FXAA_GREEN_AS_LUMA,","    //   Likely want to set this to zero.","    //   As colors that are mostly not-green","    //   will appear very dark in the green channel!","    //   Tune by looking at mostly non-green content,","    //   then start at zero and increase until aliasing is a problem.","    FxaaFloat fxaaQualityEdgeThresholdMin,","    //","    // Only used on FXAA Console.","    // This used to be the FXAA_CONSOLE_EDGE_SHARPNESS define.","    // It is here now to allow easier tuning.","    // This does not effect PS3, as this needs to be compiled in.","    //   Use FXAA_CONSOLE_PS3_EDGE_SHARPNESS for PS3.","    //   Due to the PS3 being ALU bound,","    //   there are only three safe values here: 2 and 4 and 8.","    //   These options use the shaders ability to a free *|/ by 2|4|8.","    // For all other platforms can be a non-power of two.","    //   8.0 is sharper (default!!!)","    //   4.0 is softer","    //   2.0 is really soft (good only for vector graphics inputs)","    FxaaFloat fxaaConsoleEdgeSharpness,","    //","    // Only used on FXAA Console.","    // This used to be the FXAA_CONSOLE_EDGE_THRESHOLD define.","    // It is here now to allow easier tuning.","    // This does not effect PS3, as this needs to be compiled in.","    //   Use FXAA_CONSOLE_PS3_EDGE_THRESHOLD for PS3.","    //   Due to the PS3 being ALU bound,","    //   there are only two safe values here: 1/4 and 1/8.","    //   These options use the shaders ability to a free *|/ by 2|4|8.","    // The console setting has a different mapping than the quality setting.","    // Other platforms can use other values.","    //   0.125 leaves less aliasing, but is softer (default!!!)","    //   0.25 leaves more aliasing, and is sharper","    FxaaFloat fxaaConsoleEdgeThreshold,","    //","    // Only used on FXAA Console.","    // This used to be the FXAA_CONSOLE_EDGE_THRESHOLD_MIN define.","    // It is here now to allow easier tuning.","    // Trims the algorithm from processing darks.","    // The console setting has a different mapping than the quality setting.","    // This only applies when FXAA_EARLY_EXIT is 1.","    // This does not apply to PS3,","    // PS3 was simplified to avoid more shader instructions.","    //   0.06 - faster but more aliasing in darks","    //   0.05 - default","    //   0.04 - slower and less aliasing in darks","    // Special notes when using FXAA_GREEN_AS_LUMA,","    //   Likely want to set this to zero.","    //   As colors that are mostly not-green","    //   will appear very dark in the green channel!","    //   Tune by looking at mostly non-green content,","    //   then start at zero and increase until aliasing is a problem.","    FxaaFloat fxaaConsoleEdgeThresholdMin,","    //","    // Extra constants for 360 FXAA Console only.","    // Use zeros or anything else for other platforms.","    // These must be in physical constant registers and NOT immediates.","    // Immediates will result in compiler un-optimizing.","    // {xyzw} = float4(1.0, -1.0, 0.25, -0.25)","    FxaaFloat4 fxaaConsole360ConstDir",") {","/*--------------------------------------------------------------------------*/","    FxaaFloat2 posM;","    posM.x = pos.x;","    posM.y = pos.y;","    #if (FXAA_GATHER4_ALPHA == 1)","        #if (FXAA_DISCARD == 0)","            FxaaFloat4 rgbyM = FxaaTexTop(tex, posM);","            #if (FXAA_GREEN_AS_LUMA == 0)","                #define lumaM rgbyM.w","            #else","                #define lumaM rgbyM.y","            #endif","        #endif","        #if (FXAA_GREEN_AS_LUMA == 0)","            FxaaFloat4 luma4A = FxaaTexAlpha4(tex, posM);","            FxaaFloat4 luma4B = FxaaTexOffAlpha4(tex, posM, FxaaInt2(-1, -1));","        #else","            FxaaFloat4 luma4A = FxaaTexGreen4(tex, posM);","            FxaaFloat4 luma4B = FxaaTexOffGreen4(tex, posM, FxaaInt2(-1, -1));","        #endif","        #if (FXAA_DISCARD == 1)","            #define lumaM luma4A.w","        #endif","        #define lumaE luma4A.z","        #define lumaS luma4A.x","        #define lumaSE luma4A.y","        #define lumaNW luma4B.w","        #define lumaN luma4B.z","        #define lumaW luma4B.x","    #else","        FxaaFloat4 rgbyM = FxaaTexTop(tex, posM);","        #if (FXAA_GREEN_AS_LUMA == 0)","            #define lumaM rgbyM.w","        #else","            #define lumaM rgbyM.y","        #endif","        #if (FXAA_GLSL_100 == 1)","          FxaaFloat lumaS = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 0.0, 1.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0, 0.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaN = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 0.0,-1.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0, 0.0), fxaaQualityRcpFrame.xy));","        #else","          FxaaFloat lumaS = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0, 1), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaN = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0,-1), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 0), fxaaQualityRcpFrame.xy));","        #endif","    #endif","/*--------------------------------------------------------------------------*/","    FxaaFloat maxSM = max(lumaS, lumaM);","    FxaaFloat minSM = min(lumaS, lumaM);","    FxaaFloat maxESM = max(lumaE, maxSM);","    FxaaFloat minESM = min(lumaE, minSM);","    FxaaFloat maxWN = max(lumaN, lumaW);","    FxaaFloat minWN = min(lumaN, lumaW);","    FxaaFloat rangeMax = max(maxWN, maxESM);","    FxaaFloat rangeMin = min(minWN, minESM);","    FxaaFloat rangeMaxScaled = rangeMax * fxaaQualityEdgeThreshold;","    FxaaFloat range = rangeMax - rangeMin;","    FxaaFloat rangeMaxClamped = max(fxaaQualityEdgeThresholdMin, rangeMaxScaled);","    FxaaBool earlyExit = range < rangeMaxClamped;","/*--------------------------------------------------------------------------*/","    if(earlyExit)","        #if (FXAA_DISCARD == 1)","            FxaaDiscard;","        #else","            return rgbyM;","        #endif","/*--------------------------------------------------------------------------*/","    #if (FXAA_GATHER4_ALPHA == 0)","        #if (FXAA_GLSL_100 == 1)","          FxaaFloat lumaNW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0,-1.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaSE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0, 1.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0,-1.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0, 1.0), fxaaQualityRcpFrame.xy));","        #else","          FxaaFloat lumaNW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1,-1), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaSE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 1), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1,-1), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 1), fxaaQualityRcpFrame.xy));","        #endif","    #else","        FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(1, -1), fxaaQualityRcpFrame.xy));","        FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 1), fxaaQualityRcpFrame.xy));","    #endif","/*--------------------------------------------------------------------------*/","    FxaaFloat lumaNS = lumaN + lumaS;","    FxaaFloat lumaWE = lumaW + lumaE;","    FxaaFloat subpixRcpRange = 1.0/range;","    FxaaFloat subpixNSWE = lumaNS + lumaWE;","    FxaaFloat edgeHorz1 = (-2.0 * lumaM) + lumaNS;","    FxaaFloat edgeVert1 = (-2.0 * lumaM) + lumaWE;","/*--------------------------------------------------------------------------*/","    FxaaFloat lumaNESE = lumaNE + lumaSE;","    FxaaFloat lumaNWNE = lumaNW + lumaNE;","    FxaaFloat edgeHorz2 = (-2.0 * lumaE) + lumaNESE;","    FxaaFloat edgeVert2 = (-2.0 * lumaN) + lumaNWNE;","/*--------------------------------------------------------------------------*/","    FxaaFloat lumaNWSW = lumaNW + lumaSW;","    FxaaFloat lumaSWSE = lumaSW + lumaSE;","    FxaaFloat edgeHorz4 = (abs(edgeHorz1) * 2.0) + abs(edgeHorz2);","    FxaaFloat edgeVert4 = (abs(edgeVert1) * 2.0) + abs(edgeVert2);","    FxaaFloat edgeHorz3 = (-2.0 * lumaW) + lumaNWSW;","    FxaaFloat edgeVert3 = (-2.0 * lumaS) + lumaSWSE;","    FxaaFloat edgeHorz = abs(edgeHorz3) + edgeHorz4;","    FxaaFloat edgeVert = abs(edgeVert3) + edgeVert4;","/*--------------------------------------------------------------------------*/","    FxaaFloat subpixNWSWNESE = lumaNWSW + lumaNESE;","    FxaaFloat lengthSign = fxaaQualityRcpFrame.x;","    FxaaBool horzSpan = edgeHorz >= edgeVert;","    FxaaFloat subpixA = subpixNSWE * 2.0 + subpixNWSWNESE;","/*--------------------------------------------------------------------------*/","    if(!horzSpan) lumaN = lumaW;","    if(!horzSpan) lumaS = lumaE;","    if(horzSpan) lengthSign = fxaaQualityRcpFrame.y;","    FxaaFloat subpixB = (subpixA * (1.0/12.0)) - lumaM;","/*--------------------------------------------------------------------------*/","    FxaaFloat gradientN = lumaN - lumaM;","    FxaaFloat gradientS = lumaS - lumaM;","    FxaaFloat lumaNN = lumaN + lumaM;","    FxaaFloat lumaSS = lumaS + lumaM;","    FxaaBool pairN = abs(gradientN) >= abs(gradientS);","    FxaaFloat gradient = max(abs(gradientN), abs(gradientS));","    if(pairN) lengthSign = -lengthSign;","    FxaaFloat subpixC = FxaaSat(abs(subpixB) * subpixRcpRange);","/*--------------------------------------------------------------------------*/","    FxaaFloat2 posB;","    posB.x = posM.x;","    posB.y = posM.y;","    FxaaFloat2 offNP;","    offNP.x = (!horzSpan) ? 0.0 : fxaaQualityRcpFrame.x;","    offNP.y = ( horzSpan) ? 0.0 : fxaaQualityRcpFrame.y;","    if(!horzSpan) posB.x += lengthSign * 0.5;","    if( horzSpan) posB.y += lengthSign * 0.5;","/*--------------------------------------------------------------------------*/","    FxaaFloat2 posN;","    posN.x = posB.x - offNP.x * FXAA_QUALITY_P0;","    posN.y = posB.y - offNP.y * FXAA_QUALITY_P0;","    FxaaFloat2 posP;","    posP.x = posB.x + offNP.x * FXAA_QUALITY_P0;","    posP.y = posB.y + offNP.y * FXAA_QUALITY_P0;","    FxaaFloat subpixD = ((-2.0)*subpixC) + 3.0;","    FxaaFloat lumaEndN = FxaaLuma(FxaaTexTop(tex, posN));","    FxaaFloat subpixE = subpixC * subpixC;","    FxaaFloat lumaEndP = FxaaLuma(FxaaTexTop(tex, posP));","/*--------------------------------------------------------------------------*/","    if(!pairN) lumaNN = lumaSS;","    FxaaFloat gradientScaled = gradient * 1.0/4.0;","    FxaaFloat lumaMM = lumaM - lumaNN * 0.5;","    FxaaFloat subpixF = subpixD * subpixE;","    FxaaBool lumaMLTZero = lumaMM < 0.0;","/*--------------------------------------------------------------------------*/","    lumaEndN -= lumaNN * 0.5;","    lumaEndP -= lumaNN * 0.5;","    FxaaBool doneN = abs(lumaEndN) >= gradientScaled;","    FxaaBool doneP = abs(lumaEndP) >= gradientScaled;","    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P1;","    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P1;","    FxaaBool doneNP = (!doneN) || (!doneP);","    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P1;","    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P1;","/*--------------------------------------------------------------------------*/","    if(doneNP) {","        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","        doneN = abs(lumaEndN) >= gradientScaled;","        doneP = abs(lumaEndP) >= gradientScaled;","        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P2;","        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P2;","        doneNP = (!doneN) || (!doneP);","        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P2;","        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P2;","/*--------------------------------------------------------------------------*/","        #if (FXAA_QUALITY_PS > 3)","        if(doneNP) {","            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","            doneN = abs(lumaEndN) >= gradientScaled;","            doneP = abs(lumaEndP) >= gradientScaled;","            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P3;","            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P3;","            doneNP = (!doneN) || (!doneP);","            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P3;","            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P3;","/*--------------------------------------------------------------------------*/","            #if (FXAA_QUALITY_PS > 4)","            if(doneNP) {","                if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                doneN = abs(lumaEndN) >= gradientScaled;","                doneP = abs(lumaEndP) >= gradientScaled;","                if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P4;","                if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P4;","                doneNP = (!doneN) || (!doneP);","                if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P4;","                if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P4;","/*--------------------------------------------------------------------------*/","                #if (FXAA_QUALITY_PS > 5)","                if(doneNP) {","                    if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                    if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                    if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                    if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                    doneN = abs(lumaEndN) >= gradientScaled;","                    doneP = abs(lumaEndP) >= gradientScaled;","                    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P5;","                    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P5;","                    doneNP = (!doneN) || (!doneP);","                    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P5;","                    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P5;","/*--------------------------------------------------------------------------*/","                    #if (FXAA_QUALITY_PS > 6)","                    if(doneNP) {","                        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                        doneN = abs(lumaEndN) >= gradientScaled;","                        doneP = abs(lumaEndP) >= gradientScaled;","                        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P6;","                        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P6;","                        doneNP = (!doneN) || (!doneP);","                        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P6;","                        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P6;","/*--------------------------------------------------------------------------*/","                        #if (FXAA_QUALITY_PS > 7)","                        if(doneNP) {","                            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                            doneN = abs(lumaEndN) >= gradientScaled;","                            doneP = abs(lumaEndP) >= gradientScaled;","                            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P7;","                            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P7;","                            doneNP = (!doneN) || (!doneP);","                            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P7;","                            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P7;","/*--------------------------------------------------------------------------*/","    #if (FXAA_QUALITY_PS > 8)","    if(doneNP) {","        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","        doneN = abs(lumaEndN) >= gradientScaled;","        doneP = abs(lumaEndP) >= gradientScaled;","        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P8;","        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P8;","        doneNP = (!doneN) || (!doneP);","        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P8;","        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P8;","/*--------------------------------------------------------------------------*/","        #if (FXAA_QUALITY_PS > 9)","        if(doneNP) {","            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","            doneN = abs(lumaEndN) >= gradientScaled;","            doneP = abs(lumaEndP) >= gradientScaled;","            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P9;","            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P9;","            doneNP = (!doneN) || (!doneP);","            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P9;","            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P9;","/*--------------------------------------------------------------------------*/","            #if (FXAA_QUALITY_PS > 10)","            if(doneNP) {","                if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                doneN = abs(lumaEndN) >= gradientScaled;","                doneP = abs(lumaEndP) >= gradientScaled;","                if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P10;","                if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P10;","                doneNP = (!doneN) || (!doneP);","                if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P10;","                if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P10;","/*--------------------------------------------------------------------------*/","                #if (FXAA_QUALITY_PS > 11)","                if(doneNP) {","                    if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                    if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                    if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                    if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                    doneN = abs(lumaEndN) >= gradientScaled;","                    doneP = abs(lumaEndP) >= gradientScaled;","                    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P11;","                    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P11;","                    doneNP = (!doneN) || (!doneP);","                    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P11;","                    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P11;","/*--------------------------------------------------------------------------*/","                    #if (FXAA_QUALITY_PS > 12)","                    if(doneNP) {","                        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                        doneN = abs(lumaEndN) >= gradientScaled;","                        doneP = abs(lumaEndP) >= gradientScaled;","                        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P12;","                        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P12;","                        doneNP = (!doneN) || (!doneP);","                        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P12;","                        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P12;","/*--------------------------------------------------------------------------*/","                    }","                    #endif","/*--------------------------------------------------------------------------*/","                }","                #endif","/*--------------------------------------------------------------------------*/","            }","            #endif","/*--------------------------------------------------------------------------*/","        }","        #endif","/*--------------------------------------------------------------------------*/","    }","    #endif","/*--------------------------------------------------------------------------*/","                        }","                        #endif","/*--------------------------------------------------------------------------*/","                    }","                    #endif","/*--------------------------------------------------------------------------*/","                }","                #endif","/*--------------------------------------------------------------------------*/","            }","            #endif","/*--------------------------------------------------------------------------*/","        }","        #endif","/*--------------------------------------------------------------------------*/","    }","/*--------------------------------------------------------------------------*/","    FxaaFloat dstN = posM.x - posN.x;","    FxaaFloat dstP = posP.x - posM.x;","    if(!horzSpan) dstN = posM.y - posN.y;","    if(!horzSpan) dstP = posP.y - posM.y;","/*--------------------------------------------------------------------------*/","    FxaaBool goodSpanN = (lumaEndN < 0.0) != lumaMLTZero;","    FxaaFloat spanLength = (dstP + dstN);","    FxaaBool goodSpanP = (lumaEndP < 0.0) != lumaMLTZero;","    FxaaFloat spanLengthRcp = 1.0/spanLength;","/*--------------------------------------------------------------------------*/","    FxaaBool directionN = dstN < dstP;","    FxaaFloat dst = min(dstN, dstP);","    FxaaBool goodSpan = directionN ? goodSpanN : goodSpanP;","    FxaaFloat subpixG = subpixF * subpixF;","    FxaaFloat pixelOffset = (dst * (-spanLengthRcp)) + 0.5;","    FxaaFloat subpixH = subpixG * fxaaQualitySubpix;","/*--------------------------------------------------------------------------*/","    FxaaFloat pixelOffsetGood = goodSpan ? pixelOffset : 0.0;","    FxaaFloat pixelOffsetSubpix = max(pixelOffsetGood, subpixH);","    if(!horzSpan) posM.x += pixelOffsetSubpix * lengthSign;","    if( horzSpan) posM.y += pixelOffsetSubpix * lengthSign;","    #if (FXAA_DISCARD == 1)","        return FxaaTexTop(tex, posM);","    #else","        return FxaaFloat4(FxaaTexTop(tex, posM).xyz, lumaM);","    #endif","}","/*==========================================================================*/","#endif","","void main() {","  gl_FragColor = FxaaPixelShader(","    vUv,","    vec4(0.0),","    tDiffuse,","    tDiffuse,","    tDiffuse,","    resolution,","    vec4(0.0),","    vec4(0.0),","    vec4(0.0),","    0.75,","    0.166,","    0.0833,","    0.0,","    0.0,","    0.0,","    vec4(0.0)","  );","","  // TODO avoid querying texture twice for same texel","  gl_FragColor.a = texture2D(tDiffuse, vUv).a;","}"].join("\n");var du=n(86);function fu(e,t){var n,i,r,a,o=void 0!==m.a&&v()(e)||e["@@iterator"];if(o)return i=!(n=!0),{s:function(){o=o.call(e)},n:function(){var e=o.next();return n=e.done,e},e:function(e){i=!0,r=e},f:function(){try{n||null==o.return||o.return()}finally{if(i)throw r}}};if(d()(e)||(o=function(e,t){var n;if(e)return"string"==typeof e?pu(e,t):"Map"===(n="Object"===(n=f()(n=Object.prototype.toString.call(e)).call(n,8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?p()(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pu(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return o&&(e=o),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function pu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var mu=n(0);function vu(e,t,i){n(587)("./"+W()+"/mainstyle.scss");var r,a=new Object;function o(e){var t=new mu.BoxGeometry(e.a,e.b,e.c),n=new mu.MeshBasicMaterial({color:"yellow",transparent:!0,opacity:.01});return(t=new mu.Mesh(t,n)).name=e.name,t.position.set(e.point.x,e.point.y,e.point.z),a.sceneOrtho.add(t),t}return a.scene=t,a.init=function(){(r=document.createElement("div")).className="ViewCube",i.appendChild(r);var t=((t=document.createElement("div")).className="homeViewWrapper",t.addEventListener("click",(function(){console.log("回归"),a.cameraGoHome(),e.loadedDoneFun()})),r.appendChild(t),P()),s=(l=window.innerWidth,(s=window.innerHeight)<l?l/s:s/l),l=(a.cameraOrtho=new mu.OrthographicCamera(200*s/-2,200*s/2,200,-140,0,1e4),r.clientWidth),c=(s=r.clientHeight,l=((c=new mu.WebGLRenderer({alpha:!0})).setSize(l,s),c.setClearAlpha(0),a.renderer=c,t.renderer=c,k(r,c),new mu.AmbientLight(16777215,.8)),s=(t.add(l),a.sceneOrtho=t,[]),new mu.TextureLoader,n(588)),u=(l=n(589),t=n(590),n(591)),h=n(592),d=n(593);s.push(new mu.MeshBasicMaterial({color:16777215,map:(new mu.TextureLoader).load(h)})),s.push(new mu.MeshBasicMaterial({color:16777215,map:(new mu.TextureLoader).load(u)})),s.push(new mu.MeshBasicMaterial({color:16777215,map:(new mu.TextureLoader).load(d)})),s.push(new mu.MeshBasicMaterial({color:16777215,map:(new mu.TextureLoader).load(t)})),s.push(new mu.MeshBasicMaterial({color:16777215,map:(new mu.TextureLoader).load(c)})),s.push(new mu.MeshBasicMaterial({color:16777215,map:(new mu.TextureLoader).load(l)})),h=new mu.Mesh(new mu.BoxBufferGeometry(130,130,130,1,1,1),s);a.sceneOrtho.add(h);u=.5*(u=146)-20;var f=[{name:"right",a:30,b:80,c:80,point:new mu.Vector3(u,0,0)},{name:"back",a:80,b:80,c:30,point:new mu.Vector3(0,0,-u)},{name:"left",a:30,b:80,c:80,point:new mu.Vector3(-u,0,0)},{name:"front",a:80,b:80,c:30,point:new mu.Vector3(0,0,u)},{name:"top",a:80,b:30,c:80,point:new mu.Vector3(0,u,0)},{name:"button",a:80,b:30,c:80,point:new mu.Vector3(0,-u,0)}],p=[{name:"top_right_back",a:30,b:30,c:30,point:new mu.Vector3(-u,u,u)},{name:"button_front_right",a:30,b:30,c:30,point:new mu.Vector3(-u,-u,u)},{name:"top_front_right",a:30,b:30,c:30,point:new mu.Vector3(u,u,u)},{name:"button_right_back",a:30,b:30,c:30,point:new mu.Vector3(u,-u,u)},{name:"top_back_left",a:30,b:30,c:30,point:new mu.Vector3(-u,u,-u)},{name:"button_back_left",a:30,b:30,c:30,point:new mu.Vector3(-u,-u,-u)},{name:"top_left_front",a:30,b:30,c:30,point:new mu.Vector3(u,u,-u)},{name:"button_left_front",a:30,b:30,c:30,point:new mu.Vector3(u,-u,-u)}],m=[{name:"top_front",a:30,b:30,c:80,point:new mu.Vector3(u,u,0)},{name:"top_right",a:80,b:30,c:30,point:new mu.Vector3(0,u,u)},{name:"top_back",a:30,b:30,c:80,point:new mu.Vector3(-u,u,0)},{name:"top_left",a:80,b:30,c:30,point:new mu.Vector3(0,u,-u)},{name:"button_front",a:30,b:30,c:80,point:new mu.Vector3(u,-u,0)},{name:"button_right",a:80,b:30,c:30,point:new mu.Vector3(0,-u,u)},{name:"button_back",a:30,b:30,c:80,point:new mu.Vector3(-u,-u,0)},{name:"button_left",a:80,b:30,c:30,point:new mu.Vector3(0,-u,-u)},{name:"front_right",a:30,b:80,c:30,point:new mu.Vector3(u,0,u)},{name:"right_back",a:30,b:80,c:30,point:new mu.Vector3(-u,0,u)},{name:"back_left",a:30,b:80,c:30,point:new mu.Vector3(-u,0,-u)},{name:"left_front",a:30,b:80,c:30,point:new mu.Vector3(u,0,-u)}];a.clickBoundary=[];for(var v=0;v<f.length;v++)a.clickBoundary.push(o(f[v]));for(v=0;v<p.length;v++)a.clickBoundary.push(o(p[v]));for(v=0;v<m.length;v++)a.clickBoundary.push(o(m[v]));r.addEventListener("click",(function(e){var t;(t={}).x=e.offsetX/r.clientWidth*2-1,t.y=-e.offsetY/r.clientHeight*2+1,e=new mu.Raycaster;0<(t=(e.setFromCamera(t,a.cameraOrtho),e.intersectObjects(a.clickBoundary,!1))).length&&a.cameraGoToSpecialView(t[0].object.name)})),r.addEventListener("mousemove",(function(e){var t,n=((e=((n={}).x=e.offsetX/r.clientWidth*2-1,n.y=-e.offsetY/r.clientHeight*2+1,new mu.Raycaster)).setFromCamera(n,a.cameraOrtho),e.intersectObjects(a.clickBoundary,!1)),i=fu(a.clickBoundary);try{for(i.s();!(t=i.n()).done;)t.value.material.opacity=.01}catch(e){i.e(e)}finally{i.f()}0<n.length&&(n[0].object.material.opacity=.2)}))},a.Hide=function(){r.style.display="none"},a.Show=function(){r.style.display="block"},a.renderScene=function(){a.cameraOrtho.quaternion.copy(a.scene.camera.quaternion);var e=new mu.Vector3(0,0,-1).clone().applyMatrix4(a.scene.camera.matrixWorld.clone());e=a.scene.camera.position.clone().sub(e.clone()).setLength(1e3);a.cameraOrtho.position.copy(e),a.cameraOrtho.lookAt(new mu.Vector3),a.renderer.render(a.sceneOrtho,a.cameraOrtho)},a.getBoundingBox=J,a.cameraGoToSpecialView=function(t){console.log(t);var n=new mu.Vector3(0,0,0),i=(t=("top"==t?n=new mu.Vector3(0,1,0):"down"==t?n=new mu.Vector3(0,-1,0):"front"==t?n=new mu.Vector3(0,0,1):"left"==t?n=new mu.Vector3(-1,0,0):"back"==t?n=new mu.Vector3(0,0,-1):"right"==t?n=new mu.Vector3(1,0,0):"top_front"==t?n=new mu.Vector3(1,1,0):"top_left"==t?n=new mu.Vector3(0,1,-1):"top_back"==t?n=new mu.Vector3(-1,1,0):"top_right"==t?n=new mu.Vector3(0,1,1):"down_front"==t?n=new mu.Vector3(1,-1,0):"down_left"==t?n=new mu.Vector3(0,-1,-1):"down_back"==t?n=new mu.Vector3(-1,-1,0):"down_right"==t?n=new mu.Vector3(0,-1,1):"front_right"==t?n=new mu.Vector3(1,0,1):"right_back"==t?n=new mu.Vector3(-1,0,1):"back_left"==t?n=new mu.Vector3(-1,0,-1):"left_front"==t?n=new mu.Vector3(1,0,-1):"top_left_front"==t?n=new mu.Vector3(1,1,-1):"top_front_right"==t?n=new mu.Vector3(1,1,1):"top_right_back"==t?n=new mu.Vector3(-1,1,1):"top_back_left"==t?n=new mu.Vector3(-1,1,-1):"button_left_front"==t?n=new mu.Vector3(1,-1,-1):"button_front_right"==t?n=new mu.Vector3(1,-1,1):"button_right_back"==t?n=new mu.Vector3(-1,1,1):"button_back_left"==t&&(n=new mu.Vector3(-1,-1,-1)),a.getBoundingBox(e))).min,r=(t=t.max,i.clone().add(t.clone()).multiplyScalar(.5));n=r.clone().add(n.multiplyScalar(+t.distanceTo(i)));a.animateCamera(a.scene.camera.position,n,a.scene.controls.target.clone(),r)},a.GetCameraPose=function(){return{quaternion:a.scene.camera.quaternion,position:a.scene.camera.position,target:a.scene.controls.target}},a.ReductionCameraPose=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1e3,n=2<arguments.length?arguments[2]:void 0,i=new mu.Quaternion(e.quaternion._x,e.quaternion._y,e.quaternion._z,e.quaternion._w),r=new mu.Vector3(e.position.x,e.position.y,e.position.z);e=new mu.Vector3(e.target.x,e.target.y,e.target.z);a.animateCamera(a.scene.camera.position,r,a.scene.controls.target.clone(),e,a.scene.camera.quaternion,i,t,(function(e){n&&n(e)}))},a.cameraGoHome=function(){var t=a.getBoundingBox(e),n=t.min.clone().add(t.max.clone()).multiplyScalar(.5),i=new mu.Vector3(1,1,1);i=n.clone().add(i.multiplyScalar(+t.max.distanceTo(t.min)));a.animateCamera(a.scene.camera.position,i,a.scene.controls.target.clone(),n)},a.animateCamera=function(e,t,n,i,r,o){var s,l=6<arguments.length&&void 0!==arguments[6]?arguments[6]:1e3,c=7<arguments.length?arguments[7]:void 0;r&&o?(s=new du.a.Tween({x1:e.x,y1:e.y,z1:e.z,x2:n.x,y2:n.y,z2:n.z,_x:r._x,_y:r._y,_z:r._z,_w:r._w})).to({x1:t.x,y1:t.y,z1:t.z,x2:i.x,y2:i.y,z2:i.z,_x:o._x,_y:o._y,_z:o._z,_w:o._w},l):(s=new du.a.Tween({x1:e.x,y1:e.y,z1:e.z,x2:n.x,y2:n.y,z2:n.z})).to({x1:t.x,y1:t.y,z1:t.z,x2:i.x,y2:i.y,z2:i.z},l),s.onUpdate((function(e){r&&o?(a.scene.camera.quaternion._x=e._x,a.scene.camera.quaternion._y=e._y,a.scene.camera.quaternion._z=e._z,a.scene.camera.quaternion._w=e._w):a.scene.controls.auto=!0,a.scene.camera.position.x=e.x1,a.scene.camera.position.y=e.y1,a.scene.camera.position.z=e.z1,a.scene.controls.target.x=e.x2,a.scene.controls.target.y=e.y2,a.scene.controls.target.z=e.z2,a.scene.controls.update(),a.renderScene()})),s.onComplete((function(e){a.scene.controls.auto=!1,a.renderScene(),c&&c(!0)})),s.easing(du.a.Easing.Cubic.InOut),s.start(),function e(t){requestAnimationFrame(e),s.update()}()},a}function gu(e,t){var n,i,r,a,o=void 0!==m.a&&v()(e)||e["@@iterator"];if(o)return i=!(n=!0),{s:function(){o=o.call(e)},n:function(){var e=o.next();return n=e.done,e},e:function(e){i=!0,r=e},f:function(){try{n||null==o.return||o.return()}finally{if(i)throw r}}};if(d()(e)||(o=function(e,t){var n;if(e)return"string"==typeof e?yu(e,t):"Map"===(n="Object"===(n=f()(n=Object.prototype.toString.call(e)).call(n,8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?p()(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yu(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return o&&(e=o),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function yu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var xu=n(0);function bu(){var e=new Object;return e.ClearFillColor=function(e){for(var t=0;t<e.material.length;t++)e.material[t]=e.cloneMaterialArray[t]},e.SetFillColor=function(e,t,n){for(var i=0;i<t.length;i++)e.material[t[i]]=new xu.MeshStandardMaterial({color:n})},e.HideElements=function(e,t){null==e.hideElements&&(e.hideElements=[]);var n,r=gu(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;e.hideElements.push(a)}}catch(e){r.e(e)}finally{r.f()}var o,s=new xu.MeshStandardMaterial({transparent:!0,opacity:0}),l=gu(t);try{for(l.s();!(o=l.n()).done;)a=o.value,e.material[t[i]]=s}catch(e){l.e(e)}finally{l.f()}},e.ShowElements=function(e,t){null==e.hideElements&&(e.hideElements=[]);var n,r=gu(t);try{for(r.s();!(n=r.n()).done;){var a,s,l=n.value,c=o()(a=e.hideElements).call(a,(function(e){return e==l}));-1!=c&&f()(s=e.hideElements).call(s,c,1)}}catch(e){r.e(e)}finally{r.f()}var u,h=gu(t);try{for(h.s();!(u=h.n()).done;)l=u.value,e.material[t[i]]=e.cloneMaterialArray[t[i]]}catch(e){h.e(e)}finally{h.f()}},e.showAllElements=function(e){e.hideElements=[];for(var t=0;t<e.material.length;t++)e.material[t]=e.cloneMaterialArray[t]},e}tt=n(106);var wu=n.n(tt);function _u(e,t,n){n=!(2<arguments.length&&void 0!==n)||n;var i=e.getElementsByClassName(t)[0];return null==i&&n&&((i=document.createElement("div")).className=t,e.appendChild(i)),i}function Mu(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}function Su(e,t){var n,i,r,a,o=void 0!==m.a&&v()(e)||e["@@iterator"];if(o)return i=!(n=!0),{s:function(){o=o.call(e)},n:function(){var e=o.next();return n=e.done,e},e:function(e){i=!0,r=e},f:function(){try{n||null==o.return||o.return()}finally{if(i)throw r}}};if(d()(e)||(o=function(e,t){var n;if(e)return"string"==typeof e?Eu(e,t):"Map"===(n="Object"===(n=f()(n=Object.prototype.toString.call(e)).call(n,8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?p()(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Eu(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return o&&(e=o),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Eu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Tu=n(0);function Cu(e){n(172)("./"+W()+"/measuresStyle.scss");var t,i,r,a=new Object,s=e.scene.renderer.domElement.parentElement,l=e.scene.camera,u="MeasureLine",h=(a.TotalMeasures=[],a.MouseEvent=null,a.isActive=!1,null),d=null;function f(e){a.isActive||"Delete"===e.key&&t&&((e=_u(s,r,!1))&&e.removeChild(t),x())}function p(e){a.MouseEvent={x:e.clientX,y:e.clientY,event:e}}function m(e){e.preventDefault(),i={x:e.x,y:e.y}}function v(n){var r;x(),0===n.button&&Math.abs(n.x-i.x)<2&&Math.abs(n.y-i.y)<2&&e.CaptureMark.Position&&(n=JSON.parse(F()(e.CaptureMark.Position)),r=new Tu.Vector3(n.worldPoint.x,n.worldPoint.y,n.worldPoint.z),e.scene.controls.origin=r,!n.capture||"point"!==n.capture.type&&"line"!==n.capture.type||(r=new Tu.Vector3(n.capture.val.x,n.capture.val.y,n.capture.val.z)),null==a.currentMeasure.start&&null==a.currentMeasure.end?(a.currentMeasure.chuiDian=null,a.currentMeasure={},a.currentMeasure.start=r,a.currentMeasure.start_normal=new Tu.Vector3(n.capture.faceNormal.x,n.capture.faceNormal.y,n.capture.faceNormal.z),a.currentMeasure.id=Mu()):null!=a.currentMeasure.start&&null==a.currentMeasure.end&&(n=JSON.parse(F()(e.CaptureMark.Position)),r=new Tu.Vector3(n.worldPoint.x,n.worldPoint.y,n.worldPoint.z),!n.capture||"point"!==n.capture.type&&"line"!==n.capture.type||(r=new Tu.Vector3(n.capture.val.x,n.capture.val.y,n.capture.val.z)),console.log(a.currentMeasure.chuiDian),a.currentMeasure.end=a.currentMeasure.chuiDian||r,a.currentMeasure.dis=a.currentMeasure.start.distanceTo(a.currentMeasure.end),a.TotalMeasures.push(JSON.parse(F()(a.currentMeasure))),(n=document.getElementById(a.currentMeasure.id)).className="LineItem Temporary LineFinal Actived",t=n,a.currentMeasure={},d.style.display="none"))}function g(t,n,i){var a,o,l,c,h,d,f;i=2<arguments.length&&void 0!==i&&i;null==t?0<(f=document.getElementsByClassName("LineItem Temporary")).length&&f[0].parentNode.removeChild(f[0]):null==t.start&&null==t.end||(null!=t.start&&null==t.end&&null!=t.temp_end&&(a=ee(t.start.clone(),e.scene.camera),o=ee(t.temp_end.clone(),e.scene.camera)),null!=t.start&&null!=t.end&&(a=ee(t.start.clone(),e.scene.camera),o=ee(t.end.clone(),e.scene.camera)),null!=a&&null!=o&&(f=_u(s,r||u),null==(l=document.getElementById(t.id))&&((l=document.createElement("div")).id=t.id,l.className=i?"LineItem Temporary LineFinal":"LineItem Temporary",l.dataset.dataId=t.id,l.dataset.cameraId=e.scene.camera.type+"_"+e.scene.camera.Id,l.addEventListener("click",(function(e){e.target.dataset.dataId?x(e.target.dataset.dataId):x()})),(i=document.createElement("div")).className="dom_start BoxControllerUI",i.dataset.dataId=t.id,(c=document.createElement("div")).className="dom_end BoxControllerUI",c.dataset.dataId=t.id,(h=document.createElement("div")).className="dom_line",h.dataset.dataId=t.id,(d=document.createElement("div")).className="dom_text",d.dataset.dataId=t.id,d.style.display="none",l.appendChild(i),l.appendChild(c),l.appendChild(h),l.appendChild(d),f.appendChild(l)),c=(i=l.children)[0],h=i[1],d=i[2],f=i[3],c.style.top=a.y+"px",c.style.left=a.x+"px",n?(h.style.top=o.y+"px",h.style.left=o.x+"px",i=Math.sqrt((a.y-o.y)*(a.y-o.y)+(a.x-o.x)*(a.x-o.x)),d.style.top=.5*(a.y+o.y)+"px",d.style.left=.5*(a.x+o.x-i)+"px",d.style.width=i+"px",d.style.transformOrigin=.5*(a.y+o.y)+"px"+.5*(a.x+o.x)+"px ",d.style.transform="rotate("+180*Math.atan((a.y-o.y)/(a.x-o.x))/Math.PI+"deg)",f.style.top=.5*(a.y+o.y)+"px",f.style.left=.5*(a.x+o.x)+"px",f.innerText=Math.round(1e3*t.dis)/1e3+" m",h.style.display="block",d.style.display="block",f.style.display="block"):(h.style.display="none",d.style.display="none",f.style.display="none"),l.dataset.dataInfo=F()(t)))}function y(e){var n,i;"Delete"===e.key&&t&&(n=o()(n=a.TotalMeasures).call(n,(function(e){return e.id===t.id})),c()(i=a.TotalMeasures).call(i,n,1),(i=_u(s,r||u,!1))&&i.removeChild(t),x()),27==e.keyCode&&(document.getElementById(a.currentMeasure.id).remove(),a.currentMeasure={})}function x(e){if((a.isActive||a.PinkClick)&&(i=_u(s,r||u,!1))){var n,i,o=Su(i=i.children);try{for(o.s();!(n=o.n()).done;){var l=n.value;l.id&&(l.className="LineItem Temporary LineFinal")}}catch(e){o.e(e)}finally{o.f()}if(t=null,e){var c,h=Su(i);try{for(h.s();!(c=h.n()).done;){var d=c.value;if(d.id===e){d.className="LineItem Temporary LineFinal Actived",t=d;break}}}catch(e){h.e(e)}finally{h.f()}}}}return a.currentMeasure={start:null,end:null,start_normal:null,end_normal:null,temp_end:null,dis:0,id:"",chuiDian:null},a.PinkClick=!0,a.Active=function(t){a.PinkClick=!0,r=t,e.CaptureMark.Active(),a.models=e.GetAllVisibilityModel(),t=_u(s,u),(d=document.createElement("div")).id="MeasureChuiDianPink",d.style.pointerEvents="none",t.appendChild(d),s.addEventListener("pointerdown",m),s.addEventListener("pointermove",p),s.addEventListener("pointerup",v),window.addEventListener("keydown",y),e.StopClick=!0,function t(){var n;if(h=requestAnimationFrame(t),a.MouseEvent&&(a.MouseEvent,e.CaptureMark.Position?(n=JSON.parse(F()(e.CaptureMark.Position)),null==a.currentMeasure.start&&a.currentMeasure.end,null!=a.currentMeasure.start&&null==a.currentMeasure.end&&(i=function(e,t){var n;if(null!=a.currentMeasure.start)return t=new Tu.Vector3(100*-t.x,100*-t.y,100*-t.z),(n=function(e,t,n){n=n.clone().sub(t.clone());var i=e.clone().sub(t.clone());n=n.clone().normalize(),i=i.clone().normalize(),i=n.dot(i),e=t.distanceTo(e)*i;return t.clone().add(n.clone().setLength(e))}(e,n=a.currentMeasure.start.clone().add(t.clone()),t=a.currentMeasure.start.clone().sub(t.clone()))).distanceTo(e)<.5?(t=ee(new Tu.Vector3(n.x,n.y,n.z),l),d.style.top=t.y+"px",d.style.left=t.x+"px",d.style.display="block",d.style.pointerEvents="none",n):(d.style.top="-1px",d.style.left="-1px",d.style.display="block",d.style.pointerEvents="none",null)}(new Tu.Vector3(n.worldPoint.x,n.worldPoint.y,n.worldPoint.z),new Tu.Vector3(n.capture.faceNormal.x,n.capture.faceNormal.y,n.capture.faceNormal.z)),a.currentMeasure.chuiDian=i||null,a.currentMeasure.temp_end=new Tu.Vector3(n.worldPoint.x,n.worldPoint.y,n.worldPoint.z),a.currentMeasure.dis=a.currentMeasure.start.distanceTo(a.currentMeasure.temp_end)),g(a.currentMeasure,!0)):g(a.currentMeasure,!1)),a.TotalMeasures){var i=a.TotalMeasures;if(0!=i.length){var r,o,c,f,p,m,v,y=_u(s,u),x=Su(i);try{for(x.s();!(r=x.n()).done;){var b,w,_,M,S,E,T,C,A,L,P,k,D,I,R,N,O=r.value;null!=O.start&&(b=new Tu.Vector3(O.start.x,O.start.y,O.start.z),w=new Tu.Vector3(O.end.x,O.end.y,O.end.z),_=new Tu.Vector3((O.start.x+O.end.x)/2,(O.start.y+O.end.y)/2,(O.start.z+O.end.z)/2),M=b.clone().applyMatrix4(l.matrixWorldInverse).applyMatrix4(l.projectionMatrix),S=1<Math.abs(M.x)||1<Math.abs(M.y)||1<Math.abs(M.z),E=w.clone().applyMatrix4(l.matrixWorldInverse).applyMatrix4(l.projectionMatrix),T=1<Math.abs(E.x)||1<Math.abs(E.y)||1<Math.abs(E.z),C=_.clone().applyMatrix4(l.matrixWorldInverse).applyMatrix4(l.projectionMatrix),A=1<Math.abs(C.x)||1<Math.abs(C.y)||1<Math.abs(C.z),L=document.getElementById(O.id),S&&T&&A?L&&(L.style.display="none"):(L&&(L.style.display="block"),o=ee(b,l),c=ee(w,l),null!=o&&null!=c&&(null==(L=document.getElementById(O.id))&&((L=document.createElement("div")).id=O.id,L.className="LineItem",L.dataset.cameraId=e.scene.camera.type+"_"+e.scene.camera.Id,(P=document.createElement("div")).className="dom_start BoxControllerUI",(k=document.createElement("div")).className="dom_end BoxControllerUI",(D=document.createElement("div")).className="dom_line",(I=document.createElement("div")).className="dom_text",I.innerText=Math.round(1e3*O.dis)/1e3+" m",I.style.display="block",L.appendChild(P),L.appendChild(k),L.appendChild(D),L.appendChild(I),y.appendChild(L)),f=(R=L.children)[0],p=R[1],m=R[2],v=R[3],f.style.top=o.y+"px",f.style.left=o.x+"px",p.style.top=c.y+"px",p.style.left=c.x+"px",N=Math.sqrt((o.y-c.y)*(o.y-c.y)+(o.x-c.x)*(o.x-c.x)),m.style.top=.5*(o.y+c.y)+"px",m.style.left=.5*(o.x+c.x-N)+"px",m.style.width=N+"px",m.style.transformOrigin=.5*(o.y+c.y)+"px"+.5*(o.x+c.x)+"px ",m.style.transform="rotate("+180*Math.atan((o.y-c.y)/(o.x-c.x))/Math.PI+"deg)",v.style.top=.5*(o.y+c.y)+"px",v.style.left=.5*(o.x+c.x)+"px",v.innerText=Math.round(1e3*O.dis)/1e3+" m",v.style.display="block")))}}catch(t){x.e(t)}finally{x.f()}(i=document.getElementById(a.currentMeasure.id))&&(o=ee(new Tu.Vector3(a.currentMeasure.start.x,a.currentMeasure.start.y,a.currentMeasure.start.z),l),c=ee(new Tu.Vector3(a.currentMeasure.temp_end.x,a.currentMeasure.temp_end.y,a.currentMeasure.temp_end.z),l),f=(i=i.children)[0],p=i[1],m=i[2],v=i[3],f.style.top=o.y+"px",f.style.left=o.x+"px",p.style.top=c.y+"px",p.style.left=c.x+"px",i=Math.sqrt((o.y-c.y)*(o.y-c.y)+(o.x-c.x)*(o.x-c.x)),m.style.top=.5*(o.y+c.y)+"px",m.style.left=.5*(o.x+c.x-i)+"px",m.style.width=i+"px",m.style.transformOrigin=.5*(o.y+c.y)+"px"+.5*(o.x+c.x)+"px ",m.style.transform="rotate("+180*Math.atan((o.y-c.y)/(o.x-c.x))/Math.PI+"deg)")}}}(),a.isActive=!0},a.DisActive=function(){e.CaptureMark.DisActive();var t=_u(s,u,!1);t&&t.remove(),r&&x(),a.TotalMeasures=[],a.currentMeasure={start:null,end:null,temp_end:null,dis:0,id:""},s.removeEventListener("pointerdown",m),s.removeEventListener("pointermove",p),s.removeEventListener("pointerup",v),window.removeEventListener("keydown",y),e.StopClick=!1,cancelAnimationFrame(h),a.isActive=!1,a.TotalMeasures=[]},a.CreateMeasureDom=function(e,t){r=e,a.PinkClick=!1;var n,i=Su(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;o.start&&(o.start=new Tu.Vector3(o.start.x,o.start.y,o.start.z)),o.start_normal&&(o.start_normal=new Tu.Vector3(o.start_normal.x,o.start_normal.y,o.start_normal.z)),o.temp_end&&(o.temp_end=new Tu.Vector3(o.temp_end.x,o.temp_end.y,o.temp_end.z)),o.end&&(o.end=new Tu.Vector3(o.end.x,o.end.y,o.end.z)),g(o,!0,!0)}}catch(e){i.e(e)}finally{i.f()}},a.OpenDrawDeleteListener=function(){t=null,a.PinkClick=!0,window.addEventListener("keydown",f)},a.CloseDrawDeleteListener=function(){a.PinkClick=!1,window.removeEventListener("keydown",f)},a.SetMeasureLine=function(e,t){e={start:e,end:t,dis:e.distanceTo(t),id:Mu()},a.TotalMeasures.push(e)},a.GetMeasureList=function(){return a.TotalMeasures},a.ReductionMeasureList=function(e){var t,n=Su(e);try{for(n.s();!(t=n.n()).done;){var i=t.value,r=new Tu.Vector3(i.start.x,i.start.y,i.start.z),o=new Tu.Vector3(i.end.x,i.end.y,i.end.z),s=r.distanceTo(o),l={start:r,end:o,dis:s,id:Mu()};a.TotalMeasures.push(l)}}catch(e){n.e(e)}finally{n.f()}},a.MeasurePointPinkOnMouseMove=function(e){},wu()(),a}function Au(e,t){var n,i,r,a,o=void 0!==m.a&&v()(e)||e["@@iterator"];if(o)return i=!(n=!0),{s:function(){o=o.call(e)},n:function(){var e=o.next();return n=e.done,e},e:function(e){i=!0,r=e},f:function(){try{n||null==o.return||o.return()}finally{if(i)throw r}}};if(d()(e)||(o=function(e,t){var n;if(e)return"string"==typeof e?Lu(e,t):"Map"===(n="Object"===(n=f()(n=Object.prototype.toString.call(e)).call(n,8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?p()(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lu(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return o&&(e=o),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Lu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Pu=n(0);function ku(e){n(172)("./"+W()+"/measuresStyle.scss");var t,i,r,a,s=new Object,u=e.scene.renderer.domElement.parentElement,h=e.scene.camera,d="MeasureDistance",f=(s.TotalMeasures=[],s.isActive=!1,null),p=!1,m="temp_"+Mu();function v(e){s.isActive||"Delete"===e.key&&t&&((e=_u(u,a,!1))&&e.removeChild(t),_())}function g(e){e.preventDefault(),i={x:e.x,y:e.y}}function y(t){var n,i,a;p&&(r.style.display="none",i=e.CaptureMark.Position)&&(i=function(t,n){if(0<(t=new Pu.Raycaster(t.clone().add(n.clone().multiplyScalar(.01)),n.clone()).intersectObjects(s.models,!0)).length){var i,r=null,a=Au(t);try{for(a.s();!(i=a.n()).done;){var o=i.value;if("Mesh"!=o.object.TypeName&&"Mesh-Structure"!=o.object.TypeName&&"PipeMesh"!=o.object.TypeName){r=o;break}var l=ue(e,o.object,o.point);if(l&&!1!==o.object.geometry.groups[l.dbid].visibility){r=o;break}}}catch(t){a.e(t)}finally{a.f()}return r}return null}(n=new Pu.Vector3(i.worldPoint.x,i.worldPoint.y,i.worldPoint.z),new Pu.Vector3(i.capture.faceNormal.x,i.capture.faceNormal.y,i.capture.faceNormal.z)),a=document.getElementById(m),null!=i?(a&&(a.style.display="block"),s.currentMeasure={start:n,end:i.point,dis:n.distanceTo(i.point),id:m}):(a&&(a.style.display="none"),s.currentMeasure=null))}function x(t){var n;_(),0===t.button&&Math.abs(t.x-i.x)<2&&Math.abs(t.y-i.y)<2&&(e.CaptureMark.Position&&(n=JSON.parse(F()(e.CaptureMark.Position)),n=new Pu.Vector3(n.worldPoint.x,n.worldPoint.y,n.worldPoint.z),e.scene.controls.origin=n),!p&&e.CaptureMark.Position?(r.style.display="block",r.style.left=t.x+"px",r.style.top=t.y+"px",p=!0):p&&s.currentMeasure&&((n=JSON.parse(F()(s.currentMeasure))).id=Mu(),s.TotalMeasures.push(n),t=_u(u,a||d,!1),(n=document.getElementById(m))&&t.removeChild(n),s.currentMeasure=null,p=!1))}function b(n,i){var r=!(1<arguments.length&&void 0!==i)||i;if(0!=n.length){var o,s=_u(u,a||d),l=Au(n);try{for(l.s();!(o=l.n()).done;){var c,f,p,m,v,g,y,x,b,w,M,S,E,T,C,A,L,P,k,D,I,R,N,O=o.value;null!=O.start&&(c=new Pu.Vector3(O.start.x,O.start.y,O.start.z),f=new Pu.Vector3(O.end.x,O.end.y,O.end.z),p=new Pu.Vector3((O.start.x+O.end.x)/2,(O.start.y+O.end.y)/2,(O.start.z+O.end.z)/2),m=c.clone().applyMatrix4(h.matrixWorldInverse).applyMatrix4(h.projectionMatrix),v=1<Math.abs(m.x)||1<Math.abs(m.y)||1<Math.abs(m.z),g=f.clone().applyMatrix4(h.matrixWorldInverse).applyMatrix4(h.projectionMatrix),y=1<Math.abs(g.x)||1<Math.abs(g.y)||1<Math.abs(g.z),x=p.clone().applyMatrix4(h.matrixWorldInverse).applyMatrix4(h.projectionMatrix),b=1<Math.abs(x.x)||1<Math.abs(x.y)||1<Math.abs(x.z),S=document.getElementById(O.id),v&&y&&b?S&&(S.style.display="none"):(S&&(S.style.display="block"),w=ee(c,h),M=ee(f,h),null!=w&&null!=M&&(null==(S=document.getElementById(O.id))&&((S=document.createElement("div")).id=O.id,E=r?"LineItem Temporary LineFinal Actived":"LineItem Temporary LineFinal",S.className=E,S.dataset.dataId=O.id,S.dataset.cameraId=e.scene.camera.type+"_"+e.scene.camera.Id,S.dataset.dataInfo=F()(O),S.addEventListener("click",(function(e){e.target.dataset.dataId?_(e.target.dataset.dataId):_()})),(T=document.createElement("div")).className="dom_start BoxControllerUI",T.dataset.dataId=O.id,(C=document.createElement("div")).className="dom_end BoxControllerUI",C.dataset.dataId=O.id,(A=document.createElement("div")).className="dom_line",A.dataset.dataId=O.id,(L=document.createElement("div")).className="dom_text",L.dataset.dataId=O.id,L.innerText=Math.round(1e3*O.dis)/1e3+" m",S.appendChild(T),S.appendChild(C),S.appendChild(A),S.appendChild(L),t=S,s.appendChild(S)),k=(P=S.children)[0],D=P[1],I=P[2],R=P[3],k.style.top=w.y+"px",k.style.left=w.x+"px",D.style.top=M.y+"px",D.style.left=M.x+"px",N=Math.sqrt((w.y-M.y)*(w.y-M.y)+(w.x-M.x)*(w.x-M.x)),I.style.top=.5*(w.y+M.y)+"px",I.style.left=.5*(w.x+M.x-N)+"px",I.style.width=N+"px",I.style.transformOrigin=.5*(w.y+M.y)+"px"+.5*(w.x+M.x)+"px ",I.style.transform="rotate("+180*Math.atan((w.y-M.y)/(w.x-M.x))/Math.PI+"deg)",R.style.top=.5*(w.y+M.y)+"px",R.style.left=.5*(w.x+M.x)+"px",R.innerText=Math.round(1e3*O.dis)/1e3+" m")))}}catch(n){l.e(n)}finally{l.f()}}}function w(e){var n;"Delete"===e.key&&t&&(e=o()(e=s.TotalMeasures).call(e,(function(e){return e.id===t.id})),c()(n=s.TotalMeasures).call(n,e,1),(n=_u(u,a||d,!1))&&n.removeChild(t),_())}function _(e){if((s.isActive||s.PinkClick)&&(i=_u(u,a||d,!1))){var n,i,r=Au(i=i.children);try{for(r.s();!(n=r.n()).done;){var o=n.value;o.id&&(o.className="LineItem Temporary LineFinal")}}catch(e){r.e(e)}finally{r.f()}if(t=null,e){var l,c=Au(i);try{for(c.s();!(l=c.n()).done;){var h=l.value;if(h.id===e){h.className="LineItem Temporary LineFinal Actived",t=h;break}}}catch(e){c.e(e)}finally{c.f()}}}}return s.currentMeasure,s.PinkClick=!0,s.Active=function(t){var n;s.PinkClick=!0,a=t,e.CaptureMark.Active(),s.models=e.GetAllVisibilityModel(),t=_u(u,t=d),(n=document.createElement("div")).className="PointMark",t.appendChild(n),r=n,u.addEventListener("pointerdown",g),u.addEventListener("pointermove",y),u.addEventListener("pointerup",x),window.addEventListener("keydown",w),e.StopClick=!0,function t(){var n,i,r,o,l,c;f=requestAnimationFrame(t),s.currentMeasure&&s.currentMeasure.start&&s.currentMeasure.end&&s.currentMeasure.dis&&(r=_u(u,a||d),null==(o=document.getElementById(s.currentMeasure.id))&&((o=document.createElement("div")).id=s.currentMeasure.id,o.className="LineItem",(l=document.createElement("div")).className="dom_start BoxControllerUI",(c=document.createElement("div")).className="dom_end BoxControllerUI",(n=document.createElement("div")).className="dom_line",(i=document.createElement("div")).className="dom_text",i.innerText=Math.round(1e3*s.currentMeasure.dis)/1e3+" m",o.appendChild(l),o.appendChild(c),o.appendChild(n),o.appendChild(i),r.appendChild(o)),c=(l=o.children)[0],n=l[1],i=l[2],r=l[3],o=ee(s.currentMeasure.start.clone(),e.scene.camera),l=ee(s.currentMeasure.end.clone(),e.scene.camera),c.style.top=o.y+"px",c.style.left=o.x+"px",n.style.top=l.y+"px",n.style.left=l.x+"px",c=Math.sqrt((o.y-l.y)*(o.y-l.y)+(o.x-l.x)*(o.x-l.x)),i.style.top=.5*(o.y+l.y)+"px",i.style.left=.5*(o.x+l.x-c)+"px",i.style.width=c+"px",i.style.transformOrigin=.5*(o.y+l.y)+"px"+.5*(o.x+l.x)+"px ",i.style.transform="rotate("+180*Math.atan((o.y-l.y)/(o.x-l.x))/Math.PI+"deg)",r.style.top=.5*(o.y+l.y)+"px",r.style.left=.5*(o.x+l.x)+"px",r.innerText=Math.round(1e3*s.currentMeasure.dis)/1e3+" m"),s.TotalMeasures&&b(s.TotalMeasures)}(),s.isActive=!0},s.DisActive=function(){e.CaptureMark.DisActive(),s.TotalMeasures=[];var t=_u(u,d,!1);t&&t.remove(),a&&_(),u.removeEventListener("pointerdown",g),u.removeEventListener("pointermove",y),u.removeEventListener("pointerup",x),window.removeEventListener("keydown",w),e.StopClick=!1,cancelAnimationFrame(f),s.isActive=!1,s.TotalMeasures=[]},s.CreateMeasureDom=function(e,t){a=e,s.PinkClick=!1,l()(t).call(t,(function(e){return e.start&&(e.start=new Pu.Vector3(e.start.x,e.start.y,e.start.z)),e.end&&(e.end=new Pu.Vector3(e.end.x,e.end.y,e.end.z)),e})),b(t,!1)},s.OpenDrawDeleteListener=function(){t=null,s.PinkClick=!0,window.addEventListener("keydown",v)},s.CloseDrawDeleteListener=function(){s.PinkClick=!1,window.removeEventListener("keydown",v)},s}function Du(e,t){var n,i,r,a,o=void 0!==m.a&&v()(e)||e["@@iterator"];if(o)return i=!(n=!0),{s:function(){o=o.call(e)},n:function(){var e=o.next();return n=e.done,e},e:function(e){i=!0,r=e},f:function(){try{n||null==o.return||o.return()}finally{if(i)throw r}}};if(d()(e)||(o=function(e,t){var n;if(e)return"string"==typeof e?Iu(e,t):"Map"===(n="Object"===(n=f()(n=Object.prototype.toString.call(e)).call(n,8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?p()(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Iu(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return o&&(e=o),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Iu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Ru=n(0);function Nu(e){var t,n,i,r=new Object,a=e.scene.renderer.domElement.parentElement,s=e.scene.camera,l="MeasurePoint",u=(r.TotalMeasures=[],r.isActive=!1,null);function h(e){r.isActive||"Delete"===e.key&&t&&((e=_u(a,i,!1))&&e.removeChild(t),v())}function d(e){e.preventDefault(),n={x:e.x,y:e.y}}function f(t){var i;v(),0===t.button&&Math.abs(t.x-n.x)<2&&Math.abs(t.y-n.y)<2&&e.CaptureMark.Position&&(t=JSON.parse(F()(e.CaptureMark.Position)),i=new Ru.Vector3(t.worldPoint.x,t.worldPoint.y,t.worldPoint.z),i={position:e.scene.controls.origin=i,id:Mu()},!t.capture||"point"!==t.capture.type&&"line"!==t.capture.type||(i.position=new Ru.Vector3(t.capture.val.x,t.capture.val.y,t.capture.val.z)),r.TotalMeasures.push(JSON.parse(F()(i))),p(i))}function p(n,r){r=!(1<arguments.length&&void 0!==r)||r;var o=_u(a,i||l),s=document.createElement("div"),c=(o=((r=(s.className=r?"PointItem Actived":"PointItem",s.dataset.dataId=n.id,s.dataset.dataInfo=F()(n),s.dataset.cameraId=e.scene.camera.type+"_"+e.scene.camera.Id,(t=s).id=n.id,o.appendChild(s),document.createElement("div"))).className="ItemContain",r.dataset.dataId=n.id,s.appendChild(r),s.addEventListener("click",(function(e){e.target.dataset.dataId?v(e.target.dataset.dataId):v()})),document.createElement("div")),(c=((c=((r=(o.className="PointXYZ",o.dataset.dataId=n.id,r.appendChild(o),document.createElement("div"))).className="Point PointX",r.dataset.dataId=n.id,document.createElement("span"))).className="Span",c.dataset.dataId=n.id,c.innerText="X",r.appendChild(c),document.createElement("span"))).className="Text",c.dataset.dataId=n.id,c.innerText=Math.round(1e3*-n.position.z)/1e3+" m",r.appendChild(c),o.appendChild(r),document.createElement("div"));(r=((r=(c.className="Point PointY",c.dataset.dataId=n.id,document.createElement("span"))).className="Span",r.dataset.dataId=n.id,r.innerText="Y",c.appendChild(r),document.createElement("span"))).className="Text",r.dataset.dataId=n.id,r.innerText=Math.round(1e3*n.position.x)/1e3+" m",c.appendChild(r),o.appendChild(c),r=document.createElement("div"),(c=((c=(r.className="Point PointZ",r.dataset.dataId=n.id,document.createElement("span"))).className="Span",c.dataset.dataId=n.id,c.innerText="Z",r.appendChild(c),document.createElement("span"))).className="Text",c.dataset.dataId=n.id,c.innerText=Math.round(1e3*n.position.y)/1e3+" m",r.appendChild(c),o.appendChild(r),c=ee(n.position,e.scene.camera);s.style.top=c.y-5+"px",s.style.left=c.x-5+"px"}function m(e){var n;"Delete"===e.key&&t&&(e=o()(e=r.TotalMeasures).call(e,(function(e){return e.id===t.id})),c()(n=r.TotalMeasures).call(n,e,1),(n=_u(a,i||l,!1))&&n.removeChild(t),v())}function v(e){if((r.isActive||r.PinkClick)&&(o=_u(a,i||l,!1))){var n,o,s=Du(o=o.children);try{for(s.s();!(n=s.n()).done;){var c=n.value;c.id&&(c.className="PointItem")}}catch(e){s.e(e)}finally{s.f()}if(t=null,e){var u,h=Du(o);try{for(h.s();!(u=h.n()).done;){var d=u.value;if(d.id===e){d.className="PointItem Actived",t=d;break}}}catch(e){h.e(e)}finally{h.f()}}}}return r.PinkClick=!0,r.Active=function(t){r.PinkClick=!0,i=t,e.CaptureMark.Active(),a.addEventListener("pointerdown",d),a.addEventListener("pointerup",f),window.addEventListener("keydown",m),e.StopClick=!0,function t(){if(u=requestAnimationFrame(t),r.TotalMeasures){var n=r.TotalMeasures;if(null!=e.scene){var i,a=Du(n);try{for(a.s();!(i=a.n()).done;){var o,l,c,h=i.value,d=document.getElementById(h.id),f=new Ru.Vector3(h.position.x,h.position.y,h.position.z).applyMatrix4(s.matrixWorldInverse).applyMatrix4(s.projectionMatrix);1<Math.abs(f.x)||1<Math.abs(f.y)||1<Math.abs(f.z)?d&&(d.style.display="none"):(d&&(d.style.display="block"),null!=(o=ee(new Ru.Vector3(h.position.x,h.position.y,h.position.z),e.scene.camera))&&(l=o.y,c=o.x,d.style.top=l+"px",d.style.left=c+"px"))}}catch(t){a.e(t)}finally{a.f()}}}}(),r.isActive=!0},r.DisActive=function(){e.CaptureMark.DisActive();var t=_u(a,l,!1);t&&t.remove(),i&&v(),a.removeEventListener("pointerdown",d),a.removeEventListener("pointerup",f),window.removeEventListener("keydown",m),e.StopClick=!1,cancelAnimationFrame(u),r.isActive=!1,r.TotalMeasures=[]},r.CreateMeasureDom=function(e,t){i=e,r.PinkClick=!1;var n,a=Du(t);try{for(a.s();!(n=a.n()).done;){var o=n.value;o.position=new Ru.Vector3(o.position.x,o.position.y,o.position.z),p(o,!1)}}catch(e){a.e(e)}finally{a.f()}},r.OpenDrawDeleteListener=function(){t=null,r.PinkClick=!0,window.addEventListener("keydown",h)},r.CloseDrawDeleteListener=function(){r.PinkClick=!1,window.removeEventListener("keydown",h)},r}function Ou(e,t){var n,i,r,a,o=void 0!==m.a&&v()(e)||e["@@iterator"];if(o)return i=!(n=!0),{s:function(){o=o.call(e)},n:function(){var e=o.next();return n=e.done,e},e:function(e){i=!0,r=e},f:function(){try{n||null==o.return||o.return()}finally{if(i)throw r}}};if(d()(e)||(o=function(e,t){var n;if(e)return"string"==typeof e?Fu(e,t):"Map"===(n="Object"===(n=f()(n=Object.prototype.toString.call(e)).call(n,8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?p()(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fu(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return o&&(e=o),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Fu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var zu=n(0);function Bu(e){n(172)("./"+W()+"/measuresStyle.scss");var t,i,r,a=new Object,s=e.scene.renderer.domElement.parentElement,u=e.scene.renderer.domElement,h=e.scene.camera,d="MeasureHeight",f=(a.TotalMeasures=[],a.isActive=!1,null),p=[{name:"HType",checked:"0",children:[{label:"底部标高",value:"0"},{label:"中心标高",value:"1"},{label:"顶部标高",value:"2"}]},{name:"VerticalType",checked:"0",children:[{label:"竖直净高",value:"0"},{label:"垂直净高",value:"1"}]},{name:"Direction",checked:"1",children:[{label:"向上",value:"0"},{label:"向下",value:"1"}]}];function m(e){a.isActive||"Delete"===e.key&&t&&((e=_u(s,r,!1))&&e.removeChild(t),w())}function v(e){e.preventDefault(),i={x:e.x,y:e.y}}function g(){}function y(t){if(w(),0===t.button&&Math.abs(t.x-i.x)<2&&Math.abs(t.y-i.y)<2){var n=null,r=new zu.Raycaster;if(0<(t=((h=new zu.Vector2).x=(t.clientX-e.scene.camera.viewport.x)/e.scene.camera.viewport.z*2-1,h.y=-(t.clientY-e.scene.camera.viewport.y)/e.scene.camera.viewport.w*2+1,r.setFromCamera(h,e.scene.camera),r.intersectObjects(a.models,!0))).length){e.scene.controls.origin=t[0].point;var o,s=Ou(t);try{for(s.s();!(o=s.n()).done;){var l=o.value;if("Mesh"==l.object.TypeName||"Mesh-Structure"==l.object.TypeName||"PipeMesh"==l.object.TypeName){var c=ue(e,l.object,l.point);if(c&&!1!==l.object.geometry.groups[c.dbid].visibility){n={dbid:c.dbid,name:c.name,glb:l.object.url,TypeName:l.object.TypeName,basePath:c.basePath,relativePath:c.relativePath,indexs:[l.object.index,c.dbid]};break}}else if(("InstancedMesh"==l.object.TypeName||"InstancedMesh-Pipe"==l.object.TypeName)&&!he(l.object.ElementInfos[l.instanceId].min,l.object.ElementInfos[l.instanceId].max,l.object.material.clippingPlanes)){n={dbid:l.instanceId,name:l.object.ElementInfos[l.instanceId].name,glb:l.object.url,TypeName:l.object.TypeName,basePath:l.object.ElementInfos[0].basePath,relativePath:l.object.ElementInfos[0].relativePath,indexs:[l.object.index,l.instanceId]};break}}}catch(t){s.e(t)}finally{s.f()}}if(null!=n&&null!=n.glb){var u=e.scene.children[n.indexs[0]].ElementInfos[n.dbid],h={HType:p[0].checked,VerticalType:p[1].checked,Direction:p[2].checked};if(null!=(r=t?t[0]:null)){var d,f,m=r;switch(h.HType){case"0":f=new zu.Vector3(m.point.x,u.min.y,m.point.z);break;case"1":f=new zu.Vector3(m.point.x,u.center.y,m.point.z);break;case"2":f=new zu.Vector3(m.point.x,u.max.y,m.point.z)}switch(h.Direction){case"0":d=new zu.Vector3(0,1,0);break;case"1":d=new zu.Vector3(0,-1,0)}if("1"==h.VerticalType){if(!(t=_(f,d)))return;d=t[0].face.normal.clone().multiplyScalar(-1)}var v=_(f,d);if(v)for(var g=0;g<v.length;g++){var y=v[g].point;if(!(y.y>=u.min.y-.3&&y.y<=u.max.y+.3)){y={start:f,end:y,dis:f.distanceTo(y),id:Mu()},a.TotalMeasures.push(y),e.CurrentSelect=null;break}}}}}}function x(n,i){var a=!(1<arguments.length&&void 0!==i)||i;if(0!=n.length){var o,l=_u(s,r||d),c=Ou(n);try{for(c.s();!(o=c.n()).done;){var u,f,p,m,v,g,y,x,b,_,M,S,E,T,C,A,L,P,k,D,I,R,N,O=o.value;null!=O.start&&(u=new zu.Vector3(O.start.x,O.start.y,O.start.z),f=new zu.Vector3(O.end.x,O.end.y,O.end.z),p=new zu.Vector3((O.start.x+O.end.x)/2,(O.start.y+O.end.y)/2,(O.start.z+O.end.z)/2),m=u.clone().applyMatrix4(h.matrixWorldInverse).applyMatrix4(h.projectionMatrix),v=1<Math.abs(m.x)||1<Math.abs(m.y)||1<Math.abs(m.z),g=f.clone().applyMatrix4(h.matrixWorldInverse).applyMatrix4(h.projectionMatrix),y=1<Math.abs(g.x)||1<Math.abs(g.y)||1<Math.abs(g.z),x=p.clone().applyMatrix4(h.matrixWorldInverse).applyMatrix4(h.projectionMatrix),b=1<Math.abs(x.x)||1<Math.abs(x.y)||1<Math.abs(x.z),S=document.getElementById(O.id),v&&y&&b?S&&(S.style.display="none"):(S&&(S.style.display="block"),_=ee(u,h),M=ee(f,h),null!=_&&null!=M&&(null==(S=document.getElementById(O.id))&&((S=document.createElement("div")).id=O.id,E=a?"LineItem Temporary LineFinal Actived":"LineItem Temporary LineFinal",S.className=E,S.dataset.dataId=O.id,S.dataset.cameraId=e.scene.camera.type+"_"+e.scene.camera.Id,S.dataset.dataInfo=F()(O),S.addEventListener("click",(function(e){e.target.dataset.dataId?w(e.target.dataset.dataId):w()})),(T=document.createElement("div")).className="dom_start BoxControllerUI",T.dataset.dataId=O.id,(C=document.createElement("div")).className="dom_end BoxControllerUI",C.dataset.dataId=O.id,(A=document.createElement("div")).className="dom_line",A.dataset.dataId=O.id,(L=document.createElement("div")).className="dom_text",L.dataset.dataId=O.id,L.innerText=Math.round(1e3*O.dis)/1e3+" m",S.appendChild(T),S.appendChild(C),S.appendChild(A),S.appendChild(L),t=S,l.appendChild(S)),k=(P=S.children)[0],D=P[1],I=P[2],R=P[3],k.style.top=_.y+"px",k.style.left=_.x+"px",D.style.top=M.y+"px",D.style.left=M.x+"px",N=Math.sqrt((_.y-M.y)*(_.y-M.y)+(_.x-M.x)*(_.x-M.x)),I.style.top=.5*(_.y+M.y)+"px",I.style.left=.5*(_.x+M.x-N)+"px",I.style.width=N+"px",I.style.transformOrigin=.5*(_.y+M.y)+"px"+.5*(_.x+M.x)+"px ",I.style.transform="rotate("+180*Math.atan((_.y-M.y)/(_.x-M.x))/Math.PI+"deg)",R.style.top=.5*(_.y+M.y)+"px",R.style.left=.5*(_.x+M.x)+"px",R.innerText=Math.round(1e3*O.dis)/1e3+" m")))}}catch(n){c.e(n)}finally{c.f()}}}function b(e){var n;"Delete"===e.key&&t&&(e=o()(e=a.TotalMeasures).call(e,(function(e){return e.id===t.id})),c()(n=a.TotalMeasures).call(n,e,1),(n=_u(s,r||d,!1))&&n.removeChild(t),w())}function w(e){if((a.isActive||a.PinkClick)&&(i=_u(s,r||d,!1))){var n,i,o=Ou(i=i.children);try{for(o.s();!(n=o.n()).done;){var l=n.value;l.id&&(l.className="LineItem Temporary LineFinal")}}catch(e){o.e(e)}finally{o.f()}if(t=null,e){var c,u=Ou(i);try{for(u.s();!(c=u.n()).done;){var h=c.value;if(h.id===e){h.className="LineItem Temporary LineFinal Actived",t=h;break}}}catch(e){u.e(e)}finally{u.f()}}}}function _(t,n){t=new zu.Raycaster(t.clone().add(n.clone().multiplyScalar(.01)),n.clone()).intersectObjects(a.models);var i,r=[],o=(console.log(t),Ou(t));try{for(o.s();!(i=o.n()).done;){var s,l=i.value;("Mesh"!=l.object.TypeName&&"Mesh-Structure"!=l.object.TypeName&&"PipeMesh"!=l.object.TypeName||(s=ue(e,l.object,l.point))&&!1!==l.object.geometry.groups[s.dbid].visibility)&&r.push(l)}}catch(t){o.e(t)}finally{o.f()}return 0<r.length?r:null}return a.PinkClick=!0,a.Active=function(t){a.PinkClick=!0,r=t;t=s;for(var n=document.createElement("div"),i=(n.className="HeightMeasuePanel",function(e){var t,i=p[e],r=document.createElement("div"),a=(r.className="form_item",Ou(i.children));try{for(a.s();!(t=a.n()).done;)!function(){var n=t.value,a=document.createElement("label"),o=(a.className="label",document.createElement("input")),s=(o.className="radio_input",o.type="radio",o.name=i.name,o.value=n.value,o.checked=i.checked===n.value,o.addEventListener("change",(function(){p[e].checked=o.value})),document.createElement("span"));s.className="label_txt",s.innerText=n.label,a.appendChild(o),a.appendChild(s),r.appendChild(a)}()}catch(e){a.e(e)}finally{a.f()}n.appendChild(r)}),o=0;o<p.length;o++)i(o);["<div style='margin-top: 15px;'>","<label style='margin-left: 10px;'><input class='measure_HType radio_input' type='radio' name='HType' checked='true' value='0'>底部标高</label>","<label style='margin-left: 10px;'><input class='measure_HType radio_input' type='radio' name='HType' value='1'>中心标高</label>","<label style='margin-left: 10px;'><input class='measure_HType radio_input' type='radio' name='HType' value='2'>顶部标高</label>","</div>","<div style='margin-top: 15px;'>","<label style='margin-left: 10px;'><input class='measure_VerticalType radio_input' type='radio' checked='true' name='VerticalType' value='0'>竖直净高</label>","<label style='margin-left: 10px;'><input class='measure_VerticalType radio_input' type='radio' name='VerticalType' value='1'>垂直净高</label>","</div>","<div style='margin-top: 15px;'>","<label style='margin-left: 10px;'><input class='measure_Direction radio_input' type='radio' name='Direction' value='0'>向上</label>","<label style='margin-left: 38px;'><input class='measure_Direction radio_input' type='radio' checked='true' name='Direction' value='1'>向下</label>","</div>"].join(""),t.appendChild(n),a.models=e.GetAllVisibilityModel(),e.ResetSelectedModels_("highlight",[],!0),u.addEventListener("pointerdown",v),u.addEventListener("pointermove",g),u.addEventListener("pointerup",y),window.addEventListener("keydown",b),e.StopClick=!0,function e(){f=requestAnimationFrame(e),a.TotalMeasures&&x(a.TotalMeasures)}(),a.isActive=!0},a.DisActive=function(){var t;u.removeEventListener("pointerdown",v),u.removeEventListener("pointermove",g),u.removeEventListener("pointerup",y),window.removeEventListener("keydown",b),e.StopClick=!1,cancelAnimationFrame(f),(t=((t=_u(s,"HeightMeasuePanel",!1))&&t.remove(),_u(s,d,!1)))&&t.remove(),r&&w(),a.isActive=!1,a.TotalMeasures=[]},a.CreateMeasureDom=function(e,t){r=e,a.PinkClick=!1,l()(t).call(t,(function(e){return e.start&&(e.start=new zu.Vector3(e.start.x,e.start.y,e.start.z)),e.end&&(e.end=new zu.Vector3(e.end.x,e.end.y,e.end.z)),e})),x(t,!1)},a.OpenDrawDeleteListener=function(){t=null,a.PinkClick=!0,window.addEventListener("keydown",m)},a.CloseDrawDeleteListener=function(){a.PinkClick=!1,window.removeEventListener("keydown",m)},a}function Hu(e,t){var n,i,r,a,o=void 0!==m.a&&v()(e)||e["@@iterator"];if(o)return i=!(n=!0),{s:function(){o=o.call(e)},n:function(){var e=o.next();return n=e.done,e},e:function(e){i=!0,r=e},f:function(){try{n||null==o.return||o.return()}finally{if(i)throw r}}};if(d()(e)||(o=function(e,t){var n;if(e)return"string"==typeof e?Uu(e,t):"Map"===(n="Object"===(n=f()(n=Object.prototype.toString.call(e)).call(n,8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?p()(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Uu(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return o&&(e=o),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Uu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Vu=n(0);function Gu(e){var t,n,i,r=new Object,a=e.scene.renderer.domElement.parentElement,s=e.scene.camera,l="MeasureElevationHeight",u=(r.TotalMeasures=[],r.isActive=!1,null);function h(e){r.isActive||"Delete"===e.key&&t&&((e=_u(a,i,!1))&&e.removeChild(t),v())}function d(e){e.preventDefault(),n={x:e.x,y:e.y}}function f(t){var i;v(),0===t.button&&Math.abs(t.x-n.x)<2&&Math.abs(t.y-n.y)<2&&e.CaptureMark.Position&&(t=JSON.parse(F()(e.CaptureMark.Position)),i=new Vu.Vector3(t.worldPoint.x,t.worldPoint.y,t.worldPoint.z),i={position:e.scene.controls.origin=i,id:Mu()},!t.capture||"point"!==t.capture.type&&"line"!==t.capture.type||(i.position=new Vu.Vector3(t.capture.val.x,t.capture.val.y,t.capture.val.z)),r.TotalMeasures.push(JSON.parse(F()(i))),p(i))}function p(n,r){r=!(1<arguments.length&&void 0!==r)||r;var o=_u(a,i||l),s=document.createElement("div"),c=(r=((r=(s.className=r?"HeightItem Actived":"HeightItem",s.dataset.dataInfo=F()(n),s.dataset.dataId=n.id,s.dataset.cameraId=e.scene.camera.type+"_"+e.scene.camera.Id,s.id=n.id,t=s,document.createElement("div"))).className="Box",r.dataset.dataId=n.id,r.innerText=Math.floor(1e3*n.position.y)/1e3+"m",s.appendChild(r),"http://www.w3.org/2000/svg"),document.createElementNS(r,"svg"));(r=(c.setAttribute("style","width:65px;height:13px;display:block;pointer-events:none;"),c.dataset.dataId=n.id,document.createElementNS(r,"polygon"))).setAttribute("points","0,0 65,0 26,0 13,13 0,0"),r.setAttribute("style","fill:none;stroke:rgba(0,155,255,1);stroke-width:2;pointer-events:none;"),c.appendChild(r),s.appendChild(c),o.appendChild(s),s.addEventListener("click",(function(e){e.target.dataset.dataId?v(e.target.dataset.dataId):v()})),r=ee(n.position,e.scene.camera);s.style.top=r.y-40+"px",s.style.left=r.x-13+"px"}function m(e){var n;"Delete"===e.key&&t&&(e=o()(e=r.TotalMeasures).call(e,(function(e){return e.id===t.id})),c()(n=r.TotalMeasures).call(n,e,1),(n=_u(a,i||l,!1))&&n.removeChild(t),v())}function v(e){if((r.isActive||r.PinkClick)&&(o=_u(a,i||l,!1))){var n,o,s=Hu(o=o.children);try{for(s.s();!(n=s.n()).done;){var c=n.value;c.id&&(c.className="HeightItem")}}catch(e){s.e(e)}finally{s.f()}if(t=null,e){var u,h=Hu(o);try{for(h.s();!(u=h.n()).done;){var d=u.value;if(d.id===e){d.className="HeightItem Actived",t=d;break}}}catch(e){h.e(e)}finally{h.f()}}}}return r.PinkClick=!0,r.Active=function(t){r.PinkClick=!0,i=t,e.CaptureMark.Active(),a.addEventListener("pointerdown",d),a.addEventListener("pointerup",f),window.addEventListener("keydown",m),e.StopClick=!0,function t(){if(u=requestAnimationFrame(t),r.TotalMeasures){var n=r.TotalMeasures;if(null!=e.scene){var i,a=Hu(n);try{for(a.s();!(i=a.n()).done;){var o,l,c,h=i.value,d=document.getElementById(h.id),f=new Vu.Vector3(h.position.x,h.position.y,h.position.z).applyMatrix4(s.matrixWorldInverse).applyMatrix4(s.projectionMatrix);1<Math.abs(f.x)||1<Math.abs(f.y)||1<Math.abs(f.z)?d&&(d.style.display="none"):(d&&(d.style.display="block"),null!=(o=ee(new Vu.Vector3(h.position.x,h.position.y,h.position.z),e.scene.camera))&&(l=o.y,c=o.x,d.style.top=l-40+"px",d.style.left=c-13+"px"))}}catch(t){a.e(t)}finally{a.f()}}}}(),r.isActive=!0},r.DisActive=function(){e.CaptureMark.DisActive();var t=_u(a,l,!1);t&&t.remove(),i&&v(),a.removeEventListener("pointerdown",d),a.removeEventListener("pointerup",f),window.removeEventListener("keydown",m),e.StopClick=!1,cancelAnimationFrame(u),r.isActive=!1,r.TotalMeasures=[]},r.CreateMeasureDom=function(e,t){i=e,r.PinkClick=!1;var n,a=Hu(t);try{for(a.s();!(n=a.n()).done;){var o=n.value;o.position=new Vu.Vector3(o.position.x,o.position.y,o.position.z),p(o,!1)}}catch(e){a.e(e)}finally{a.f()}},r.OpenDrawDeleteListener=function(){t=null,r.PinkClick=!0,window.addEventListener("keydown",h)},r.CloseDrawDeleteListener=function(){r.PinkClick=!1,window.removeEventListener("keydown",h)},r}function ju(){var e=new Object;return e.GetSelectModels=function(){},e}function Wu(e,t){var n,i,r,a,o=void 0!==m.a&&v()(e)||e["@@iterator"];if(o)return i=!(n=!0),{s:function(){o=o.call(e)},n:function(){var e=o.next();return n=e.done,e},e:function(e){i=!0,r=e},f:function(){try{n||null==o.return||o.return()}finally{if(i)throw r}}};if(d()(e)||(o=function(e,t){var n;if(e)return"string"==typeof e?Xu(e,t):"Map"===(n="Object"===(n=f()(n=Object.prototype.toString.call(e)).call(n,8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?p()(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xu(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return o&&(e=o),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Xu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}n(0);var qu=n(0);function Yu(e,t){n(597)("./"+W()+"/multiview.scss");var i,r,a,l=new Object,u=e.scene.renderer.domElement.parentElement,h=fe(e.scene.renderer.domElement);return null==e.ArrayCamera&&(i=new qu.ArrayCamera([t]),t.IsActive=!0,t.IsVisibility=!0,t.Id="a",t.ControlType="D3",r=e.scene.renderer.domElement.width,a=e.scene.renderer.domElement.height,e.scene.renderer.domElement.width,e.scene.renderer.domElement.height,t.viewport=new qu.Vector4(h.x,h.y,Math.ceil(r),Math.ceil(a)),e.ArrayCamera=i,$u(e)),document.addEventListener("click",(function(t){var n,i=Wu(e.ArrayCamera.cameras);try{for(i.s();!(n=i.n()).done;){var r=n.value,a=r.viewport.x,o=r.viewport.y,c=r.viewport.x+r.viewport.z,u=r.viewport.y+r.viewport.w;if(1==r.IsVisibility&&0==r.IsActive&&t.clientX>a&&t.clientX<c&&t.clientY>o&&t.clientY<u){r.IsActive=!0,e.scene.controls.dispose(),l.ReplaceView(e,r);var h,d=(null==r.target?e.scene.controls:r).target.clone();e.scene.controls=new qu.OrbitControls(e,r,e.scene.renderer.domElement),e.scene.controls.target=d,e.scene.controls.update(),"D3"==r.ControlType?(e.scene.controls.enableRotate=!0,document.getElementsByClassName("ViewCube")[0].style.visibility="visible"):"Plane"==r.ControlType&&(e.scene.controls.enableRotate=!1,document.getElementsByClassName("ViewCube")[0].style.visibility="hidden");var f,p=Wu(s()(h=e.ArrayCamera.cameras).call(h,(function(e){return 1==e.IsActive&&e.uuid!=r.uuid})));try{for(p.s();!(f=p.n()).done;)f.value.IsActive=!1}catch(t){p.e(t)}finally{p.f()}var m=new CustomEvent("bimengine:camerachange",{detail:""});e.scene.controls.addEventListener("change",(function(){e.move=!0,window.dispatchEvent(m)}));break}}}catch(t){i.e(t)}finally{i.f()}})),l.updaterender=function(){for(var t=0;t<e.ArrayCamera.cameras.length;t++){var n=e.ArrayCamera.cameras[t];n.IsVisibility&&(e.scene.renderer.setScissorTest(!0),e.scene.renderer.setViewport(n.viewport.x-h.x,n.viewport.y-h.y,n.viewport.z,n.viewport.w),e.scene.renderer.setScissor(n.viewport.x-h.x,n.viewport.y-h.y,n.viewport.z,n.viewport.w),e.scene.renderer.render(e.scene,n),n.IsActive)&&(n.target=e.scene.controls.target.clone())}},l.creatorView=function(e,t){var n,i;i=(e=e).scene.renderer.domElement.width/e.scene.renderer.domElement.height,(i=new qu.PerspectiveCamera(40,i,.1,10)).viewport=new qu.Vector4(1,2,2,2),i.IsActive=!1,i.IsVisibility=!0,i.name="视图"+e.ArrayCamera.cameras.length,c()(n=e.ArrayCamera.cameras).call(n,0,0,i),$u(e)},l.TileView=function(e){var t,n=Wu(e.ArrayCamera.cameras);try{for(n.s();!(t=n.n()).done;)t.value.IsVisibility=!0}catch(e){n.e(e)}finally{n.f()}$u(e)},l.ClearView=function(e){(e=e).ArrayCamera.cameras=[],e.ArrayCamera.cameras.push(e.scene.camera),$u(e);var t=document.getElementsByClassName("ViewControlPanel");1===t.length&&(t[0].childNodes[0].style.display="none"),e.RenderUpdate()},l.SwitchView=function(e,t){var n,i=Wu(e.ArrayCamera.cameras);try{for(i.s();!(n=i.n()).done;){var r=n.value;r.Id==t.Id?(r.IsActive=!0,r.IsVisibility=!0):(r.IsActive=!1,r.IsVisibility=!1)}}catch(e){i.e(e)}finally{i.f()}e.scene.controls.dispose(),l.ReplaceView(e,t);var a=null==t.target?e.scene.controls.target:t.target.clone(),o=(e.scene.controls=new qu.OrbitControls(e,t,e.scene.renderer.domElement),e.scene.controls.target=a,e.scene.controls.update(),"D3"==t.ControlType?(e.scene.controls.enableRotate=!0,document.getElementsByClassName("ViewCube")[0].style.visibility="visible",e.Render.DisplayEdge(!1)):"Plane"==t.ControlType&&(e.scene.controls.enableRotate=!1,document.getElementsByClassName("ViewCube")[0].style.visibility="hidden",e.Render.DisplayEdge(!0)),$u(e),l.updaterender(),new CustomEvent("bimengine:camerachange",{detail:""}));e.scene.controls.addEventListener("change",(function(){e.move=!0,window.dispatchEvent(o)})),e.RenderUpdate()},l.New3DOrthogonal=function(e){var t,n,i,r=l.Get3DOrthogonalData(),a=o()(a=e.ArrayCamera.cameras).call(a,(function(e){return e.Id==r.Id}));-1==a?(t=window.innerWidth,n=window.innerHeight,(i=new qu.OrthographicCamera(-100*(i=t/n),100*i,100,-100,1,1e3)).name=r.label,i.Id=r.Id,i.viewport=new qu.Vector4(0,0,t,n),i.ControlType="D3",c()(t=e.ArrayCamera.cameras).call(t,0,0,i),l.SwitchView(e,i),e.ViewCube.cameraGoHome()):l.SwitchView(e,e.ArrayCamera.cameras[a]),e.scene.controls.enableRotate=!0},l.New3DPerspective=function(e){var t,n,i,r=l.Get3DPerspectiveData(),a=o()(a=e.ArrayCamera.cameras).call(a,(function(e){return e.Id==r.Id}));-1==a?(t=e.scene.renderer.domElement.width,n=e.scene.renderer.domElement.height,(i=new qu.PerspectiveCamera(50,e.scene.renderer.domElement.width/e.scene.renderer.domElement.height,.01,3e4)).name=r.label,i.Id=r.Id,i.viewport=new qu.Vector4(0,0,t,n),i.ControlType="D3",c()(t=e.ArrayCamera.cameras).call(t,0,0,i),l.SwitchView(e,i),e.ViewCube.cameraGoHome()):l.SwitchView(e,e.ArrayCamera.cameras[a]),e.scene.controls.enableRotate=!0,document.getElementsByClassName("ViewCube")[0].style.visibility="visible"},l.NewPlaneView=function(e,t){var n,i,r,a=o()(a=e.ArrayCamera.cameras).call(a,(function(e){return e.Id==t.Id}));-1==a?(r=e.scene.renderer.domElement.width,i=e.scene.renderer.domElement.height,(n=new qu.OrthographicCamera(-100*(n=r/i),100*n,100,-100,.001,1e6)).name=t.label,n.Id=t.Id,n.viewport=new qu.Vector4(0,0,r,i),n.ControlType="Plane",c()(r=e.ArrayCamera.cameras).call(r,0,0,n),r=(i=e.ViewCube.getBoundingBox(e)).min,i=i.max,r=r.clone().add(i.clone()).multiplyScalar(.5),i=new qu.Vector3(r.x,.3048*t.ViewData.Evevation,r.z),r=new qu.Vector3(t.ViewData.ViewDirection.X,t.ViewData.ViewDirection.Z,t.ViewData.ViewDirection.Y),r=i.clone().add(r),e.ViewCube.animateCamera(e.scene.camera.position,i,e.scene.controls.target.clone(),r),l.SwitchView(e,n)):l.SwitchView(e,e.ArrayCamera.cameras[a]),e.scene.controls.enableRotate=!1,document.getElementsByClassName("ViewCube")[0].style.visibility="hidden"},l.NewElevationView=function(e,t){var n,i,r,a=o()(a=e.ArrayCamera.cameras).call(a,(function(e){return e.Id==t.Id}));-1==a?(r=e.scene.renderer.domElement.width,i=e.scene.renderer.domElement.height,(n=new qu.OrthographicCamera(-100*(n=r/i),100*n,100,-100,1,1e3)).name=t.label,n.Id=t.Id,n.ControlType="Plane",n.viewport=new qu.Vector4(0,0,r,i),c()(r=e.ArrayCamera.cameras).call(r,0,0,n),null==t.ViewData.Origin.X?(i=new qu.Vector3(t.ViewData.Origin.x,t.ViewData.Origin.y,t.ViewData.Origin.z),r=new qu.Vector3(t.ViewData.ViewDirection.x,t.ViewData.ViewDirection.y,t.ViewData.ViewDirection.z),r=i.clone().add(r),e.ViewCube.animateCamera(e.scene.camera.position,i,e.scene.controls.target.clone(),r)):(i=new qu.Vector3(.3048*t.ViewData.Origin.X,.3048*t.ViewData.Origin.Z,.3048*t.ViewData.Origin.Y),r=new qu.Vector3(t.ViewData.ViewDirection.X,t.ViewData.ViewDirection.Z,t.ViewData.ViewDirection.Y),r=i.clone().add(r),e.ViewCube.animateCamera(e.scene.camera.position,i,e.scene.controls.target.clone(),r)),l.SwitchView(e,n)):l.SwitchView(e,e.ArrayCamera.cameras[a]),e.scene.controls.enableRotate=!1,document.getElementsByClassName("ViewCube")[0].style.visibility="hidden"},l.Get3DOrthogonalData=function(){var t=s()(t=e.D3Measure.ViewList).call(t,(function(e){return"3DOrthogonal"==e.ViewType}));return t&&t.length?t[0]:{}},l.Get3DPerspectiveData=function(){var t=s()(t=e.D3Measure.ViewList).call(t,(function(e){return"3DPerspective"==e.ViewType}));return t&&t.length?t[0]:{}},l.ReplaceView=function(e,t){var n=e.scene.camera;if(e.scene.camera=t,e.scene.camera.Id!==n.Id){if(console.log("相机切换"),e=_u(u,"MeasurePoint",!1))for(var i=e.getElementsByClassName("PointItem"),r=0;r<i.length;r++)i[r].dataset.cameraId===t.type+"_"+t.Id?i[r].style.display="block":i[r].style.display="none";if(n=_u(u,"MeasureLine",!1))for(var a=n.getElementsByClassName("LineItem"),o=0;o<a.length;o++)a[o].dataset.cameraId===t.type+"_"+t.Id?a[o].style.display="block":a[o].style.display="none"}},l}function $u(e){for(var t,n=s()(n=e.ArrayCamera.cameras).call(n,(function(e){return 1==e.IsVisibility})),i=n.length,r=e.scene.renderer.domElement.width,a=e.scene.renderer.domElement.height,o=(e.scene.renderer.domElement.width,e.scene.renderer.domElement.height,fe(e.scene.renderer.domElement)),l=document.getElementsByClassName("ViewControlPanel");0<l.length;)l[0].remove();1==i&&((t=n[0]).viewport=new qu.Vector4(o.x,o.y,Math.ceil(r),Math.ceil(a)),Zu(t),Qu(e,t,i)),2==i&&((o=n[0]).viewport=new qu.Vector4(0,0,Math.ceil(.5*r),Math.ceil(a)),o.aspect=Math.ceil(.5*r)/Math.ceil(a),Zu(o),Qu(e,o),(t=n[1]).viewport=new qu.Vector4(Math.floor(.5*r),0,Math.ceil(.5*r),Math.ceil(a)),t.aspect=Math.ceil(.5*r)/Math.ceil(a),Zu(t),Qu(e,t)),3==i&&((o=n[0]).viewport=new qu.Vector4(0,0,Math.ceil(.5*r),Math.ceil(.5*a)),o.aspect=Math.ceil(.5*r)/Math.ceil(.5*a),Zu(o),Qu(e,o),(t=n[1]).viewport=new qu.Vector4(0,Math.floor(.5*a),Math.ceil(.5*r),Math.ceil(.5*a)),t.aspect=Math.ceil(.5*r)/Math.ceil(.5*a),Zu(t),Qu(e,t),(o=n[2]).viewport=new qu.Vector4(Math.floor(.5*r),0,Math.ceil(.5*r),Math.ceil(a)),o.aspect=Math.ceil(.5*r)/Math.ceil(a),Zu(o),Qu(e,o)),4<=i&&((t=n[0]).viewport=new qu.Vector4(0,0,Math.ceil(.5*r),Math.ceil(.5*a)),t.aspect=Math.ceil(.5*r)/Math.ceil(.5*a),Zu(t),Qu(e,t),(o=n[1]).viewport=new qu.Vector4(0,Math.floor(.5*a),Math.ceil(.5*r),Math.ceil(.5*a)),o.aspect=Math.ceil(.5*r)/Math.ceil(.5*a),Zu(o),Qu(e,o),(t=n[2]).viewport=new qu.Vector4(Math.floor(.5*r),0,Math.ceil(.5*r),Math.ceil(.5*a)),t.aspect=Math.ceil(.5*r)/Math.ceil(.5*a),Zu(t),Qu(e,t),(o=n[3]).viewport=new qu.Vector4(Math.floor(.5*r),Math.floor(.5*a),Math.ceil(.5*r),Math.ceil(.5*a)),Zu(o),Qu(e,o)),1<i&&e.RenderUpdate()}function Zu(e){var t,n;"OrthographicCamera"==e.type?(t=e.viewport.z/e.viewport.w,e.aspect=t,e.left=-100*t/2,e.right=100*t/2,e.top=50,e.bottom=-50,e.updateProjectionMatrix()):"PerspectiveCamera"==e.type&&(t=e.viewport.z,n=e.viewport.w,e.aspect=t/n,e.updateProjectionMatrix())}function Qu(e,t,n){var i=t.viewport.x,r=t.viewport.y,a=t.viewport.z,s=t.viewport.w,l=document.createElement("div");l.className="ViewControlPanel",l.style.top=r+"px",l.style.left=i+"px",l.style.width=a+"px",l.style.height=s+"px",l.style.outline="1px solid rgb(10,10,10,0.2)",r="block",i=["<div style='display:"+(r=1===n?"none":r)+"'>","<div id='"+t.uuid+"closeButton' class='ViewControlClose'>×</div>","<div id='"+t.uuid+"maxButton' class='ViewControlMax'>▣</div>","<div id='"+t.uuid+"minButton' class='ViewControlMin'>─</div>","</div>"].join("");l.innerHTML=i,e.scene.renderer.domElement.parentElement.appendChild(l),document.getElementById(t.uuid+"closeButton").addEventListener("click",(function(t){var n,i;1!=e.ArrayCamera.cameras.length&&(-1!=(n=o()(n=e.ArrayCamera.cameras).call(n,(function(e){return e.uuid==t.target.id.replace("closeButton","")})))&&c()(i=e.ArrayCamera.cameras).call(i,n,1),-1==o()(i=e.ArrayCamera.cameras).call(i,(function(t){return t.uuid==e.scene.camera.uuid}))&&e.MultiView.ReplaceView(e,e.ArrayCamera.cameras[0]),$u(e),e.RenderUpdate())})),document.getElementById(t.uuid+"minButton").addEventListener("click",(function(n){var i;1!=e.ArrayCamera.cameras.length&&(i=n.target.id.replace("minButton",""),-1!=(n=o()(n=e.ArrayCamera.cameras).call(n,(function(e){return e.uuid==i})))&&(e.ArrayCamera.cameras[n],t.IsVisibility=!1,$u(e)),e.RenderUpdate())})),document.getElementById(t.uuid+"maxButton").addEventListener("click",(function(t){if(1!=e.ArrayCamera.cameras.length){var n=t.target.id.replace("maxButton","");if(-1!=(t=o()(t=e.ArrayCamera.cameras).call(t,(function(e){return e.uuid==n})))){var i,r=e.ArrayCamera.cameras[t],a=(console.log(r.name),Wu(e.ArrayCamera.cameras));try{for(a.s();!(i=a.n()).done;){var s=i.value;s.uuid!=r.uuid&&(s.IsVisibility=!1,s.IsActive=!1)}}catch(t){a.e(t)}finally{a.f()}r.IsActive=!0,r.IsVisibility=!0,e.MultiView.ReplaceView(e,r),$u(e)}e.RenderUpdate()}}))}function Ku(){var e=this,t=e._self._c;return t("div",{staticClass:"mini-elevation-select"},[t("el-cascader",{ref:"elecationRef",attrs:{options:e.options,size:"mini"},on:{change:e.handleChange},model:{value:e.selectVal,callback:function(t){e.selectVal=t},expression:"selectVal"}})],1)}Ku._withStripped=!0;cc={props:{_Engine:{type:Object,default:null}},components:{},data:function(){return{selectVal:[],options:[]}},mounted:function(){var e;window.bimEngine&&(window.bimEngine.LoadModelElevation(),this.options=s()(e=window.bimEngine.ElevationList).call(e,(function(e){return e.children&&e.children.length})))},methods:{handleChange:function(e){var t=this.$refs.elecationRef.getCheckedNodes();t&&((t=t[0].data).Elevation&&(window.bimEngine.scene.camera.position.y=.3048*t.Elevation),window.bimEngine.UpdateRender())},Close:function(){this.Clear()},Clear:function(){}}};var Ju=(n(598),nt(cc,Ku,[],!1,null,"7d9de67a",null).exports),eh=n(0);function th(e){n(599)("./"+W()+"/minMap.scss");var t=new Object;return t.visible=!1,window.innerHeight,window.devicePixelRatio,t.renderUpdata=function(){var n,i,r,a;null!=t.camera&&0!=t.visible&&(i=t.camera,n=e.scene.camera.position.x,a=e.scene.camera.position.y,r=e.scene.camera.position.z,t.camera.position.set(n,a,r),t.renderer.render(e.scene,i),n=(n=t.camera.position).project(t.camera),a=window.innerWidth/2,r=window.innerHeight/2,a=Math.round(n.x*a+a),n=Math.round(-n.y*r+r),r=(i=new eh.Vector2(a,n)).x/window.innerWidth*200,a=i.y/window.innerHeight*200,t.OriginPoint.style.left=r+"px",t.OriginPoint.style.top=a+"px",t.OriginDirection.style.left=r+"px",t.OriginDirection.style.top=a+"px",n=e.scene.camera.getWorldDirection(new eh.Vector3),n=new eh.Vector3(n.x,0,n.z),i=new eh.Vector3(0,0,1),r=n.angleTo(i),a=0<n.clone().cross(i).y?1:-1,t.OriginDirection.style.transform="rotate("+(45+a*r*57.2974)+"deg)")},t.show=function(){var n,i,r,a,o,s;e.FirstPersonControls.controls.minMap&&(t.visible=!0,a=j(),null==(o=e.scene.renderer.domElement.parentElement).getElementsByClassName("miniMapRoot")[0])&&((n=document.createElement("div")).className="PC"===a?"miniMapRoot miniMapRoot_PC":"miniMapRoot miniMapRoot_Mobile",n.style.background="linear-gradient(rgb(127, 191, 225), rgb(198, 226, 255))",o.appendChild(n),i=['<div class="OriginPoint"></div>','<div class="OriginDirection"></div>'].join(""),n.innerHTML=i,t.OriginPoint=n.getElementsByClassName("OriginPoint")[0],t.OriginDirection=n.getElementsByClassName("OriginDirection")[0],(i=new eh.WebGLRenderer({antialias:!0,alpha:!0})).setPixelRatio(window.devicePixelRatio),i.setSize(n.clientWidth,n.clientHeight),i.setClearAlpha(0),t.renderer=i,n.appendChild(i.domElement),"PC"===a&&n.addEventListener("pointerdown",(function(e){var t=n.offsetLeft,i=n.offsetTop,r=e.clientX-t,a=e.clientY-i;function s(e){var t=e.clientX-r,i=(e=e.clientY-a,o.offsetWidth-n.offsetWidth),s=o.offsetHeight-n.offsetHeight;s<(e=e<0?0:e)&&(e=s),n.style.left=(t=i<(t=t<0?0:t)?i:t)+"px",n.style.top=e+"px",n.style.cursor="move"}n.style.cursor="move",document.addEventListener("pointermove",s),document.addEventListener("pointerup",(function(){n.style.cursor="auto",document.removeEventListener("pointermove",s)}))})),null!=(a=i.domElement))&&(null!=a&&(r=a.offsetWidth,r/=s=a.offsetHeight,s=new eh.OrthographicCamera(-100*r,100*r,100,-100,.01,3e3),(t.camera=s).name="miniMap",s.viewport=new eh.Vector4(a.getBoundingClientRect().x,a.getBoundingClientRect().y,200,200),(r=new eh.OrbitControls(e,s,a)).enableRotate=!1,a=(s=e.scene.camera.position).clone().add(new eh.Vector3(0,-1,0)),t.camera.position.set(s.x,s.y,s.z),t.camera.lookAt(a),r.update()),s=i.domElement.parentElement,t.Component=rt(s,Ju,{_Engine:e})),t.renderer&&t.renderer.domElement&&t.renderer.domElement.addEventListener("pointerdown",(function(n){var i,r,a,o=e.scene.camera;(n=(i=(n={x:n.offsetX,y:n.offsetY}).x,n=n.y,r=new eh.Raycaster,(a=new eh.Vector2).x=i/t.camera.viewport.z*2-1,a.y=-n/t.camera.viewport.w*2+1,r.setFromCamera(a,t.camera),0<(i=r.intersectObjects(e.GetAllVisibilityModel(),!0)).length?i[0].point:null))&&o.position.set(n.x,o.position.y,n.z)}))},t.close=function(){var n=e.scene.renderer.domElement.parentElement;t.visible=!1,t.camera=null,t.Component=null,n.getElementsByClassName("miniMapRoot")[0]&&n.getElementsByClassName("miniMapRoot")[0].remove()},t}var nh=n(0);function ih(){function e(e,t,n){var r=i(e,t,n);return function(e,t,n){var r=(e=i(e,t,n)).distanceTo(t);e=e.distanceTo(n),t=t.distanceTo(n);return Math.abs(r+e-t)<.01}(e,t,n)?r.distanceTo(e):1e8}function t(t,n,i){var r=i.clone().sub(n.clone()).setLength(1e4);return e(t,n=n.clone().sub(r),i=i.clone().add(r))}function n(e,t){var n=new nh.Raycaster,i=new nh.Vector3(t.normal.x,t.normal.y,t.normal.z),r=i.clone().setLength(2e7),a=i.clone().setLength(-1e7);n.set(e.clone().add(a.clone()),r),e=new nh.Plane(i.clone().multiplyScalar(1),t.constant),a=n.ray.intersectPlane(e);return console.log(a,e),a}var i=function(e,t,n){n=n.clone().sub(t.clone());var i=e.clone().sub(t.clone());n=n.clone().normalize(),i=i.clone().normalize(),i=n.dot(i),e=t.distanceTo(e)*i;return t.clone().add(n.clone().setLength(e))};return{PointDistanceLine:e,PointPointDis:function(e,t){return e.distanceTo(t)},PointProjectLine:i,GetProjectPoints:function(e,t,n){var i,r;return n*=.1,0==t.x&&0==t.z?(i=new nh.Vector3(1,0,0),r=new nh.Vector3(0,0,1),[e.clone().add(i.clone().multiplyScalar(n)).add(r.clone().multiplyScalar(n)),e.clone().add(i.clone().multiplyScalar(n)).add(r.clone().multiplyScalar(-n)),e.clone().add(i.clone().multiplyScalar(-n)).add(r.clone().multiplyScalar(-n)),e.clone().add(i.clone().multiplyScalar(-n)).add(r.clone().multiplyScalar(n))]):(i=t.clone().cross(new nh.Vector3(0,1,0)).normalize(),r=t.clone().cross(i).normalize(),[e.clone().add(i.clone().multiplyScalar(n)).add(r.clone().multiplyScalar(n)),e.clone().add(i.clone().multiplyScalar(n)).add(r.clone().multiplyScalar(-n)),e.clone().add(i.clone().multiplyScalar(-n)).add(r.clone().multiplyScalar(-n)),e.clone().add(i.clone().multiplyScalar(-n)).add(r.clone().multiplyScalar(n))])},PointDistanceLineExtend:t,LineProjectFace:function(e,t,n){},LineFaceIntersection:function(e,t,n){},LineplaneParallel:function(e,t,n){},LineLineWorldIntersection:function(e,t,n,i){},LineLineIntersection:function(e,t,n,i){},LineLineParallel:function(e,t,n,i){},IsPointInFace:function(e,t){return n(e,t).distanceTo(e)<.01},PointProjectFace:n,IsPointProjectFace:function(e,t){},PointDistanceFace:function(e,t){var n=t.normal,i=new nh.Raycaster,r=n.clone().setLength(2e7);n=n.clone().setLength(-1e7);return i.set(e.clone().add(n.clone()),r),i.ray.intersectPlane(t)},IsPointInLine:function(e,t,n){var i=e.distanceTo(t);e=e.distanceTo(n),t=t.distanceTo(n);return Math.abs(i+e-t)<.01},PointProjectPointDirDis:function(e,t,n){var r=t.clone().add(e.clone().multiplyScalar(1e5));e=t.clone().add(e.clone().multiplyScalar(-1e5));return i(n,r,e).clone().distanceTo(t.clone())},PointDistanceToVector:function(e,n,i){return i=n.clone().add(i),t(e,n,i)}}}function rh(){C.InstancedBufferGeometry.call(this),this.type="LineSegmentsGeometry",this.setIndex([0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5]),this.setAttribute("position",new C.Float32BufferAttribute([-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],3)),this.setAttribute("uv",new C.Float32BufferAttribute([-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],2))}sc=n(37);var ah,oh,sh=n.n(sc),lh=(C.UniformsLib.line={linewidth:{value:1},resolution:{value:new C.Vector2(1,1)},dashScale:{value:1},dashSize:{value:1},dashOffset:{value:0},gapSize:{value:1},opacity:{value:1}},C.ShaderLib.line={uniforms:C.UniformsUtils.merge([C.UniformsLib.common,C.UniformsLib.fog,C.UniformsLib.line]),vertexShader:"\n\t\t#include <common>\n\t\t#include <color_pars_vertex>\n\t\t#include <fog_pars_vertex>\n\t\t#include <logdepthbuf_pars_vertex>\n\t\t#include <clipping_planes_pars_vertex>\n\n\t\tuniform float linewidth;\n\t\tuniform vec2 resolution;\n\n\t\tattribute vec3 instanceStart;\n\t\tattribute vec3 instanceEnd;\n\n\t\tattribute vec3 instanceColorStart;\n\t\tattribute vec3 instanceColorEnd;\n\n\t\tvarying vec2 vUv;\n\n\t\t#ifdef USE_DASH\n\n\t\t\tuniform float dashScale;\n\t\t\tattribute float instanceDistanceStart;\n\t\t\tattribute float instanceDistanceEnd;\n\t\t\tvarying float vLineDistance;\n\n\t\t#endif\n\n\t\tvoid trimSegment( const in vec4 start, inout vec4 end ) {\n\n\t\t\t// trim end segment so it terminates between the camera plane and the near plane\n\n\t\t\t// conservative estimate of the near plane\n\t\t\tfloat a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column\n\t\t\tfloat b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column\n\t\t\tfloat nearEstimate = - 0.5 * b / a;\n\n\t\t\tfloat alpha = ( nearEstimate - start.z ) / ( end.z - start.z );\n\n\t\t\tend.xyz = mix( start.xyz, end.xyz, alpha );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\t#ifdef USE_COLOR\n\n\t\t\t\tvColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;\n\n\t\t\t#endif\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tvLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;\n\n\t\t\t#endif\n\n\t\t\tfloat aspect = resolution.x / resolution.y;\n\n\t\t\tvUv = uv;\n\n\t\t\t// camera space\n\t\t\tvec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );\n\t\t\tvec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );\n\n\t\t\t// special case for perspective projection, and segments that terminate either in, or behind, the camera plane\n\t\t\t// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space\n\t\t\t// but we need to perform ndc-space calculations in the shader, so we must address this issue directly\n\t\t\t// perhaps there is a more elegant solution -- WestLangley\n\n\t\t\tbool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column\n\n\t\t\tif ( perspective ) {\n\n\t\t\t\tif ( start.z < 0.0 && end.z >= 0.0 ) {\n\n\t\t\t\t\ttrimSegment( start, end );\n\n\t\t\t\t} else if ( end.z < 0.0 && start.z >= 0.0 ) {\n\n\t\t\t\t\ttrimSegment( end, start );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// clip space\n\t\t\tvec4 clipStart = projectionMatrix * start;\n\t\t\tvec4 clipEnd = projectionMatrix * end;\n\n\t\t\t// ndc space\n\t\t\tvec2 ndcStart = clipStart.xy / clipStart.w;\n\t\t\tvec2 ndcEnd = clipEnd.xy / clipEnd.w;\n\n\t\t\t// direction\n\t\t\tvec2 dir = ndcEnd - ndcStart;\n\n\t\t\t// account for clip-space aspect ratio\n\t\t\tdir.x *= aspect;\n\t\t\tdir = normalize( dir );\n\n\t\t\t// perpendicular to dir\n\t\t\tvec2 offset = vec2( dir.y, - dir.x );\n\n\t\t\t// undo aspect ratio adjustment\n\t\t\tdir.x /= aspect;\n\t\t\toffset.x /= aspect;\n\n\t\t\t// sign flip\n\t\t\tif ( position.x < 0.0 ) offset *= - 1.0;\n\n\t\t\t// endcaps\n\t\t\tif ( position.y < 0.0 ) {\n\n\t\t\t\toffset += - dir;\n\n\t\t\t} else if ( position.y > 1.0 ) {\n\n\t\t\t\toffset += dir;\n\n\t\t\t}\n\n\t\t\t// adjust for linewidth\n\t\t\toffset *= linewidth;\n\n\t\t\t// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...\n\t\t\toffset /= resolution.y;\n\n\t\t\t// select end\n\t\t\tvec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;\n\n\t\t\t// back to clip space\n\t\t\toffset *= clip.w;\n\n\t\t\tclip.xy += offset;\n\n\t\t\tgl_Position = clip;\n\n\t\t\tvec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation\n\n\t\t\t#include <logdepthbuf_vertex>\n\t\t\t#include <clipping_planes_vertex>\n\t\t\t#include <fog_vertex>\n\n\t\t}\n\t\t",fragmentShader:"\n\t\tuniform vec3 diffuse;\n\t\tuniform float opacity;\n\n\t\t#ifdef USE_DASH\n\n\t\t\tuniform float dashSize;\n\t\t\tuniform float dashOffset;\n\t\t\tuniform float gapSize;\n\n\t\t#endif\n\n\t\tvarying float vLineDistance;\n\n\t\t#include <common>\n\t\t#include <color_pars_fragment>\n\t\t#include <fog_pars_fragment>\n\t\t#include <logdepthbuf_pars_fragment>\n\t\t#include <clipping_planes_pars_fragment>\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\t#include <clipping_planes_fragment>\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tif ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps\n\n\t\t\t\tif ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX\n\n\t\t\t#endif\n\n\t\t\tif ( abs( vUv.y ) > 1.0 ) {\n\n\t\t\t\tfloat a = vUv.x;\n\t\t\t\tfloat b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;\n\t\t\t\tfloat len2 = a * a + b * b;\n\n\t\t\t\tif ( len2 > 1.0 ) discard;\n\n\t\t\t}\n\n\t\t\tvec4 diffuseColor = vec4( diffuse, opacity );\n\n\t\t\t#include <logdepthbuf_fragment>\n\t\t\t#include <color_fragment>\n\n\t\t\tgl_FragColor = vec4( diffuseColor.rgb, diffuseColor.a );\n\n\t\t\t#include <tonemapping_fragment>\n\t\t\t#include <encodings_fragment>\n\t\t\t#include <fog_fragment>\n\t\t\t#include <premultiplied_alpha_fragment>\n\n\t\t}\n\t\t"},function(e){C.ShaderMaterial.call(this,{type:"LineMaterial",uniforms:C.UniformsUtils.clone(C.ShaderLib.line.uniforms),vertexShader:C.ShaderLib.line.vertexShader,fragmentShader:C.ShaderLib.line.fragmentShader,clipping:!0}),this.dashed=!1,sh()(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(e){this.uniforms.diffuse.value=e}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(e){this.uniforms.linewidth.value=e}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(e){this.uniforms.dashScale.value=e}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(e){this.uniforms.dashSize.value=e}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(e){this.uniforms.dashOffset.value=e}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(e){this.uniforms.gapSize.value=e}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(e){this.uniforms.opacity.value=e}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(e){this.uniforms.resolution.value.copy(e)}}}),this.setValues(e)}),ch=(lh.prototype=r()(C.ShaderMaterial.prototype),(lh.prototype.constructor=lh).prototype.isLineMaterial=!0,rh.prototype=_()(r()(C.InstancedBufferGeometry.prototype),{constructor:rh,isLineSegmentsGeometry:!0,applyMatrix4:function(e){var t=this.attributes.instanceStart,n=this.attributes.instanceEnd;return void 0!==t&&(t.applyMatrix4(e),n.applyMatrix4(e),t.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},setPositions:function(e){e instanceof Float32Array?t=e:d()(e)&&(t=new Float32Array(e));var t;e=new C.InstancedInterleavedBuffer(t,6,1);return this.setAttribute("instanceStart",new C.InterleavedBufferAttribute(e,3,0)),this.setAttribute("instanceEnd",new C.InterleavedBufferAttribute(e,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this},setColors:function(e){e instanceof Float32Array?t=e:d()(e)&&(t=new Float32Array(e));var t;e=new C.InstancedInterleavedBuffer(t,6,1);return this.setAttribute("instanceColorStart",new C.InterleavedBufferAttribute(e,3,0)),this.setAttribute("instanceColorEnd",new C.InterleavedBufferAttribute(e,3,3)),this},fromWireframeGeometry:function(e){return this.setPositions(e.attributes.position.array),this},fromEdgesGeometry:function(e){return this.setPositions(e.attributes.position.array),this},fromMesh:function(e){return this.fromWireframeGeometry(new C.WireframeGeometry(e.geometry)),this},fromLineSegments:function(e){if(!(e=e.geometry).isGeometry)return e.isBufferGeometry&&this.setPositions(e.attributes.position.array),this;console.error("THREE.LineSegmentsGeometry no longer supports Geometry. Use THREE.BufferGeometry instead.")},computeBoundingBox:(oh=new C.Box3,function(){null===this.boundingBox&&(this.boundingBox=new C.Box3);var e=this.attributes.instanceStart,t=this.attributes.instanceEnd;void 0!==e&&void 0!==t&&(this.boundingBox.setFromBufferAttribute(e),oh.setFromBufferAttribute(t),this.boundingBox.union(oh))}),computeBoundingSphere:(ah=new C.Vector3,function(){null===this.boundingSphere&&(this.boundingSphere=new C.Sphere),null===this.boundingBox&&this.computeBoundingBox();var e=this.attributes.instanceStart,t=this.attributes.instanceEnd;if(void 0!==e&&void 0!==t){for(var n=this.boundingSphere.center,i=(this.boundingBox.getCenter(n),0),r=0,a=e.count;r<a;r++)ah.fromBufferAttribute(e,r),i=Math.max(i,n.distanceToSquared(ah)),ah.fromBufferAttribute(t,r),i=Math.max(i,n.distanceToSquared(ah));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}),toJSON:function(){},applyMatrix:function(e){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(e)}}),function(){rh.call(this),this.type="LineGeometry"});function uh(e){for(var t=e.children.length-1;0<=t;t--)"MeasurePinkEdge"===e.children[t].Name&&e.remove(e.children[t])}function hh(e,t,n){for(var i={type:"area",val:ih().GetProjectPoints(t.point,t.face.normal,1),isCenter:!1},r=[],a=0;a<n.length;a+=6){var o=new THREE.Vector3(n[a],n[a+1],n[a+2]),s=new THREE.Vector3(n[a+3],n[a+4],n[a+5]);o=ih().PointDistanceLine(t.point,o,s);r.push({start:{x:n[a],y:n[a+1],z:n[a+2]},end:{x:n[a+3],y:n[a+4],z:n[a+5]},distance:o})}var l,c,u,h=z()(r).call(r,(function(e,t){return e.distance-t.distance}))[0],d=((d=e.camera.position.clone()).x=d.x+.1,d.y=d.y+.1,d.z=d.z+.1,ih().PointPointDis(t.point,e.camera.position));return h.distance<=.025*d&&(i={type:"line",val:ih().PointProjectLine(t.point,new THREE.Vector3(h.start.x,h.start.y,h.start.z),new THREE.Vector3(h.end.x,h.end.y,h.end.z)),isCenter:!1,line:[h.start.x,h.start.y,h.start.z,h.end.x,h.end.y,h.end.z]},(e=new THREE.Line3).start=new THREE.Vector3(h.start.x,h.start.y,h.start.z),e.end=new THREE.Vector3(h.end.x,h.end.y,h.end.z),e=e.getCenter(),l=ih().PointPointDis(t.point,e),c=ih().PointPointDis(t.point,h.start),u=ih().PointPointDis(t.point,h.end),c<=.015*d||u<=.015*d||l<=.01*d)&&(i={type:"point",val:h.start,isCenter:!1},l<(d=c)&&(d=l,i={type:"point",val:e,isCenter:!0}),u<d)&&(d=u,i={type:"point",val:h.end,isCenter:!1}),i}function dh(e,t){return null==e||0==e.length||0==(e=s()(e).call(e,(function(e){return n=e.min,e=e.max,(i=t).x>=n.x-.001&&i.y>=n.y-.001&&i.z>=n.z-.001&&i.x<=e.x+.001&&i.y<=e.y+.001&&i.z<=e.z+.001;var n,i}))).length?null:(z()(e).call(e,(function(e,n){return e.center.distanceTo(t)-n.center.distanceTo(t)})),e[0])}function fh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ph(e,t){function n(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}b(t+"/viewlist.json",(function(t){if(t){t=JSON.parse(t).viewList;var i,r=u()(r=t.CeilingPlans).call(r,t.FloorPlans),a=u()(a=t.Elevations).call(a,t.Sections),s=function(e,t){var n,i,r,a,o=void 0!==m.a&&v()(e)||e["@@iterator"];if(o)return i=!(n=!0),{s:function(){o=o.call(e)},n:function(){var e=o.next();return n=e.done,e},e:function(e){i=!0,r=e},f:function(){try{n||null==o.return||o.return()}finally{if(i)throw r}}};if(d()(e)||(o=function(e,t){var n;if(e)return"string"==typeof e?fh(e,t):"Map"===(n="Object"===(n=f()(n=Object.prototype.toString.call(e)).call(n,8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?p()(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fh(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return o&&(e=o),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(u()(r).call(r,a));try{for(s.s();!(i=s.n()).done;)!function(){var t,r=i.value,a=o()(a=e.D3Measure.ViewList).call(a,(function(e){return e.label==r.Rules}));-1!=a?-1!=(t=o()(t=e.D3Measure.ViewList[a].children).call(t,(function(e){return e.label==r.ViewType})))?e.D3Measure.ViewList[a].children[t].children.push({label:r.Name,Id:r.Id,ViewType:r.ViewType,ViewData:r}):e.D3Measure.ViewList[a].children.push({label:r.ViewType,Id:n(),children:[{label:r.Name,Id:r.Id,ViewType:r.ViewType,ViewData:r}]}):e.D3Measure.ViewList.unshift({label:r.Rules,Id:n(),children:[{label:r.ViewType,Id:n(),children:[{label:r.Name,Id:r.Id,ViewType:r.ViewType,ViewData:r}]}]})}()}catch(t){s.e(t)}finally{s.f()}}}))}function mh(e,t){var n,i,r,a,o=void 0!==m.a&&v()(e)||e["@@iterator"];if(o)return i=!(n=!0),{s:function(){o=o.call(e)},n:function(){var e=o.next();return n=e.done,e},e:function(e){i=!0,r=e},f:function(){try{n||null==o.return||o.return()}finally{if(i)throw r}}};if(d()(e)||(o=function(e,t){var n;if(e)return"string"==typeof e?vh(e,t):"Map"===(n="Object"===(n=f()(n=Object.prototype.toString.call(e)).call(n,8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?p()(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vh(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return o&&(e=o),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function vh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function gh(e){n(173)("./"+W()+"/d3measure.scss");var t=new Object;function i(){var t=e.scene.renderer.domElement.parentElement;t.addEventListener("pointerdown",u),t.addEventListener("pointerup",h),t.addEventListener("pointermove",l),t.setAttribute("tabindex",0),t.focus(),t.onkeydown=a}function r(){var t;null!=(t=((t=e.scene.renderer.domElement.parentElement).removeEventListener("pointerdown",u),t.removeEventListener("pointerup",h),t.removeEventListener("pointermove",l),t.removeEventListener("keydown",a),uh(e.scene),document.getElementById("MeasurePoint")))&&t.remove(),e.StopClick=!1}function a(n){var i,a;27==n.keyCode?r():8!=n.keyCode&&46!=n.keyCode||(i=t.HighLightMeasure,-1!=(n=o()(n=e.scene.children).call(n,(function(e){return e.Id==i.Id})))&&c()(a=e.scene.children).call(a,n,1),-1!=(n=o()(a=t.Measures).call(a,(function(e){return e.Id==i.Id})))&&c()(a=t.Measures).call(a,n,1),-1!=(n=o()(a=t.Controls).call(a,(function(e){return e.Id==i.Id})))&&t.Controls[n].remove())}function l(n){var i,r,a,o,l,c,u;t.mouse=d(n),"DrawLine"==t.MouseType&&(n=n,l=e.scene.camera,null!=e.D3Measure.MeasurePink_Quadrangle&&(e.D3Measure.MeasurePink_Quadrangle.style.display="none"),null!=e.D3Measure.MeasurePink_Triangle&&(e.D3Measure.MeasurePink_Triangle.style.display="none"),null!=e.D3Measure.MeasurePink_Area&&(e.D3Measure.MeasurePink_Area.style.display="none"),uh(e.scene),t.PINK_DETAILS={type:"area",val:null,isCenter:!1},n.target instanceof HTMLCanvasElement&&(c=new THREE.Raycaster,(o=new THREE.Vector2).x=(n.x-document.body.getBoundingClientRect().left)/document.body.offsetWidth*2-1,o.y=-(n.y-document.body.getBoundingClientRect().top)/document.body.offsetHeight*2+1,c.setFromCamera(o,l),(n=c.intersectObjects(e.D3Measure.AllModels,!0)).length&&(o=[],l=null,c=[],"Mesh"==(i=n[0]).object.TypeName||"Mesh-Structure"==i.object.TypeName||"PipeMesh"==i.object.TypeName?null==(r=dh(i.object.ElementInfos,i.point))||null!=i.object.hideElements&&g()(a=i.object.hideElements).call(a,r.dbid)||(c=(l=(o=s()(a=e.AllEdgeList).call(a,(function(e){return e.Indexs===i.object.index})))&&o.length?o[0]:null)&&l.ElementInfos[r.dbid]?l.ElementInfos[r.dbid].EdgeList:[],t.PINK_DETAILS=hh(e.scene,i,c)):"InstancedMesh"!=n[0].object.TypeName&&"InstancedMesh-Pipe"!=n[0].object.TypeName||(c=(l=(o=s()(a=e.AllEdgeList).call(a,(function(e){return e.Indexs===i.object.index})))&&o.length?o[0]:null)&&l.ElementInfos[i.instanceId]?l.ElementInfos[i.instanceId].EdgeList:[],t.PINK_DETAILS=hh(e.scene,i,c))),"line"===t.PINK_DETAILS.type)&&(r=e.scene,n=t.PINK_DETAILS.line,(a=new ch).setPositions(n),(n=new lh({color:"#00ff00",linewidth:1,vertexColors:!1})).resolution.set(window.innerWidth,window.innerHeight),(a=new THREE.LineSegments(a,n)).Name="MeasurePinkEdge",r.add(a)),o=v(t.mouse),t.CurrentMeasure.currentPoint=o.clone(),0!=(l=t.CurrentMeasure).Points.length)&&(1==l.Points.length?((c=[]).push(l.Points[0]),c.push(l.currentPoint),u=l.currentPoint.clone().sub(l.Points[0]),n=l.workerPlane.normal,l.disDir=u.clone().cross(n.clone()).normalize(),p(l,c,l.workerPlane)):2==l.Points.length&&((u=[]).push(l.Points[0]),u.push(l.Points[1]),u.push(l.currentPoint),p(l,u,l.workerPlane))),"DragMeasure"==t.MouseType&&(n=v(t.mouse),t.HighLightMeasure.currentPoint=n.clone(),3==t.HighLightMeasure.Points.length&&(t.HighLightMeasure.Points=[new THREE.Vector3(t.HighLightMeasure.Points[0].x,t.HighLightMeasure.Points[0].y,t.HighLightMeasure.Points[0].z),new THREE.Vector3(t.HighLightMeasure.Points[1].x,t.HighLightMeasure.Points[1].y,t.HighLightMeasure.Points[1].z),t.HighLightMeasure.currentPoint]),t.HighLightMeasure.MeasureText=s()(u=t.Controls).call(u,(function(e){return e.Id==t.HighLightMeasure.Id}))[0],t.HighLightMeasure.diry=m(t.HighLightMeasure.diry),t.HighLightMeasure.interCenter=m(t.HighLightMeasure.interCenter),p(t.HighLightMeasure,t.HighLightMeasure.Points,t.HighLightMeasure.workerPlane)),t.MouseType}function u(e){if(0==e.button){if(t.mouse=d(e),"DrawLine"==t.MouseType)if(e=v(t.mouse),0==t.CurrentMeasure.Points.length){if(null==t.PINK_DETAILS.line||6!=t.PINK_DETAILS.line.length)return;var n=new THREE.Vector3(t.PINK_DETAILS.line[0],t.PINK_DETAILS.line[1],t.PINK_DETAILS.line[2]);n=new THREE.Vector3(t.PINK_DETAILS.line[3],t.PINK_DETAILS.line[4],t.PINK_DETAILS.line[5]).clone().sub(n.clone()).normalize();"point"!==t.PINK_DETAILS.type&&"line"!==t.PINK_DETAILS.type||(e=new THREE.Vector3(t.PINK_DETAILS.val.x,t.PINK_DETAILS.val.y,t.PINK_DETAILS.val.z)),t.CurrentMeasure.Points.push(e),t.CurrentMeasure.diry=n}else 1==t.CurrentMeasure.Points.length?("point"!==t.PINK_DETAILS.type&&"line"!==t.PINK_DETAILS.type||(e=new THREE.Vector3(t.PINK_DETAILS.val.x,t.PINK_DETAILS.val.y,t.PINK_DETAILS.val.z)),t.CurrentMeasure.Points.push(e)):2==t.CurrentMeasure.Points.length&&(t.CurrentMeasure.Points.push(e),t.Measures.push(JSON.parse(F()(t.CurrentMeasure))),r(),t.CreatorMeasure());t.MouseType}}function h(e){0==e.button&&"DragMeasure"==t.MouseType&&(t.MouseType="none",t.HighLightControl.style.pointerevents="all",t.HighLightControl=null,r())}function d(t){var n={};return n.x=(t.clientX-e.scene.camera.viewport.x)/e.scene.camera.viewport.z*2-1,n.y=-(t.clientY-e.scene.camera.viewport.y)/e.scene.camera.viewport.w*2+1,n}function f(t){t=t.project(e.scene.camera);var n=e.scene.camera.viewport.z/2,i=e.scene.camera.viewport.w/2;n=Math.round(t.x*n+n),t=Math.round(-t.y*i+i);return new THREE.Vector2(n,t)}function p(n,r,a){null!=r[0]&&(r[0]=ih().PointProjectFace(m(r[0]),a)),null!=r[1]&&(r[1]=ih().PointProjectFace(m(r[1]),a)),null!=r[2]&&(r[2]=ih().PointProjectFace(m(r[2]),a));var s=(a=r[0]).clone().add(n.diry.clone()),l=n.diry,c=(s=ih().PointProjectLine(r[1],a,s),s=r[1].clone().sub(s.clone()),a.clone().add(s.clone())),u=(s=s.normalize(),null==(r=3==r.length?r[2]:null)?.1:ih().PointDistanceLineExtend(r,a,c)),h=(r=null==r||0<r.clone().sub(a.clone()).dot(l)?1:-1,l=l.multiplyScalar(r),n.dis=u,[]);r=a.clone().add(l.clone().setLength(u)),u=c.clone().add(l.clone().setLength(u)),h.push(a.clone()),h.push(r.clone().add(l.clone().multiplyScalar(.05))),h.push(r.clone().add(s.clone().multiplyScalar(-.05))),h.push(u.clone().add(s.clone().multiplyScalar(.05))),h.push(c.clone()),h.push(u.clone().add(l.clone().multiplyScalar(.05))),a=s.clone().add(l.clone()).normalize(),h.push(r.clone().add(a.clone().multiplyScalar(.05))),h.push(r.clone().add(a.clone().multiplyScalar(-.05))),h.push(u.clone().add(a.clone().multiplyScalar(.05))),h.push(u.clone().add(a.clone().multiplyScalar(-.05))),n.linePoints=h,s=o()(c=e.scene.children).call(c,(function(e){return e.Id==n.Id})),l=r.clone().add(u.clone()).multiplyScalar(.5);if(n.interCenter=l.clone(),-1!=s){for(var d,p=e.scene.children[s],v=0;v<h.length;v++)p.geometry.attributes.position.array[3*v+0]=h[v].x,p.geometry.attributes.position.array[3*v+1]=h[v].y,p.geometry.attributes.position.array[3*v+2]=h[v].z;p.geometry.attributes.position.needsUpdate=!0,null!=n.MeasureText&&null!=n.MeasureText.style&&(window.innerHeight,window.devicePixelRatio,a=e.scene.camera.viewport.x,c=e.scene.camera.viewport.y,s=a+e.scene.camera.viewport.z,g=c+e.scene.camera.viewport.w,d=c+f(l.clone()).y,y=a+f(l.clone()).x,console.log(a,f(l.clone()).x,y),n.MeasureText.style.visibility=s<y||g<d||y<a||d<c?"hidden":"visible",n.MeasureText.innerHTML=Math.round(1e3*r.clone().distanceTo(u.clone()))+"mm")}else{var g=((s=new THREE.BufferGeometry).setFromPoints(h),new THREE.LineBasicMaterial({color:0,wireframe:!0,linewidth:100,depthTest:!1})),y=new THREE.LineSegments(s,g);(a=(y.name="ViewSection",y.Id=n.Id,e.scene.add(y),document.createElement("div"))).className="MeasureText",a.Id=n.Id,a.innerHTML=Math.round(1e3*r.clone().distanceTo(u.clone()))+"mm",t.Controls.push(a),n.MeasureText=a,n.MeasureText.style.top=f(l.clone()).y+"px",n.MeasureText.style.left=f(l.clone()).x+"px",e.scene.renderer.domElement.parentElement.appendChild(a),a.addEventListener("click",(function(e){var n,i=mh(t.Controls);try{for(i.s();!(n=i.n()).done;){var r=n.value;r.Id==e.target.Id?r.style.color="blue":r.style.color="black"}}catch(n){i.e(n)}finally{i.f()}var a=o()(a=t.Measures).call(a,(function(t){return t.Id==e.target.Id}));-1!=a&&(t.HighLightMeasure=t.Measures[a])})),a.addEventListener("mousedown",(function(e){var n=o()(n=t.Measures).call(n,(function(t){return t.Id==e.target.Id}));-1!=n&&(t.HighLightMeasure=t.Measures[n]),t.HighLightControl=e.target,t.HighLightControl.style.pointerevents="none",t.MouseType="DragMeasure",i()}))}}function m(e){return new THREE.Vector3(e.x,e.y,e.z)}function v(n){var i=n.x,r=(n=n.y,new THREE.Vector3(i,n,-1).unproject(e.scene.camera));i=new THREE.Vector3(i,n,-1e9).unproject(e.scene.camera),n=r,r=new THREE.Raycaster,i=n.clone().sub(i).setLength(1e6),r.set(n.clone().sub(i),i),n=t.CurrentMeasure.workerPlane;return r.ray.intersectPlane(n)}return t.MouseType="none",t.Measures=[],t.Controls=[],t.CurrentMeasure=null,t.HighLightMeasure=null,t.HighLightControl=null,e.D3Measure,t.GetMeasureList=function(){},t.ReductionMeasure=function(e){},t.Active=function(){},t.CreatorMeasure=function(){e.Measures.DistanceMeasure.DisActive(),e.Measures.HeightMeasure.DisActive(),e.Measures.PointMeasure.DisActive(),e.Measures.SimpleMeasure.DisActive(),t.MouseType="DrawLine";var n=e.D3Measure.GetCurrentWorkPlane();n=new THREE.Plane(n.normal.clone().normalize(),n.constant);t.CurrentMeasure={Points:[],Id:"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),workerPlane:n},e.StopClick=!0,i()},t.DisActive=function(){},t}function yh(e){return new Object}function xh(e,t){var n,i,r,a,o=void 0!==m.a&&v()(e)||e["@@iterator"];if(o)return i=!(n=!0),{s:function(){o=o.call(e)},n:function(){var e=o.next();return n=e.done,e},e:function(e){i=!0,r=e},f:function(){try{n||null==o.return||o.return()}finally{if(i)throw r}}};if(d()(e)||(o=function(e,t){var n;if(e)return"string"==typeof e?bh(e,t):"Map"===(n="Object"===(n=f()(n=Object.prototype.toString.call(e)).call(n,8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?p()(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bh(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return o&&(e=o),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function bh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function wh(e){n(173)("./"+W()+"/d3measure.scss");var t=new Object;function i(){var t=e.scene.renderer.domElement.parentElement;t.addEventListener("pointerdown",l),t.addEventListener("pointerup",u),t.addEventListener("pointermove",h),t.setAttribute("tabindex",0),t.focus(),t.onkeydown=d}function r(){var t;null!=(t=((t=e.scene.renderer.domElement.parentElement).removeEventListener("pointerdown",l),t.removeEventListener("pointerup",u),t.removeEventListener("pointermove",h),e.scene,document.getElementById("MeasurePoint")))&&t.remove(),e.StopClick=!1}function l(e){0==e.button&&(t.drag=!1,a()((function(){t.drag=!0}),1e3))}function u(n){if(0==n.button){if(t.mouse=x(n),"DrawPoint"==t.MouseType){n=v(t.mouse);if(0==t.CurrentMeasure.Points.length){if(null==(n=m(t.mouse)))return;t.CurrentMeasure.Points.push(n);var i=p(n);t.CurrentMeasure.workerPlane=i}else 1==t.CurrentMeasure.Points.length?t.CurrentMeasure.Points.push(n):2==t.CurrentMeasure.Points.length&&(t.CurrentMeasure.Points.push(n),t.Measures.push(JSON.parse(F()(t.CurrentMeasure))),-1!=(n=o()(i=e.scene.children).call(i,(function(e){return"temp"==e.Id})))&&(e.scene.children[n].Id=t.CurrentMeasure.Id),t.MouseType="none",r(),e.StopClick=!1)}"none"==t.MouseType&&r(),"DragMeasure"==t.MouseType&&(t.MouseType="none",t.HighLightControl.style.pointerevents="all",t.HighLightControl=null,r())}}function h(e){if(t.mouse=x(e),"DrawPoint"==t.MouseType){if(null==(e=v(t.mouse))||"undefined"==e||null==e){if(0!=t.CurrentMeasure.Points.length)return;if(null==(e=m(t.mouse)))return;var n=p(e);t.CurrentMeasure.workerPlane=n}t.CurrentMeasure.currentPoint=g(e).clone(),e=[],0==(n=t.CurrentMeasure).Points.length?(e.push(n.currentPoint),e.push(n.currentPoint),e.push(n.currentPoint),f(n,e)):1==n.Points.length?((e=[]).push(n.Points[0]),e.push(n.currentPoint),e.push(n.currentPoint),f(n,e)):2==n.Points.length&&((e=[]).push(n.Points[0]),e.push(n.Points[1]),e.push(n.currentPoint),f(n,e))}"DragMeasure"==t.MouseType&&(e=v(t.mouse),t.HighLightMeasure.currentPoint=e.clone(),3==t.HighLightMeasure.Points.length&&(t.HighLightMeasure.Points=[new THREE.Vector3(t.HighLightMeasure.Points[0].x,t.HighLightMeasure.Points[0].y,t.HighLightMeasure.Points[0].z),new THREE.Vector3(t.HighLightMeasure.Points[1].x,t.HighLightMeasure.Points[1].y,t.HighLightMeasure.Points[1].z),t.HighLightMeasure.currentPoint]),t.HighLightMeasure.MeasureText=s()(e=t.Controls).call(e,(function(e){return e.Id==t.HighLightMeasure.Id}))[0],f(t.HighLightMeasure,t.HighLightMeasure.Points)),t.MouseType}function d(n){var i;27==n.keyCode?r():8!=n.keyCode&&46!=n.keyCode||null!=t.HighLightMeasure&&(-1!=(n=o()(n=e.scene.children).call(n,(function(e){return e.Id==t.HighLightMeasure.Id})))&&c()(i=e.scene.children).call(i,n,1),-1!=(n=o()(i=t.Controls).call(i,(function(e){return e.Id==t.HighLightMeasure.Id})))&&t.Controls[n].remove(),-1!=(n=o()(i=t.Measures).call(i,(function(e){return e.Id==t.HighLightMeasure.Id})))&&c()(i=t.Measures).call(i,n,1),r())}function f(n,r){var a=g(r[0]),s=g(r[1]),l=g(r[2]),c=y(s.clone()),u=y(l.clone()),h=(u=new THREE.Vector2(u.x,c.y),[]),d=(u=(l=v(((d={}).x=((u=u).x-e.scene.camera.viewport.x)/e.scene.camera.viewport.z*2-1,d.y=-(u.y-e.scene.camera.viewport.y)/e.scene.camera.viewport.w*2+1,d))).clone().sub(s.clone()).normalize()).clone().cross(t.CurrentMeasure.workerPlane.normal.clone()).normalize();y(s.clone().add(d)).y<c.y&&d.multiplyScalar(-1),c=u.clone().add(d.clone()),d=u.clone().multiplyScalar(-1).add(d.clone());if(-1!=(s=(h.push(a),h.push(s),h.push(s),h.push(l.clone().add(u.clone().multiplyScalar(.2))),h.push(l),h.push(l.clone().sub(d.clone().multiplyScalar(.2))),h.push(l),h.push(l.clone().sub(c.clone().multiplyScalar(.2))),h.push(l.clone().add(u.clone().multiplyScalar(3*.2)).sub(d.clone().multiplyScalar(.2))),h.push(l.clone().sub(c.clone().multiplyScalar(.2))),n.linePoints=h,n.interCenter=h[5].clone().add(h[7].clone()).multiplyScalar(.5),o()(a=e.scene.children).call(a,(function(e){return e.Id==n.Id}))))){for(var f=e.scene.children[s],p=0;p<h.length;p++)f.geometry.attributes.position.array[3*p+0]=h[p].x,f.geometry.attributes.position.array[3*p+1]=h[p].y,f.geometry.attributes.position.array[3*p+2]=h[p].z;f.geometry.attributes.position.needsUpdate=!0,n.MeasureText.innerHTML=Math.round(1e3*r[0].y)+"mm"}else(u=new THREE.BufferGeometry).setFromPoints(h),d=new THREE.LineBasicMaterial({color:0,wireframe:!0,linewidth:100,depthTest:!1}),(l=new THREE.LineSegments(u,d)).name="MeasureLevel",l.Id=n.Id,e.scene.add(l),(c=document.createElement("div")).className="MeasureLevelText",c.Id=n.Id,c.innerHTML=Math.round(1e3*r[0].y)+"mm",n.MeasureText=c,t.Controls.push(c),e.scene.renderer.domElement.parentElement.appendChild(c),c.addEventListener("click",(function(e){var n,i=xh(t.Controls);try{for(i.s();!(n=i.n()).done;){var r=n.value;r.Id==e.target.Id?r.style.color="blue":r.style.color="black"}}catch(n){i.e(n)}finally{i.f()}var a=o()(a=t.Measures).call(a,(function(t){return t.Id==e.target.Id}));-1!=a&&(t.HighLightMeasure=t.Measures[a])})),c.addEventListener("mousedown",(function(e){var n=o()(n=t.Measures).call(n,(function(t){return t.Id==e.target.Id}));-1!=n&&(t.HighLightMeasure=t.Measures[n]),t.HighLightControl=e.target,t.HighLightControl.style.pointerevents="none",t.MouseType="DragMeasure",i()}))}function p(t){t=g(t);var n=new THREE.Vector3,i=(e.scene.camera.getWorldDirection(n),ih().PointProjectPointDirDis(n.clone().normalize(),new THREE.Vector3,t));t=t.clone().sub(new THREE.Vector3).dot(n.clone());return new THREE.Plane(n.clone().multiplyScalar(-1).normalize().multiplyScalar(t<0?-1:1).clone().normalize(),i)}function m(t){var n;if(null!=t)return(n=new THREE.Raycaster).setFromCamera(t,e.scene.camera),0<(t=n.intersectObjects(e.GetAllVisibilityModel(),!0)).length?t[0].point:null}function v(n){var i,r;return 0==t.CurrentMeasure.Points.length?null:(i=p(t.CurrentMeasure.Points[0]),(r=new THREE.Raycaster).setFromCamera(n,e.scene.camera),r.ray.intersectPlane(i))}function g(e){if(null!=e)return new THREE.Vector3(e.x,e.y,e.z)}function y(t){t=t.project(e.scene.camera);var n=e.scene.camera.viewport.z/2,i=e.scene.camera.viewport.w/2;n=Math.round(t.x*n+n),t=Math.round(-t.y*i+i);return new THREE.Vector2(n,t)}function x(t){var n={};return n.x=(t.clientX-e.scene.camera.viewport.x)/e.scene.camera.viewport.z*2-1,n.y=-(t.clientY-e.scene.camera.viewport.y)/e.scene.camera.viewport.w*2+1,n}return t.MouseType="none",t.Measures=[],t.Controls=[],t.CurrentMeasure=null,t.HighLightMeasure=null,t.HighLightControl=null,e.D3Measure,function n(){if(requestAnimationFrame(n),null!=e.scene&&null!=e.scene.camera.viewport){var i,r,a=e.scene.camera.viewport.x,s=e.scene.camera.viewport.y,l=a+e.scene.camera.viewport.z,c=s+e.scene.camera.viewport.w,u=xh(t.Measures);try{for(u.s();!(i=u.n()).done;)!function(){var n,u=i.value,h=(d=ee(g(u.interCenter).clone(),e.scene.camera)).y,d=d.x;-1!=(r=o()(n=t.Controls).call(n,(function(e){return e.Id==u.Id})))&&(t.Controls[r].style.visibility=l<d||c<h||d<a||h<s?"hidden":"visible",t.Controls[r].style.left=d+"px",t.Controls[r].style.top=h+"px")}()}catch(n){u.e(n)}finally{u.f()}}}(),t.GetMeasureList=function(){},t.ReductionMeasure=function(e){},t.Active=function(){},t.CreatorMeasure=function(){t.MouseType="DrawPoint",t.CurrentMeasure={Points:[],Id:"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},e.StopClick=!0,i()},t.drag=!0,t}function _h(e){return new Object}function Mh(e,t){var n,i,r,a,o=void 0!==m.a&&v()(e)||e["@@iterator"];if(o)return i=!(n=!0),{s:function(){o=o.call(e)},n:function(){var e=o.next();return n=e.done,e},e:function(e){i=!0,r=e},f:function(){try{n||null==o.return||o.return()}finally{if(i)throw r}}};if(d()(e)||(o=function(e,t){var n;if(e)return"string"==typeof e?Sh(e,t):"Map"===(n="Object"===(n=f()(n=Object.prototype.toString.call(e)).call(n,8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?p()(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sh(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return o&&(e=o),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Sh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}ch.prototype=_()(r()(rh.prototype),{constructor:ch,isLineGeometry:!0,setPositions:function(e){for(var t=e.length-3,n=new Float32Array(2*t),i=0;i<t;i+=3)n[2*i]=e[i],n[2*i+1]=e[i+1],n[2*i+2]=e[i+2],n[2*i+3]=e[i+3],n[2*i+4]=e[i+4],n[2*i+5]=e[i+5];return rh.prototype.setPositions.call(this,n),this},setColors:function(e){for(var t=e.length-3,n=new Float32Array(2*t),i=0;i<t;i+=3)n[2*i]=e[i],n[2*i+1]=e[i+1],n[2*i+2]=e[i+2],n[2*i+3]=e[i+3],n[2*i+4]=e[i+4],n[2*i+5]=e[i+5];return rh.prototype.setColors.call(this,n),this},fromLine:function(e){if(!(e=e.geometry).isGeometry)return e.isBufferGeometry&&this.setPositions(e.attributes.position.array),this;console.error("THREE.LineGeometry no longer supports Geometry. Use THREE.BufferGeometry instead.")},copy:function(){return this}}),n(0),n(0);var Eh=n(0);function Th(e){n(173)("./"+W()+"/d3measure.scss");var t=new Object;function i(){var e,n=o()(e=t.ViewList).call(e,(function(e){return"剖面视图"==e.label}));if(-1==n&&(t.ViewList.push({Id:M(),label:"剖面视图",children:[]}),n=o()(e=t.ViewList).call(e,(function(e){return"剖面视图"==e.label}))),0==t.SectionViewLists.length)t.ViewList[n].children=[];else for(var i=t.ViewList[n].children.length-1;0<=i;i--)!function(e){var i;-1==o()(i=t.SectionViewLists).call(i,(function(i){return i.Id==t.ViewList[n].children[e].Id}))&&c()(i=t.ViewList[n].children).call(i,e,1)}(i);var r,a=Mh(t.SectionViewLists);try{var s=function(){var e,i=r.value,a=o()(a=t.ViewList[n].children).call(a,(function(e){return e.Id==i.Id}));i.ViewData={Id:(e=i).Id,Name:e.label,Origin:w(e.viewPoints[0]).add(w(e.viewPoints[1])).multiplyScalar(.5),ViewType:"立面视图",ViewDirection:w(e.diry)},-1==a?t.ViewList[n].children.push(i):t.ViewList[n].children[a]=i};for(a.s();!(r=a.n()).done;)s()}catch(e){a.e(e)}finally{a.f()}}function r(){var t=e.scene.renderer.domElement.parentElement;t.addEventListener("pointerdown",d),t.addEventListener("pointerup",f),t.addEventListener("pointermove",p),t.setAttribute("tabindex",0),t.focus(),t.onkeydown=h}function u(){var t;null!=(t=((t=e.scene.renderer.domElement.parentElement).removeEventListener("pointerdown",d),t.removeEventListener("pointermove",p),uh(e.scene),document.getElementById("MeasurePoint")))&&t.remove(),e.StopClick=!1}function h(e){27==e.keyCode?u():8!=e.keyCode&&46!=e.keyCode||(e=t.HighLightView,t.DeleteSectionView(e.Id,!0))}function d(n){if(0==n.button){if(t.mouse=x(n),"HandlePlane"==t.MouseType&&(r=x(n),(i=new Eh.Raycaster).setFromCamera(r,e.scene.camera),0<(r=i.intersectObjects(e.GetAllVisibilityModel(),!0)).length)&&(i=ih().PointProjectPointDirDis(r[0].face.normal.clone().normalize(),new Eh.Vector3,r[0].point),s=r[0].point.clone().sub(new Eh.Vector3).dot(r[0].face.normal.clone()),r=new Eh.Plane(r[0].face.normal.multiplyScalar(0<s?-1:1).clone().normalize(),i),e.WorkPlane=r,t.MouseType="none",u()),"DrawSection"==t.MouseType){var i,r,s=_(t.mouse);if(null==s)return;0==t.CurrentView.viewPoints.length?t.CurrentView.viewPoints.push(s):1==t.CurrentView.viewPoints.length?(1!=n.shiftKey&&(s=S(t.CurrentView.viewPoints[0],s,t.CurrentView.workerPlane)),t.CurrentView.viewPoints.push(s)):2==t.CurrentView.viewPoints.length&&(t.CurrentView.viewPoints.push(s),t.SectionViewLists.push(JSON.parse(F()(t.CurrentView))),r=o()(i=e.scene.children).call(i,(function(e){return"temp"==e.Id})),e.scene.children[r].Id=t.CurrentView.Id,t.MouseType="none")}"none"==t.MouseType&&a()((function(){var e=E(_(t.mouse));"DragView"!=t.MouseType&&(t.HighLightView=e)}),100)}}function f(e){0==e.button&&(i(),t.mouse=x(e),"DragView"==t.MouseType)&&(t.MouseType="none",t.CurrentDragType="none",t.CurrentDragClone=null)}function p(n){var i,r,a,o,c,u,h,d,f,p,y;if(t.mouse=x(n),"HandlePlane"==t.MouseType&&(u=n,a=e.scene.camera,t.MeasurePink_Quadrangle.style.display="none",t.MeasurePink_Triangle.style.display="none",t.MeasurePink_Area.style.display="none",uh(e.scene),p={type:"area",val:null,isCenter:!1},u.target instanceof HTMLCanvasElement)&&(o=new Eh.Raycaster,(b=new Eh.Vector2).x=(u.x-document.body.getBoundingClientRect().left)/document.body.offsetWidth*2-1,b.y=-(u.y-document.body.getBoundingClientRect().top)/document.body.offsetHeight*2+1,o.setFromCamera(b,a),(u=o.intersectObjects(t.AllModels,!0)).length&&(b=[],o=null,c=[],"Mesh"==(i=u[0]).object.TypeName||"Mesh-Structure"==i.object.TypeName||"PipeMesh"==i.object.TypeName?null==(y=dh(i.object.ElementInfos,i.point))||null!=i.object.hideElements&&g()(r=i.object.hideElements).call(r,y.dbid)||(c=(o=(b=s()(r=e.AllEdgeList).call(r,(function(e){return e.Indexs===i.object.index})))&&b.length?b[0]:null)&&o.ElementInfos[y.dbid]?o.ElementInfos[y.dbid].EdgeList:[],p=hh(e.scene,i,c)):"InstancedMesh"!=u[0].object.TypeName&&"InstancedMesh-Pipe"!=u[0].object.TypeName||(c=(o=(b=s()(r=e.AllEdgeList).call(r,(function(e){return e.Indexs===i.object.index})))&&b.length?b[0]:null)&&o.ElementInfos[i.instanceId]?o.ElementInfos[i.instanceId].EdgeList:[],p=hh(e.scene,i,c))),"area"===p.type)&&u.length&&(r=l()(y=p.val).call(y,(function(e){return(e=ee(new Eh.Vector3(e.x,e.y,e.z),a)).x+","+e.y})),t.MeasurePink_Area.style.display="block",t.MeasurePink_Area.firstChild.setAttribute("points",r.join(" "))),"DrawSection"==t.MouseType){var b=_(t.mouse);if(null==b)return;1!=n.shiftKey&&0<t.CurrentView.viewPoints.length&&(b=S(t.CurrentView.viewPoints[0],b,t.CurrentView.workerPlane)),t.CurrentView.currentPoint=b.clone(),0!=(o=t.CurrentView).viewPoints.length&&(1==o.viewPoints.length?((c=[]).push(o.viewPoints[0]),c.push(o.currentPoint),h=o.currentPoint.clone().sub(o.viewPoints[0]),u=o.workerPlane.normal,o.disDir=h.clone().cross(u.clone()).normalize(),m("temp",c)):2==o.viewPoints.length&&((h=[]).push(o.viewPoints[0]),h.push(o.viewPoints[1]),h.push(o.currentPoint),m("temp",h)))}"none"==t.MouseType&&E(_(t.mouse)),"DragView"==t.MouseType&&(p=_(t.mouse),y=t.HighLightView,"Top"==t.CurrentDragType&&((d=[]).push(y.viewPoints[0]),d.push(y.viewPoints[1]),d.push(p),m(t.HighLightView.Id,d)),"Right"==t.CurrentDragType&&(d=[],w(t.HighLightView.diry).clone().dot(w(t.HighLightView.disDir).clone())<0?(f=ih().PointDistanceToVector(p,w(y.viewPoints[0]),w(y.diry)),d.push(y.viewPoints[0]),d.push(w(y.viewPoints[0]).clone().add(w(y.dirx).multiplyScalar(f)))):(f=ih().PointDistanceToVector(p,w(y.viewPoints[1]),w(y.diry)),d.push(w(y.viewPoints[1]).clone().sub(w(y.dirx).multiplyScalar(f))),d.push(y.viewPoints[1])),d.push(y.viewPoints[2]),m(t.HighLightView.Id,d)),"Left"==t.CurrentDragType&&(f=[],w(t.HighLightView.diry).clone().dot(w(t.HighLightView.disDir).clone())<0?(d=ih().PointDistanceToVector(p,w(y.viewPoints[1]),w(y.diry)),f.push(w(y.viewPoints[1]).clone().sub(w(y.dirx).multiplyScalar(d))),f.push(y.viewPoints[1])):(d=ih().PointDistanceToVector(p,w(y.viewPoints[0]),w(y.diry)),f.push(y.viewPoints[0]),f.push(w(y.viewPoints[0]).clone().add(w(y.dirx).multiplyScalar(d)))),f.push(y.viewPoints[2]),m(t.HighLightView.Id,f)),t.CurrentDragType,"Range"==t.CurrentDragType&&null!=t.CurrentDragClone&&(y=t.CurrentDragClone,t.CurrentDragStart,d=p.clone().sub(t.CurrentDragStart.clone()),(f=[]).push(w(y.viewPoints[0]).add(d)),f.push(w(y.viewPoints[1]).add(d)),f.push(w(y.viewPoints[2]).add(d)),m(t.HighLightView.Id,f)),v())}function m(n,i){var r=w(i[0]),a=w(i[1]),s=3==i.length?w(i[2]):null,l=[],c=1/t.DrawingScale,u=t.GetCameraWorkPlane(),h=a.clone().sub(r.clone()).normalize(),d=(u=h.clone().cross(u.normal).normalize(),null==s?1:ih().PointDistanceLineExtend(s,r,a));s=null==s||0<s.clone().sub(r.clone()).dot(u)?1:-1,u=u.multiplyScalar(s);if(-1!=(r=(t.CurrentView.dis=d,t.CurrentView.diry=u,t.CurrentView.dirx=h,r.clone().add(u.clone().setLength(d)),a.clone().add(u.clone().setLength(d)),l.push(r.clone().add(h.clone().setLength(-c)).add(u.clone().setLength(c))),l.push(r.clone().add(h.clone().setLength(-c))),l.push(a.clone().add(h.clone().setLength(c))),l.push(a.clone().add(h.clone().setLength(c)).add(u.clone().setLength(c))),o()(s=e.scene.children).call(s,(function(e){return e.Id==n}))))){for(var f=e.scene.children[r],p=0;p<l.length;p++)f.geometry.attributes.position.array[3*p+0]=l[p].x,f.geometry.attributes.position.array[3*p+1]=l[p].y,f.geometry.attributes.position.array[3*p+2]=l[p].z;f.geometry.attributes.position.needsUpdate=!0,-1!=(c=o()(a=t.SectionViewLists).call(a,(function(e){return e.Id==n})))&&(t.SectionViewLists[c].viewPoints=i,t.SectionViewLists[c].dis=d,t.SectionViewLists[c].diry=u,t.SectionViewLists[c].dirx=h)}else(s=new Eh.BufferGeometry).setFromPoints(l),r=new Eh.LineBasicMaterial({color:0,wireframe:!0,linewidth:100,depthTest:!1}),(a=new Eh.Line(s,r)).name="ViewSection",a.Id=n,e.scene.add(a)}function v(){var n,i,r,a,o,s,l,c,u,h;0!=t.Controls.length&&(r=t.Controls[0],null==t.HighLightView?r.style.visibility="hidden":(r.style.visibility="visible",r=w(t.HighLightView.diry),w(t.HighLightView.viewPoints[0]).clone().add(w(t.HighLightView.viewPoints[1]).clone()).multiplyScalar(.5).clone().add(w(r.clone().multiplyScalar(t.HighLightView.dis).clone())),a=w(t.HighLightView.viewPoints[0]).add(w(r.clone().multiplyScalar(t.HighLightView.dis).clone())),s=w(t.HighLightView.viewPoints[1]).add(w(r.clone().multiplyScalar(t.HighLightView.dis).clone())),h=w(t.HighLightView.viewPoints[0]).add(a.clone()).multiplyScalar(.5),n=w(t.HighLightView.viewPoints[1]).add(s.clone()).multiplyScalar(.5),w(t.HighLightView.viewPoints[0]).sub(w(r.clone().multiplyScalar(.5).clone())),w(t.HighLightView.viewPoints[0]).add(w(r.clone().multiplyScalar(.5).clone())),r=b(w(t.HighLightView.viewPoints[0]).clone()),i=b(w(t.HighLightView.viewPoints[1]).clone()),a=b(a.clone()),b(s.clone()),s=b(new Eh.Vector3),o=b(w(t.HighLightView.diry)),i=new Eh.Vector2(r.x,r.y).distanceTo(new Eh.Vector2(i.x,i.y)),r=new Eh.Vector2(r.x,r.y).distanceTo(new Eh.Vector2(a.x,a.y)),a=180*(a=new Eh.Vector2(o.x-s.x,o.y-s.y).angle(new Eh.Vector2(0,1)))/Math.PI,window.innerHeight,window.devicePixelRatio,o=e.scene.camera.viewport.x,s=e.scene.camera.viewport.y,l=o+e.scene.camera.viewport.z,c=s+e.scene.camera.viewport.w,u=o+(.5*b(h.clone()).y+.5*b(n.clone()).y),h=s+(.5*b(h.clone()).x+.5*b(n.clone()).x),t.Controls[0].style.top=u+"px",t.Controls[0].style.left=h+"px",l<u||c<h||u<o||h<s?(t.Controls[0].style.visibility="hidden",console.log(o,s,u,h,l,c)):t.Controls[0].style.visibility="visible",t.Controls[0].style.transform="translate(-50%,-50%) rotate("+(90+a)+"deg) ",t.Controls[0].style.width=i+"px",t.Controls[0].style.height=r+"px",t.Controls[4].innerHTML=t.HighLightView.label))}function y(){return"D3"==e.scene.camera.ControlType?"D3":"Plane"}function x(t){var n={};return n.x=(t.clientX-e.scene.camera.viewport.x)/e.scene.camera.viewport.z*2-1,n.y=-(t.clientY-e.scene.camera.viewport.y)/e.scene.camera.viewport.w*2+1,n}function b(t){t=t.project(e.scene.camera);var n=e.scene.camera.viewport.z/2,i=e.scene.camera.viewport.w/2;n=Math.round(t.x*n+n),t=Math.round(-t.y*i+i);return new Eh.Vector2(n,t)}function w(e){return new Eh.Vector3(e.x,e.y,e.z)}function _(n){var i=t.GetCurrentWorkPlane(),r=n.x,a=(n=n.y,new Eh.Vector3(r,n,-1).unproject(e.scene.camera));r=new Eh.Vector3(r,n,-1e9).unproject(e.scene.camera),n=a,a=new Eh.Raycaster,r=n.clone().sub(r).setLength(1e6);return a.set(n.clone().sub(r),r),a.ray.intersectPlane(i)}function M(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}function S(e,t,n){n=n.normal;var i=new Eh.Vector3(1,0,0),r=new Eh.Vector3(0,0,1),a=(n=(0==n.x&&0==n.z?(new Eh.Vector3(1,0,0),new Eh.Vector3(0,0,1)):(a=n.clone().cross(new Eh.Vector3(0,1,0)).normalize(),n.clone().cross(a).normalize()),t.clone().sub(e.clone()))).angleTo(i);return(Math.abs(a)<=.01*Math.PI||Math.abs(a)>=.99*Math.PI?ih().PointProjectLine(t,e,e.clone().add(i)):(a=n.angleTo(r),Math.abs(a)<=.01*Math.PI||Math.abs(a)>=.99*Math.PI?ih().PointProjectLine(t,e,e.clone().add(r)):t)).clone()}function E(n){if(null!=n){var i,r=Mh(t.SectionViewLists);try{for(r.s();!(i=r.n()).done;){var a=i.value;if(ih().PointDistanceLine(new Eh.Vector3(n.x,n.y,n.z),new Eh.Vector3(a.viewPoints[0].x,a.viewPoints[0].y,a.viewPoints[0].z),new Eh.Vector3(a.viewPoints[1].x,a.viewPoints[1].y,a.viewPoints[1].z))<.5){var o,l,c=Mh(s()(o=e.scene.children).call(o,(function(e){return"ViewSection"==e.name})));try{for(c.s();!(l=c.n()).done;){var u=l.value;u.Id==a.Id?u.material.color=new Eh.Color(0,0,1):u.material.color=new Eh.Color(0,0,0)}}catch(n){c.e(n)}finally{c.f()}return a}}}catch(n){r.e(n)}finally{r.f()}var h,d,f=Mh(s()(h=e.scene.children).call(h,(function(e){return"ViewSection"==e.name})));try{for(f.s();!(d=f.n()).done;)d.value.material.color=new Eh.Color(0,0,0)}catch(n){f.e(n)}finally{f.f()}return null}}return t.SignMeasure=new gh(e),t.SignLineText=new yh,t.SignMeasureLevel=new wh(e),t.SignText=new _h,t.MouseType="none",t.DrawingScale=1,t.CurrentView=null,t.HighLightView=null,t.SectionViewLists=[],t.ViewList=[],t.Controls=[],t.CurrentDragType="none",t.CurrentDragStart=null,t.Callback=null,t.ViewList.push({label:"三维正交",Id:M(),ViewType:"3DOrthogonal"}),t.ViewList.push({label:"三维透视",Id:M(),ViewType:"3DPerspective"}),function e(){requestAnimationFrame(e),v()}(),t.UpdateViewList=function(t){ph(e,t)},t.UpdateCallback=function(e){t.Callback=e},t.DeleteView=function(){},t.CreatorUI=function(){},t.Active=function(){var n,i,r,a,o,s,l;(n=document.createElement("div")).id="ViewControlRoot",n.className="ViewControlRoot",n.style.visibility="hidden",t.Controls.push(n),(i=document.createElement("div")).className="ViewControl_Top",i.id="ViewControl_Top",i.innerHTML="◄►",n.appendChild(i),(r=document.createElement("div")).className="ViewControl_Left",r.id="ViewControl_Left",r.innerHTML="◄►",n.appendChild(r),(a=document.createElement("div")).className="ViewControl_Right",a.id="ViewControl_Right",a.innerHTML="◄►",n.appendChild(a),t.Controls.push(i),t.Controls.push(r),t.Controls.push(a),(o=document.createElement("div")).className="ViewText",o.id="ViewText",o.innerHTML="222",n.appendChild(o),t.Controls.push(o),(s=document.createElement("div")).className="ViewhandleDir",s.id="ViewhandleDir",s.innerHTML="⇄",n.appendChild(s),t.Controls.push(s),(l=document.createElement("div")).className="ViewhandleRange",l.id="ViewhandleRange",n.appendChild(l),t.Controls.push(l),e.scene.renderer.domElement.parentElement.appendChild(n),i.addEventListener("mousedown",(function(e){event.stopPropagation(),t.MouseType="DragView",t.CurrentDragType="Top"})),r.addEventListener("mousedown",(function(e){event.stopPropagation(),t.MouseType="DragView",t.CurrentDragType="Left"})),a.addEventListener("mousedown",(function(e){event.stopPropagation(),t.MouseType="DragView",t.CurrentDragType="Right"})),o.addEventListener("mousedown",(function(e){var n=prompt("请输入视图名称",t.HighLightView.label);t.HighLightView.label=n})),s.addEventListener("mousedown",(function(e){t.HighLightView.disDir=w(t.HighLightView.disDir).clone().multiplyScalar(-1),t.HighLightView.diry=w(t.HighLightView.diry).clone().multiplyScalar(-1)})),l.addEventListener("mousedown",(function(e){event.stopPropagation(),t.MouseType="DragView",t.CurrentDragType="Range";var n=_(t.mouse);t.CurrentDragStart=n.clone(),t.CurrentDragClone=JSON.parse(F()(t.HighLightView))}))},t.DisActive=function(){},t.GetCurrentViewType=function(){return y()},t.GetCameraWorkPlane=function(){var t=new Eh.Vector3,n=(e.scene.camera.getWorldDirection(t),e.scene.camera.position),i=ih().PointProjectPointDirDis(t.clone().normalize(),new Eh.Vector3,n)+1;n=n.clone().sub(new Eh.Vector3).dot(t.clone());return new Eh.Plane(t.clone().multiplyScalar(-1).normalize().multiplyScalar(0<n?-1:1).clone().normalize(),i)},t.CreatorSection=function(){"D3"!=y()&&(t.MouseType="DrawSection",t.CurrentView={viewPoints:[],Id:M(),workerPlane:t.GetCurrentWorkPlane(),type:"UserDraw",label:"新剖面",ViewType:"剖面视图"},r())},t.DrawSelectLines=function(e){var t,n=Mh(e);try{for(n.s();!(t=n.n()).done;)t.value,new Eh.Vector3,new Eh.Vector3(1,0,0)}catch(e){n.e(e)}finally{n.f()}},t.Clear=function(){},t.DeleteSectionView=function(n){var r,a;(a=1<arguments.length&&void 0!==arguments[1]&&arguments[1])&&0==confirm("确认要删除视图吗？")||(-1!=(a=(-1!=(a=(1!=(a=o()(a=t.SectionViewLists).call(a,(function(e){return e.Id==n})))&&c()(r=t.SectionViewLists).call(r,a,1),o()(r=e.ArrayCamera.cameras).call(r,(function(e){return e.Id==n}))))&&c()(r=e.ArrayCamera.cameras).call(r,a,1),o()(r=e.scene.children).call(r,(function(e){return e.Id==n}))))&&c()(r=e.scene.children).call(r,a,1),0<e.ArrayCamera.cameras.length?e.MultiView.SwitchView(e,e.ArrayCamera.cameras[0]):e.MultiView.New3DPerspective(e),t.HighLightView=null,i())},t.GetCurrentWorkPlane=function(){var n;return null!=e.WorkPlane?e.WorkPlane:(n=t.GetCameraWorkPlane(),e.WorkPlane=n)},t.HandleWorkPlane=function(){var n=function(e,t){e=getRootDom(e);var n="http://www.w3.org/2000/svg",i=document.createElementNS(n,"svg"),r=(i.setAttribute("style","position:absolute;width:20px;height:20px;display:none;pointer-events:none;"),document.createElementNS(n,"polygon"));r.setAttribute("points","5,0 10,10 0,10"),r.setAttribute("style","fill:rgba(0,255,0,0.2);stroke:rgba(0,255,0,1);stroke-width:2;pointer-events:none;"),i.appendChild(r),e.appendChild(i),(r=document.createElement("div")).className="MeasurePointPink",e.appendChild(r);var a=document.createElementNS(n,"svg");return a.setAttribute("style","position:absolute;width:100vw;height:100vh;display:none;pointer-events: none;"),(n=document.createElementNS(n,"polygon")).setAttribute("points","0,0 10,0 10,10 0,10"),n.setAttribute("style","fill:rgba(0,255,0,0.2);stroke:rgba(0,255,0,1);stroke-width:2;pointer-events:none;"),a.appendChild(n),e.appendChild(a),{Triangle:i,Quadrangle:r,Area:a,ChuiDian:n=null}}("MeasurePoint");t.MeasurePink_Triangle=n.Triangle,t.MeasurePink_Quadrangle=n.Quadrangle,t.MeasurePink_Area=n.Area,t.MouseType="HandlePlane",r(),t.AllModels=e.GetAllVisibilityModel(),e.StopClick=!0},t}function Ch(e,t){var n,i,r,a,o=void 0!==m.a&&v()(e)||e["@@iterator"];if(o)return i=!(n=!0),{s:function(){o=o.call(e)},n:function(){var e=o.next();return n=e.done,e},e:function(e){i=!0,r=e},f:function(){try{n||null==o.return||o.return()}finally{if(i)throw r}}};if(d()(e)||(o=function(e,t){var n;if(e)return"string"==typeof e?Ah(e,t):"Map"===(n="Object"===(n=f()(n=Object.prototype.toString.call(e)).call(n,8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?p()(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ah(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return o&&(e=o),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ah(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Lh=n(0);function Ph(e,t,n,i,r){var a,o=[{type:"X轴",vector:new Lh.Vector3(-1,0,0),color:16711680,show:"showX"},{type:"Y轴",vector:new Lh.Vector3(0,-1,0),color:65280,show:"showY"},{type:"Z轴",vector:new Lh.Vector3(0,0,-1),color:255,show:"showZ"}],c=s()(f=e.scene.children).call(f,(function(e){return"TransformControlsClipping"===e.name}))[0];l()(o).call(o,(function(e){c[e.show]=!1})),w();for(var u=e.scene.children,d=u.length-1;0<=d;d--)"ClippingMesh"===u[d].name&&(n?e.scene.remove(u[d]):u[d].visible=!1);if(n){var f=function(){var t,n,r,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,s=e.ViewCube.getBoundingBox(e),l=0,c=0,u=null;switch(t=s.center,i){case"X轴":u="y",l=s.max.z-s.min.z,c=s.max.y-s.min.y,t.x=a||s.max.x,r=a||s.max.x,n=o[0];break;case"Y轴":u="x",l=s.max.x-s.min.x,c=s.max.z-s.min.z,t.y=a||s.max.y,r=a||s.max.y,n=o[1];break;case"Z轴":l=s.max.x-s.min.x,c=s.max.y-s.min.y,t.z=a||s.max.z,r=a||s.max.z,n=o[2]}return{position:t,width:l,height:c,direction:u,plane:n,constant:r}}(r),p=(r=((a=new Lh.Plane(f.plane.vector,0)).constant=f.constant,new Lh.PlaneGeometry(f.width,f.height)),new Lh.MeshBasicMaterial({color:"#252525",opacity:.2,wireframeLinewidth:10,depthWrite:!1,side:Lh.DoubleSide,transparent:!0})),m=new Lh.Mesh(r,p);m.visible=!1;for(var v=((p=new Lh.Group).add(m),p.name="ClippingMesh",p.position.set(f.position.x,f.position.y,f.position.z),f.direction&&(p.rotation[f.direction]=Math.PI/2),t.add(p),new Lh.BufferGeometry),g=[],y=new Lh.EdgesGeometry(r,1).attributes.position.array,x=0;x<y.length;x+=3){var b=new Lh.Vector3(y[x],y[x+1],y[x+2]).clone();g.push(b.x),g.push(b.y),g.push(b.z)}v.setAttribute("position",new Lh.Float32BufferAttribute(g,3)),r=new Lh.LineSegments(v,new Lh.LineBasicMaterial({color:"#E3B951"})),p.add(r),c.attach(p),c[f.plane.show]=!0,c.addEventListener("change",(function(t){switch(i){case"X轴":a.constant=+t.target.worldPosition.x;break;case"Y轴":a.constant=+t.target.worldPosition.y;break;case"Z轴":a.constant=+t.target.worldPosition.z}e.Clipping.Plane=[a],e.UpdateRender()})),c.addEventListener("dragging-changed",(function(n){t.controls.enabled=!n.value,t.controls.enabled?m.visible=!1:m.visible=!0,e.UpdateRender()})),w(a)}function w(t){var n=e.scene.children,i=t?[t]:null;h()(n).call(n,(function(e){var t;"rootModel"===e.name&&(e.material instanceof Array?(h()(t=e.material).call(t,(function(e){e.clippingPlanes=i})),h()(t=e.cloneMaterialArray).call(t,(function(e){e.clippingPlanes=i}))):(e.material.clippingPlanes=i,e.cloneMaterialArray.clippingPlanes=i))})),e.Clipping.Plane=i,Dh(e,i),Ih(e,i),Rh(e,i)}e.UpdateRender()}function kh(e,t,n,i,r){var o=[],c=4<arguments.length&&void 0!==r&&!r?J(e,e.SelectedModels.indexesModels):e.ViewCube.getBoundingBox(e),d=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=e?e.length:0,n=c.center;return[{name:"side-z-max",width:c.max.x-c.min.x,height:c.max.y-c.min.y,position:{x:n.x,y:n.y,z:t?e[0].constant:c.max.z},show:"showZ",direction:null,vector:new Lh.Vector3(0,0,-1),type:"Z轴",oppositeSize:"side-z-min"},{name:"side-z-min",width:c.max.x-c.min.x,height:c.max.y-c.min.y,position:{x:n.x,y:n.y,z:t?-e[1].constant:c.min.z},show:"showZ",direction:null,vector:new Lh.Vector3(0,0,1),type:"-Z轴",oppositeSize:"side-z-max"},{name:"side-x-max",width:c.max.z-c.min.z,height:c.max.y-c.min.y,position:{x:t?e[2].constant:c.max.x,y:n.y,z:n.z},show:"showX",direction:"y",vector:new Lh.Vector3(-1,0,0),type:"X轴",oppositeSize:"side-x-min"},{name:"side-x-min",width:c.max.z-c.min.z,height:c.max.y-c.min.y,position:{x:t?-e[3].constant:c.min.x,y:n.y,z:n.z},show:"showX",direction:"y",vector:new Lh.Vector3(1,0,0),type:"-X轴",oppositeSize:"side-x-max"},{name:"side-y-max",width:c.max.x-c.min.x,height:c.max.z-c.min.z,position:{x:n.x,y:t?e[4].constant:c.max.y,z:n.z},show:"showY",direction:"x",vector:new Lh.Vector3(0,-1,0),type:"Y轴",oppositeSize:"side-y-min"},{name:"side-y-min",width:c.max.x-c.min.x,height:c.max.z-c.min.z,position:{x:n.x,y:t?-e[5].constant:c.min.y,z:n.z},show:"showY",direction:"x",vector:new Lh.Vector3(0,1,0),type:"-Y轴",oppositeSize:"side-y-max"}]}(i),f=c.center,p={x:c.max.x-c.min.x,y:c.max.y-c.min.y,z:c.max.z-c.min.z};w();for(var m=e.scene.children,v=m.length-1;0<=v;v--)"ClippingBox"!==m[v].name&&"ClippingMesh"!==m[v].name&&"TransformControlsClipping-MultiSide"!==m[v].name||e.scene.remove(m[v]);if(n){b(p,f,!0);for(var g=new Lh.MeshBasicMaterial({color:"#252525",opacity:.2,wireframeLinewidth:10,depthWrite:!1,side:Lh.DoubleSide,transparent:!0}),y=function(n){var i=new Lh.TransformControls(t.camera,t.renderer.domElement),r=(i.size=.5,i.name="TransformControlsClipping-MultiSide",i.data_name=d[n].name,i.data_opposite_size=d[n].oppositeSize,i.data_show=d[n].show,i.visible=!1,"showX"===d[n].show?i.showX=!0:i.showX=!1,"showY"===d[n].show?i.showY=!0:i.showY=!1,"showZ"===d[n].show?i.showZ=!0:i.showZ=!1,t.add(i),new Lh.Plane(d[n].vector,0));switch(r.visible=!0,o=u()(a=[]).call(a,be()(o),[r]),d[n].type){case"X轴":r.constant=+d[n].position.x;break;case"-X轴":r.constant=-d[n].position.x;break;case"Y轴":r.constant=+d[n].position.y;break;case"-Y轴":r.constant=-d[n].position.y;break;case"Z轴":r.constant=+d[n].position.z;break;case"-Z轴":r.constant=-d[n].position.z}var a=new Lh.PlaneGeometry(d[n].width,d[n].height),c=(a.name=d[n].name,new Lh.Mesh(a,g));c.name="ClippingMesh",c.data_name=d[n].name,c.data_show=d[n].show,c.visible=!1,c.position.set(d[n].position.x,d[n].position.y,d[n].position.z),d[n].direction&&(c.rotation[d[n].direction]=Math.PI/2),t.add(c),i.attach(c),i.addEventListener("change",(function(t){switch(d[n].type){case"X轴":r.constant=+t.target.worldPosition.x;break;case"-X轴":r.constant=-t.target.worldPosition.x;break;case"Y轴":r.constant=+t.target.worldPosition.y;break;case"-Y轴":r.constant=-t.target.worldPosition.y;break;case"Z轴":r.constant=+t.target.worldPosition.z;break;case"-Z轴":r.constant=-t.target.worldPosition.z}e.UpdateRender(),e.Clipping.Plane=o})),i.addEventListener("dragging-changed",(function(n){var i,r,a,o,u,h,d;t.controls.enabled=!n.value,t.controls.enabled?(c.visible=!1,i=e.scene.children,i=s()(i).call(i,(function(e){return"TransformControlsClipping-MultiSide"===e.name})),d=h=u=o=a=r=0,l()(i).call(i,(function(e){switch(e.data_name){case"side-x-max":r=e.worldPosition.x;break;case"side-x-min":u=e.worldPosition.x;break;case"side-y-max":a=e.worldPosition.y;break;case"side-y-min":h=e.worldPosition.y;break;case"side-z-max":o=e.worldPosition.z;break;case"side-z-min":d=e.worldPosition.z}})),f={x:u+(p={x:r-u,y:a-h,z:o-d}).x/2,y:h+p.y/2,z:d+p.z/2},b(p,f,n.target.data_show)):c.visible=!0,e.UpdateRender()}))},x=0;x<d.length;x++)y(x);i&&i.length&&a()((function(){var t=e.scene.children,n=(t=s()(t).call(t,(function(e){return"TransformControlsClipping-MultiSide"===e.name})),0),i=0,r=0,a=0,o=0,c=0;l()(t).call(t,(function(e){switch(e.data_name){case"side-x-max":n=e.worldPosition.x;break;case"side-x-min":a=e.worldPosition.x;break;case"side-y-max":i=e.worldPosition.y;break;case"side-y-min":o=e.worldPosition.y;break;case"side-z-max":r=e.worldPosition.z;break;case"side-z-min":c=e.worldPosition.z}})),f={x:a+(p={x:n-a,y:i-o,z:r-c}).x/2,y:o+p.y/2,z:c+p.z/2},b(p,f,!1)}),0),w(o)}function b(n,i,r,a){a=3<arguments.length&&void 0!==a&&a;var o=e.scene.children;if(!a)for(var l=o.length-1;0<=l;l--)if("ClippingBox"===o[l].name){e.scene.remove(o[l]);break}for(var u=new Lh.BoxGeometry(n.x,n.y,n.z),h=new Lh.MeshBasicMaterial({color:"#252525",opacity:1e-4,wireframeLinewidth:10,depthWrite:!1,side:Lh.DoubleSide,transparent:!0}),f=(h=new Lh.Mesh(u,h),new Lh.Group),p=(h=(f.add(h),f.name="ClippingBox",f.position.set(i.x,i.y,i.z),c.direction&&(f.rotation[c.direction]=Math.PI/2),t.add(f),new Lh.BufferGeometry),[]),m=new Lh.EdgesGeometry(u,1).attributes.position.array,v=0;v<m.length;v+=3){var g=new Lh.Vector3(m[v],m[v+1],m[v+2]).clone();p.push(g.x),p.push(g.y),p.push(g.z)}if(h.setAttribute("position",new Lh.Float32BufferAttribute(p,3)),u=new Lh.LineSegments(h,new Lh.LineBasicMaterial({color:"#E3B951"})),f.add(u),!a)for(var y=o.length-1;0<=y;y--)!function(e){var t,r,a,l;if("ClippingMesh"===o[e].name)switch(o[e].data_name){case"side-x-max":t=s()(d).call(d,(function(t){return t.name===o[e].data_name}))[0],r=n.z,a=n.y,l={x:i.x+n.x/2,y:i.y,z:i.z},o[e].scale.set(r/t.width,a/t.height,1),o[e].position.set(l.x,l.y,l.z);break;case"side-x-min":t=s()(d).call(d,(function(t){return t.name===o[e].data_name}))[0],r=n.z,a=n.y,l={x:i.x-n.x/2,y:i.y,z:i.z},o[e].scale.set(r/t.width,a/t.height,1),o[e].position.set(l.x,l.y,l.z);break;case"side-y-max":t=s()(d).call(d,(function(t){return t.name===o[e].data_name}))[0],r=n.x,a=n.z,l={x:i.x,y:i.y+n.y/2,z:i.z},o[e].scale.set(r/t.width,a/t.height,1),o[e].position.set(l.x,l.y,l.z);break;case"side-y-min":t=s()(d).call(d,(function(t){return t.name===o[e].data_name}))[0],r=n.x,a=n.z,l={x:i.x,y:i.y-n.y/2,z:i.z},o[e].scale.set(r/t.width,a/t.height,1),o[e].position.set(l.x,l.y,l.z);break;case"side-z-max":t=s()(d).call(d,(function(t){return t.name===o[e].data_name}))[0],r=n.x,a=n.y,l={x:i.x,y:i.y,z:i.z+n.z/2},o[e].scale.set(r/t.width,a/t.height,1),o[e].position.set(l.x,l.y,l.z);break;case"side-z-min":t=s()(d).call(d,(function(t){return t.name===o[e].data_name}))[0],r=n.x,a=n.y,l={x:i.x,y:i.y,z:i.z-n.z/2},o[e].scale.set(r/t.width,a/t.height,1),o[e].position.set(l.x,l.y,l.z)}}(y)}function w(t){var n=e.scene.children;h()(n).call(n,(function(e){var n;"rootModel"===e.name&&(e.material instanceof Array?(h()(n=e.material).call(n,(function(e){e.clippingPlanes=t||null})),h()(n=e.cloneMaterialArray).call(n,(function(e){e.clippingPlanes=t||null}))):(e.material.clippingPlanes=t||null,e.cloneMaterialArray.clippingPlanes=t||null))})),e.Clipping.Plane=t,Dh(e,t),Ih(e,t),Rh(e,t)}e.UpdateRender()}function Dh(e,t){var n,i=Ch(s()(e=e.scene.children).call(e,(function(e){return"HighLightGroup"==e.name}))[0].children);try{for(i.s();!(n=i.n()).done;){var r,a=n.value;l()(r=a.children).call(r,(function(e){e.material.clippingPlanes=t||null}))}}catch(e){i.e(e)}finally{i.f()}}function Ih(e,t){var n,i=Ch(s()(e=e.scene.children).call(e,(function(e){return"ModelEdges"==e.TypeName})));try{for(i.s();!(n=i.n()).done;)n.value.material.clippingPlanes=t||null}catch(e){i.e(e)}finally{i.f()}}function Rh(e,t){if(e.EngineRay&&(e=e.EngineRay.scene.children)&&e.length){var n,i=Ch(e);try{for(i.s();!(n=i.n()).done;)n.value.material.clippingPlanes=t||null}catch(e){i.e(e)}finally{i.f()}}}function Nh(e,t){var n=new Object;return n.Plane=null,n.isActive=!1,n.ActiveType=null,n.SingleSideOpen=function(i,r){n.clearOtherActived(),Ph(e,t,!0,i,r),n.isActive=!0,n.ActiveType=i,n.AllClip=!0,e.ClearOriginalData()},n.SingleSideClose=function(){Ph(e,t,!1),n.isActive=!1,n.ActiveType=null},n.MultiSideOpen=function(i){var r=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];n.clearOtherActived(),kh(e,t,!0,i,r),n.isActive=!0,n.ActiveType="MultiSide",n.AllClip=r,e.ClearOriginalData()},n.MultiSideClose=function(){kh(e,t,!1),n.isActive=!1,n.ActiveType=null},n.clearOtherActived=function(){e.Clipping.isActive&&!e.Clipping.AllClip&&e.Clipping.MultiSideClose()},n}function Oh(){var e=this,t=e._self._c;return t("div",{directives:[{name:"show",rawName:"v-show",value:e.dialogVisible,expression:"dialogVisible"},{name:"drag",rawName:"v-drag"}],staticClass:"Roam_Dialog"},[t("div",{staticClass:"Header_Contain"},[t("div",{staticClass:"Header_Title"},[e._v("漫游设置")]),e._v(" "),t("div",{staticClass:"Header_Btns"},[e.showForm?t("div",{staticClass:"Header_Min Btn",on:{click:function(t){return e.onClickShowForm(!1)}}},[t("div",{staticClass:"Header_Min_Inside"})]):t("div",{staticClass:"Header_Max Btn",on:{click:function(t){return e.onClickShowForm(!0)}}}),e._v(" "),"PC"===e.DeviceOS?t("div",{staticClass:"Header_Close Btn",on:{click:function(t){return e.Close()}}},[e._v("×")]):e._e()])]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showForm,expression:"showForm"}],staticClass:"Header_Main Btn"},[t("div",{staticClass:"Form_Contain"},[t("div",{staticClass:"Form-Row"},[t("div",{staticClass:"Form_Item"},[t("div",{staticClass:"Form_Item_Label"},[e._v("小地图")]),e._v(" "),t("el-switch",{model:{value:e.form.minMap,callback:function(t){e.$set(e.form,"minMap",t)},expression:"form.minMap"}})],1),e._v(" "),t("div",{staticClass:"Form_Item"},[t("div",{staticClass:"Form_Item_Label"},[e._v("重力")]),e._v(" "),t("el-switch",{model:{value:e.form.gravity,callback:function(t){e.$set(e.form,"gravity",t)},expression:"form.gravity"}})],1),e._v(" "),t("div",{staticClass:"Form_Item"},[t("div",{staticClass:"Form_Item_Label"},[e._v("碰撞")]),e._v(" "),t("el-switch",{model:{value:e.form.collision,callback:function(t){e.$set(e.form,"collision",t)},expression:"form.collision"}})],1),e._v(" "),t("div",{staticClass:"Form_Item"},[t("div",{staticClass:"Form_Item_Label"},[e._v("速度")]),e._v(" "),t("div",{staticClass:"Btn_Contain",on:{click:function(t){return e.onSpeedChange("sub")}}},[t("svg",{staticClass:"Svg-Icon",attrs:{"aria-hidden":"true"}},[t("use",{attrs:{"xlink:href":"#icon-jianhao"}})])]),e._v(" "),t("div",{staticClass:"Speed_Text"},[e._v(e._s(e.form.speedUnit)+"X")]),e._v(" "),t("div",{staticClass:"Btn_Contain",on:{click:function(t){return e.onSpeedChange("add")}}},[t("svg",{staticClass:"Svg-Icon",attrs:{"aria-hidden":"true"}},[t("use",{attrs:{"xlink:href":"#icon-jiahao"}})])])])]),e._v(" "),t("div",{staticClass:"Form-Row-One"},[t("div",{staticClass:"Form_Item"},[t("div",{staticClass:"Form_Item_Label"},[e._v("相机广角")]),e._v(" "),t("div",{staticClass:"Form_Item_Right",on:{mousedown:function(e){e.stopPropagation()}}},[t("el-slider",{model:{value:e.form.cameraFov,callback:function(t){e.$set(e.form,"cameraFov",t)},expression:"form.cameraFov"}})],1)])])])])])}lc=n(2);var Fh=n.n(lc),zh=(tt=n(3),n.n(tt)),Bh=n(0),Hh=function(){function e(t,n,i,r){Fh()(this,e),this.camera=n,this.domElement=i,this._isEnabled=!1,this._rayOriginOffset=new Bh.Vector3(0,-1,0),this._camerLocalDirection=new Bh.Vector3,this._tmpVector=new Bh.Vector3,this._rayCaster=new Bh.Raycaster,this._fallingTime=0,this._euler=new Bh.Euler(0,0,0,"YZX"),this._prevMouseX=0,this._prevMouseY=0,this.applyGravity=!0,this.applyCollision=!0,this.positionEasing=!0,this.lookflag=1,this.lookSpeed=.008,this.moveSpeed=.02,this.playerHeight=1.4,this.maxRotateX=.8,this.g=9.8,this.bindmousedown=Xe()(n=this.onMouseDown).call(n,this),this.bindmouseup=Xe()(i=this.onMouseUp).call(i,this),this.bindmousemove=Xe()(n=this.onMouseMove).call(n,this),this.bindonKeyDown=Xe()(i=this.onKeyDown).call(i,this),this.bindonKeyUp=Xe()(n=this.onKeyUp).call(n,this),this.bindMousewheel=Xe()(i=this.onMousewheel).call(i,this),this.needMousewheel=!1,this.moveWheelRun=!0,this.moveWheelStop=!1,this.wheelClock,this.GetEngine=function(){return t}}return zh()(e,[{key:"colliders",set:function(e){this._rayCastObjects=e}},{key:"enabled",get:function(){return this._isEnabled},set:function(e){this._isEnabled=e,this._euler.setFromQuaternion(this.camera.quaternion),e?this.addEvents():this.removeEvents()}},{key:"addEvents",value:function(){this.domElement.addEventListener("pointerdown",this.bindmousedown,!1),this.domElement.addEventListener("pointerup",this.bindmouseup,!1),document.body.addEventListener("keydown",this.bindonKeyDown,!1),document.body.addEventListener("keyup",this.bindonKeyUp,!1),this.needMousewheel&&(document.addEventListener&&document.addEventListener("DOMMouseScroll",this.bindMousewheel,!1),document.body.addEventListener("mousewheel",this.bindMousewheel,!1))}},{key:"removeEvents",value:function(){this.domElement.removeEventListener("pointerdown",this.bindmousedown),this.domElement.removeEventListener("pointerup",this.bindmouseup),document.body.removeEventListener("keydown",this.bindonKeyDown),document.body.removeEventListener("keyup",this.bindonKeyUp),this.needMousewheel&&(document.addEventListener&&document.removeEventListener("DOMMouseScroll",this.bindMousewheel),document.body.removeEventListener("mousewheel",this.bindMousewheel))}},{key:"onMousewheel",value:function(e){var t,n=this;switch(e.wheelDelta?(0<e.wheelDelta&&(t="up"),e.wheelDelta<0&&(t="down")):e.detail&&(e.detail<0&&(t="up"),0<e.detail)&&(t="down"),t){case"up":this._camerLocalDirection.z=1;break;case"down":this._camerLocalDirection.z=-1}1==this.moveWheelRun?(this.moveWheelRun=!1,this.moveWheelStop=!0,this.wheelClock=a()((function(){1==n.moveWheelStop&&(n.moveWheelStop=!1,n.moveWheelRun=!0,n._camerLocalDirection.z=0)}),200)):(clearTimeout(this.wheelClock),this.wheelClock=a()((function(){1==n.moveWheelStop&&(n.moveWheelStop=!1,n.moveWheelRun=!0,n._camerLocalDirection.z=0)}),150))}},{key:"onMouseDown",value:function(e){this.domElement.addEventListener("pointermove",this.bindmousemove,!1),this._prevMouseX=e.screenX,this._prevMouseY=e.screenY}},{key:"onMouseMove",value:function(e){var t,n;0!=this._isEnabled&&(t=this._prevMouseX?e.screenX-this._prevMouseX:0,n=this._prevMouseY?e.screenY-this._prevMouseY:0,0<=(n=this._euler.x-n*this.lookflag*this.lookSpeed)?n<this.maxRotateX?this._euler.x=n:this._euler.x=this.maxRotateX:n>-this.maxRotateX?this._euler.x=n:this._euler.x=-this.maxRotateX,this._euler.y-=t*this.lookSpeed,this.camera.quaternion.setFromEuler(this._euler),this._prevMouseX=e.screenX,this._prevMouseY=e.screenY,this.GetEngine().movefirst=!0,n=new CustomEvent("bimengine:camerachange",{detail:""}),window.dispatchEvent(n))}},{key:"onMouseUp",value:function(e){this.GetEngine().movefirst=!1,this.domElement.removeEventListener("pointermove",this.bindmousemove)}},{key:"onKeyDown",value:function(e){var t=new CustomEvent("bimengine:camerachange",{detail:""});switch(this.GetEngine().movefirst=!0,window.dispatchEvent(t),e.keyCode){case 38:this.rotateY(-1);break;case 81:this._camerLocalDirection.y=1;break;case 69:this._camerLocalDirection.y=-1;break;case 87:this._camerLocalDirection.z=1;break;case 37:this.rotateX(-1);break;case 65:this._camerLocalDirection.x=-1;break;case 40:this.rotateY(1);break;case 83:this._camerLocalDirection.z=-1;break;case 39:this.rotateX(1);break;case 68:this._camerLocalDirection.x=1}}},{key:"onKeyUp",value:function(e){switch(this.GetEngine().movefirst=!1,e.keyCode){case 38:case 87:this._camerLocalDirection.z=0;break;case 37:case 65:this._camerLocalDirection.x=0;break;case 40:case 83:this._camerLocalDirection.z=0;break;case 39:case 68:this._camerLocalDirection.x=0;break;case 81:case 69:this._camerLocalDirection.y=0}}},{key:"rotateX",value:function(e){this._euler.y-=e*this.lookSpeed,this.camera.quaternion.setFromEuler(this._euler)}},{key:"rotateY",value:function(e){0<=(e=this._euler.x-e*this.lookflag*.5*this.lookSpeed)?e<this.maxRotateX?this._euler.x=e:this._euler.x=this.maxRotateX:e>-this.maxRotateX?this._euler.x=e:this._euler.x=-this.maxRotateX,this.camera.quaternion.setFromEuler(this._euler)}},{key:"update",value:function(){this.gravityTest(),this.collisionTest()}},{key:"gravityTest",value:function(){if(this.applyGravity){var e=!0,t=(this._fallingTime+=.01,this._tmpVector.set(0,-1,0),this.hitTest());if(t){var n=t.point.add(new Bh.Vector3(0,this.playerHeight,0));if(this.positionEasing){if(n.y>=this.camera.position.y||n.y-this.camera.position.y<.2)return this.camera.position.y+=.08*(n.y-this.camera.position.y),this._fallingTime=0,void(e=!1)}else t.distance<this.playerHeight&&(this.camera.position.y=n.y,this._fallingTime=0,e=!1)}e&&(this.camera.position.y-=this.g*Math.pow(this._fallingTime,2))}}},{key:"collisionTest",value:function(){0!==this._camerLocalDirection.x&&this.collisionTestX(),0!==this._camerLocalDirection.z&&this.collisionTestZ(),0!==this._camerLocalDirection.y&&this.collisionTestY()}},{key:"collisionTestX",value:function(){if(this.GetEngine().movefirst=!0,this._tmpVector.setFromMatrixColumn(this.camera.matrix,0),this._tmpVector.multiplyScalar(this._camerLocalDirection.x),this.applyCollision){var e=this.hitTest();if(e&&e.distance<.3)return}this.camera.position.addScaledVector(this._tmpVector,this.moveSpeed)}},{key:"collisionTestZ",value:function(){if(this.GetEngine().movefirst=!0,this._tmpVector.setFromMatrixColumn(this.camera.matrix,0),this._tmpVector.crossVectors(this.camera.up,this._tmpVector),this._tmpVector.multiplyScalar(this._camerLocalDirection.z),this.applyCollision){var e=this.hitTest();if(e&&e.distance<.3)return}this.camera.position.addScaledVector(this._tmpVector,this.moveSpeed)}},{key:"collisionTestY",value:function(){if(this.GetEngine().movefirst=!0,this._tmpVector.setFromMatrixColumn(this.camera.matrix,0),this._tmpVector=new Bh.Vector3(0,1,0),this._tmpVector.multiplyScalar(this._camerLocalDirection.y),this.applyCollision){var e=this.hitTest();if(e&&e.distance<.3)return}this.camera.position.addScaledVector(this._tmpVector,this.moveSpeed)}},{key:"hitTest",value:function(){var e=null,t=this.camera.position.clone().add(this._rayOriginOffset);this._rayCaster.ray.origin=t,this._rayCaster.ray.direction=this._tmpVector,t=this.GetEngine();return(t=this._rayCaster.intersectObjects(t.GetAllVisibilityModel(),!0))&&0<t.length?t[0]:e}}]),e}();Oh._withStripped=!0;cc={props:{_Engine:{type:Object,default:null},Param:{type:Object,default:null}},components:{},directives:{drag:M},data:function(){return{DeviceOS:"PC",dialogVisible:!0,showForm:!0,form:{minMap:!1,gravity:!1,collision:!1,speedUnit:1,cameraFov:50}}},watch:{form:{handler:function(e){this._Engine.FirstPersonControls.UpdateSet(e)},deep:!0}},mounted:function(){this.DeviceOS=j(),this.InitData()},methods:{InitData:function(){this.Param&&(this.form.minMap=this.Param.minMap,this.form.gravity=this.Param.gravity,this.form.collision=this.Param.collision,this.form.speedUnit=this.Param.speedUnit,this.form.cameraFov=this.Param.cameraFov)},onClickShowForm:function(e){this.showForm=e,this.$nextTick((function(){}))},onSpeedChange:function(e){switch(e){case"sub":1<this.form.speedUnit&&(this.form.speedUnit=this.form.speedUnit/2);break;case"add":this.form.speedUnit<32&&(this.form.speedUnit=2*this.form.speedUnit)}},Close:function(){this.Clear(),this._Engine.TopMenu&&this._Engine.TopMenu.ClickItem("漫游")},Clear:function(){for(var e=document.querySelectorAll(".el-tooltip__popper"),t=0;t<e.length;t++)e[t].remove()}}};var Uh=(n(600),nt(cc,Oh,[],!1,null,"639923d0",null).exports);function Vh(e){n(601)("./"+W()+"/FirstPersonRoaming.scss");var t,i=new Object,r=e.scene.renderer.domElement.parentElement;function a(){return r.getElementsByClassName("MobileRoamContainer")[0]}function o(){e.scene.camera.aspect=window.innerWidth/window.innerHeight,e.scene.camera.updateProjectionMatrix(),e.scene.renderer.setSize(window.innerWidth,window.innerHeight)}function s(){t=requestAnimationFrame(s),e.scene.renderer.render(e.scene,e.scene.camera),i.controls&&i.controls.enabled&&i.controls.update(),e.MinMap&&e.MinMap.visible&&e.MinMap.renderUpdata(),e.RenderSAO.render(),e.RenderPost.render()}return i.isActive=!1,i.settings={firstPerson:!0,gravity:!1,collision:!1,positionEasing:!0,speed:.02,minMap:!1,cameraFov:50,speedUnit:1},i.Component=null,i.Active=function(){var t,n,l,c,u,h,d,f,p;e.scene.controls&&(e.scene.controls.enabled=!1),i.controls||(i.controls=new Hh(e,e.scene.camera,e.scene.renderer.domElement,e.GetAllVisibilityModel()),i.controls.name="FirstPersonControls",i.controls.enabled=i.settings.firstPerson,i.controls.applyGravity=i.settings.gravity,i.controls.applyCollision=i.settings.collision,i.controls.positionEasing=i.settings.positionEasing,i.controls.moveSpeed=i.settings.speed,i.controls.minMap=i.settings.minMap,i.controls.cameraFov=i.settings.fov,i.controls.speedUnit=i.settings.speedUnit),i.controls.enabled=!0,i.isActive=!0,"PC"!==j()&&((f=a())?f.style.display="block":((f=document.createElement("div")).className="MobileRoamContainer",r.appendChild(f),(t=document.createElement("div")).className="containCircle",f.appendChild(t),(f=document.createElement("div")).className="controllerPanel",(n=document.createElement("div")).className="ball",f.appendChild(n),p=29,f.style.width="100px",f.style.height="100px",f.style.borderWidth="2px",n.style.width="40px",n.style.height="40px",n.style.left="29px",n.style.top=p+"px",n.addEventListener("touchstart",(function(e){var t=e.targetTouches[0].clientX-n.offsetLeft-20,r=e.targetTouches[0].clientY-n.offsetTop-20;n.addEventListener("touchmove",(function(e){var a=(a=e.targetTouches[0].clientX-20-t)-29,o=(e=(e=e.targetTouches[0].clientY-20-r)-p,Math.atan2(e,a));a=Math.sqrt(a*a+e*e),a=(e=(e=o,{x:a=(o=49<=a?49:a)*Math.cos(e)+29,y:o=o*Math.sin(e)+p})).x,o=e.y;n.style.left=a+"px",n.style.top=o+"px",i.controls._camerLocalDirection.x=(a-29)/49*1,i.controls._camerLocalDirection.z=(o-p)/49*-1})),n.addEventListener("touchend",(function(e){i.controls._camerLocalDirection.x=0,i.controls._camerLocalDirection.z=0,n.style.left="29px",n.style.top=p+"px"}))})),t.appendChild(f),l=ne("icon-roam-up"),f.appendChild(l),l.className.baseVal=l.className.baseVal+" icon-roam-up",c=ne("icon-roam-down"),f.appendChild(c),c.className.baseVal=c.className.baseVal+" icon-roam-down",c=ne("icon-roam-left"),f.appendChild(c),c.className.baseVal=c.className.baseVal+" icon-roam-left",c=ne("icon-roam-right"),f.appendChild(c),c.className.baseVal=c.className.baseVal+" icon-roam-right",(f=document.createElement("div")).className="SelectPanel",(c=document.createElement("div")).className="InsideContain",(u=document.createElement("div")).className="ControlContain",(h=ne("icon-roam-up")).addEventListener("touchstart",(function(e){i.controls._camerLocalDirection.y=1,h.addEventListener("touchend",(function(e){i.controls._camerLocalDirection.y=0}))})),u.appendChild(h),h.className.baseVal=l.className.baseVal+" to_top",(d=ne("icon-roam-down")).addEventListener("touchstart",(function(e){i.controls._camerLocalDirection.y=-1,d.addEventListener("touchend",(function(e){i.controls._camerLocalDirection.y=0}))})),u.appendChild(d),d.className.baseVal=l.className.baseVal+" to_down",c.appendChild(u),f.appendChild(c),t.appendChild(f))),i.Component?i.Component.dialogVisible=!0:i.Component=rt(r,Uh,{_Engine:e,Param:i.settings}),e.MinMap.show(),window.addEventListener("resize",o,!1),s()},i.DisActive=function(){e.scene.controls&&(e.scene.controls.enabled=!0),window.removeEventListener("resize",o),cancelAnimationFrame(t),i.isActive=!1,"PC"!==j()&&(a().style.display="none"),i.Component.dialogVisible=!1,e.MinMap.close(),i.controls.enabled=!1,i.controls._isEnabled=!1,function(t,n){var i,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1e3,a=new du.a.Tween({fov:t});a.to({fov:n},r),a.onUpdate((function(t){e.scene.camera.fov=t.fov,e.scene.camera.updateProjectionMatrix(),e.UpdateRender()})),a.onComplete((function(e){cancelAnimationFrame(i),i=null})),a.start(),function e(){i=requestAnimationFrame(e),a&&a.update()}()}(e.scene.camera.fov,50,300)},i.UpdateSet=function(t){e.FirstPersonControls.controls.applyGravity=t.gravity,e.FirstPersonControls.controls.applyCollision=t.collision,e.FirstPersonControls.controls.minMap=t.minMap,e.FirstPersonControls.controls.moveSpeed=.02*t.speedUnit,e.scene.camera.fov=t.cameraFov,t.minMap?e.MinMap.show():e.MinMap.close(),e.scene.camera.updateProjectionMatrix()},i}function Gh(e){var t,n=new Object;return n.AnimateTween=null,n.isPaused=!1,n.isCancle=!1,n.StartAnimation=function(e,t){n.CancleAnimation(),function(){var i=H()(U.a.mark((function i(){var r,a;return U.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:r=function(){var i=H()(U.a.mark((function i(r){return U.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",new V.a((function(i,a){n.RunAnimation(e[r],e[r+1],1e3*t,(function(){n.CancleAnimation(),i()}))})));case 1:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}(),a=0;case 2:if(a<e.length-1)return i.next=5,r(a);i.next=8;break;case 5:a++,i.next=2;break;case 8:case"end":return i.stop()}}),i)})));return function(){return i.apply(this,arguments)}}()()},n.RunAnimation=function(i,r){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1e3,o=3<arguments.length?arguments[3]:void 0;n.AnimateTween=new du.a.Tween({x1:i.position.x,y1:i.position.y,z1:i.position.z,x2:i.target.x,y2:i.target.y,z2:i.target.z,_x:i.quaternion._x,_y:i.quaternion._y,_z:i.quaternion._z,_w:i.quaternion._w}),n.AnimateTween.to({x1:r.position.x,y1:r.position.y,z1:r.position.z,x2:r.target.x,y2:r.target.y,z2:r.target.z,_x:r.quaternion._x,_y:r.quaternion._y,_z:r.quaternion._z,_w:r.quaternion._w},a),n.AnimateTween.onUpdate((function(t){e.scene.camera.position.x=t.x1,e.scene.camera.position.y=t.y1,e.scene.camera.position.z=t.z1,e.scene.controls.target.x=t.x2,e.scene.controls.target.y=t.y2,e.scene.controls.target.z=t.z2,e.scene.camera.quaternion._x=t._x,e.scene.camera.quaternion._y=t._y,e.scene.camera.quaternion._z=t._z,e.scene.camera.quaternion._w=t._w,e.scene.controls.update(),e.ViewCube.renderScene()})),n.AnimateTween.onComplete((function(t){e.scene.controls.auto=!1,e.ViewCube.renderScene(),o&&o(!0)})),n.AnimateTween.start(),function e(i){t=requestAnimationFrame(e),n.AnimateTween&&n.AnimateTween.update()}()},n.PausedAnimation=function(){n.AnimateTween&&n.AnimateTween.pause(),n.isPaused=!0},n.ContinueAnimation=function(){n.AnimateTween&&n.AnimateTween.resume(),n.isPaused=!1},n.CancleAnimation=function(){n.AnimateTween&&(cancelAnimationFrame(t),t=null,n.AnimateTween.stop()),n.AnimateTween=null,n.isPaused=!1,n.isCancle=!0},n}function jh(){var e=this,t=e._self._c;return t("div",{staticClass:"Top-Menu-Container"},[t("div",{staticClass:"Menu-List"},e._l(e.MenuList,(function(n){return t("div",{key:n.value,class:["Item",n.status||n.activeChild?"Actived":""],on:{click:function(t){return t.stopPropagation(),e.OnMenuClick(n,null)}}},[t("div",{staticClass:"Icon-Contain"},[t("svg-icon",{attrs:{"icon-file-name":n.icon}})],1),e._v(" "),n.children&&n.status?t("div",{staticClass:"Child-List"},e._l(n.children,(function(i){return t("div",{key:i.value,class:["Item",n.activeChild===i.value?"Actived":""],on:{click:function(t){return t.stopPropagation(),e.OnMenuClick(i,n)}}},[t("div",{staticClass:"Icon-Contain"},[t("svg-icon",{attrs:{"icon-file-name":i.icon}})],1)])})),0):e._e()])})),0)])}function Wh(e,t){var n,i,r,a,o=void 0!==m.a&&v()(e)||e["@@iterator"];if(o)return i=!(n=!0),{s:function(){o=o.call(e)},n:function(){var e=o.next();return n=e.done,e},e:function(e){i=!0,r=e},f:function(){try{n||null==o.return||o.return()}finally{if(i)throw r}}};if(d()(e)||(o=function(e,t){var n;if(e)return"string"==typeof e?Xh(e,t):"Map"===(n="Object"===(n=f()(n=Object.prototype.toString.call(e)).call(n,8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?p()(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xh(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return o&&(e=o),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Xh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function qh(e){n(603)("./"+W()+"/TopMenu.scss");var t,i,r,a=new Object,l=(a.Show=!0,a.Actived=[],e.scene.renderer.domElement.parentElement),c=[],u=null,h=null,d=null,f=[{pId:"0",value:"8",label:"视角",icon:"icon-View-All",status:!1,showType:"Phone",disabled:!1,children:[{pId:"8",value:"81",label:"俯视图",icon:"icon-View-Top",status:!1,disabled:!1,dir:"top"},{pId:"8",value:"82",label:"仰视图",icon:"icon-View-Bottom",status:!1,disabled:!1,dir:"down"},{pId:"8",value:"83",label:"右视图",icon:"icon-View-East",status:!1,disabled:!1,dir:"right"},{pId:"8",value:"84",label:"前视图",icon:"icon-View-South",status:!1,disabled:!1,dir:"front"},{pId:"8",value:"85",label:"左视图",icon:"icon-View-West",status:!1,disabled:!1,dir:"left"},{pId:"8",value:"86",label:"后视图",icon:"icon-View-North",status:!1,disabled:!1,dir:"back"}]},{pId:"0",value:"1",label:"漫游",icon:"icon-roam",status:!1,showType:"PC Pad Phone",disabled:!1},{pId:"0",value:"2",label:"框选",icon:"icon-kuangxuan",status:!1,showType:"PC Pad",disabled:!1},{pId:"0",value:"3",label:"截面分析",icon:"icon-pouqie",status:!1,showType:"PC Pad Phone",disabled:!1,children:[{pId:"3",value:"31",label:"剖切",icon:"icon-codepen",status:!1,disabled:!1},{pId:"3",value:"32",label:"添加X平面",icon:"icon-xalxe",status:!1,disabled:!1},{pId:"3",value:"33",label:"添加Y平面",icon:"icon-zaxle",status:!1,disabled:!1},{pId:"3",value:"34",label:"添加Z平面",icon:"icon-yaxle",status:!1,disabled:!1}]},{pId:"0",value:"6",label:"测量",icon:"icon-celianggongju",status:!1,showType:"PC Pad Phone",disabled:!1,children:[{pId:"6",value:"61",label:"点点测量",icon:"icon-celiang",status:!1,disabled:!1},{pId:"6",value:"62",label:"净高",icon:"icon-arrowsv",status:!1,disabled:!1},{pId:"6",value:"63",label:"净距",icon:"icon-arrowsh",status:!1,disabled:!1},{pId:"6",value:"64",label:"坐标",icon:"icon-dingwei",status:!1,disabled:!1},{pId:"6",value:"65",label:"标高",icon:"icon-biaogao",status:!1,disabled:!1}]},{pId:"0",value:"7",label:"版本对比",icon:"icon-window-restore",status:!1,showType:"PC",disabled:!1},{pId:"0",value:"4",label:"引擎设置",icon:"icon-setting",status:!1,showType:"PC Pad Phone",disabled:!1},{pId:"0",value:"5",label:"锁定视图",icon:"icon-lock-screen",status:!1,showType:"Phone",disabled:!1}],p=j(),m=((f=(a.MenuList=s()(f).call(f,(function(t){var n;return"7"===t.value||"1"===t.value||"2"===t.value||"3"===t.value?g()(n=t.showType).call(n,p)&&e.IsMainScene:g()(n=t.showType).call(n,p)})),(t=document.createElement("div")).className="Top-Menu-Container-Mask Show-Menu-Contain",document.createElement("div"))).className="Close-Menu-Btn",ne("icon-close-btn"));f.appendChild(m),t.appendChild(f),f.onclick=function(e){d=u,c=[],h=u=null,w(),b()},(i=document.createElement("div")).className="Top-Menu-Container",(r=document.createElement("div")).className="Menu-List";for(var v=0;v<a.MenuList.length;v++)y(a.MenuList[v]);function y(t,n){var i=1<arguments.length&&void 0!==n&&n,o=document.createElement("div"),s=((n=(o.className=t.disabled?"Item DisabledItem":"Item",o.dataset.value=t.value,document.createElement("div"))).className="Icon-Contain",n.dataset.value=t.value,o.appendChild(n),ne(t.icon));if(s.dataset.value=t.value,s.children[0].dataset.value=t.value,n.appendChild(s),(t.domEl=o).onclick=function(n){for(var r=document.querySelectorAll(".el-tooltip__popper"),a=0;a<r.length;a++)r[a].remove();n.stopPropagation(),t.disabled||("7"===n.target.dataset.value?("Item"==o.className?(o.className="Item Actived",document.getElementById("threejs-main-sence-container").style.width="50%",document.getElementById("compare-version-container").style.display="block",window.VersionCompareWatcher.List=!0):(o.className="Item",document.getElementById("threejs-main-sence-container").style.width="100%",document.getElementById("compare-version-container").style.display="none",window.VersionCompareWatcher.Show=!1,window.VersionCompareWatcher.List=!1),de(e)):"漫游"!==t.label||e.FirstPersonControls.isActive||"视点"!==sessionStorage.getItem("RootMenuSelect")?x(t,null,i):window.DataWatcher.MenuName="视点")},r.appendChild(o),t.children)for(var l=document.createElement("div"),c=(l.className="Child-List",l.style.display="none",o.childShow=!1,o.appendChild(l),o.childEls=l,0);c<t.children.length;c++)!function(e){var n=document.createElement("div"),r=(n.className=n.disabled?"Item DisabledItem":"Item",n.dataset.value=t.children[e].pId+","+t.children[e].value,l.appendChild(n),document.createElement("div")),a=(r.className="Icon-Contain",r.dataset.value=t.children[e].pId+","+t.children[e].value,n.appendChild(r),ne(t.children[e].icon));a.dataset.value=t.children[e].pId+","+t.children[e].value,a.children[0].dataset.value=t.children[e].pId+","+t.children[e].value,r.appendChild(a),(t.children[e].domEl=n).onclick=function(n){n.stopPropagation(),t.children[e].disabled||x(t.children[e],t,i)}}(c);i&&a.MenuList.push(t)}function x(e,t,n){var i;"0"===e.pId?(e.children?g()(c).call(c,e.value)?(i=o()(i=e.children).call(i,(function(e){return e.value===u})),h=i<0?(d=u,c=[],u=null):(d=u,e.value)):(d=u,c=[e.value],h=e.value,w()):(h=u===e.value?(d=u,c=[],u=null):(d=u,u=e.value,c=[e.value],null),w()),e.domEl.className=g()(c).call(c,e.value)?"Item Actived":"Item"):(h=u===e.value?(d=u,c=[],u=null):(d=u,u=e.value,c=[e.pId,e.value],null),w(),e.domEl.className=u===e.value?"Item Actived":"Item",t.domEl.className=u===e.value?"Item Actived":"Item");for(var r=0;r<a.MenuList.length;r++)a.MenuList[r].children&&a.MenuList[r].children.length&&(a.MenuList[r].domEl.childEls.style.display="none");e&&e.children&&h===e.value?e.domEl.childEls.style.display="block":e.domEl.childEls&&(e.domEl.childEls.style.display="none"),a.Actived=c,n?e.callback(u):b()}function b(){if(e.Clipping&&e.Clipping.clearOtherActived(),d!==u){switch(d){case"1":e.FirstPersonControls&&e.FirstPersonControls.DisActive();break;case"2":e.SelectionBox&&e.SelectionBox.DisActive(),window.WatcherScreenLock&&(window.WatcherScreenLock.Lock=!1);break;case"31":e.Clipping&&e.Clipping.MultiSideClose();break;case"32":case"33":case"34":e.Clipping&&e.Clipping.SingleSideClose();break;case"4":e.Render&&e.Render.DisActive();break;case"5":e.scene.controls.enabled=!e.scene.controls.enabled;break;case"61":e.Measures&&e.Measures.SimpleMeasure.DisActive();break;case"62":e.Measures&&e.Measures.HeightMeasure.DisActive();break;case"63":e.Measures&&e.Measures.DistanceMeasure.DisActive();break;case"64":e.Measures&&e.Measures.PointMeasure.DisActive();break;case"65":e.Measures&&e.Measures.ElevationHeightMeasure.DisActive()}switch(u){case"81":e.ViewCube&&e.ViewCube.cameraGoToSpecialView("top");break;case"82":e.ViewCube&&e.ViewCube.cameraGoToSpecialView("down");break;case"83":e.ViewCube&&e.ViewCube.cameraGoToSpecialView("right");break;case"84":e.ViewCube&&e.ViewCube.cameraGoToSpecialView("front");break;case"85":e.ViewCube&&e.ViewCube.cameraGoToSpecialView("left");break;case"86":e.ViewCube&&e.ViewCube.cameraGoToSpecialView("back");break;case"1":e.FirstPersonControls&&e.FirstPersonControls.Active();break;case"2":e.SelectionBox&&e.SelectionBox.Active(),window.WatcherScreenLock&&(window.WatcherScreenLock.Lock=!0);break;case"31":e.Clipping&&e.Clipping.MultiSideOpen(e.OriginalData.clip&&e.OriginalData.clip.data);break;case"32":e.Clipping&&e.Clipping.SingleSideOpen("X轴",e.OriginalData.clip&&e.OriginalData.clip.data[0].constant);break;case"33":e.Clipping&&e.Clipping.SingleSideOpen("Y轴",e.OriginalData.clip&&e.OriginalData.clip.data[0].constant);break;case"34":e.Clipping&&e.Clipping.SingleSideOpen("Z轴",e.OriginalData.clip&&e.OriginalData.clip.data[0].constant);break;case"4":e.Render&&e.Render.Active();break;case"5":e.scene.controls.enabled=!e.scene.controls.enabled;break;case"61":e.Measures&&e.Measures.SimpleMeasure.Active();break;case"62":e.Measures&&e.Measures.HeightMeasure.Active();break;case"63":e.Measures&&e.Measures.DistanceMeasure.Active();break;case"64":e.Measures&&e.Measures.PointMeasure.Active();break;case"65":e.Measures&&e.Measures.ElevationHeightMeasure.Active()}}"Phone"===j()&&(t.className=u&&"81"!==u&&"82"!==u&&"83"!==u&&"84"!==u&&"85"!==u&&"86"!==u?"Top-Menu-Container-Mask Hide-Menu-Contain":"Top-Menu-Container-Mask Show-Menu-Contain")}function w(){for(var e=0;e<a.MenuList.length;e++)if("7"!=a.MenuList[e].value&&(a.MenuList[e].domEl.className=a.MenuList[e].domEl.className.replace("Actived",""),a.MenuList[e].children)&&a.MenuList[e].children.length)for(var t=0;t<a.MenuList[e].children.length;t++)a.MenuList[e].children[t].domEl.className=a.MenuList[e].children[t].domEl.className.replace("Actived","")}return i.appendChild(r),t.appendChild(i),l.appendChild(t),a.ShowMenu=function(){i.style.display="block",a.Show=!0},a.HideMenu=function(){i.style.display="none",a.Show=!1},a.AddItem=function(e){y(e,!0)},a.ClickItem=function(e){for(var t=null,n=a.MenuList,i=0;i<n.length;i++){if(n[i].label===e){t=n[i];break}if(n[i].children)for(var r=0;r<n[i].children.length;r++)if(n[i].children[r].label===e){t=n[i].children[r],n[i];break}if(t)break}t&&t.domEl&&t.domEl.click()},a.DisabledItem=function(e,t,n){var i,r=(r=s()(r=a.MenuList).call(r,(function(t){return t.label===e})))&&r.length?r[0]:null;n&&g()(i=r.domEl.className).call(i,"Actived")&&r&&r.domEl&&r.domEl.click(),(i=t?(i=r?s()(i=r.children).call(i,(function(e){return e.label===t})):null)&&i.length?i[0]:null:r)&&((i.disabled=n)?g()(r=i.domEl.className).call(r,"DisabledItem")||(i.domEl.className=i.domEl.className+" DisabledItem"):i.domEl.className=i.domEl.className.replace("DisabledItem",""))},a}function Yh(e,t){var n,i,r,a,o=void 0!==m.a&&v()(e)||e["@@iterator"];if(o)return i=!(n=!0),{s:function(){o=o.call(e)},n:function(){var e=o.next();return n=e.done,e},e:function(e){i=!0,r=e},f:function(){try{n||null==o.return||o.return()}finally{if(i)throw r}}};if(d()(e)||(o=function(e,t){var n;if(e)return"string"==typeof e?$h(e,t):"Map"===(n="Object"===(n=f()(n=Object.prototype.toString.call(e)).call(n,8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?p()(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$h(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return o&&(e=o),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function $h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Zh(e,t,n){var i=new THREE.Color(.375,.63,1),r=new THREE.MeshBasicMaterial({color:i,transparent:!0,opacity:.4,depthTest:!1}),a=(new THREE.LineBasicMaterial({color:i,depthTest:!1}),i=s()(i=e.scene.children).call(i,(function(e){return"rootModel"==e.name})),s()(o=e.scene.children).call(o,(function(e){return"HighLightGroup"==e.name}))[0]);if(t&&t.length){var o,c,u=s()(o=e.scene.children).call(o,(function(e){return"rootModel"==e.name})),h=Yh(t);try{var d,m=function(){var e=c.value;if("InstancedMesh"===e.TypeName||"InstancedMesh-Pipe"==e.TypeName){var t,i=Yh(e.children);try{for(i.s();!(t=i.n()).done;)!function(){var i=t.value;d=s()(u).call(u,(function(t){return t.MeshId==i.name&&e.path==t.url})),l()(n).call(n,(function(t){switch(t.key){case"visible":var n,o=Yh(d);try{for(o.s();!(n=o.n()).done;){var s,l,c=n.value,u=(l=t.val?f()(s=c.cloneInstanceMatrix).call(s,16*i.instanceId,16*(i.instanceId+1)):[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],new THREE.Matrix4);u.elements=l,c.setMatrixAt(i.instanceId,u),c.instanceMatrix.needsUpdate=!0}}catch(t){o.e(t)}finally{o.f()}if(a){var h,p=Yh(a.children);try{for(p.s();!(h=p.n()).done;){var m=h.value;if(i.instanceId===m.ElementInfos.dbid&&i.name===m.ElementInfos.name){m.visible=t.val;break}}}catch(t){p.e(t)}finally{p.f()}}break;case"material":if(t.val){var v,g=new THREE.Group,y=(g.ElementInfos={TypeName:e.TypeName,dbid:i.instanceId,name:i.name,basePath:i.basePath,relativePath:i.relativePath},Yh(d));try{for(y.s();!(v=y.n()).done;){var x,b=v.value,w=f()(x=b.instanceMatrix.array).call(x,16*i.instanceId,16*(i.instanceId+1)),_=new THREE.Matrix4,M=(_.elements=w,Jh(b.geometry,_,r)),S=M.mesh,E=M.line;g.add(S,E),a.add(g)}}catch(t){y.e(t)}finally{y.f()}}else{var T,C=Yh(a.children);try{for(C.s();!(T=C.n()).done;){var A=T.value;i.instanceId===A.ElementInfos.dbid&&i.name===A.ElementInfos.name&&a.remove(A)}}catch(t){C.e(t)}finally{C.f()}}}}))}()}catch(t){i.e(t)}finally{i.f()}}else if(("Mesh"===e.TypeName||"PipeMesh"===e.TypeName)&&e.children.length&&e.path){var o,h=Yh(e.children);try{for(h.s();!(o=h.n()).done;){var p,m=o.value,v=!1,g=Yh(u);try{var y=function(){var t=p.value;if(e.path===t.url&&t&&t.material.length){var i,o=Yh(t.ElementInfos);try{for(o.s();!(i=o.n()).done;)!function(){var o=i.value;o.name===m&&l()(n).call(n,(function(n){switch(n.key){case"visible":if(t.material[o.dbid]=t.cloneMaterialArray[o.dbid].clone(),t.material[o.dbid].visible=n.val,t.cloneMaterialArray[o.dbid].visible=n.val,a){var i,s=Yh(a.children);try{for(s.s();!(i=s.n()).done;){var l=i.value;if(o.dbid===l.ElementInfos.dbid&&o.name===l.ElementInfos.name){l.visible=n.val;break}}}catch(n){s.e(n)}finally{s.f()}}break;case"material":if(n.val){t.material[o.dbid]=t.cloneMaterialArray[o.dbid].clone();var c=t.meshs[o.dbid],u=new THREE.Group,h=(d=(u.ElementInfos={TypeName:e.TypeName,dbid:o.dbid,name:o.name,basePath:o.basePath,relativePath:o.relativePath},Jh(c.geometry,c.matrix,r))).mesh,d=d.line,f=isNaN(c.rotation.x)?0:c.rotation.x,p=isNaN(c.rotation.y)?0:c.rotation.y,m=isNaN(c.rotation.z)?0:c.rotation.z,v=isNaN(c.position.x)?0:c.position.x,g=isNaN(c.position.y)?0:c.position.y;c=isNaN(c.position.z)?0:c.position.z;0==f&&0==p&&0==m||(d.rotation._order="YXZ",h.rotation.set(f,p,m),d.rotation.set(f,p,m)),0==v&&0==g&&0==c||(h.position.set(v,g,c),d.position.set(v,g,c)),u.add(h,d),a.add(u)}else{var y,x=Yh(a.children);try{for(x.s();!(y=x.n()).done;){var b=y.value;o.dbid===b.ElementInfos.dbid&&o.name===b.ElementInfos.name&&a.remove(b)}}catch(n){x.e(n)}finally{x.f()}}}}))}()}catch(i){o.e(i)}finally{o.f()}v=!0}if(v)return"break"};for(g.s();!(p=g.n()).done&&"break"!==y(););}catch(t){g.e(t)}finally{g.f()}}}catch(t){h.e(t)}finally{h.f()}}};for(h.s();!(c=h.n()).done;)m()}catch(e){h.e(e)}finally{h.f()}}else{var v,g=Yh(i);try{var y=function(){var e=v.value;if("InstancedMesh"===e.TypeName||"InstancedMesh-Pipe"===e.TypeName)l()(n).call(n,(function(t){if("visible"===t.key){var n,i=[];if(t.val)n=new Float32Array(e.cloneInstanceMatrix);else{i=p()(e.instanceMatrix.array);for(var r=0;r<i.length;r++)i[r]=0;n=new Float32Array(i)}e.instanceMatrix.array=new Float32Array(n),e.instanceMatrix.needsUpdate=!0}}));else if("Mesh"===e.TypeName||"PipeMesh"===e.TypeName){var t,i=Yh(e.ElementInfos);try{for(i.s();!(t=i.n()).done;)!function(){var i=t.value;l()(n).call(n,(function(t){switch(t.key){case"visible":e.material[i.dbid].visible=t.val,e.cloneMaterialArray[i.dbid].visible=t.val;break;case"material":var n;t.val&&((n=t.val.clone()).clippingPlanes=e.material[i.dbid].clippingPlanes),e.material[i.dbid]=n||e.cloneMaterialArray[i.dbid]}}))}()}catch(t){i.e(t)}finally{i.f()}}};for(g.s();!(v=g.n()).done;)y()}catch(e){g.e(e)}finally{g.f()}a&&l()(n).call(n,(function(e){if("visible"===e.key&&a){var t,n=Yh(a.children);try{for(n.s();!(t=n.n()).done;)t.value.visible=e.val}catch(e){n.e(e)}finally{n.f()}}}))}}function Qh(e,t){for(var n=[],i=0;i<e.length;i+=t)n.push(f()(e).call(e,i,i+t));return n}function Kh(e,t,n){if(t&&t.length){var i,r=s()(e=e.scene.children).call(e,(function(e){return"rootModel"==e.name})),a=Yh(t);try{var o,c=function(){var e,t=i.value,a=(o=s()(r).call(r,(function(e){return-1!=S()(e=e.basePath).call(e,t.path)})),Yh(t.children));try{for(a.s();!(e=a.n()).done;){var c,u=e.value,h=!1,d=Yh(o);try{var p=function(){var e,t=c.value,i=Yh(t.ElementInfos);try{for(i.s();!(e=i.n()).done&&"break"!==function(){var i=e.value;if(G(i.name)[0]===u)return"InstancedMesh"===t.TypeName||"InstancedMesh-Pipe"===t.TypeName?l()(n).call(n,(function(e){switch(e.key){case"visible":var n=f()(n=t.instanceMatrix.array).call(n,16*i.dbid,16*(i.dbid+1)),r=new THREE.Matrix4;r.elements=n,r.elements[0]=e.val?1:0,r.elements[5]=e.val?1:0,r.elements[10]=e.val?1:0,t.setMatrixAt(i.dbid,r),t.instanceMatrix.needsUpdate=!0;break;case"material":if(n=e.val?new THREE.Color(.375,.63,1):new THREE.Color(1,1,1),i.dbid)t.getColorAt(i.dbid,window.color),t.setColorAt(i.dbid,n),t.instanceColor.needsUpdate=!0;else for(var a=0;a<t.material.length;a++)t.material[a].color=new THREE.Color(1,1,1)}})):"Mesh"!==t.TypeName&&"PipeMesh"!==t.TypeName||i.dbid&&t.material[i.dbid]&&l()(n).call(n,(function(e){switch(e.key){case"visible":t.material[i.dbid].visible=e.val,t.cloneMaterialArray[i.dbid].visible=e.val;break;case"material":var n;e.val&&((n=e.val.clone()).clippingPlanes=t.material[i.dbid].clippingPlanes),t.material[i.dbid]=n||t.cloneMaterialArray[i.dbid]}})),h=!0,"break"}(););}catch(e){i.e(e)}finally{i.f()}if(h)return"break"};for(d.s();!(c=d.n()).done&&"break"!==p(););}catch(e){d.e(e)}finally{d.f()}}}catch(e){a.e(e)}finally{a.f()}};for(a.s();!(i=a.n()).done;)c()}catch(e){a.e(e)}finally{a.f()}}}function Jh(e,t,n){return(e=new THREE.Mesh(e,n)).applyMatrix4(t),e.TypeName="HighLightGroup-MeshLine",{mesh:e}}n(0),jh._withStripped=!0,sc={props:{_Engine:{type:Object,default:null},Param:{type:Object,default:null}},components:{},data:function(){return{DeviceOS:"PC",AllMenuList:[{pId:"0",value:"1",label:"视角",icon:"View-All",showType:"Phone",status:!1,disabled:!1,activeChild:null,children:[{pId:"1",value:"11",label:"俯视图",icon:"View-Top",showType:"Phone",status:!1,disabled:!1,dir:"top"},{pId:"1",value:"12",label:"仰视图",icon:"View-Bottom",showType:"Phone",status:!1,disabled:!1,dir:"down"},{pId:"1",value:"13",label:"右视图",icon:"View-East",showType:"Phone",status:!1,disabled:!1,dir:"right"},{pId:"1",value:"14",label:"前视图",icon:"View-South",showType:"Phone",status:!1,disabled:!1,dir:"front"},{pId:"1",value:"15",label:"左视图",icon:"View-West",showType:"Phone",status:!1,disabled:!1,dir:"left"},{pId:"1",value:"16",label:"后视图",icon:"View-North",showType:"Phone",status:!1,disabled:!1,dir:"back"}]},{pId:"0",value:"2",label:"漫游",icon:"roam",showType:"PC Pad Phone",status:!1,disabled:!1,exclusion:["3","41","42","43","44"]},{pId:"0",value:"3",label:"框选",icon:"kuangxuan",showType:"PC Pad",status:!1,disabled:!1,exclusion:["2","41","42","43","44","51","52","53","54","55"]},{pId:"0",value:"4",label:"截面分析",icon:"pouqie",showType:"PC Pad Phone",status:!1,disabled:!1,activeChild:null,children:[{pId:"4",value:"41",label:"剖切",icon:"codepen",showType:"PC Pad Phone",status:!1,disabled:!1,exclusion:["2","3","51","52","53","54","55"]},{pId:"4",value:"42",label:"添加X平面",icon:"xalxe",showType:"PC Pad Phone",status:!1,disabled:!1,exclusion:["2","3","51","52","53","54","55"]},{pId:"4",value:"43",label:"添加Y平面",icon:"zaxle",showType:"PC Pad Phone",status:!1,disabled:!1,exclusion:["2","3","51","52","53","54","55"]},{pId:"4",value:"44",label:"添加Z平面",icon:"yaxle",showType:"PC Pad Phone",status:!1,disabled:!1,exclusion:["2","3","51","52","53","54","55"]}]},{pId:"0",value:"5",label:"测量",icon:"celianggongju",showType:"PC Pad Phone",status:!1,disabled:!1,activeChild:null,children:[{pId:"5",value:"51",label:"点点测量",icon:"celiang",showType:"PC Pad Phone",status:!1,disabled:!1,exclusion:["3","41","42","43","44"]},{pId:"5",value:"52",label:"净高",icon:"arrowsv",showType:"PC Pad Phone",status:!1,disabled:!1,exclusion:["3","41","42","43","44"]},{pId:"5",value:"53",label:"净距",icon:"arrowsh",showType:"PC Pad Phone",status:!1,disabled:!1,exclusion:["3","41","42","43","44"]},{pId:"5",value:"54",label:"坐标",icon:"dingwei",showType:"PC Pad Phone",status:!1,disabled:!1,exclusion:["3","41","42","43","44"]},{pId:"5",value:"55",label:"标高",icon:"biaogao",showType:"PC Pad Phone",status:!1,disabled:!1,exclusion:["3","41","42","43","44"]}]},{pId:"0",value:"6",label:"版本对比",icon:"window-restore",showType:"PC",status:!1,disabled:!1},{pId:"0",value:"7",label:"引擎设置",icon:"setting",showType:"PC Pad Phone",status:!1,disabled:!1},{pId:"0",value:"8",label:"视点",icon:"camera",showType:"Phone",status:!1,disabled:!1},{pId:"0",value:"9",label:"其他",icon:"list",showType:"Phone",status:!1,disabled:!1,activeChild:null,children:[{pId:"9",value:"91",label:"构件树",icon:"file-tree",showType:"Phone",status:!1,disabled:!1},{pId:"9",value:"92",label:"模型属性",icon:"attribute",showType:"Phone",status:!1,disabled:!1},{pId:"9",value:"93",label:"定点漫游",icon:"point-roam-view",showType:"Phone",status:!1,disabled:!1}]}],ActivedList:[],AcrivedJSON:"[]"}},computed:{MenuList:function(){for(var e,t,n=this,i=0;i<this.AllMenuList.length;i++)g()(t=this.AllMenuList[i].showType).call(t,this.DeviceOS)&&this.AllMenuList[i].children&&(this.AllMenuList[i].children=s()(t=this.AllMenuList[i].children).call(t,(function(e){return g()(e=e.showType).call(e,n.DeviceOS)})));return s()(e=this.AllMenuList).call(e,(function(e){var t;return g()(t=e.showType).call(t,n.DeviceOS)&&n._Engine.IsMainScene&&(!e.children||e.children&&e.children.length)}))}},watch:{AcrivedJSON:function(e,t){}},mounted:function(){this.DeviceOS=j(),this.InitData()},methods:{InitData:function(){},closeOtherActive:function(){return"视点"===sessionStorage.getItem("RootMenuSelect")&&(window.DataWatcher.MenuName="视点",!0)},OnMenuClick:function(e,t){var n;"漫游"===e.label&&!this._Engine.FirstPersonControls.isActive&&this.closeOtherActive()||(this.ClearMenuActive(e),t?(t.activeChild?t.activeChild===e.value?t.activeChild=null:(n=o()(n=t.children).call(n,(function(e){return e.value===t.activeChild})),this.DisActivedHandle(t.children[n]),t.activeChild=e.value):t.activeChild=e.value,t.status=!1):e.status=!e.status,this.HandleMenuClick(e,t))},HandleMenuClick:function(e,t){var n=e.value;t=t?t.activeChild===n:e.status;this.GetActivedList(),t?(this.ExclusionSet(e),this.ActivedHandle(e)):this.DisActivedHandle(e)},ExclusionSet:function(e){var t=this;if(e.exclusion){var n,i=Wh(e.exclusion);try{for(i.s();!(n=i.n()).done;)!function(){var e,i=n.value;if(-1<o()(e=t.ActivedList).call(e,(function(e){return e===i})))for(var r=0;r<t.MenuList.length;r++){if(t.MenuList[r].value===i){t.OnMenuClick(t.MenuList[r],null);break}if(t.MenuList[r].children&&t.MenuList[r].children.length){var a=o()(a=t.MenuList[r].children).call(a,(function(e){return e.value===i}));if(-1<a){t.OnMenuClick(t.MenuList[r].children[a],t.MenuList[r]);break}}}}()}catch(e){i.e(e)}finally{i.f()}}},ActivedHandle:function(e){switch(e.value){case"11":case"12":case"13":case"14":case"15":case"16":this._Engine.ViewCube&&this._Engine.ViewCube.cameraGoToSpecialView(e.dir);break;case"2":this._Engine.FirstPersonControls&&this._Engine.FirstPersonControls.Active();break;case"3":this._Engine.SelectionBox&&this._Engine.SelectionBox.Active(),window.WatcherScreenLock&&(window.WatcherScreenLock.Lock=!0);break;case"41":this._Engine.Clipping&&this._Engine.Clipping.MultiSideOpen(this._Engine.OriginalData.clip&&this._Engine.OriginalData.clip.data);break;case"42":this._Engine.Clipping&&this._Engine.Clipping.SingleSideOpen("X轴",this._Engine.OriginalData.clip&&this._Engine.OriginalData.clip.data[0].constant);break;case"43":this._Engine.Clipping&&this._Engine.Clipping.SingleSideOpen("Y轴",this._Engine.OriginalData.clip&&this._Engine.OriginalData.clip.data[0].constant);break;case"44":this._Engine.Clipping&&this._Engine.Clipping.SingleSideOpen("Z轴",this._Engine.OriginalData.clip&&this._Engine.OriginalData.clip.data[0].constant);break;case"51":this._Engine.Measures&&this._Engine.Measures.SimpleMeasure.Active();break;case"52":this._Engine.Measures&&this._Engine.Measures.HeightMeasure.Active();break;case"53":this._Engine.Measures&&this._Engine.Measures.DistanceMeasure.Active();break;case"54":this._Engine.Measures&&this._Engine.Measures.PointMeasure.Active();break;case"55":this._Engine.Measures&&this._Engine.Measures.ElevationHeightMeasure.Active();break;case"6":document.getElementById("threejs-main-sence-container").style.width="50%",document.getElementById("compare-version-container").style.display="block",window.VersionCompareWatcher.List=!0,de(this._Engine);break;case"7":this._Engine.Render&&this._Engine.Render.Active()}},DisActivedHandle:function(e){switch(e.value){case"2":this._Engine.FirstPersonControls&&this._Engine.FirstPersonControls.DisActive();break;case"3":this._Engine.SelectionBox&&this._Engine.SelectionBox.DisActive(),window.WatcherScreenLock&&(window.WatcherScreenLock.Lock=!1);break;case"41":this._Engine.Clipping&&this._Engine.Clipping.MultiSideClose();break;case"42":case"43":case"44":this._Engine.Clipping&&this._Engine.Clipping.SingleSideClose();break;case"51":this._Engine.Measures&&this._Engine.Measures.SimpleMeasure.DisActive();break;case"52":this._Engine.Measures&&this._Engine.Measures.HeightMeasure.DisActive();break;case"53":this._Engine.Measures&&this._Engine.Measures.DistanceMeasure.DisActive();break;case"54":this._Engine.Measures&&this._Engine.Measures.PointMeasure.DisActive();break;case"55":this._Engine.Measures&&this._Engine.Measures.ElevationHeightMeasure.DisActive();break;case"6":document.getElementById("threejs-main-sence-container").style.width="100%",document.getElementById("compare-version-container").style.display="none",window.VersionCompareWatcher.Show=!1,window.VersionCompareWatcher.List=!1,de(this._Engine);break;case"7":this._Engine.Render&&this._Engine.Render.DisActive()}},GetActivedList:function(){var e,t=[],n=Wh(this.MenuList);try{for(n.s();!(e=n.n()).done;){var i=e.value;i.children?i.activeChild&&t.push(i.activeChild):i.status&&t.push(i.value)}}catch(e){n.e(e)}finally{n.f()}this.ActivedList=t,this.AcrivedJSON=F()(this.ActivedList)},ClearMenuActive:function(e){var t,n=Wh(this.MenuList);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.children&&e.value!==i.value&&(i.status=!1)}}catch(e){n.e(e)}finally{n.f()}}}},n(602),nt(sc,jh,[],!1,null,"2e09ce4a",null).exports;r=n(76);var ed=n.n(r),td=n(0);function nd(e){n(604)("./"+W()+"/CaptureMark.scss");var t,i,r,a,o=new Object,c=e.scene.renderer.domElement.parentElement,u="CaptureMarkContain",h="CaptureMarkEdgeLine",d=(o.MouseEvent=null,o.Position=null,o.isActive=!1,null),p={type:"area",val:null,isCenter:!1};function m(e){o.MouseEvent={x:e.clientX,y:e.clientY,event:e}}function v(e,t,n,i){for(var r={type:"area",val:ih().GetProjectPoints(t.point,i.clone(),1),isCenter:!1,faceNormal:i.clone()},a=[],o=0;o<n.length;o+=6){var s=new td.Vector3(n[o],n[o+1],n[o+2]),l=new td.Vector3(n[o+3],n[o+4],n[o+5]);s=ih().PointDistanceLine(t.point,s,l);a.push({start:{x:n[o],y:n[o+1],z:n[o+2]},end:{x:n[o+3],y:n[o+4],z:n[o+5]},distance:s})}var c,u,h,d,f=z()(a).call(a,(function(e,t){return e.distance-t.distance}))[0];e=ih().PointPointDis(t.point,e.camera.position);return f&&f.distance<=.025*e&&(r={type:"line",val:ih().PointProjectLine(t.point,new td.Vector3(f.start.x,f.start.y,f.start.z),new td.Vector3(f.end.x,f.end.y,f.end.z)),isCenter:!1,line:[f.start.x,f.start.y,f.start.z,f.end.x,f.end.y,f.end.z],faceNormal:i.clone()},(c=new td.Line3).start=new td.Vector3(f.start.x,f.start.y,f.start.z),c.end=new td.Vector3(f.end.x,f.end.y,f.end.z),c=c.getCenter(),u=ih().PointPointDis(t.point,c),h=ih().PointPointDis(t.point,f.start),d=ih().PointPointDis(t.point,f.end),h<=.015*e||d<=.015*e||u<=.01*e)&&(e=h,r={type:"point",val:f.start,isCenter:!1,faceNormal:i.clone()},u<e&&(e=u,r={type:"point",val:c,isCenter:!0,faceNormal:i.clone()}),d<e)&&(e=d,r={type:"point",val:f.end,isCenter:!1,faceNormal:i.clone()}),r}function g(){t.style.display="none",i.style.display="none",r.style.display="none",a.style.display="none";for(var n=e.scene,o=n.children.length-1;0<=o;o--)n.children[o].Name===h&&n.remove(n.children[o]);p={type:"area",val:null,isCenter:!1}}return o.Active=function(){var n,y,x,b,w,_;o.isActive||(n=function n(){if(d=requestAnimationFrame(n),o.MouseEvent){var a=o.MouseEvent;if(o.Position=null,g(),a.event.target instanceof HTMLCanvasElement){var u,m,y,x,b=new td.Raycaster(new td.Vector3,new td.Vector3,0,300),w=new td.Vector2,_=(w.x=(a.x-e.scene.camera.viewport.x)/e.scene.camera.viewport.z*2-1,w.y=-(a.y-e.scene.camera.viewport.y)/e.scene.camera.viewport.w*2+1,b.setFromCamera(w,e.scene.camera),b.intersectObjects(o.models,!0));switch(_.length&&(a=[],w=null,b=[],"HighlightMesh"==(u=_[0]).object.TypeName?(m=(y=e.scene.children[u.object.Indexs[0]]).ElementInfos[u.object.Indexs[1]])&&!1!==y.geometry.groups[m.dbid].visibility&&(b=(w=(a=s()(y=e.AllEdgeList).call(y,(function(e){return e.Indexs===u.object.Indexs[0]})))&&a.length?a[0]:null)&&w.ElementInfos[m.dbid]?w.ElementInfos[m.dbid].EdgeList:[],p=v(e.scene,u,b,u.face.normal.clone())):"Mesh"==u.object.TypeName||"Mesh-Structure"==u.object.TypeName||"PipeMesh"==u.object.TypeName?(m=ue(e,u.object,u.point))&&!1!==u.object.geometry.groups[m.dbid].visibility&&(b=(w=(a=s()(y=e.AllEdgeList).call(y,(function(e){return e.Indexs===u.object.index})))&&a.length?a[0]:null)&&w.ElementInfos[m.dbid]?w.ElementInfos[m.dbid].EdgeList:[],p=v(e.scene,u,b,u.face.normal.clone())):"InstancedMesh"!=u.object.TypeName&&"InstancedMesh-Pipe"!=u.object.TypeName||(b=(w=(a=s()(y=e.AllEdgeList).call(y,(function(e){return e.Indexs===u.object.index})))&&a.length?a[0]:null)&&w.ElementInfos[u.instanceId]?w.ElementInfos[u.instanceId].EdgeList:[],y=f()(m=u.object.instanceMatrix.array).call(m,16*u.instanceId,16*(u.instanceId+1)),(a=new td.Matrix4).elements=y,w=new td.Vector3,m=new td.Quaternion,y=new td.Vector3,a.decompose(w,m,y),a=(new td.Matrix4).makeRotationFromQuaternion(m),w=u.face.normal.clone().applyMatrix4(a.clone()).normalize(),p=v(e.scene,u,b,w)),y={worldPoint:u.point.clone(),screenPoint:ee(u.point.clone(),e.scene.camera),capture:p},o.Position=y),p.type){case"area":_.length&&p.val&&(x=l()(x=p.val).call(x,(function(t){return(t=ee(new td.Vector3(t.x,t.y,t.z),e.scene.camera)).x+","+t.y})),r.style.display="block",r.firstChild.setAttribute("points",x.join(" ")));break;case"line":!function(e,t){var n;(n=new ch).setPositions(t),t=new lh({color:"#00ff00",linewidth:1,vertexColors:!1});(n=(t.resolution.set(c.clientWidth,c.clientHeight),new td.LineSegments(n,t))).Name=h,e.add(n)}(e.scene,p.line);break;case"point":p.isCenter?(x=ee(new td.Vector3(p.val.x,p.val.y,p.val.z),e.scene.camera),i.style.display="block",i.style.top=x.y-5+"px",i.style.left=x.x-5+"px"):(x=ee(new td.Vector3(p.val.x,p.val.y,p.val.z),e.scene.camera),t.style.top=x.y+"px",t.style.left=x.x+"px",t.style.width="10px",t.style.height="10px",t.style.transform="translate(-50%,-50%)",t.style.display="block")}}}e.scene.renderer.render(e.scene,e.scene.camera)},e.Measures.isActive=!0,o.models=e.GetAllVisibilityModel(),e.EngineRay&&null!=e.GpuRay&&(e.EngineRay.Active(),o.models=s()(y=o.models).call(y,(function(e){return"InstancedMesh"==e.TypeName||"InstancedMesh-Pipe"==e.TypeName})),o.models.push(e.scene.children[5]),console.log(o.models)),e.ResetSelectedModels_("highlight",[],!0),y=_u(c,y=u),x="http://www.w3.org/2000/svg",(b=document.createElementNS(x,"svg")).setAttribute("style","position:absolute;width:20px;height:20px;display:none;pointer-events:none;"),(w=document.createElementNS(x,"polygon")).setAttribute("points","5,0 10,10 0,10"),w.setAttribute("style","fill:rgba(0,255,0,0.2);stroke:rgba(0,255,0,1);stroke-width:2;pointer-events:none;"),b.appendChild(w),y.appendChild(b),(w=document.createElement("div")).className="CapturePointMark",y.appendChild(w),(_=document.createElementNS(x,"svg")).setAttribute("style","position:absolute;width:100vw;height:100vh;display:none;pointer-events: none;"),(x=document.createElementNS(x,"polygon")).setAttribute("points","0,0 10,0 10,10 0,10"),x.setAttribute("style","fill:rgba(0,255,0,0.2);stroke:rgba(0,255,0,1);stroke-width:2;pointer-events:none;"),_.appendChild(x),y.appendChild(_),(x=document.createElement("div")).className="CaptureChuiDianPointMark",y.appendChild(x),i=(b={Triangle:b,Quadrangle:w,Area:_,ChuiDian:x}).Triangle,t=b.Quadrangle,r=b.Area,a=b.ChuiDian,e.scene.renderer.domElement.className=ed()(w=e.scene.renderer.domElement.className.replace("custom-cursor","")).call(w)+" custom-cursor",c.addEventListener("pointermove",m),n(),o.isActive=!0)},o.DisActive=function(){var t;o.isActive&&(e.Measures.isActive=!1,e.EngineRay&&e.EngineRay.DisActive(),(t=c.getElementsByClassName(u)[0])&&t.remove(),e.scene.renderer.domElement.className=ed()(t=e.scene.renderer.domElement.className.replace("custom-cursor","")).call(t),c.removeEventListener("pointermove",m),cancelAnimationFrame(d),o.isActive=!1)},o}lc=n(123);var id=n.n(lc);function rd(e,t){var n,i,r,a,o=void 0!==m.a&&v()(e)||e["@@iterator"];if(o)return i=!(n=!0),{s:function(){o=o.call(e)},n:function(){var e=o.next();return n=e.done,e},e:function(e){i=!0,r=e},f:function(){try{n||null==o.return||o.return()}finally{if(i)throw r}}};if(d()(e)||(o=function(e,t){var n;if(e)return"string"==typeof e?ad(e,t):"Map"===(n="Object"===(n=f()(n=Object.prototype.toString.call(e)).call(n,8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?p()(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ad(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return o&&(e=o),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ad(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var od=n(0);function sd(e){window.addEventListener("bimengine:camerachange",function(e,t){var n=1<arguments.length&&void 0!==t?t:500;return function(){var t=arguments,i=this;clearTimeout(e.timerId),e.timerId=a()((function(){var n;e.call.apply(e,u()(n=[i]).call(n,be()(t)))}),n)}}((function(){i=e.scene.children;var a=e.ModelOctreeBox;if(null!=a){s=[];for(var c=0;c<a.length;c++){var u=a[c];!function e(t){if(1==r(t))if(0==t.isLeaf){l(t,!0);var n,i=rd(t.children);try{for(i.s();!(n=i.n()).done;){e(n.value)}}catch(e){i.e(e)}finally{i.f()}}else l(t,!0);else l(t,!1)}(u),function e(t){if(1==o(t))if(0==t.isLeaf){l(t,!0);var n,i=rd(t.children);try{for(i.s();!(n=i.n()).done;){e(n.value)}}catch(e){i.e(e)}finally{i.f()}}else l(t,!0);else l(t,!1)}(u)}}!function(){var i=e.ModelInstanceBox;if(i&&i.length){var a,o=rd(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;r(s.box)&&function(n){if((r=e.scene.camera.position).x>n.min.x&&r.y>n.min.y&&r.z>n.min.z&&r.x<n.max.x&&r.y<n.max.y&&r.z<n.max.z)return!0;var i,r,a=rd(r=n.DensePoint);try{for(a.s();!(i=a.n()).done;)if(i.value.clone().distanceTo(e.scene.camera.position)<t*n.length*2)return!0}catch(n){a.e(n)}finally{a.f()}return!1}(s.box)?0!=e.scene.children[n+s.i].Treevisible&&(e.scene.children[n+s.i].visible=!0):e.scene.children[n+s.i].visible=!1}}catch(i){o.e(i)}finally{o.f()}}}()}),200));var t=15,n=6,i=e.scene.children;function r(t){var n,i=rd(t.DensePoint);try{for(i.s();!(n=i.n()).done;)if(1==te(n.value,e.scene.camera))return!0}catch(t){i.e(t)}finally{i.f()}}function o(n){var i,r=e.scene.camera.position;return r.x>n.min.x&&r.y>n.min.y&&r.z>n.min.z&&r.x<n.max.x&&r.y<n.max.y&&r.z<n.max.z?n.keepFresh=!0:(i=n.min.distanceTo(r),r=n.max.distanceTo(r),i=Math.min(i,r),n.keepFresh=i<40,!(i>t*n.length))}new od.MeshStandardMaterial({color:new od.Color("rgb(220,0,0)"),side:od.DoubleSide,depthTest:!0,visible:!1});var s=[];function l(e,t){if(0==t&&null!=e.elements){for(var r=!0,a=0;a<s.length;a++)if(s[a]==e.id){r=!1;break}if(r&&s.push(e.id),null!=e&&null!=e.elements){for(var o=0;o<e.elements.length;o++){var c=e.elements[o];null!=c&&0!=i[n+c.i].geometry.groups.length&&(i[n+c.i].geometry.groups[c.j].hide=!0,i[n+c.i].geometry.groups[c.j].keepFresh=e.keepFresh)}if(0==e.isLeaf){var u,h=rd(e.children);try{for(h.s();!(u=h.n()).done;)l(u.value,t)}catch(e){h.e(e)}finally{h.f()}}}}else{for(var d=!0,f=0;f<s.length;f++)if(s[f]==e.id){d=!1;break}if(0!=d&&null!=e&&null!=e.elements){for(var p=0;p<e.elements.length;p++){var m=e.elements[p];null!=m&&0!=i[n+m.i].geometry.groups.length&&(i[n+m.i].geometry.groups[m.j].hide=!1,i[n+m.i].geometry.groups[m.j].keepFresh=e.keepFresh)}if(0==e.isLeaf){var v,g=rd(e.children);try{for(g.s();!(v=g.n()).done;)l(v.value,t)}catch(e){g.e(e)}finally{g.f()}}}}}}function ld(e,t){var n,i,r,a,o=void 0!==m.a&&v()(e)||e["@@iterator"];if(o)return i=!(n=!0),{s:function(){o=o.call(e)},n:function(){var e=o.next();return n=e.done,e},e:function(e){i=!0,r=e},f:function(){try{n||null==o.return||o.return()}finally{if(i)throw r}}};if(d()(e)||(o=function(e,t){var n;if(e)return"string"==typeof e?cd(e,t):"Map"===(n="Object"===(n=f()(n=Object.prototype.toString.call(e)).call(n,8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?p()(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cd(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return o&&(e=o),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function cd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ud(e,t){var n=0;function i(e,t,i){var r=!(2<arguments.length&&void 0!==i)||i,a=[];return function e(i,o){if(i&&i.length)for(var s=0;s<i.length;s++)i[s].Isleaf?(r&&(i[s].key=t+"_"+n++),i[s].path=t,i[s].T_Name=o,a.push(i[s])):(r&&(i[s].key=t+"_"+n++),i[s].path=t,e(i[s].children,i[s].Name))}(e,""),a}!function(r){w("file/"+r+"/modelTreeMapping.zip",(function(a){a=JSON.parse(a);var s,h,d,f={Name:r,Isleaf:!1,children:a,path:r,key:r+"_"+n++,level:0},p=(f=(e.treeData.push(f),i([{Isleaf:!1,children:a}],r)),function(e){return Object($.a)({url:"/api/BIMModel/GetModelNameWithUrl?url="+e,method:"get"})}(r).then((function(t){var n=o()(n=e.treeData).call(n,(function(e){return e.Name==r}));-1!=n&&(e.treeData[n].Name=t.data.list[0])})),l()(p=e.scene.children).call(p,(function(e){return{relativePath:e.relativePath,ElementInfos:null==e.ElementInfos?null:l()(e=e.ElementInfos).call(e,(function(e){return{name:e.name.split("][")[1].split("]")[0].toString().replace(" ","")}}))}}))),m=[],v=ld(a);try{for(v.s();!(s=v.n()).done;)!function(){var e=s.value,t={path:r,Name:e.Name,children:[]};l()(e=i([{Isleaf:!1,children:JSON.parse(F()(e.children))}],r,!1)).call(e,(function(e){var n;e.ModelId=e.ModelId||[],c()(Array.prototype).apply(t.children,u()(n=[t.children.length,e.ModelId.length]).call(n,e.ModelId))})),m.push(t)}()}catch(a){v.e(a)}finally{v.f()}a={modelDatas:p,treeDatas:f,levelDatas:m},h=r,console.log((new Date).getMinutes()+":"+(new Date).getSeconds(),"构件树映射开始:",a.treeDatas.length),(d=new Worker("bimCDN/js/modeltree.worker.js")).postMessage(a),d.onmessage=function(n){var i,r=(n=n.data).type?l()(r=n.type).call(r,(function(e){return delete e.ModelId,delete e.Isleaf,delete e.children,e})):[],a=(n=(c()(Array.prototype).apply(e.treeMapper,u()(a=[e.treeMapper.length,r.length]).call(a,r)),function(n){var i,r=o()(r=e.ModelClassify).call(r,(function(e){return e.Path===n}));if(-1<r?i=e.ModelClassify[r]:(i={Path:t,SameType:[],SameLevel:[]},e.ModelClassify.push(i)),e.treeMapper&&e.treeMapper.length)for(var a=0;a<e.treeMapper.length;a++)!function(){var t=JSON.parse(F()(e.treeMapper[a])),n=(t.ModelIds=t.ModelIds||[],o()(n=i.SameType).call(n,(function(e){return e.Name===t.Name})));-1<n?c()(Array.prototype).apply(i.SameType[n].ModelIds,u()(n=[i.SameType[n].ModelIds.length,t.ModelIds.length]).call(n,t.ModelIds)):(n={Name:t.Name,ModelIds:t.ModelIds},i.SameType.push(n))}()}(h),n.level?l()(a=n.level).call(a,(function(e){return delete e.children,e})):[]),function(n,i){var r,a=o()(a=e.ModelClassify).call(a,(function(e){return e.Path===n}));-1<a?r=e.ModelClassify[a]:e.ModelClassify.push(r={Path:t,SameType:[],SameLevel:[]}),r.SameLevel=i}(h,n),e.UpdateLoadStatus(!1,"treeLoaded",t),JSON.parse(F()(r))),s=ld(a);try{for(s.s();!(i=s.n()).done;){var f,p=i.value;delete p.T_Name,p.ModelIds=p.ModelIds?l()(f=p.ModelIds).call(f,(function(t){return{sortid:e.scene.children[t[0]].sortid,childIndex:t[1]}})):null}}catch(n){s.e(n)}finally{s.f()}var m,v=ld(r=JSON.parse(F()(n)));try{for(v.s();!(m=v.n()).done;){var g,y=m.value;y.ModelIds=y.ModelIds?l()(g=y.ModelIds).call(g,(function(t){return{sortid:e.scene.children[t[0]].sortid,childIndex:t[1]}})):null}}catch(n){v.e(n)}finally{v.f()}for(var x=[],b=(n=(-1<(n=o()(n=e.treeData).call(n,(function(e){return e.path==h})))&&(x=JSON.parse(F()(e.treeData[n]))),F()({type:a,level:r,tree:x})),we(F()(n),e.SaveJsonSize)),w=0;w<b.length;w++)b[w].length&&Z({fileName:"ModelTreeList_V1_2_"+(w+1),jsonData:F()({total:b.length,data:b[w]}),path:t}).then((function(e){})).catch((function(){}));console.log((new Date).getMinutes()+":"+(new Date).getSeconds(),"构件树映射完成"),d.terminate(),d=null},d.onerror=function(e){d.terminate(),d=null}}))}(t)}tt=n(30);var hd=n.n(tt);function dd(e,t){var n;e.transparent=t.transparent,e.opacity=t.opacity,e.side=THREE[t.side],e.color=new THREE.Color(t.color),e.emissive=new THREE.Color(t.emissive),e.emissiveIntensity=t.emissiveIntensity,e.roughness=t.roughness,e.metalness=t.metalness,e.normalScale=new THREE.Vector2(t.normalScale,t.normalScale),"canvas"==l()(t).type?(n=(new THREE.ImageBitmapLoader).setPath(l()(t).path+"/"),/\.jpg$/i.test(l()(t).url)?n.load(l()(t).name+".jpg",(function(n){e.map=new THREE.CanvasTexture(n),l()(e).name=l()(t).name,l()(e).wrapS=l()(t).wrapS,l()(e).wrapT=l()(t).wrapT,l()(e).flipY=l()(t).flipY,hd()(l()(e)).x=hd()(l()(t)).u,hd()(l()(e)).y=hd()(l()(t)).v,l()(e).offset.x=l()(t).offset.u,l()(e).offset.y=l()(t).offset.v,l()(e).encoding=l()(t).encoding,l()(e).format=l()(t).format,l()(e).minFilter=l()(t).minFilter})):n.load(l()(t).name+".png",(function(n){e.map=new THREE.CanvasTexture(n),l()(e).name=l()(t).name,l()(e).wrapS=l()(t).wrapS,l()(e).wrapT=l()(t).wrapT,l()(e).flipY=l()(t).flipY,hd()(l()(e)).x=hd()(l()(t)).u,hd()(l()(e)).y=hd()(l()(t)).v,l()(e).offset.x=l()(t).offset.u,l()(e).offset.y=l()(t).offset.v,l()(e).encoding=l()(t).encoding,l()(e).format=l()(t).format,l()(e).minFilter=l()(t).minFilter}))):e.map=l()(t).url?(new THREE.TextureLoader).load(l()(t).url,(function(e){e.wrapS=THREE.RepeatWrapping,e.wrapT=THREE.RepeatWrapping,hd()(e).set(hd()(l()(t)).u,hd()(l()(t)).v),e.offset.set(l()(t).offset.u,l()(t).offset.v)})):null,e.normalMap=t.normalMap.url?(new THREE.TextureLoader).load(t.normalMap.url,(function(e){e.wrapS=THREE.RepeatWrapping,e.wrapT=THREE.RepeatWrapping,hd()(e).set(hd()(t.normalMap).u,hd()(t.normalMap).v),e.offset.set(t.normalMap.offset.u,t.normalMap.offset.v)})):null,e.roughnessMap=t.roughnessMap.url?(new THREE.TextureLoader).load(t.roughnessMap.url,(function(e){e.wrapS=THREE.RepeatWrapping,e.wrapT=THREE.RepeatWrapping,hd()(e).set(hd()(t.roughnessMap).u,hd()(t.roughnessMap).v),e.offset.set(t.roughnessMap.offset.u,t.roughnessMap.offset.v)})):null}function fd(e,t){var n,i,r,a,o=void 0!==m.a&&v()(e)||e["@@iterator"];if(o)return i=!(n=!0),{s:function(){o=o.call(e)},n:function(){var e=o.next();return n=e.done,e},e:function(e){i=!0,r=e},f:function(){try{n||null==o.return||o.return()}finally{if(i)throw r}}};if(d()(e)||(o=function(e,t){var n;if(e)return"string"==typeof e?pd(e,t):"Map"===(n="Object"===(n=f()(n=Object.prototype.toString.call(e)).call(n,8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?p()(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pd(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return o&&(e=o),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function pd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function md(e,t,n){b(t+"/materialMapList.json",(function(i){if(i){i=JSON.parse(i),i=l()(i).call(i,(function(e){var t;return e.mapList&&e.mapList.length&&l()(t=e.mapList).call(t,(function(e){return e.Param&&(e.Param=JSON.parse(e.Param)),e})),e})),i=(i=s()(i).call(i,(function(e){return e.path==n})))&&i.length&&i[0].mapList&&i[0].mapList.length?i[0].mapList:[];var r,a,o=(console.log(i),s()(r=e.scene.children).call(r,(function(e){return"rootModel"==e.name&&e.basePath==t}))),c=fd(i);try{for(c.s();!(a=c.n()).done;)!function(){var e=a.value;l()(o).call(o,(function(t){t.material.name==e.materialName&&e.Param&&(dd(t.material,e.Param),t.material.materialMap={Id:e.materialId,Name:e.Param.name,Img:e.Img,Param:e.Param},dd(t.cloneMaterialArray,e.Param),t.cloneMaterialArray.materialMap={Id:e.materialId,Name:e.Param.name,Img:e.Img,Param:e.Param},t.material.needsUpdate=!0,t.cloneMaterialArray.needsUpdate=!0,window.bimEngine.RenderUpdate())}))}()}catch(i){c.e(i)}finally{c.f()}}}))}function vd(e,t){var n,i,r,a,o=void 0!==m.a&&v()(e)||e["@@iterator"];if(o)return i=!(n=!0),{s:function(){o=o.call(e)},n:function(){var e=o.next();return n=e.done,e},e:function(e){i=!0,r=e},f:function(){try{n||null==o.return||o.return()}finally{if(i)throw r}}};if(d()(e)||(o=function(e,t){var n;if(e)return"string"==typeof e?gd(e,t):"Map"===(n="Object"===(n=f()(n=Object.prototype.toString.call(e)).call(n,8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?p()(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gd(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return o&&(e=o),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function gd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var yd=n(0);function xd(e,t){var n,i,r,a,o=void 0!==m.a&&v()(e)||e["@@iterator"];if(o)return i=!(n=!0),{s:function(){o=o.call(e)},n:function(){var e=o.next();return n=e.done,e},e:function(e){i=!0,r=e},f:function(){try{n||null==o.return||o.return()}finally{if(i)throw r}}};if(d()(e)||(o=function(e,t){var n;if(e)return"string"==typeof e?bd(e,t):"Map"===(n="Object"===(n=f()(n=Object.prototype.toString.call(e)).call(n,8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?p()(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bd(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return o&&(e=o),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function bd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function wd(e,t){var n,i,r=0,a=o()(a=e.ModelPaths).call(a,(function(e){return e===t})),h=-1<a&&e.PathOff[a]||null;h&&(h=h.split(","),h=l()(h).call(h,(function(e){return Number(e)})));for(var d=0;d<e.scene.children.length;d++)e.scene.children[d].index=d;var m=e.scene.children,v=s()(a=e.scene.children).call(a,(function(e){return"rootModel"==e.name&&e.relativePath===t}));v&&v.length?(console.log((new Date).getMinutes()+":"+(new Date).getSeconds(),"边线计算开始"),function a(){i=[];var o=r;if(v[o]){if("InstancedMesh"==v[o].TypeName)for(var s,d,g=0;g<v[o].ElementInfos.length;g++)v[o].ElementInfos[g].ignoreEdge||-1!==S()(d=v[o].ElementInfos[g].name).call(d,"管件")||-1!==S()(d=v[o].ElementInfos[g].name).call(d,"管道附件")||-1!==S()(d=v[o].ElementInfos[g].name).call(d,"喷头")||(d=void 0,d={TypeName:v[o].TypeName,indexes:[v[o].index,g],geometry:p()(v[o].meshs.geometry.attributes.position.array),indexA:p()(v[o].meshs.geometry.index.array),matrix:p()(f()(s=v[o].cloneInstanceMatrix).call(s,16*g,16*(g+1)))},i.push(d));else if("Mesh"==v[o].TypeName||"Mesh-Structure"==v[o].TypeName)for(var y,x=0;x<v[o].ElementInfos.length;x++)v[o].ElementInfos[x].ignoreEdge||-1!==S()(y=v[o].ElementInfos[x].name).call(y,"管件")||-1!==S()(y=v[o].ElementInfos[x].name).call(y,"管道附件")||-1!==S()(y=v[o].ElementInfos[x].name).call(y,"喷头")||-1!==S()(y=v[o].ElementInfos[x].name).call(y,"机械设备")||-1!==S()(y=v[o].ElementInfos[x].name).call(y,"风道末端")||-1!==S()(y=v[o].ElementInfos[x].name).call(y,"风管附件")||-1!==S()(y=v[o].ElementInfos[x].name).call(y,"风管管件")||-1!==S()(y=v[o].ElementInfos[x].name).call(y,"火警设备")||-1!==S()(y=v[o].ElementInfos[x].name).call(y,"通讯设备")||-1!==S()(y=v[o].ElementInfos[x].name).call(y,"电气设备")||-1!==S()(y=v[o].ElementInfos[x].name).call(y,"照明设备")||-1!==S()(y=v[o].ElementInfos[x].name).call(y,"安全设备")||-1!==S()(y=v[o].ElementInfos[x].name).call(y,"卫浴设备")||(y=void 0,y=v[o].meshs[x].geometry.index?{TypeName:v[o].TypeName,indexes:[v[o].index,x],geometry:p()(v[o].meshs[x].geometry.attributes.position.array),indexA:v[o].meshs[x].geometry.index?p()(v[o].meshs[x].geometry.index.array):null,matrix:p()(v[o].meshs[x].matrix.elements)}:{TypeName:v[o].TypeName,indexes:[v[o].index,x],geometry:p()(v[o].meshs[x].geometry.attributes.position.array),position:{x:v[o].meshs[x].position.x,y:v[o].meshs[x].position.y,z:v[o].meshs[x].position.z},rotation:{x:v[o].meshs[x].rotation._x,y:v[o].meshs[x].rotation._y,z:v[o].meshs[x].rotation._z,order:v[o].meshs[x].rotation._order},matrix:p()(v[o].meshs[x].matrix.elements)},i.push(y));else if("InstancedMesh-Pipe"==v[o].TypeName&&"Circle"!==v[o].PipeType)for(var b=0;b<v[o].ElementInfos.length;b++){var w={TypeName:v[o].TypeName,indexes:[v[o].index,b],geometry:p()(v[o].geometry.attributes.position.array),matrix:p()(f()(w=v[o].instanceMatrix.array).call(w,16*b,16*(b+1))),PipeType:v[o].PipeType};i.push(w)}i&&((n=n||new Worker("bimCDN/js/edge.worker.js")).postMessage({data:i,lastOne:v.length-1===r}),n.onmessage=function(i){var o=i.data;if(o&&o.length){for(var s=[],d=[],f=0;f<o.length;f++){var p={index:o[f].indexes[1],startIndex:s.length,endIndex:s.length+o[f].EdgeList.length-1,EdgeList:o[f].EdgeList};d.push(p),c()(Array.prototype).apply(s,u()(p=[s.length,o[f].EdgeList.length]).call(p,o[f].EdgeList))}e.AllEdgeList.push({Indexs:o[0].indexes[0],ElementInfos:d,path:t,sortid:m[o[0].indexes[0]].sortid})}if(r+=1,a(),v.length===r){n&&n.terminate(),n=null,e.UpdateLoadStatus(!1,"edgeLoaded",t),console.log((new Date).getMinutes()+":"+(new Date).getSeconds(),"边线计算完成");for(var g=[],y=(l()(i=e.AllEdgeList).call(i,(function(e){if(e.path===t){delete e.path;var n=JSON.parse(F()(e));if(h&&3==h.length){var i,r=xd(n.ElementInfos);try{for(r.s();!(i=r.n()).done;)for(var a=i.value,o=0;o<a.EdgeList.length;o+=3)a.EdgeList[o]=a.EdgeList[o]-h[0],a.EdgeList[o+1]=a.EdgeList[o+1]-h[2],a.EdgeList[o+2]=a.EdgeList[o+2]-h[1]}catch(e){r.e(e)}finally{r.f()}}g.push(n)}return e})),we(F()(g),1e7)),x=0;x<y.length;x++)y[x].length&&Z({fileName:"ModelEdgeList_"+(x+1),jsonData:F()({total:y.length,data:y[x]}),path:t}).then((function(e){})).catch((function(){}))}},n.onerror=function(e){n.terminate(),n=null})}}()):e.UpdateLoadStatus(!1,"edgeLoaded",t)}n(0);var _d=n(0);function Md(e){var t,n=new Object,i=(n.isActive=!1,e.scene),r=e.scene.camera,a=e.scene.renderer,o=new _d.MeshBasicMaterial({vertexColors:!0});function s(e,t){for(var n=e.attributes.position,i=[],r=0;r<n.count;r++)i.push(t.r,t.g,t.b);e.setAttribute("color",new _d.Float32BufferAttribute(i,3))}new _d.MeshPhongMaterial({color:16777215,flatShading:!0,vertexColors:!0,shininess:0}),a.domElement.addEventListener("pointermove",(function(e){u.x=e.clientX,u.y=e.clientY}));var l,u=new _d.Vector3,d=new _d.Color,f=new _d.WebGLRenderTarget(1,1);function p(){r.setViewOffset(a.domElement.width,a.domElement.height,u.x*window.devicePixelRatio|0,u.y*window.devicePixelRatio|0,1,1),a.setRenderTarget(f),a.render(n.scene,r),r.clearViewOffset();var t,o=new Uint8Array(4);a.readRenderTargetPixels(f,0,0,1,1,o),o=o[0]<<16|o[1]<<8|o[2];a.setRenderTarget(null),e.GpuRay=null,0!=o?(o=n.pickingData[o])&&(t=new _d.Mesh(o.geometry,new _d.MeshBasicMaterial({color:16776960,transparent:!0,opacity:0})),0!=i.children[o.i].geometry.groups[o.j].visibility)&&(e.GpuRay=o,t.TypeName="HighlightMesh",t.Indexs=[o.i,o.j],i.children[5].children[0]=t):c()(o=i.children[5].children).call(o,0,1)}return null==n.scene&&(l=new _d.Scene,n.scene=l),n.index=0,n.pickingData=[],n.AddModels=function(){for(var t=[],i=[],r=e.scene.children,a=0;a<r.length;a++){var l=r[a];if(1!=l.IsGpuRay&&(l.IsGpuRay=!0,"Mesh"==l.TypeName||"Mesh-Structure"==l.TypeName))for(var c=0;c<l.ElementInfos.length;c++){g=v=m=p=void 0;var u=a,f=c,p=r[u],m=p.meshs[f],v=p.meshs[f].geometry.clone(),g=(s(v,g=d.setHex(16777215*Math.random())),v=v.clone(),d.setHex(n.index++));s(v,g),null==v.index?((g=(g=new _d.Matrix4).makeRotationFromEuler(m.rotation)).elements[12]=m.position.x,g.elements[13]=m.position.y,g.elements[14]=m.position.z,t.push(v.applyMatrix4(g.clone()))):i.push(v.applyMatrix4(m.matrix.clone())),n.pickingData.push({i:u,j:f,geometry:v,name:p.ElementInfos[f].name})}}0<t.length&&(n.scene.add(new _d.Mesh(_d.BufferGeometryUtils.mergeBufferGeometries(t),o)),h()(t).call(t,(function(e){e.dispose()})),t=null),0<i.length&&(n.scene.add(new _d.Mesh(_d.BufferGeometryUtils.mergeBufferGeometries(i),o)),h()(i).call(i,(function(e){e.dispose()})),i=null)},n.applyVertexColors=function(e,t,n){},n.pick=function(e,t,n){p()},n.Active=function(){!function e(){t=requestAnimationFrame(e),p(),a.setRenderTarget(null)}(),n.isActive=!0},n.DisActive=function(){cancelAnimationFrame(t),n.isActive=!1},n}function Sd(){var e=new Object;return e.AddButton=function(e,t){document.getElementsByClassName("Right-Click-Menu-Container")[0]},e.AddMenuList=function(e,t){var n=document.getElementsByClassName("Right-Click-Menu-Container")[0],i=document.createElement("div"),r=(i.className="Menu-Item",document.createElement("span"));(e=(r.innerHTML=e.label,i.appendChild(r),document.createElement("span"))).className="Menu-Item-Icon",i.appendChild(e),i.onclick=function(e){n&&(n.style.display="none"),t()},n.appendChild(i)},e}function Ed(){var e=this,t=e._self._c;return e.dialogVisible?t("el-dialog",{staticClass:"DIALOG",attrs:{title:"工程量统计",visible:e.dialogVisible,width:"70%","append-to-body":""},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("div",[t("el-row",[t("el-button",{staticStyle:{float:"right"},attrs:{size:"mini"},on:{click:e.Setting}},[e._v("设置")])],1),e._v(" "),t("el-row",{staticStyle:{"margin-top":"10px"}},[t("el-table",{attrs:{data:e.tableList,size:"mini",height:"50vh"}},[t("el-table-column",{attrs:{label:"序号",width:"60",type:"index"}}),e._v(" "),t("el-table-column",{attrs:{label:"专业",width:"80",prop:"Category"}}),e._v(" "),t("el-table-column",{attrs:{label:"构件类型",prop:"ModelType",width:"120"}}),e._v(" "),t("el-table-column",{attrs:{label:"族类型",prop:"Name"}}),e._v(" "),t("el-table-column",{attrs:{label:"特征类型",prop:"Feature",width:"120"}}),e._v(" "),t("el-table-column",{attrs:{label:"项目特征",prop:"FeatureDetail",width:"280"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("span",{staticStyle:{"white-space":"pre-line"}},[e._v(e._s(n.row.FeatureDetail))])]}}],null,!1,1372487338)}),e._v(" "),t("el-table-column",{attrs:{label:"计量方式",width:"120",prop:"StatisticalType"}}),e._v(" "),t("el-table-column",{attrs:{label:"工程量",width:"180",prop:"Number"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("span",[e._v(e._s(n.row.Number.toFixed(3)))])]}}],null,!1,1674656404)}),e._v(" "),t("el-table-column",{attrs:{label:"计量单位",width:"120",prop:"Unit"}})],1)],1)],1),e._v(" "),t("Form",{ref:"Form",on:{Submit:e.GetCostFilter}})],1):e._e()}function Td(){var e=this,t=e._self._c;return t("el-dialog",{staticClass:"JNPF-dialog JNPF-dialog_center",attrs:{title:"工程量设置","close-on-click-modal":!1,"close-on-press-escape":!1,visible:e.visible,"lock-scroll":"",width:"660px","append-to-body":""},on:{"update:visible":function(t){e.visible=t}}},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"tableRef",attrs:{data:e.tableList,"max-height":"400"}},[t("el-table-column",{attrs:{prop:"Category",label:"构件类型","min-width":"140"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("div",{staticClass:"item-contaim"},[t("div",{staticClass:"label"},[n.row.disabledCategory?t("span",[e._v(e._s(n.row.Category))]):t("el-input",{staticClass:"input-class",attrs:{size:"mini",placeholder:"构件类型",disabled:n.row.disabledCategory},model:{value:n.row.Category,callback:function(t){e.$set(n.row,"Category",t)},expression:"scope.row.Category"}})],1),e._v(" "),n.row.Id?e._e():t("div",{staticClass:"icon"},[t("i",{staticClass:"el-icon-edit",on:{click:function(e){n.row.disabledCategory=!n.row.disabledCategory}}})])])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"StatisticsBasis",label:"统计依据","min-width":"180"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("div",{staticClass:"item-contaim"},[t("div",{staticClass:"label"},[n.row.disabledStatisticsBasis?t("span",[e._v(e._s(n.row.StatisticsBasis))]):t("el-input",{staticClass:"input-class",attrs:{size:"mini",placeholder:"统计依据",disabled:n.row.disabledStatisticsBasis},model:{value:n.row.StatisticsBasis,callback:function(t){e.$set(n.row,"StatisticsBasis",t)},expression:"scope.row.StatisticsBasis"}})],1),e._v(" "),t("div",{staticClass:"icon"},[t("i",{staticClass:"el-icon-edit",on:{click:function(e){n.row.disabledStatisticsBasis=!n.row.disabledStatisticsBasis}}})])])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"StatisticsType",label:"统计方式","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("el-select",{attrs:{size:"mini",placeholder:"请选择"},on:{change:function(t){return e.onStatisticsTypeChange(n.row)}},model:{value:n.row.StatisticsType,callback:function(t){e.$set(n.row,"StatisticsType",t)},expression:"scope.row.StatisticsType"}},e._l(e.options,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"Unit",label:"单位","min-width":"60"}})],1),e._v(" "),t("div",[t("el-button",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{icon:"el-icon-plus",size:"small"},on:{click:e.addItem}},[e._v("新增")])],1),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取消")]),e._v(" "),t("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:function(t){return e.dataFormSubmit()}}},[e._v("\n\t\t\t保存\n\t\t")])],1)],1)}n(248)("./"+W()+"/RightClickMenu.scss"),Ed._withStripped=!0;M=n(92);var Cd=n.n(M);function Ad(){return Object($.a)({url:"/api/CostFilter/GetCostFilter",method:"get"})}function Ld(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}Td._withStripped=!0;var Pd;cc={data:function(){return{visible:!1,listLoading:!1,btnLoading:!1,options:[{label:"体积",value:"体积",unit:"m³"},{label:"面积",value:"面积",unit:"㎡"},{label:"数量",value:"数量",unit:"个"},{label:"截面面积",value:"截面面积",unit:"㎡"},{label:"长度",value:"长度",unit:"m"}],tableList:[]}},methods:{init:function(){this.visible=!0,this.listLoading=!0,this.getModelTreeTypeList()},getModelTreeTypeList:function(){var e=this;Ad().then((function(t){e.listLoading=!1,e.tableList=l()(t=t.data.list).call(t,(function(e){return e}))}))},onStatisticsTypeChange:function(e){var t,n=function(e,t){var n,i,r,a,o=void 0!==m.a&&v()(e)||e["@@iterator"];if(o)return i=!(n=!0),{s:function(){o=o.call(e)},n:function(){var e=o.next();return n=e.done,e},e:function(e){i=!0,r=e},f:function(){try{n||null==o.return||o.return()}finally{if(i)throw r}}};if(d()(e)||(o=function(e,t){var n;if(e)return"string"==typeof e?Ld(e,t):"Map"===(n="Object"===(n=f()(n=Object.prototype.toString.call(e)).call(n,8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?p()(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ld(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return o&&(e=o),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(this.options);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.value===e.StatisticsType){e.Unit=i.unit;break}}}catch(e){n.e(e)}finally{n.f()}},dataFormSubmit:function(){var e,t=this;this.btnLoading=!0,e=this.tableList,Object($.a)({url:"/api/CostFilter/SaveCostFilters",method:"post",data:e}).then((function(e){t.btnLoading=!1,t.visible=!1,t.$emit("Submit")}))},addItem:function(){var e=this;console.log(this.tableList);for(var t=0;t<this.tableList.length;t++)if(!this.tableList[t].StatisticsBasis||!this.tableList[t].StatisticsType)return void this.$message({type:"error",message:"请先将表格填写完整！"});this.tableList.push({Id:null,StatisticsBasis:"",StatisticsType:"",Unit:"",Category:"",disabledStatisticsBasis:!1,disabledCategory:!1}),console.log(this.$refs.tableRef.$refs.JNPFTable),this.$nextTick((function(){e.$refs.tableRef.$refs.JNPFTable.bodyWrapper.scrollTop=e.$refs.tableRef.$refs.JNPFTable.bodyWrapper.scrollHeight}))}}},n(613),sc=nt(cc,Td,[],!1,null,"579318b6",null).exports;function kd(e){return Pd.apply(this,arguments)}r={props:{show:{type:Boolean,default:!1},item:{type:Object,default:null}},components:{Form:sc},data:function(){return{dialogVisible:this.show,tableList:[],CostFilterList:[],currentCategoryModels:[],categoryModels:[],options:["建筑","结构","管道","电气","暖通","其他"],CatogoryOptions:[],setListfilter:[],search_major:"",search_type:"",btnLoading:!1}},mounted:function(){this.init()},methods:{GetCostFilter:function(){var e=this;Ad().then((function(t){e.listLoading=!1,e.CostFilterList=l()(t=t.data.list).call(t,(function(e){return e}))}))},SelectTypeChange:function(e){var t=this,n=(Ad().then((function(e){t.listLoading=!1,t.CostFilterList=l()(e=e.data.list).call(e,(function(e){return e}));for(var c=0;c<i.length;c++)!function(e,t){for(var i,c,u=function(){var u=a[h];if(null!=u.ModelIds)for(var d=function(){if(c=u.ModelIds[f],e[0]==c[0]&&e[1]==c[1]){var a=r[e[0]].ElementInfos[e[1]].name;if(c=[],0!=(d=s()(d=window.bimEngine.QuantitiesList).call(d,(function(e){return e.path==u.path}))).length){if(c=s()(d=d[0].datas).call(d,(function(e){return g()(a).call(a,e.UniqueId)&&g()(a).call(a,e.ModelId)})),i=s()(t).call(t,(function(e){return e.Category==u.Name})),1!=c.length)return"continue";if(1!=i.length)return"continue";m=c[0].Features,d=(d=i[0].StatisticsBasis).split(","),m=JSON.parse(m),v=[],l()(d).call(d,(function(e){var t=o()(m).call(m,(function(t){return t.Item1==e}));-1!=t&&v.push(e+"："+m[t].Item2+",")}));var h=v.join("\r\n"),d=(d=i[0].StatisticsType,p=c[0],"体积"==d?p.Volume:"面积"==d?p.Area:"数量"==d?p.Count:"截面面积"==d?p.Area:"长度"==d?p.Length:void 0);-1==(p=o()(n).call(n,(function(e){return e.ModelType==u.Name&&e.FeatureDetail==h})))?(c={ModelType:u.Name,Category:u.T_Name,Feature:1==i.length?i[0].StatisticsBasis:"",FeatureDetail:h,Name:c[0].Name,StatisticalType:1==i.length?i[0].StatisticsType:"",Unit:1==i.length?i[0].Unit:"",Number:.001*Math.round(1e3*d)},n.push(c)):(n[p].Number=n[p].Number+d,n[p].Number=.001*Math.round(1e3*n[p].Number))}return{v:{v:void 0}}}var p,m,v},f=0;f<u.ModelIds.length;f++){var p=d();if("continue"!==p&&"object"===Cd()(p))return p.v}},h=0;h<a.length;h++){var d=u();if("object"===Cd()(d))return d.v}}(i[c],t.CostFilterList);z()(n).call(n,(function(e,t){return e.ModelType.localeCompare(t.ModelType)})),t.tableList=n})),[]),i=window.bimEngine.SelectedModels.indexesModels,r=window.bimEngine.scene.children,a=window.bimEngine.treeMapper},DownLoadQuantitieslData:(Pd=function(e){DownLoadQuantitieslData(e).then((function(e){var t=document.createElement("a");e=id.a.createObjectURL(new Blob([e]),{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"});t.href=e,t.download="工程量清单.xlsx",document.body.appendChild(t),t.click(),document.body.removeChild(t),id.a.revokeObjectURL(e)}))},kd.toString=function(){return Pd.toString()},kd),Setting:function(){this.$refs.Form.init()},init:function(){this.SelectTypeChange()}}};var Dd=(n(614),nt(r,Ed,[],!1,null,"cd6dbb46",null).exports);function Id(e,t){var n,i,r,a,o=void 0!==m.a&&v()(e)||e["@@iterator"];if(o)return i=!(n=!0),{s:function(){o=o.call(e)},n:function(){var e=o.next();return n=e.done,e},e:function(e){i=!0,r=e},f:function(){try{n||null==o.return||o.return()}finally{if(i)throw r}}};if(d()(e)||(o=function(e,t){var n;if(e)return"string"==typeof e?Rd(e,t):"Map"===(n="Object"===(n=f()(n=Object.prototype.toString.call(e)).call(n,8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?p()(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rd(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return o&&(e=o),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Rd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Nd(e){n(248)("./"+W()+"/RightClickMenu.scss");var t,i,r=new Object,a=(r.Show=!1,e.scene.renderer.domElement.parentElement),l=!0;if(r.MenuList=[{value:"2",label:"工程量",domItem:null,childContain:null,alwaysShow:!1},{value:"3",label:"隔离",domItem:null,childContain:null,alwaysShow:!1},{value:"4",label:"隐藏",domItem:null,childContain:null,alwaysShow:!1},{value:"5",label:"显示全部",domItem:null,childContain:null,alwaysShow:!0},{value:"6",label:"隐藏全部",domItem:null,childContain:null,alwaysShow:!1},{value:"7",label:"快速选择",domItem:null,childContain:null,alwaysShow:!1,children:[{value:"71",label:"同类构件"},{value:"72",label:"同层构件"},{value:"73",label:"同类同层构件"}]},{value:"8",label:"构件框",domItem:null,childContain:null,alwaysShow:!1}],r.Actived=[],t)t.style.display="block";else{(t=document.createElement("div")).className="Right-Click-Menu-Container";for(var h=0;h<r.MenuList.length;h++)d(r.MenuList[h]);a.appendChild(t)}function d(e,n){var i=1<arguments.length&&void 0!==n&&n,a=document.createElement("div");if(a.className="Menu-Item",e.children&&e.children.length){for(var o=((n=((n=document.createElement("span")).innerHTML=e.label,a.appendChild(n),document.createElement("span"))).className="Menu-Item-Icon",n.innerHTML=">",a.appendChild(n),document.createElement("div")),s=(o.className="Menu_Child_Container",0);s<e.children.length;s++)!function(t){var n=document.createElement("div"),a=(n.className="Menu-Item",n.dataset.value=e.value+","+e.children[t].value,document.createElement("span"));a.innerHTML=e.children[t].label,a.dataset.value=e.value+","+e.children[t].value,n.appendChild(a),n.onclick=function(n){n.stopPropagation(),n=n.target.dataset.value.split(","),r.Actived=n,i?(e.children[t].callback(n),r.HideMenu()):p(n[1])},o.appendChild(n)}(s);a.addEventListener("mouseover",(function(t){o.style.display="block",a.style.background="#ffffff",a.style.color="#409EFF",f(e,a)})),a.appendChild(o),e.childContain=o,e.domItem=a}else(n=document.createElement("span")).innerHTML=e.label,a.appendChild(n),(e.domItem=a).addEventListener("mouseover",(function(t){for(var n=0;n<r.MenuList.length;n++)r.MenuList[n].childContain&&(r.MenuList[n].childContain.style.display="none",r.MenuList[n].domItem.style.background="transparent",r.MenuList[n].domItem.style.color="#ffffff");f(e)}));a.dataset.value=e.value,a.onclick=function(t){r.Actived=[t.target.dataset.value],i?(e.callback(t.target.dataset.value),r.HideMenu()):p(t.target.dataset.value)},t.appendChild(a),i&&r.MenuList.push(e)}function f(n,i){var r=t.offsetTop,a=t.offsetLeft,o=t.clientWidth,s=t.clientHeight;n.children&&n.children.length?(n=i.getElementsByClassName("Menu_Child_Container")[0].clientWidth,i=i.getElementsByClassName("Menu_Child_Container")[0].clientHeight,r>e.scene.camera.viewport.w-.8*s-i&&(r=e.scene.camera.viewport.w-.8*s-i),a>e.scene.camera.viewport.z-o-n&&(a=e.scene.camera.viewport.z-o-n)):(r>e.scene.camera.viewport.w-s&&(r=e.scene.camera.viewport.w-s),a>e.scene.camera.viewport.z-o&&(a=e.scene.camera.viewport.z-o)),t.style.top=r+"px",t.style.left=a+"px"}function p(t){for(var n,i,a,c=0;c<r.MenuList.length;c++)r.MenuList[c].domItem&&(r.MenuList[c].domItem.style.background="#656565",r.MenuList[c].domItem.style.color="#ffffff"),r.MenuList[c].childContain&&(r.MenuList[c].childContain.style.display="none");switch(e.UpdateRender(),t){case"1":break;case"2":rt(e.scene.renderer.domElement.parentElement,Dd,{show:!0,item:{}});break;case"3":(i=e.GetAllIndexesModel()).length&&e.ResetSelectedModels_("visible",i,!1),e.SelectedModels.indexesModels.length&&e.ResetSelectedModels_("visible",e.SelectedModels.indexesModels,!0),l=!1;break;case"4":e.SelectedModels.indexesModels,e.SelectedModels.indexesModels.length&&e.ResetSelectedModels_("visible",e.SelectedModels.indexesModels,!1),l=!1;break;case"5":(i=e.GetAllIndexesModel()).length&&e.ResetSelectedModels_("visible",i,!0),window.WatcherAllModelShow&&(window.WatcherAllModelShow.Type="all"),l=!0;break;case"6":(i=e.GetAllIndexesModel()).length&&e.ResetSelectedModels_("visible",i,!1),window.WatcherAllModelShow&&(window.WatcherAllModelShow.Type="none"),l=!1;break;case"71":e.SelectedModels.indexesModels.length&&e.ModelClassify.length&&(i=m("SameType"),e.ResetSelectedModels_("highlight",i,!0));break;case"72":e.SelectedModels.indexesModels.length&&e.ModelClassify.length&&(i=m("SameLevel"),e.ResetSelectedModels_("highlight",i,!0));break;case"73":e.SelectedModels.indexesModels.length&&e.ModelClassify.length&&(i=m("SameType"),n=m("SameLevel"),i=i,a=n,n=s()(i).call(i,(function(e){return-1!=o()(a).call(a,(function(t){return e[0]==t[0]&&e[1]==t[1]}))})),e.ResetSelectedModels_("highlight",n,!0));break;case"8":e.Clipping&&(n=s()(n=r.MenuList).call(n,(function(e){return e.value==t}))[0].domItem,!e.Clipping.isActive||e.Clipping.AllClip?(e.Clipping.MultiSideOpen(null,!1),n.innerText="取消构件框"):(e.Clipping.MultiSideClose(),n.innerText="构件框"))}r.HideMenu()}function m(t){var n,i=[],r=[],a=Id(e.SelectedModels.indexesModels);try{var s=function(){var a,s=n.value,l=e.scene.children[s[0]],h=Id(e.ModelClassify);try{for(h.s();!(a=h.n()).done;){var d=a.value;if(l.relativePath===d.Path){var f,p=Id(d[t]);try{for(p.s();!(f=p.n()).done;)!function(){var e,t=f.value;-1===o()(r).call(r,(function(e){return e.name===t.Name&&e.path===l.relativePath}))&&(t.ModelIds=t.ModelIds||[],ae()(e=t.ModelIds).call(e,(function(e){return e[0]===s[0]&&e[1]===s[1]})))&&(r.push({path:l.relativePath,name:t.Name}),c()(Array.prototype).apply(i,u()(e=[i.length,t.ModelIds.length]).call(e,t.ModelIds)))}()}catch(a){p.e(a)}finally{p.f()}}}}catch(a){h.e(a)}finally{h.f()}};for(a.s();!(n=a.n()).done;)s()}catch(s){a.e(s)}finally{a.f()}return i}return e.scene.renderer.domElement.addEventListener("pointerdown",(function(e){e.preventDefault(),i={x:e.x,y:e.y},r.HideMenu()}),!1),e.scene.renderer.domElement.addEventListener("contextmenu",(function(e){2===e.button&&(e.preventDefault(),Math.abs(e.x-i.x)<2&&Math.abs(e.y-i.y)<2?r.ShowMenu(e):r.HideMenu())}),!1),r.ShowMenu=function(n){if(t){t.style.display="block";var i=n.y-e.scene.camera.viewport.y;n=n.x-e.scene.camera.viewport.x;i>e.scene.camera.viewport.w-t.clientHeight&&(i=e.scene.camera.viewport.w-t.clientHeight),n>e.scene.camera.viewport.z-t.clientWidth&&(n=e.scene.camera.viewport.z-t.clientWidth),t.style.top=i+"px",t.style.left=n+"px";for(var a=0;a<r.MenuList.length;a++)r.MenuList[a].alwaysShow||("8"===r.MenuList[a].value?(r.MenuList[a].domItem.style.display=e.SelectedModels.indexesModels.length&&l||e.Clipping&&e.Clipping.isActive&&!e.Clipping.AllClip?"block":"none",r.MenuList[a].domItem.innerText="构件框",e.Clipping.isActive&&!e.Clipping.AllClip&&(r.MenuList[a].domItem.innerText="取消构件框")):"5"===r.MenuList[a].value?r.MenuList[a].domItem.style.display=e.SelectedModels.indexesModels.length&&!l?"block":"none":"6"===r.MenuList[a].value?r.MenuList[a].domItem.style.display=l?"block":"none":r.MenuList[a].domItem.style.display=e.SelectedModels.indexesModels.length&&l?"block":"none");r.Show=!0}},r.HideMenu=function(){t&&(t.style.display="none",r.Show=!1)},r.AddItem=function(e){d(e,!0)},r}lc=n(255);var Od=n.n(lc);function Fd(e,t){var n,i,r,a,o=void 0!==m.a&&v()(e)||e["@@iterator"];if(o)return i=!(n=!0),{s:function(){o=o.call(e)},n:function(){var e=o.next();return n=e.done,e},e:function(e){i=!0,r=e},f:function(){try{n||null==o.return||o.return()}finally{if(i)throw r}}};if(d()(e)||(o=function(e,t){var n;if(e)return"string"==typeof e?zd(e,t):"Map"===(n="Object"===(n=f()(n=Object.prototype.toString.call(e)).call(n,8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?p()(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zd(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return o&&(e=o),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function zd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Bd(e){n(616)("./"+W()+"/loading.scss");var t,i,r=new Object,a=e.scene.renderer.domElement.parentElement,o="LoadingMaskContain",s="LoadingMaskAnimate",l=null;function c(){clearInterval(l),l=null}return r.isActive=!1,r.Active=function(){var e,n,s,l;e=_u(a,o),(n=document.createElement("div")).className="ProcessContainer",(s=document.createElement("div")).className="ProcessContain",(l=document.createElement("div")).className="ProcessDisActiveContain",s.appendChild(l),(t=document.createElement("div")).className="ProcessActiveContain",l.appendChild(t),(i=document.createElement("div")).className="ProcessText",i.innerText="0",s.appendChild(i),(l=document.createElement("div")).className="ProcessUnit",l.innerText="%",s.appendChild(l),n.appendChild(s),e.appendChild(n),r.isActive=!0},r.DisActive=function(){var e=_u(a,o,!1);e&&e.remove(),r.isActive=!1},r.StartAnimate=function(n,a,o){var h,d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,f=(l&&(t.style.width=a,i.innerText=Math.floor(a),c()),function(){var e,t,n=Fd(document.styleSheets);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.title===s){e=i;break}}}catch(e){n.e(e)}finally{n.f()}return e||((e=document.createElement("style")).setAttribute("type","text/css"),e.title=s,document.head.appendChild(e)),e}()),p=(n=n,p=a,h=o,((f=f).sheet||f).insertRule(u()(f=u()(f="\n      @keyframes myMove".concat(n," {\n        0% {\n          width: 0%;\n        }\n        0% {\n          width: ")).call(f,p,"%;\n        }\n        100% {\n          width: ")).call(f,h,"%;\n        }\n      }\n      ")),"myMove".concat(n));t.style.animation=p+" "+d+"s",t.style.width=o+"%";var m=(o-a)/(10*d);l=Od()((function(){e.UpdateRender();var t=Math.floor(Number(i.innerText)+m);(i.innerText=t=o<t?o:t)===o&&(clearInterval(l),l=null),100===t&&100===o&&r.EndAnimate()}),10*d)},r.EndAnimate=function(){t.style.width=100,i.innerText=100,c(),r.DisActive(),e.UpdateRender()},r}function Hd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Ud=n(0);n(619),console.log("引入格式:import '自定义名称一般用(webpack.config.js中output.library的名称)',{'工具函数中导出的名字'} from '包名称';\n\n<srcipt src='路径'><\/script>\n\n例:import happycookie,{hc} from 'happycookie'"),t.default=function(e,t,n){var i,r=new Object;return r.RenderSAO=new tu(r),r.RenderPost=new hu(r),r.DisPlayModel=new bu,r.ModelSelection=new ju,r.MinMap=new th(r),r.D3Measure=new Th(r),r.ControlButtons=new Sd,r.scene=null,r.GLTFLoader=n,r.StopClick=!1,r.RightClickActive=!0,r.ModelPaths=[],r.AllEdgeList=[],r.treeData=[],r.treeMapper=[],r.doneModels=[],r.ModelClassify=[],r.IsMainScene=!0,r.move=!0,r.EdgeIgnoreSize=1e3,r.SelectedModels={indexesModels:[],loadedModels:[],requiredModels:[]},r.LoadedWatcher={DoneNum:0,TreeKey:0,List:[],ShowProgress:!1,AllLoadPathSize:0,AllProgress:0,Key:0,AllDone:!1},r.handleLoadDoneFunOnce=!1,r.FPS=60,r.DeviceType=j(),r.SetBuild=!1,r.SaveJsonSize=2e7,r.OriginalData={cameraPosition:null,clip:null},r.ElevationList=[],window.THREE=Ud,sessionStorage.removeItem("SelectedSingleModelInfo"),sessionStorage.removeItem("RootMenuSelect"),n=document.getElementById(e),(i=document.createElement("div")).className="threejs-sence-container",n.appendChild(i),"PC"===r.DeviceType||"Pad"===r.DeviceType?(document.body.className=document.body.className+" PCView-page-container",n.className=n.className+" PCView-page-container"):"Phone"===r.DeviceType&&(document.body.className=document.body.className+" MobileView-page-container",n.className=n.className+" MobileView-page-container"),r.init=function(){r.scene=P();var e,t,n,h,d,f=r.scene,p=((v=f).perCamera||((p=new L.PerspectiveCamera(50,window.innerWidth/window.innerHeight,.01,3e4)).position.set(1e3,500,1e3),p.lookAt(v.position),v.perCamera=p),v.perCamera),m=(p.name="默认三维视图",f.camera=p,d=(v=i).clientWidth,v=v.clientHeight,(h=new L.WebGLRenderer({alpha:!0,antialias:!0,preserveDrawingBuffer:!0})).setSize(d,v),h.setClearAlpha(0),h.shadowMap.enabled=!0,h.localClippingEnabled=!0,h.domElement.className="user-select-none",h),v=(r.scene.renderer=m,k(i,m),function(e){(t=new L.PointLight(16777215,.5)).position.set(200,200,200),e.add(t),(t=new L.PointLight(16777215,.5)).position.set(-200,-200,-200),e.add(t);var t=new L.AmbientLight(16777215,.63);e.add(t),e.ambientLight=t}(f),e=f,(new A).setPath("bimCDN/img/").load("quarry_01_1k.hdr",(function(t){t.mapping=L.EquirectangularReflectionMapping,e.environment=t})),d=r,v=m,n=(h=i).clientWidth,h=h.clientHeight,d=new ce.OrbitControls(r,p,v.domElement),new ce.AnaglyphEffect(v).setSize(n,h),d),g=(f.controls=v,r.controls=v,r.ViewCube=new vu(r,f,i),r.ViewCube.init(),r.EngineRay=new Md(r),r.RightClickMenu=new Nd(r),r.Render=new lt(r),r.MultiView=new Yu(r,p),r.RenderPost.enableRenderPost(!0),t=r,window.addEventListener("resize",(function(){de(t)})),r.SetBuild?r.TopMenu=new qh(r):r.TopMenu="Phone"!==r.DeviceType?new qh(r):null,r.EventName=r.EventName||"bimengine",new CustomEvent(r.EventName+":camerachange",{detail:""})),y=(v.addEventListener("change",(function(){r.move=!0,window.dispatchEvent(g)})),r.UpdateRender=function(){r.move=!0},new Ud.Clock),x=0;!function e(){requestAnimationFrame(e);var t=y.getDelta();(x+=t)>1/r.FPS&&1==r.move&&(m.setViewport(0,0,r.scene.renderer.domElement.parentElement.innerWidth,r.scene.renderer.domElement.parentElement.innerHeight),r.MultiView.updaterender(),r.ViewCube.renderScene(),r.MinMap.renderUpdata(),r.move=!1,null!=r.CurrentSelect?null!=(t=r.scene.children[r.CurrentSelect.indexs[0]])&&null!=t.ElementInfos&&null!=(t=t.ElementInfos[r.CurrentSelect.indexs[1]])&&(t=t.center.clone().distanceTo(r.scene.camera.position),r.controls.zoomSpeed=.1*t,r.controls.panSpeed=.03*t,r.controls.zoomSpeed<.1&&(r.controls.zoomSpeed=.1),5<r.controls.zoomSpeed&&(r.controls.zoomSpeed=5),1<r.controls.panSpeed)&&(r.controls.panSpeed=1):(r.controls.zoomSpeed=1,r.controls.panSpeed=1),x=0,a()((function(){m.render(f,f.camera)}),200)),r.RenderSAO.render(),r.RenderPost.render()}(),r.CaptureMark=new nd(r),r.Measures={},r.Measures.SimpleMeasure=new Cu(r),r.Measures.DistanceMeasure=new ku(r),r.Measures.PointMeasure=new Nu(r),r.Measures.HeightMeasure=new Bu(r),r.Measures.ElevationHeightMeasure=new Gu(r),r.Clipping=new Nh(r,f),r.SelectionBox=new Ke(r),r.FirstPersonControls=new Vh(r),r.Loading=new Bd(r),r.PointRoam=new Gh(r),n=f,h=p,(h=new ce.TransformControls(h,m.domElement)).name="TransformControlsClipping",h.visible=!1,n.add(h),sd(r),d=f,(v=s()(v=d.children).call(v,(function(e){return"HighLightGroup"==e.name}))[0])||((v=new Se.Group).name="HighLightGroup",d.add(v)),r.RightClickActive&&function(e,t){var n;e.scene.renderer.domElement.addEventListener("pointerup",(function(i){if(0==i.button){e.UpdateRender();var r,a,h=i.ctrlKey||i.shiftKey?"keyEnter":"";if(0===i.button&&!e.StopClick&&(i.preventDefault(),n)&&Math.abs(i.x-n.x)<2&&Math.abs(i.y-n.y)<2){e.EngineRay&&e.EngineRay.pick(i);var d=new ce.Raycaster,f=((f=new ce.Vector2).x=(i.clientX-e.scene.camera.viewport.x)/e.scene.camera.viewport.z*2-1,f.y=-(i.clientY-e.scene.camera.viewport.y)/e.scene.camera.viewport.w*2+1,d.setFromCamera(f,e.scene.camera),e.GetAllVisibilityModel()),p=(d=(e.GpuRay&&(0!=e.scene.children[e.GpuRay.i].geometry.groups[e.GpuRay.j].visibility?(f=s()(f).call(f,(function(e){return"InstancedMesh"==e.TypeName||"InstancedMesh-Pipe"==e.TypeName})),null!=e.GpuRay&&f.push(e.scene.children[e.GpuRay.i])):e.GpuRay=null),d.intersectObjects(f,!0)),console.log(d),JSON.parse(F()(e.SelectedModels.indexesModels))),m=e.CurrentSelect||{dbid:null,name:null,glb:null,TypeName:null,basePath:null,relativePath:null,indexs:[],min:null,center:null,max:null,materialName:null};if("keyEnter"==h){if(0<d.length){var v,g=se(d);try{var y=function(){if("Mesh"==(r=v.value).object.TypeName||"Mesh-Structure"==r.object.TypeName||"PipeMesh"==r.object.TypeName){if((a=ue(e,r.object,r.point))&&!1!==r.object.geometry.groups[a.dbid].visibility){var t,n=[],i=se(s()(y=e.scene.children).call(y,(function(e){return"rootModel"==e.name&&e.basePath==a.basePath&&e.url==r.object.url})));try{for(i.s();!(t=i.n()).done;)!function(){var e,i=t.value;l()(e=i.ElementInfos).call(e,(function(e){e.name===a.name&&n.push([i.index,e.dbid])}))}()}catch(d){i.e(d)}finally{i.f()}for(var h=[],d=0;d<p.length;d++)!function(e){l()(n).call(n,(function(t){p[e][0]==t[0]&&p[e][1]==t[1]&&h.push(p[e])}))}(d);if(0==h.length)m={dbid:a.dbid,name:a.name,glb:r.object.url,TypeName:r.object.TypeName,basePath:a.basePath,relativePath:a.relativePath,indexs:[r.object.index,a.dbid],min:r.object.ElementInfos[a.dbid].min,center:r.object.ElementInfos[a.dbid].center,max:r.object.ElementInfos[a.dbid].max,materialName:r.object.ElementInfos[a.dbid].materialName},c()(Array.prototype).apply(p,u()(y=[p.length,n.length]).call(y,n));else{m={dbid:null,name:null,glb:null,TypeName:null,basePath:null,relativePath:null,indexs:[],min:null,center:null,max:null,materialName:null};for(var f=0;f<h.length;f++)!function(e){var t=o()(p).call(p,(function(t){return t[0]==h[e][0]&&t[1]==h[e][1]}));c()(p).call(p,t,1)}(f)}return"break"}}else if("InstancedMesh"==r.object.TypeName||"InstancedMesh-Pipe"==r.object.TypeName){var g,y;if(!he(r.object.ElementInfos[r.instanceId].min,r.object.ElementInfos[r.instanceId].max,r.object.material.clippingPlanes,r.point))return g=[r.object.index,r.instanceId],(y=o()(p).call(p,(function(e){return e[0]==g[0]&&e[1]==g[1]})))<0?(m={dbid:r.instanceId,name:r.object.ElementInfos[r.instanceId].name,glb:r.object.url,TypeName:r.object.TypeName,basePath:r.object.basePath,relativePath:r.object.relativePath,indexs:[r.object.index,r.instanceId],min:r.object.ElementInfos[r.instanceId].min,center:r.object.ElementInfos[r.instanceId].center,max:r.object.ElementInfos[r.instanceId].max,materialName:r.object.ElementInfos[r.instanceId].materialName},p.push(g)):(m={dbid:null,name:null,glb:null,TypeName:null,basePath:null,relativePath:null,indexs:[],min:null,center:null,max:null,materialName:null},c()(p).call(p,y,1)),"break"}};for(g.s();!(v=g.n()).done&&"break"!==y(););}catch(i){g.e(i)}finally{g.f()}}}else if(p=[],0<d.length&&1!=e.LockingSelect){var x,b=se(d);try{var w=function(){if("Mesh"==(r=x.value).object.TypeName||"Mesh-Structure"==r.object.TypeName||"PipeMesh"==r.object.TypeName){if((a=ue(e,r.object,r.point))&&!1!==r.object.geometry.groups[a.dbid].visibility){var t,n=[],i=se(s()(h=e.scene.children).call(h,(function(e){return"rootModel"==e.name&&e.basePath==a.basePath&&e.url==r.object.url})));try{for(i.s();!(t=i.n()).done;)!function(){var e,i=t.value;l()(e=i.ElementInfos).call(e,(function(e){e.name===a.name&&n.push([i.index,e.dbid])}))}()}catch(h){i.e(h)}finally{i.f()}return m.indexs.length&&-1<o()(n).call(n,(function(e){return m.indexs[0]==e[0]&&m.indexs[1]==e[1]}))?m={dbid:null,name:null,glb:null,TypeName:null,basePath:null,relativePath:null,indexs:[],min:null,center:null,max:null,materialName:null}:(m={dbid:a.dbid,name:a.name,glb:r.object.url,TypeName:r.object.TypeName,basePath:a.basePath,relativePath:a.relativePath,indexs:[r.object.index,a.dbid],min:r.object.ElementInfos[a.dbid].min,center:r.object.ElementInfos[a.dbid].center,max:r.object.ElementInfos[a.dbid].max,materialName:r.object.ElementInfos[a.dbid].materialName},c()(Array.prototype).apply(p,u()(h=[p.length,n.length]).call(h,n))),"break"}}else if("InstancedMesh"==r.object.TypeName||"InstancedMesh-Pipe"==r.object.TypeName){var h;if(!he(r.object.ElementInfos[r.instanceId].min,r.object.ElementInfos[r.instanceId].max,r.object.material.clippingPlanes,r.point))return h=[r.object.index,r.instanceId],m.indexs.length&&m.indexs[0]==h[0]&&m.indexs[1]==h[1]?m={dbid:null,name:null,glb:null,TypeName:null,basePath:null,relativePath:null,indexs:[],min:null,center:null,max:null,materialName:null}:(m={dbid:r.instanceId,name:r.object.ElementInfos[r.instanceId].name,glb:r.object.url,TypeName:r.object.TypeName,basePath:r.object.ElementInfos[0].basePath,relativePath:r.object.ElementInfos[0].relativePath,indexs:[r.object.index,r.instanceId],min:r.object.ElementInfos[r.instanceId].min,center:r.object.ElementInfos[r.instanceId].center,max:r.object.ElementInfos[r.instanceId].max,materialName:r.object.ElementInfos[r.instanceId].materialName},p.push(h)),"break"}};for(b.s();!(x=b.n()).done&&"break"!==w(););}catch(i){b.e(i)}finally{b.f()}}else m={dbid:null,name:null,glb:null,TypeName:null,basePath:null,relativePath:null,indexs:[],min:null,center:null,max:null,materialName:null},e.ResetSelectedModels_("highlight",e.SelectedModels.indexesModels,!1);m.dbid&&m.center&&(e.scene.controls.origin=m.center),e.CurrentSelect=m,t(p),e.ResetSelectedModels_("highlight",p,!0),sessionStorage.setItem("SelectedSingleModelInfo",F()(m))}}}),!1),e.scene.renderer.domElement.addEventListener("dblclick",(function(){var t,n,i,r,a;e.CurrentSelect&&e.CurrentSelect.dbid&&(t=e.CurrentSelect.min,a=e.CurrentSelect.center,n=e.CurrentSelect.max,i=t.clone().add(n.clone()).multiplyScalar(.5),r=new ce.Vector3(1,1,1),a=a.clone().add(r.multiplyScalar(+n.distanceTo(t))),e.ViewCube.animateCamera(e.scene.camera.position,a,e.scene.controls.target.clone(),i))})),e.scene.renderer.domElement.addEventListener("pointerdown",(function(e){e.preventDefault(),n={x:e.x,y:e.y}}),!1)}(r,(function(e){null!=e&&(e=new CustomEvent("bimengine:click",{detail:e}),window.dispatchEvent(e))}))},r.RenderUpdate=function(){r.MultiView.updaterender()},r.SetLoadPaths=function(e,t){r.ModelPaths=[],r.PathOff=[],t=t||[];for(var n=0;n<e.length;n++)!function(n){var i;-1===o()(i=r.ModelPaths).call(i,(function(t){return t===e[n]}))&&(r.ModelPaths.push(e[n]),r.PathOff.push(t[n]||null),r.ElevationList.push({value:e[n],path:e[n],label:"",children:[],load:!1}))}(n);console.log(r.ModelPaths),console.log(r.PathOff),console.log((new Date).getMinutes()+":"+(new Date).getSeconds(),"开始------------")},r.start=function(e,t,n,i,l){var c,u=e+"/"+t;e=r.scene;"glb"==n?((c=new Ud.Group).data_glb=u,e.add(c),Ee(r,c,u,i.position,(function(e){l()}))):"glbjson"==n&&(r.LoadedWatcher.ShowProgress&&!r.Loading.isActive&&r.Loading.Active(),r.LoadedWatcher.AllLoadPathSize=r.ModelPaths?r.ModelPaths.length:0,r.LoadedWatcher.List.push({relativePath:t,glbModelsLoadedNum:0,pipeModelsLoadedNum:0,structureModelsLoadedNum:0,treeLoaded:!1,edgeLoaded:!1,progress:0,back:!1}),r.D3Measure.UpdateViewList(u),function(e,t,n,i,r,a){var o=3<arguments.length&&void 0!==i?i:"/file/gis/fl/bim/100004",s=4<arguments.length?r:void 0,l=5<arguments.length?a:void 0,c=0,u=(w(o+"/modelList.zip",(function(i){var r,a=JSON.parse(i);(a&&a.length?(r=0,function(){var i=H()(U.a.mark((function i(){var l,u;return U.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:l=function(i){return new V.a((function(l,u){s.Point=i.Point,s.Rotate=i.angle_a,Ee(e,t,n,o,i.fullPath,{name:"modelList",position:s,off:s.off},(function(e){(r+=1)==a.length&&(c+=1,h()),l(e)}))}))},u=0;case 2:if(u<a.length)return a[u].fullPath=o+"/"+a[u].category+".glb",i.next=6,l(a[u]);i.next=10;break;case 6:i.sent;case 7:u++,i.next=2;break;case 10:case"end":return i.stop()}}),i)})));return function(){return i.apply(this,arguments)}}()):(c+=1,h))()})),0);function h(){2==c&&(e.doneModels.push(o),l())}w(o+"/instanceList.zip",(function(i){var r=JSON.parse(i);(r&&r.length?function(){var i=H()(U.a.mark((function i(){var a,l;return U.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:a=function(i){return new V.a((function(a,l){Ee(e,t,n,o,i.fullPath,{name:"instanceList",children:i.children,off:s.off},(function(e){(u+=1)==r.length&&(c+=1,h()),a(e)}))}))},l=0;case 2:if(l<r.length)return r[l].fullPath=o+"/"+r[l].category+".glb",i.next=6,a(r[l]);i.next=10;break;case 6:i.sent;case 7:l++,i.next=2;break;case 10:case"end":return i.stop()}}),i)})));return function(){return i.apply(this,arguments)}}():(c+=1,h))()}))}(r,e,t,u,i,(function(){r.UpdateLoadStatus(!0,"glbModelsLoadedNum",t,u,(function(){l()}))})),function(e,t,n,i,r,a){var l=[],c=[],u=new Ae.MeshStandardMaterial({color:new Ae.Color("rgb(220,220,220)"),side:Ae.DoubleSide}),d=E()(null!=r.off?r.off.split(",")[0]:0),p=E()(null!=r.off?r.off.split(",")[2]:0),m=E()(null!=r.off?r.off.split(",")[1]:0);function v(e){for(var t,n=0;n<e.length;n++){for(var i=e[n],r=[],a=0;a<i.routes.length;a++)r.push((t=i.routes[a],new Ae.Vector3(.3048*t.X,.3048*t.Z,.3048*-t.Y)));for(var s=0;s<i.outline.length;s++){var h=new Ae.Shape;h.moveTo(g(i.outline[s][0]).x,g(i.outline[s][0]).y);for(var f=i.outline[s].length-1;0<=f;f--)i.outline[s][f],h.lineTo(g(i.outline[s][f]).x,g(i.outline[s][f]).y);if(null!=i.cutline)for(var v=0;v<i.cutline.length;v++){var y=new Ae.Path;y.moveTo(g(i.cutline[v][0]).x,g(i.cutline[v][0]).y);for(var x=i.cutline[v].length-1;0<=x;x--)i.cutline[v][x],y.lineTo(g(i.cutline[v][x]).x,g(i.cutline[v][x]).y);h.holes.push(y)}for(var b=0;b<r.length-1;b++){var w=r[b],_=r[b+1],M={depth:w.distanceTo(_),bevelEnabled:!1};_={startPoint:w,endPoint:_,name:i.Name},M=function(e,t,n,i,r){e=new Ae.ExtrudeGeometry(e,t),t=o()(l).call(l,(function(e){return e.EId==n}));var a=u;a=-1==t?u:l[t];t=new Ae.Mesh(e,a),e=new Ae.Vector3(r.startPoint.x,0,r.startPoint.z),a=new Ae.Vector3(r.endPoint.x,0,r.endPoint.z);var s,c=new Ae.Vector3(r.startPoint.x,r.startPoint.y,r.startPoint.z),h=new Ae.Vector3(r.endPoint.x,r.endPoint.y,r.endPoint.z),f=0,v=0,g=0;return Math.abs(a.clone().sub(e.clone()).z)<1e-4&&Math.abs(a.clone().sub(e.clone()).x)<1e-4?(f=(s=r.startPoint.y>r.endPoint.y?1:-1)*Math.PI*.5,null!=r.base_x&&(g=((s=new Ae.Vector3(r.base_x.x,0,r.base_x.y)).clone().cross(new Ae.Vector3(1,0,1)).y<0?1:-1)*s.angleTo(new Ae.Vector3(1,0,0)))):(v=(0<=a.clone().sub(e.clone()).cross(new Ae.Vector3(0,0,1)).y?-1:1)*a.clone().sub(e.clone()).angleTo(new Ae.Vector3(0,0,1)),f=(s=r.startPoint.y>r.endPoint.y?1:-1)*a.clone().sub(e.clone()).angleTo(h.clone().sub(c.clone()))),t.position.set(i.x+d,i.y+p,i.z+m),t.rotation._order="YXZ",t.rotation.set(f,v,g),t.name=r.name,t.startPoint=r.startPoint,t.endPoint=r.endPoint,t.materialId=n,t}(h,M,i.MaterialId,w,_);c.push(M)}}}}function g(e){return null==e?new Ae.Vector2(0,0,0):new Ae.Vector2(.3048*e.X,.3048*e.Y)}u.EId=0,u.name=0,w(i+"/semantics.zip",(function(r){for(var d=(r=JSON.parse(r)).materials,p=d,m=0;m<p.length;m++){var g=new Ae.MeshStandardMaterial({color:new Ae.Color("rgb(".concat(p[m].color,")")),side:Ae.DoubleSide,polygonOffset:!0,polygonOffsetFactor:.001,polygonOffsetUnits:10});g.name=p[m].Id,g.map=p[m].materialImage?(new Ae.TextureLoader).load(i+"/"+p[m].materialImage,(function(e){e.wrapS=Ae.RepeatWrapping,e.wrapT=Ae.RepeatWrapping})):null,g.name=p[m].Id,g.EId=p[m].Id,l.push(g)}v(r.models.columns);var y=(v(y=r.models.beams),r.models.floors);v(y),y=r.models.walls;if(v(y),r.cuts,c&&c.length){for(var x=function(e){var t,n=[],i=Te(d);try{for(i.s();!(t=i.n()).done;){var r=t.value;n.push(s()(e).call(e,(function(e){return e.material.EId==r.Id})))}}catch(e){i.e(e)}finally{i.f()}return n}(c),b=[],w=0,_=c;w<_.length;w++){var M=_[w];M.material.EId||b.push(M)}b.length&&(x.push(b),l.push(u.clone()));for(var S=0;S<x.length;S++)for(var E=function(e,t){for(var n=[],i=0;i<e.length;i+=2e3)n.push(f()(e).call(e,i,i+2e3));return n}(x[S]),T=0;T<E.length;T++){var C=E[T];!function(e,t,n,i,r,a,s){for(var l=[],c=[],u=[],d=[],f=0;f<t.length;f++){var p,m,v,g=t[f];null!=g.geometry&&null!=g.matrix&&((v=(v=new Ae.Matrix4).makeRotationFromEuler(g.rotation)).elements[12]=g.position.x,v.elements[13]=g.position.y,v.elements[14]=g.position.z,m=g.geometry.clone().applyMatrix4(v.clone()),g.material.side=Ae.DoubleSide,l.push(m),c.push(g.material),g.geometry.computeBoundingBox(),m=g.geometry.boundingBox.min.clone().applyMatrix4(v.clone()),v=g.geometry.boundingBox.max.clone().applyMatrix4(v.clone()),p=new Ae.Vector3(Math.min(m.x,v.x),Math.min(m.y,v.y),Math.min(m.z,v.z)),m=new Ae.Vector3(Math.max(m.x,v.x),Math.max(m.y,v.y),Math.max(m.z,v.z)),v=p.clone().add(m.clone()).multiplyScalar(.5),u.push({name:g.name,min:p,max:m,center:v,dbid:f,basePath:i,materialName:g.material.name})),d.push({geometry:g.geometry,matrix:g.matrix,position:g.position,rotation:g.rotation})}var y=Ae.BufferGeometryUtils.mergeBufferGeometries(l,!0),x=(y=(h()(l).call(l,(function(e){e.dispose()})),l=null,new Ae.Mesh(y,c[0])),o()(a).call(a,(function(e){return e.EId==t[0].materialId})));a=(-1==x?t[0].material:a[x]).clone(),y.ElementInfos=u,y.cloneMaterialArray=a,y.originalMaterial=a.clone(),y.relativePath=r,y.name="rootModel",y.TypeName="Mesh",y.meshs=d,y.url=n,y.basePath=i,y.sortid=n+"_"+a.name+"_"+s,e.add(y)}(t,C,i+"/semantics.json",i,n,l,T)}}e.doneModels.push(i+"/semantics.json"),a()}))}(r,e,t,u,i,(function(){r.UpdateLoadStatus(!0,"structureModelsLoadedNum",t,u,(function(){l()}))})),function(e,t,n,i,r,a){var o=E()(null!=r.off?r.off.split(",")[0]:0),l=E()(null!=r.off?r.off.split(",")[2]:0),c=E()(null!=r.off?r.off.split(",")[1]:0),u=i+"/sysmodelList.zip",h=0;function d(t){3===(h+=1)&&(e.doneModels.push(u),t())}function f(e,t){var n=new yd.Shape;switch(t.width=.3048*t.width,t.height=.3048*t.height,t.diameter=.3048*t.diameter,e){case"Rect":n.moveTo(-t.width/2,-t.height/2),n.lineTo(-t.width/2,t.height/2),n.lineTo(t.width/2,t.height/2),n.lineTo(t.width/2,-t.height/2),n.lineTo(-t.width/2,-t.height/2);break;case"Bridge":n.moveTo(-t.width/2,-t.height/2),n.lineTo(-t.width/2,t.height/2),n.lineTo(-t.width/2+.01,t.height/2),n.lineTo(-t.width/2+.01,-t.height/2+.01),n.lineTo(t.width/2-.01,-t.height/2+.01),n.lineTo(t.width/2-.01,t.height/2),n.lineTo(t.width/2,t.height/2),n.lineTo(t.width/2,-t.height/2),n.lineTo(-t.width/2,-t.height/2);break;case"Circle":n.moveTo(0,0),n.absarc(0,0,.5*t.diameter,0,2*Math.PI,!1)}var i={depth:.3048*t.length,bevelEnabled:!1},r=n,a=t.color,o=t.position,s=t.rotation;return r=new yd.ExtrudeGeometry(r,i),i=new yd.MeshPhongMaterial({color:a,side:yd.DoubleSide,name:u+"/"+e+"/material"}),(a=new yd.Mesh(r,i)).position.set(o.x,o.y,o.z),a.rotation._order="YXZ",a.rotation.set(s.x,s.y,s.z),a}function m(e,t,n,i,r,a,o){var s,l,c={width:1,height:1,length:1,diameter:1,color:new yd.Color,position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0}};switch(e){case"Rect":l=f("Rect",c);break;case"Bridge":l=f("Bridge",c);break;case"Circle":l=f("Circle",c)}l&&(s=new yd.InstancedMesh(l.geometry,l.material,n.length));var u=[];window.color=new yd.Color;for(var h=0;h<n.length;h++){var m=n[h],v=new yd.Vector3(m.startPoint.X,0,-m.startPoint.Y),g=new yd.Vector3(m.endPoint.X,0,-m.endPoint.Y),y=new yd.Vector3(m.startPoint.X,m.startPoint.Z,-m.startPoint.Y),x=new yd.Vector3(m.endPoint.X,m.endPoint.Z,-m.endPoint.Y),b=0,w=0,_=(Math.abs(g.clone().sub(v.clone()).z)<.01&&Math.abs(g.clone().sub(v.clone()).x)<.01?(b=(m.startPoint.Z>m.endPoint.Z?1:-1)*Math.PI*.5,null!=m.base_x&&(w=((_=new yd.Vector3(m.base_x.X,0,-m.base_x.Y)).clone().cross(new yd.Vector3(0,0,1)).y<=0?1:-1)*_.angleTo(new yd.Vector3(0,0,1))+.5*Math.PI)):(w=(0<g.clone().sub(v.clone()).cross(new yd.Vector3(0,0,1)).y?-1:1)*g.clone().sub(v.clone()).angleTo(new yd.Vector3(0,0,1)),b=(m.startPoint.Z>m.endPoint.Z?1:-1)*g.clone().sub(v.clone()).angleTo(x.clone().sub(y.clone()))),new yd.Matrix4);g=new yd.Euler(b,w,0,"YXZ"),v=_.clone().makeRotationFromEuler(g),x=void 0,y=void 0,y="Circle"===e?(x=m.diameter,m.diameter):(x=m.width,m.height),b=_.clone().makeScale(x,y,m.length),w=(_.multiplyMatrices(v,b),_.setPosition(m.position.x,m.position.y,m.position.z),s.setMatrixAt(h,_.clone()),s.setColorAt(h,m.color),s.geometry.computeBoundingBox(),s.geometry.boundingBox.min.clone().applyMatrix4(_.clone())),g=s.geometry.boundingBox.max.clone().applyMatrix4(_.clone()),x=new yd.Vector3(Math.min(w.x,g.x),Math.min(w.y,g.y),Math.min(w.z,g.z)),y=new yd.Vector3(Math.max(w.x,g.x),Math.max(w.y,g.y),Math.max(w.z,g.z)),v=x.clone().add(y.clone()).multiplyScalar(.5),b={name:m.name,min:x,max:y,center:v,dbid:h,url:a+"/"+e,basePath:r,relativePath:i,materialName:l.material.name};"Circle"===e&&(w={x:.3048*m.startPoint.X,y:.3048*m.startPoint.Z,z:.3048*-m.startPoint.Y},g={x:.3048*m.endPoint.X,y:.3048*m.endPoint.Z,z:.3048*-m.endPoint.Y},b.minC=w,b.maxC=g),u.push(b)}s.ElementInfos=u,s.name="rootModel",s.TypeName="InstancedMesh-Pipe",s.PipeType=e,s.MeshId=null,s.cloneMaterialArray=s.material.clone(),s.originalMaterial=s.material.clone(),s.basePath=r,s.relativePath=i;var M={geometry:s.geometry,matrix:s.matrix,position:s.position,rotation:s.rotation};s.meshs=M,s.url=a+"/"+e,s.cloneInstanceMatrix=p()(s.instanceMatrix.array),s.sortid=a+"_"+e,t.add(s),d((function(){o()}))}w(u,(function(e){var r=(e=JSON.parse(e)).circularMeps,h=s()(h=e.rectMeps).call(h,(function(e){return"风管"===e.type})),f=s()(f=e.rectMeps).call(f,(function(e){return"桥架"===e.type}));if(e.ellipseMeps,r&&r.length){var p,v=[],g=vd(r);try{for(g.s();!(p=g.n()).done;){var y=p.value;y.color=new yd.Color("rgb(".concat(y.color,")")),y.position={x:.3048*y.startPoint.X+o,y:.3048*y.startPoint.Z+l,z:.3048*-y.startPoint.Y+c},y.rotation={x:0,y:0,z:0},v.push(y)}}catch(e){g.e(e)}finally{g.f()}m("Circle",t,v,n,i,u,(function(){a()}))}else d((function(){a()}));if(h&&h.length){var x,b=[],w=vd(h);try{for(w.s();!(x=w.n()).done;){var _=x.value;_.color=new yd.Color("rgb(".concat(_.color,")")),_.position={x:.3048*_.startPoint.X+o,y:.3048*_.startPoint.Z+l,z:.3048*-_.startPoint.Y+c},_.rotation={x:0,y:0,z:0},b.push(_)}}catch(e){w.e(e)}finally{w.f()}m("Rect",t,b,n,i,u,(function(){a()}))}else d((function(){a()}));if(f&&f.length){var M,S=[],E=vd(f);try{for(E.s();!(M=E.n()).done;){var T=M.value;T.color=new yd.Color("rgb(".concat(T.color,")")),T.position={x:.3048*T.startPoint.X+o,y:.3048*T.startPoint.Z+l,z:.3048*-T.startPoint.Y+c},T.rotation={x:0,y:0,z:0},S.push(T)}}catch(e){E.e(e)}finally{E.f()}m("Bridge",t,S,n,i,u,(function(){a()}))}else d((function(){a()}))}))}(r,e,t,u,i,(function(){r.UpdateLoadStatus(!0,"pipeModelsLoadedNum",t,u,(function(){l()}))})),r.LoadQuantitiesList(),a()((function(){r.UpdateLoadStatus(!0,"",t,u,(function(){l()}),!0)}),15e3))},r.UpdateLoadStatus=function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=1<arguments.length?arguments[1]:void 0,n=2<arguments.length?arguments[2]:void 0,i=3<arguments.length?arguments[3]:void 0,o=4<arguments.length?arguments[4]:void 0,l=5<arguments.length&&void 0!==arguments[5]&&arguments[5],c=s()(c=r.LoadedWatcher.List).call(c,(function(e){return e.relativePath===n}));if(c&&c.length)if(c=c[0],l&&!c.back)c.back=!0,o();else if(c[t]<1)if(e)c[t]=c[t]+1,c.progress=c.progress+.18,r.UpdateProgress(),1===c.glbModelsLoadedNum&&c.glbModelsLoadedNum===c.pipeModelsLoadedNum&&c.glbModelsLoadedNum===c.structureModelsLoadedNum&&(r.LoadedWatcher.DoneNum=r.LoadedWatcher.DoneNum+1,console.log((new Date).getMinutes()+":"+(new Date).getSeconds(),n+" 全部加载完成---"),l||c.back||(c.back=!0,o()),r.GetAllVisibilityModel(),md(r,i,n),ud(r,n),wd(r,n),a()((function(){r.EngineRay&&r.EngineRay.AddModels()}),2e3),r.LoadedWatcher.DoneNum===r.ModelPaths.length&&(console.log((new Date).getMinutes()+":"+(new Date).getSeconds(),"所有模型加载完成------------"),r.loadedDoneFun()),null==r.cameraGoHome)&&(r.cameraGoHome=1);else{var u="";switch(t){case"treeLoaded":u="模型树";break;case"edgeLoaded":u="模型边线"}console.log((new Date).getMinutes()+":"+(new Date).getSeconds(),n+" "+u+"加载完成"),c[t]=!0,c.progress=c.progress+.23,r.UpdateProgress()}},r.UpdateProgress=function(){var e,t=0,n=(r.UpdateRender(),function(e,t){var n,i,r,a,o=void 0!==m.a&&v()(e)||e["@@iterator"];if(o)return i=!(n=!0),{s:function(){o=o.call(e)},n:function(){var e=o.next();return n=e.done,e},e:function(e){i=!0,r=e},f:function(){try{n||null==o.return||o.return()}finally{if(i)throw r}}};if(d()(e)||(o=function(e,t){var n;if(e)return"string"==typeof e?Hd(e,t):"Map"===(n="Object"===(n=f()(n=Object.prototype.toString.call(e)).call(n,8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?p()(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hd(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return o&&(e=o),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(r.LoadedWatcher.List));try{for(n.s();!(e=n.n()).done;)t+=e.value.progress*(1/r.LoadedWatcher.List.length)}catch(e){n.e(e)}finally{n.f()}.98<=t&&(t=1),r.LoadedWatcher.ShowProgress&&r.Loading.isActive&&r.Loading.StartAnimate("_"+(r.LoadedWatcher.Key+1),100*r.LoadedWatcher.AllProgress,100*t),1!==(r.LoadedWatcher.AllProgress=t)||r.LoadedWatcher.AllDone||(console.log((new Date).getMinutes()+":"+(new Date).getSeconds(),"一切准备就绪"),r.LoadedWatcher.AllDone=!0,r.LoadedWatcher.ShowProgress&&r.Loading.EndAnimate(),r.LoadModelElevation(),r.OriginalData.cameraPosition?function(e){e.OriginalData.cameraPosition&&e.ViewCube.ReductionCameraPose(e.OriginalData.cameraPosition,1e3,(function(e){}));var t=e;if(t.OriginalData.clip)if("Phone"==j())window.WatcherLoadDone&&(window.WatcherLoadDone.IsDone=!0);else switch(t.OriginalData.clip.type){case"MultiSide":t.TopMenu.ClickItem("剖切");break;case"X轴":t.TopMenu.ClickItem("添加X平面");break;case"Y轴":t.TopMenu.ClickItem("添加Y平面");break;case"Z轴":t.TopMenu.ClickItem("添加Z平面")}}(r):r.ViewCube.cameraGoHome())},r.loadedDoneFun=function(){r.handleLoadDoneFunOnce||(r.handleLoadDoneFunOnce=!0,r.FPS=60)},r.ModelOctree=function(){!function(e){for(var t,n,i,r=e.GetAllVisibilityModel(),l=e,c=l.GetAllVisibilityModel(),u=s()(t=l.scene.children).call(t,(function(e){return"rootModel"==e.name&&("InstancedMesh"==e.TypeName||"InstancedMesh-Pipe"==e.TypeName)})),h=(l.idindex=0,l.ModelInstanceBox=[],function(e){n=[];var t=o()(c).call(c,(function(t){return t.uuid==u[e].uuid&&t.url==u[e].url}));if(-1==t)return"continue";if(-1!=t)for(var r=0;r<u[e].ElementInfos.length;r++)n.push({min:u[e].ElementInfos[r].min,max:u[e].ElementInfos[r].max});if(0==n.length)return"continue";(i=function(e){var t,n=[],i=[],r=[],a=rd(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;n.push(o.min.x),i.push(o.min.y),r.push(o.min.z),n.push(o.max.x),i.push(o.max.y),r.push(o.max.z)}}catch(e){a.e(e)}finally{a.f()}return n=z()(n).call(n,(function(e,t){return e-t})),i=z()(i).call(i,(function(e,t){return e-t})),r=z()(r).call(r,(function(e,t){return e-t})),{min:new od.Vector3(n[0],i[0],r[0]),max:new od.Vector3(n[n.length-1],i[i.length-1],r[r.length-1])}}(n)).length=8*n[0].min.distanceTo(n[0].max),i.DensePoint=function(e){for(var t=[],n=0;;n++){var i=e.min.x+5*n;i>=e.max.x&&(i=e.max.x);for(var r=0;;r++){var a=e.min.y+5*r;a>=e.max.y&&(a=e.max.y);for(var o=0;;o++){var s=e.min.z+5*o;if(s>=e.max.z&&(s=e.max.z),t.push(new od.Vector3(i,a,s)),s==e.max.z)break}if(a==e.max.y)break}if(i==e.max.x)break}return t}(i);var a,s=rd(n);try{for(s.s();!(a=s.n()).done;){var h=a.value;i.DensePoint.push(h.min.clone().add(h.max.clone()).multiplyScalar(.5))}}catch(t){s.e(t)}finally{s.f()}i.id=l.idindex++,t={i:t,box:i},l.ModelInstanceBox.push(t)}),d=0;d<u.length;d++)h(d);for(var f=s()(t=e.scene.children).call(t,(function(e){return"rootModel"==e.name&&("Mesh"==e.TypeName||"Mesh-Structure"==e.TypeName||"PipeMesh"==e.TypeName)})),p=(null==e.idindex&&(e.idindex=0),[]),m=(console.log("准备计算八叉树"),0);m<f.length;m++)!function(e){if(-1!=o()(r).call(r,(function(t){return t.uuid==f[e].uuid})))for(var t=0;t<f[e].ElementInfos.length;t++)p.push({min:f[e].ElementInfos[t].min,max:f[e].ElementInfos[t].max})}(m);if(console.log("开始计算八叉树"),0!=p.length){var v=function t(n){var i,r,a=[],o=[],s=[],l=.5*(n.max.x-n.min.x),c=.5*(n.max.y-n.min.y),u=.5*(n.max.z-n.min.z);if(50<l&&(r={min:(i=n).min,max:new od.Vector3(i.min.x+l,i.max.y,i.max.z)},l={min:new od.Vector3(i.min.x+l,i.min.y,i.min.z),max:i.max},a.push(r),a.push(l)),50<c){var h,d=rd(a);try{for(d.s();!(h=d.n()).done;){var f=h.value,p={min:f.min,max:new od.Vector3(f.max.x,f.min.y+c,f.max.z)},m={min:new od.Vector3(f.min.x,f.min.y+c,f.min.z),max:f.max};o.push(p),o.push(m)}}catch(t){d.e(t)}finally{d.f()}}else o=a;if(50<u){var v,g=rd(o);try{for(g.s();!(v=g.n()).done;){var y=v.value,x={min:y.min,max:new od.Vector3(y.max.x,y.max.y,y.min.z+u)},w={min:new od.Vector3(y.min.x,y.min.y,y.min.z+u),max:y.max};s.push(x),s.push(w)}}catch(t){g.e(t)}finally{g.f()}}else s=o;if(n.children=s,0<n.children.length){n.isLeaf=!1;for(var _=0;_<n.children.length;_++)n.children[_]=t(n.children[_])}else n.isLeaf=!0;return n.DensePoint=b(n),n.length=n.min.distanceTo(n.max),n.id=e.idindex++,n.isLeaf&&(n.DensePoint=[]),n}(function(e){var t,n=[],i=[],r=[],a=rd(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;n.push(o.min.x),i.push(o.min.y),r.push(o.min.z),n.push(o.max.x),i.push(o.max.y),r.push(o.max.z)}}catch(e){a.e(e)}finally{a.f()}return n=z()(n).call(n,(function(e,t){return e-t})),i=z()(i).call(i,(function(e,t){return e-t})),r=z()(r).call(r,(function(e,t){return e-t})),{min:new od.Vector3(n[0],i[0],r[0]),max:new od.Vector3(n[n.length-1],i[i.length-1],r[r.length-1])}}(p));null==e.ModelOctreeBox&&(e.ModelOctreeBox=[]),e.ModelOctreeBox.push(v);for(var g=function(e){a()((function(){var t=o()(r).call(r,(function(t){return t.uuid==f[e].uuid}));if(-1!=t)for(var n=0;n<f[e].ElementInfos.length;n++)!function e(t,n,i,r){var a={min:t.min,max:t.max};if(1!=(a=x(r,a)))return!1;if(null==r.elements&&(r.elements=[]),0==r.isLeaf){for(var o=!1,s=0;s<r.children.length;s++){if(1==e(t,n,i,r.children[s])){o=!0;break}}0==o&&(r.elements.push({i:n,j:i}),r.isLeaf)&&r.DensePoint.push(t.min)}else r.elements.push({i:n,j:i}),r.isLeaf&&r.DensePoint.push(t.min);return!0}(f[e].ElementInfos[n],t,n,v)}),2e3)},y=0;y<f.length;y++)g(y)}function x(e,t){return t.min.x>=e.min.x&&t.min.y>=e.min.y&&t.min.z>=e.min.z&&t.max.x<=e.max.x&&t.max.y<=e.max.y&&t.max.z<=e.max.z}function b(e){for(var t=[],n=0;;n++){var i=e.min.x+30*n;i>=e.max.x&&(i=e.max.x);for(var r=0;;r++){var a=e.min.y+30*r;a>=e.max.y&&(a=e.max.y);for(var o=0;;o++){var s=e.min.z+30*o;if(s>=e.max.z&&(s=e.max.z),t.push(new od.Vector3(i,a,s)),s==e.max.z)break}if(a==e.max.y)break}if(i==e.max.x)break}return t}}(r)},r.LoadModelTree=function(e){ud(r,e)},r.LoadModelElevation=function(){!function(e){for(var t=0;t<e.ElevationList.length;t++)!function(t){var n;(n=-1<(n=o()(n=e.treeData).call(n,(function(n){return n.path===e.ElevationList[t].path})))?e.treeData[n]:null)&&(e.ElevationList[t].label=n&&n.Name?n.Name:e.ElevationList[t].path),e.ElevationList[t].load||(e.ElevationList[t].load=!0,b("file/"+e.ElevationList[t].path+"/level.json",(function(n){n=(n=n?JSON.parse(n):null)&&n.length?n:[],e.ElevationList[t].children=l()(n).call(n,(function(e){return e.label=e.Name,e.value=e.Id,e}))})))}(t);console.log(e.ElevationList)}(r)},r.ClearOriginalData=function(){r.OriginalData={cameraPosition:null,clip:null}},r.addEventListener=function(e){},r.ListenerEvent=function(e,t){window.addEventListener(e,(function(e){e=e.detail,t(e)}))},r.LockingSelect=function(){r.LockingSelect=!0},r.UnLockingSelect=function(){r.LockingSelect=!1},r.loadExtension=function(){},r.getExtension=function(){},r.MergeScene=function(){r.scene.traverse((function(e){"Mesh"===e.type&&e.geometry.dispose()}))},r.GetAllVisibilityModel=function(){for(var e,t=0;t<r.scene.children.length;t++)r.scene.children[t].index=t;return s()(e=r.scene.children).call(e,(function(e){return"rootModel"==e.name}))},r.GetAllIndexesModel=function(){var e,t=[];return r.treeMapper&&l()(e=r.treeMapper).call(e,(function(e){var n;e.ModelIds&&e.ModelIds.length&&c()(Array.prototype).apply(t,u()(n=[t.length,e.ModelIds.length]).call(n,e.ModelIds))})),t},r.ResetSelectedModels_=function(e,t,n,i){switch(e){case"visible":!function(e,t,n){t=Qh(t,1e4),h()(t).call(t,(function(t){for(var i=e,r=t,a=n,l=s()(t=i.scene.children).call(t,(function(e){return"HighLightGroup"==e.name}))[0],h=i.scene.children,d=0;d<r.length;d++){var m,v,g=h[r[d][0]];if(null!=g)if(null==g.instanceMatrix&&null!=g.geometry&&null!=g.geometry.groups[r[d][1]])if(g.geometry.groups[r[d][1]].visibility=a,_(r[d],a),1==a)if(g.visible=!0,null!=g.geometry.index){var y=g.geometry.index.array,x=(w=g.geometry.groups[r[d][1]].start)+g.geometry.groups[r[d][1]].count;null==g.geometry.hides&&(g.geometry.hides=[]);for(var b=w;b<x;b++)null!=g.geometry.hides[b]&&(y[b]=g.geometry.hides[b]);g.geometry.index.needsUpdate=!0,g.geometry.index.needsUpdate=!1}else{for(y=g.geometry.attributes.position.array,x=(w=3*g.geometry.groups[r[d][1]].start)+3*g.geometry.groups[r[d][1]].count,null==g.geometry.hides&&(g.geometry.hides=[]),b=w;b<x;b++)0==y[b]&&(y[b]=g.geometry.hides[b]);g.geometry.attributes.position.needsUpdate=!0,g.geometry.attributes.position.needsUpdate=!1}else if(null!=g.geometry.index){for(y=g.geometry.index.array,x=(w=g.geometry.groups[r[d][1]].start)+g.geometry.groups[r[d][1]].count,null==g.geometry.hides&&(g.geometry.hides=[]),b=w;b<x;b++)-1!=y[b]&&(g.geometry.hides[b]=y[b],y[b]=-1);g.geometry.index.needsUpdate=!0,g.geometry.index.needsUpdate=!1}else{var w;y=g.geometry.attributes.position.array,x=(w=3*g.geometry.groups[r[d][1]].start)+3*g.geometry.groups[r[d][1]].count;for(null==g.geometry.hides&&(g.geometry.hides=[]),b=w;b<x;b++)0!=y[b]&&(g.geometry.hides[b]=y[b],y[b]=0);g.geometry.attributes.position.needsUpdate=!0,g.geometry.attributes.position.needsUpdate=!1}else null!=g.instanceMatrix&&(1==a?(v=f()(v=g.cloneInstanceMatrix).call(v,16*r[d][1],16*(r[d][1]+1)),(m=new THREE.Matrix4).elements=v,g.setMatrixAt(r[d][1],m),g.instanceMatrix.needsUpdate=!0,g.instanceMatrix.needsUpdate=!1,g.visible=!0):(v=(v=new THREE.Matrix4).clone().makeScale(0,0,0),g.setMatrixAt(r[d][1],v),g.instanceMatrix.needsUpdate=!0,g.instanceMatrix.needsUpdate=!1),_(r[d],a))}function _(e,t){if(l){var n,i=Yh(l.children);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(r.indexs[0]===e[0]&&r.indexs[1]===e[1]){r.visible=t;break}}}catch(e){i.e(e)}finally{i.f()}}}var M=r,S=a,E=s()(t=i.scene.children).call(t,(function(e){return"ModelEdges"==e.name&&e.visible}));if(E&&E.length){for(var T=[],C=0;C<M.length;C++)!function(e){var t,n=o()(T).call(T,(function(t){return t.index===M[e][0]}));n<0?(t={index:M[e][0],children:[M[e][1]]},T.push(t)):T[n].children.push(M[e][1])}(C);for(var A=function(e){var t=s()(E).call(E,(function(t){return t.indexO==T[e].index}))[0];if(t){var n=t.ElementInfos;if(n&&n.length){for(var i=p()(t.geometry.getAttribute("position").array),r=0;r<T[e].children.length;r++)!function(n){var r,a=s()(a=t.ElementInfos).call(a,(function(t){return t.index==T[e].children[n]}))[0];a&&(r=S?a.EdgeList:ge()(r=new Array(a.EdgeList.length)).call(r,0),c()(Array.prototype).apply(i,u()(a=[a.startIndex,a.EdgeList.length]).call(a,r)))}(r);t.geometry.setAttribute("position",new THREE.Float32BufferAttribute(i,3))}}},L=0;L<T.length;L++)A(L)}i.RenderUpdate(),e.RenderUpdate(),console.log("操作模型显隐")}))}(r,t,n);break;case"highlight":r.SelectedModels.indexesModels=t,window.WatcherSelectModel&&(window.WatcherSelectModel.Num=t.length),function(e,t,n,i){s()(r=e.scene.children).call(r,(function(e){return"HighLightGroup"==e.name}))[0].children=[],e.RenderUpdate();var r=Qh(t,1e4);h()(r).call(r,(function(t){for(var r=e,a=t,o=n,l=(t=i)||new THREE.Color(.375,.63,1),c=new THREE.MeshBasicMaterial({color:l,transparent:!0,opacity:t?1:.6,depthTest:!1}),u=(new THREE.LineBasicMaterial({color:l,depthTest:!1}),s()(t=r.scene.children).call(t,(function(e){return"HighLightGroup"==e.name}))[0]),h=r.scene.children,d=0;d<a.length;d++){var p=h[a[d][0]];if(null!=p)if(null==p.instanceMatrix&&null!=p.geometry&&null!=p.geometry.groups[a[d][1]])if(o){var m=p.meshs[a[d][1]],v=new THREE.Group;v.indexs=a[d];var g=Jh(m.geometry,m.matrix,c).mesh,y=isNaN(m.rotation.x)?0:m.rotation.x,x=isNaN(m.rotation.y)?0:m.rotation.y,b=isNaN(m.rotation.z)?0:m.rotation.z,w=isNaN(m.position.x)?0:m.position.x,_=isNaN(m.position.y)?0:m.position.y;m=isNaN(m.position.z)?0:m.position.z;0==y&&0==x&&0==b||(g.rotation._order="YXZ",g.rotation.set(y,x,b)),0==w&&0==_&&0==m||g.position.set(w,_,m),g.material.clippingPlanes=p.material.clippingPlanes,v.add(g),u.add(v)}else{var M,S=Yh(u.children);try{for(S.s();!(M=S.n()).done;){var E=M.value;E.indexs==a[d]&&u.remove(E)}}catch(t){S.e(t)}finally{S.f()}}else if(null!=p.instanceMatrix)if(1==o)(y=new THREE.Group).indexs=a[d],b=f()(x=p.cloneInstanceMatrix).call(x,16*a[d][1],16*(a[d][1]+1)),(w=new THREE.Matrix4).elements=b,(_=Jh(p.geometry,w,c).mesh).material.clippingPlanes=p.material.clippingPlanes,y.add(_),u.add(y);else{var T,C=Yh(u.children);try{for(C.s();!(T=C.n()).done;){var A=T.value;A.indexs==a[d]&&u.remove(A)}}catch(t){C.e(t)}finally{C.f()}}}r.RenderUpdate(),e.RenderUpdate(),console.log("操作模型显隐")}))}(r,t,n,i)}console.log(r.CurrentSelect)},r.ResetSelectedModels=function(e,t){switch(r.SelectedModels.requiredModels.length&&Kh(r.SelectedModels.requiredModels,[{key:"material"}]),r.SelectedModels.requiredModels=[],r.SelectedModels.loadedModels.length&&Zh(r,r.SelectedModels.loadedModels,[{key:"material"}]),r.SelectedModels.loadedModels=[],e){case"loaded":t.length&&(n=new Ud.MeshStandardMaterial({color:new Ud.Color(.375,.63,1),side:Ud.DoubleSide}),Zh(r,t,[{key:"material",val:n}])),r.SelectedModels.loadedModels=t;break;case"required":var n;t.length&&(n=new Ud.MeshStandardMaterial({color:new Ud.Color(.375,.63,1),side:Ud.DoubleSide}),Kh(r,t,[{key:"material",val:n}])),r.SelectedModels.requiredModels=t}console.log(r.SelectedModels)},r.LoadQuantitiesList=function(){var e=r.ModelPaths;null==r.QuantitiesList&&(r.QuantitiesList=[],l()(e).call(e,(function(e){var t;w("file/"+(t=e)+"/quantitiesList.zip",(function(e){(e=JSON.parse(e))&&e.length&&r.QuantitiesList.push({path:t,datas:e})}))})))},window.onbeforeunload=function(e){return r.Clear(),null},r.Clear=function(){r.AllEdgeList=null,r.treeData=null,r.treeMapper=null;var e=r.scene.renderer,t=r.scene;try{!function t(n){var i=s()(i=n.children).call(i,(function(e){return e}));h()(i).call(i,(function(e){var n;null!=e.children&&e.children.length?t(e):"Mesh"===e.type&&(e.geometry.dispose(),e.material.dispose(),null!=e.meshs&&(d()(e.meshs)?h()(n=e.meshs).call(n,(function(e){e.geometry.dispose()})):e.geometry.dispose()),e.meshs=null,e.ElementInfos=null,e.clear)&&e.clear()})),n.clear&&n.clear(e)}(t)}catch(t){}try{e.renderLists.dispose(),e.dispose(),e.forceContextLoss(),e.domElement=null,e.content=null,e=null}catch(t){}window.requestAnimationId&&cancelAnimationFrame(window.requestAnimationId),Ud.Cache.clear()},r.AnalysisModelInfo=function(){var e,t={triangles:0,vertex:0,pathCount:0,modelCount:0};return t.triangles=r.scene.renderer.info.render.triangles,t.vertex=3*t.triangles,t.pathCount=r.ModelPaths.length,h()(e=r.scene.children).call(e,(function(e){null!=e.ElementInfos&&(t.modelCount=t.modelCount+e.ElementInfos.length)})),t},r}},function(e,t,n){"use strict";var i=n(5),r=n(146),a=n(84);function o(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function s(e,t){this._pairs=[],e&&Object(a.a)(e,this,t)}var l=((P=s.prototype).append=function(e,t){this._pairs.push([e,t])},P.toString=function(e){const t=e?function(t){return e.call(this,t,o)}:o;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")},s);function c(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function u(e,t,n){if(t){var r=n&&n.encode||c,a=n&&n.serialize;let o;(o=a?a(t,n):i.a.isURLSearchParams(t)?t.toString():new l(t,n).toString(r))&&(-1!==(a=e.indexOf("#"))&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+o)}return e}var h=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){i.a.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},d=n(23),f={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},p={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:l,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},isStandardBrowserEnv:("undefined"==typeof navigator||"ReactNative"!==(P=navigator.product)&&"NativeScript"!==P&&"NS"!==P)&&"undefined"!=typeof window&&"undefined"!=typeof document,isStandardBrowserWebWorkerEnv:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,protocols:["http","https","file","blob","url","data"]},m=function(e){if(i.a.isFormData(e)&&i.a.isFunction(e.entries)){const t={};return i.a.forEachEntry(e,(e,n)=>{!function e(t,n,r,a){var o=t[a++],s=Number.isFinite(+o),l=a>=t.length;return o=!o&&i.a.isArray(r)?r.length:o,l?i.a.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n:(r[o]&&i.a.isObject(r[o])||(r[o]=[]),e(t,n,r[o],a)&&i.a.isArray(r[o])&&(r[o]=function(e){var t={},n=Object.keys(e);let i;var r,a=n.length;for(i=0;i<a;i++)t[r=n[i]]=e[r];return t}(r[o]))),!s}(i.a.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0]),n,t,0)}),t}return null};const v={"Content-Type":void 0},g={transitional:f,adapter:["xhr","http"],transformRequest:[function(e,t){var n,r=t.getContentType()||"",o=-1<r.indexOf("application/json"),s=i.a.isObject(e),l=(s&&i.a.isHTMLForm(e)&&(e=new FormData(e)),i.a.isFormData(e));if(l)return o?JSON.stringify(m(e)):e;if(!(i.a.isArrayBuffer(e)||i.a.isBuffer(e)||i.a.isStream(e)||i.a.isFile(e)||i.a.isBlob(e))){if(i.a.isArrayBufferView(e))return e.buffer;if(i.a.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(s){if(-1<r.indexOf("application/x-www-form-urlencoded"))return l=e,n=this.formSerializer,Object(a.a)(l,new p.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return p.isNode&&i.a.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},n)).toString();if((l=i.a.isFileList(e))||-1<r.indexOf("multipart/form-data"))return n=this.env&&this.env.FormData,Object(a.a)(l?{"files[]":e}:e,n&&new n,this.formSerializer)}if(s||o){if(t.setContentType("application/json",!1),r=e,l=void 0,s=void 0,i.a.isString(r))try{return(l||JSON.parse)(r),i.a.trim(r)}catch(e){if("SyntaxError"!==e.name)throw e}return(s||JSON.stringify)(r)}}return e}],transformResponse:[function(e){var t=this.transitional||g.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&i.a.isString(e)&&(n&&!this.responseType||r)){n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw d.a.from(e,d.a.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:p.classes.FormData,Blob:p.classes.Blob},validateStatus:function(e){return 200<=e&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.a.forEach(["delete","get","head"],(function(e){g.headers[e]={}})),i.a.forEach(["post","put","patch"],(function(e){g.headers[e]=i.a.merge(v)}));var y=g;const x=i.a.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),b=Symbol("internals");function w(e){return e&&String(e).trim().toLowerCase()}function _(e){return!1===e||null==e?e:i.a.isArray(e)?e.map(_):String(e)}function M(e,t,n,r,a){return i.a.isFunction(r)?r.call(this,t,n):i.a.isString(t=a?n:t)&&(i.a.isString(r)?-1!==t.indexOf(r):i.a.isRegExp(r)&&r.test(t))}class S{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function a(e,t,n){var a=w(t);if(!a)throw new Error("header name must be a non-empty string");(a=i.a.findKey(r,a))&&void 0!==r[a]&&!0!==n&&(void 0!==n||!1===r[a])||(r[a||t]=_(e))}var o=(e,t)=>i.a.forEach(e,(e,n)=>a(e,n,t));return i.a.isPlainObject(e)||e instanceof this.constructor?o(e,t):i.a.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z]+$/.test(e.trim())?o((e=>{const t={};let n,i,r;return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),n=e.substring(0,r).trim().toLowerCase(),i=e.substring(r+1).trim(),!n||t[n]&&x[n]||("set-cookie"===n?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)})),t})(e),t):null!=e&&a(t,e,n),this}get(e,t){if((e=w(e))&&(e=i.a.findKey(this,e))){var n=this[e];if(!t)return n;if(!0===t){for(var r,a=n,o=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;r=s.exec(a);)o[r[1]]=r[2];return o}if(i.a.isFunction(t))return t.call(this,n,e);if(i.a.isRegExp(t))return t.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}has(e,t){return!!(e=w(e))&&!(!(e=i.a.findKey(this,e))||void 0===this[e]||t&&!M(0,this[e],e,t))}delete(e,t){const n=this;let r=!1;function a(e){(e=w(e))&&(e=i.a.findKey(n,e))&&(!t||M(0,n[e],e,t))&&(delete n[e],r=!0)}return i.a.isArray(e)?e.forEach(a):a(e),r}clear(e){var t=Object.keys(this);let n=t.length,i=!1;for(;n--;){var r=t[n];e&&!M(0,this[r],r,e,!0)||(delete this[r],i=!0)}return i}normalize(e){const t=this,n={};return i.a.forEach(this,(r,a)=>{var o=i.a.findKey(n,a);o?(t[o]=_(r),delete t[a]):((o=e?a.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n):String(a).trim())!==a&&delete t[a],t[o]=_(r),n[o]=!0)}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return i.a.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&i.a.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(e=>n.set(e)),n}static accessor(e){const t=(this[b]=this[b]={accessors:{}}).accessors,n=this.prototype;function r(e){var r=w(e);if(!t[r]){{var a=n,o=e;const t=i.a.toCamelCase(" "+o);["get","set","has"].forEach(e=>{Object.defineProperty(a,e+t,{value:function(t,n,i){return this[e].call(this,o,t,n,i)},configurable:!0})})}t[r]=!0}}return i.a.isArray(e)?e.forEach(r):r(e),this}}S.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),i.a.freezeMethods(S.prototype),i.a.freezeMethods(S);var E=S;function T(e,t){const n=this||y;var r=t||n;const a=E.from(r.headers);let o=r.data;return i.a.forEach(e,(function(e){o=e.call(n,o,a.normalize(),t?t.status:void 0)})),a.normalize(),o}function C(e){return!(!e||!e.__CANCEL__)}function A(e,t,n){d.a.call(this,null==e?"canceled":e,d.a.ERR_CANCELED,t,n),this.name="CanceledError"}i.a.inherits(A,d.a,{__CANCEL__:!0});var L=A,P=n(147),k=p.isStandardBrowserEnv?{write:function(e,t,n,r,a,o){var s=[];s.push(e+"="+encodeURIComponent(t)),i.a.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),i.a.isString(r)&&s.push("path="+r),i.a.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){return(e=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)")))?decodeURIComponent(e[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function D(e,t){var n;return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?(e=e,(n=t)?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e):t}var I=p.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let i=n;return e&&(t.setAttribute("href",i),i=t.href),t.setAttribute("href",i),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){return(e=i.a.isString(e)?r(e):e).protocol===n.protocol&&e.host===n.host}}():function(){return!0};function R(e,t){let n=0;const i=function(e,t){e=e||10;const n=new Array(e),i=new Array(e);let r,a=0,o=0;return t=void 0!==t?t:1e3,function(s){var l=Date.now(),c=i[o];r=r||l,n[a]=s,i[a]=l;let u=o,h=0;for(;u!==a;)h+=n[u++],u%=e;return(a=(a+1)%e)===o&&(o=(o+1)%e),l-r<t||!(s=c&&l-c)?void 0:Math.round(1e3*h/s)}}(50,250);return r=>{var a,o=r.loaded,s=r.lengthComputable?r.total:void 0,l=i(a=o-n);(a={loaded:n=o,total:s,progress:s?o/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&o<=s?(s-o)/l:void 0,event:r})[t?"download":"upload"]=!0,e(a)}}n="undefined"!=typeof XMLHttpRequest;const N={http:P.a,xhr:n&&function(e){return new Promise((function(t,n){var r=e.data,a=E.from(e.headers).normalize();const o=e.responseType;let s;function l(){e.cancelToken&&e.cancelToken.unsubscribe(s),e.signal&&e.signal.removeEventListener("abort",s)}i.a.isFormData(r)&&(p.isStandardBrowserEnv||p.isStandardBrowserWebWorkerEnv)&&a.setContentType(!1);let c=new XMLHttpRequest;e.auth&&(m=e.auth.username||"",h=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"",a.set("Authorization","Basic "+btoa(m+":"+h)));var h,m=D(e.baseURL,e.url);function v(){var i,r,a,s;c&&(a=E.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),i=function(e){t(e),l()},r=function(e){n(e),l()},s=(a=a={data:o&&"text"!==o&&"json"!==o?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:a,config:e,request:c}).config.validateStatus,a.status&&s&&!s(a.status)?r(new d.a("Request failed with status code "+a.status,[d.a.ERR_BAD_REQUEST,d.a.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a)):i(a),c=null)}c.open(e.method.toUpperCase(),u(m,e.params,e.paramsSerializer),!0),c.timeout=e.timeout,"onloadend"in c?c.onloadend=v:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(v)},c.onabort=function(){c&&(n(new d.a("Request aborted",d.a.ECONNABORTED,e,c)),c=null)},c.onerror=function(){n(new d.a("Network Error",d.a.ERR_NETWORK,e,c)),c=null},c.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";var i=e.transitional||f;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new d.a(t,i.clarifyTimeoutError?d.a.ETIMEDOUT:d.a.ECONNABORTED,e,c)),c=null},p.isStandardBrowserEnv&&(h=(e.withCredentials||I(m))&&e.xsrfCookieName&&k.read(e.xsrfCookieName))&&a.set(e.xsrfHeaderName,h),void 0===r&&a.setContentType(null),"setRequestHeader"in c&&i.a.forEach(a.toJSON(),(function(e,t){c.setRequestHeader(t,e)})),i.a.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),o&&"json"!==o&&(c.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&c.addEventListener("progress",R(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",R(e.onUploadProgress)),(e.cancelToken||e.signal)&&(s=t=>{c&&(n(!t||t.type?new L(null,e,c):t),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(s),e.signal)&&(e.signal.aborted?s():e.signal.addEventListener("abort",s)),(a=(h=/^([-+\w]{1,25})(:?\/\/|:)/.exec(h=m))&&h[1]||"")&&-1===p.protocols.indexOf(a)?n(new d.a("Unsupported protocol "+a+":",d.a.ERR_BAD_REQUEST,e)):c.send(r||null)}))}};i.a.forEach(N,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}});function O(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new L(null,e)}function F(e){return O(e),e.headers=E.from(e.headers),e.data=T.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),(e=>{var t=(e=i.a.isArray(e)?e:[e]).length;let n,r;for(let a=0;a<t&&(n=e[a],!(r=i.a.isString(n)?N[n.toLowerCase()]:n));a++);if(!r){if(!1===r)throw new d.a(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT");throw new Error(i.a.hasOwnProp(N,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`)}if(i.a.isFunction(r))return r;throw new TypeError("adapter is not a function")})(e.adapter||y.adapter)(e).then((function(t){return O(e),t.data=T.call(e,e.transformResponse,t),t.headers=E.from(t.headers),t}),(function(t){return C(t)||(O(e),t&&t.response&&(t.response.data=T.call(e,e.transformResponse,t.response),t.response.headers=E.from(t.response.headers))),Promise.reject(t)}))}const z=e=>e instanceof E?e.toJSON():e;function B(e,t){t=t||{};const n={};function r(e,t,n){return i.a.isPlainObject(e)&&i.a.isPlainObject(t)?i.a.merge.call({caseless:n},e,t):i.a.isPlainObject(t)?i.a.merge({},t):i.a.isArray(t)?t.slice():t}function a(e,t,n){return i.a.isUndefined(t)?i.a.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function o(e,t){if(!i.a.isUndefined(t))return r(void 0,t)}function s(e,t){return i.a.isUndefined(t)?i.a.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function l(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}const c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l,headers:(e,t)=>a(z(e),z(t),!0)};return i.a.forEach(Object.keys(e).concat(Object.keys(t)),(function(r){var o=c[r]||a,s=o(e[r],t[r],r);i.a.isUndefined(s)&&o!==l||(n[r]=s)})),n}const H={},U=(["object","boolean","number","function","string","symbol"].forEach((e,t)=>{H[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}),{});H.transitional=function(e,t,n){function i(e,t){return"[Axios v1.3.4] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,r,a)=>{if(!1===e)throw new d.a(i(r," has been removed"+(t?" in "+t:"")),d.a.ERR_DEPRECATED);return t&&!U[r]&&(U[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a)}};var V={assertOptions:function(e,t,n){if("object"!=typeof e)throw new d.a("options must be an object",d.a.ERR_BAD_OPTION_VALUE);var i=Object.keys(e);let r=i.length;for(;0<r--;){var a=i[r];if(o=t[a]){var o,s=e[a];if(!0!==(o=void 0===s||o(s,a,e)))throw new d.a("option "+a+" must be "+o,d.a.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new d.a("Unknown option "+a,d.a.ERR_BAD_OPTION)}},validators:H};const G=V.validators;class j{constructor(e){this.defaults=e,this.interceptors={request:new h,response:new h}}request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{};const{transitional:n,paramsSerializer:r,headers:a}=t=B(this.defaults,t);void 0!==n&&V.assertOptions(n,{silentJSONParsing:G.transitional(G.boolean),forcedJSONParsing:G.transitional(G.boolean),clarifyTimeoutError:G.transitional(G.boolean)},!1),void 0!==r&&V.assertOptions(r,{encode:G.function,serialize:G.function},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase(),(e=a&&i.a.merge(a.common,a[t.method]))&&i.a.forEach(["delete","get","head","post","put","patch","common"],e=>{delete a[e]}),t.headers=E.concat(e,a);const o=[];let s=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,o.unshift(e.fulfilled,e.rejected))}));const l=[];this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let c,u,h=0;if(s){u=o.length;let n=t;for(h=0;h<u;){var d=o[h++],f=o[h++];try{n=d(n)}catch(e){f.call(this,e);break}}try{c=F.call(this,n)}catch(e){return Promise.reject(e)}for(h=0,u=l.length;h<u;)c=c.then(l[h++],l[h++])}else{var p=[F.bind(this),void 0];for(p.unshift.apply(p,o),p.push.apply(p,l),u=p.length,c=Promise.resolve(t);h<u;)c=c.then(p[h++],p[h++])}return c}getUri(e){return u(D((e=B(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}i.a.forEach(["delete","get","head","options"],(function(e){j.prototype[e]=function(t,n){return this.request(B(n||{},{method:e,url:t,data:(n||{}).data}))}})),i.a.forEach(["post","put","patch"],(function(e){function t(t){return function(n,i,r){return this.request(B(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}j.prototype[e]=t(),j.prototype[e+"Form"]=t(!0)}));var W=j;P=class e{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then(e=>{if(n._listeners){let t=n._listeners.length;for(;0<t--;)n._listeners[t](e);n._listeners=null}}),this.promise.then=e=>{let t;return(e=new Promise(e=>{n.subscribe(e),t=e}).then(e)).cancel=function(){n.unsubscribe(t)},e},e((function(e,i,r){n.reason||(n.reason=new L(e,i,r),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){this._listeners&&-1!==(e=this._listeners.indexOf(e))&&this._listeners.splice(e,1)}static source(){let t;return{token:new e((function(e){t=e})),cancel:t}}};const X={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(X).forEach(([e,t])=>{X[t]=e}),n=X;var q=function e(t){var n=new W(t),a=Object(r.a)(W.prototype.request,n);return i.a.extend(a,W.prototype,n,{allOwnKeys:!0}),i.a.extend(a,n,null,{allOwnKeys:!0}),a.create=function(n){return e(B(t,n))},a}(y);q.Axios=W,q.CanceledError=L,q.CancelToken=P,q.isCancel=C,q.VERSION="1.3.4",q.toFormData=a.a,q.AxiosError=d.a,q.Cancel=q.CanceledError,q.all=function(e){return Promise.all(e)},q.spread=function(e){return function(t){return e.apply(null,t)}},q.isAxiosError=function(e){return i.a.isObject(e)&&!0===e.isAxiosError},q.mergeConfig=B,q.AxiosHeaders=E,q.formToJSON=e=>m(i.a.isHTMLForm(e)?new FormData(e):e),q.HttpStatusCode=n,q.default=q,t.a=q},function(e,t){},,,,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,,,,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){}],n={},e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(i,r,function(e){return t[e]}.bind(null,r));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.p="../../engine/",e(e.s=617).default;function e(i){var r;return(n[i]||(r=n[i]={i:i,l:!1,exports:{}},t[i].call(r.exports,r,r.exports,e),r.l=!0,r)).exports}var t,n}));